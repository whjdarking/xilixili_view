(function(t){function e(e){for(var r,o,u=e[0],c=e[1],l=e[2],s=0,f=[];s<u.length;s++)o=u[s],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},o={app:0},a={app:0},i=[];function u(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"cd79e289"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={about:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var r="css/"+({about:"about"}[t]||t)+"."+{about:"ca86c104"}[t]+".css",a=c.p+r,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var l=i[u],s=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(s===r||s===a))return e()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){l=f[u],s=l.getAttribute("data-href");if(s===r||s===a)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||a,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[t],d.parentNode.removeChild(d),n(i)},d.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){o[t]=0})));var r=a[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,n){r=a[t]=[e,n]}));e.push(r[2]=i);var l,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=u(t);var f=new Error;l=function(e){s.onerror=s.onload=null,clearTimeout(d);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",f.name="ChunkLoadError",f.type=r,f.request=o,n[1](f)}a[t]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:s})}),12e4);s.onerror=s.onload=l,document.head.appendChild(s)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var f=0;f<l.length;f++)e(l[f]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("64a9")},"344c":function(t,e,n){"use strict";n("cb99")},4144:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app",attrs:{id:"app"}},[n("top_navi"),n("router-view",{key:t.$route.fullPath})],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","text-color":"#949390",router:""}},[n("el-menu-item",{staticStyle:{"font-weight":"bold"},attrs:{index:"/"}},[t._v("首页")]),n("el-menu-item",{staticStyle:{"font-weight":"bold"},attrs:{index:"/postvideo"}},[t._v("投稿视频")]),n("el-menu-item",{staticStyle:{"font-weight":"bold"},attrs:{index:"/about"}},[t._v("关于")]),n("el-menu-item",{staticClass:"dock-right",staticStyle:{"font-weight":"bold"},attrs:{index:"/userlogin"}},[t._v("登录/注册")])],1)},u=[],c={name:"top_navi"},l=c,s=(n("344c"),n("2877")),f=Object(s["a"])(l,i,u,!1,null,"360c3eba",null),d=f.exports,p={name:"app",components:{top_navi:d}},h=p,v=(n("034f"),Object(s["a"])(h,o,a,!1,null,null,null)),m=v.exports,g=n("8c4f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("el-row",{attrs:{gutter:10}},t._l(t.videos,(function(e){return n("el-col",{key:e.id,attrs:{span:4}},[n("el-card",{staticClass:"video-card",attrs:{"body-style":{padding:"5px"},shadow:"hover"},nativeOn:{click:function(n){return t.goVideo(e)}}},[n("img",{staticClass:"image",attrs:{src:e.avatar}}),n("div",[n("div",{staticClass:"video-title",staticStyle:{"font-weight":"bolder"}},[t._v(t._s(e.title))]),n("div",[n("span",{staticClass:"video-info"},[t._v(t._s(e.info))])])])])],1)})),1),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"page-sizes":[6,12],"page-size":6,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},y=[],w=(n("ac6a"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("76e5"));function _(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=C(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function C(t,e){if(t){if("string"===typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j={name:"home",data:function(){return{videos:[],start:0,limit:6,total:0}},methods:{handleSizeChange:function(t){this.limit=t,this.load()},handleCurrentChange:function(t){this.start=this.limit*(t-1),this.load()},load:function(){var t=this;w["c"](this.start,this.limit).then((function(e){t.videos=e.data.items,t.total=e.data.total;var n,r=_(t.videos);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.avatar.length<=1&&(o.avatar="/default.jpg")}}catch(a){r.e(a)}finally{r.f()}}))},goVideo:function(t){this.$router.push({name:"showVideo",params:{videoID:t.id}})}},components:{},beforeMount:function(){this.load()}},x=j,O=(n("cccb"),Object(s["a"])(x,b,y,!1,null,null,null)),k=O.exports;r["default"].use(g["a"]);var E=new g["a"]({routes:[{path:"/",name:"home",component:k},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/video/:videoID",name:"showVideo",component:function(){return n.e("about").then(n.bind(null,"5a37"))}},{path:"/postvideo",name:"postVideo",component:function(){return n.e("about").then(n.bind(null,"43fd"))}},{path:"/userlogin",name:"userLogin",component:function(){return n.e("about").then(n.bind(null,"43f8"))}}]}),A=n("5c96"),P=n.n(A);n("4144");r["default"].use(P.a),r["default"].config.productionTip=!1,new r["default"]({router:E,render:function(t){return t(m)}}).$mount("#app")},"64a9":function(t,e,n){},"76e5":function(t,e,n){"use strict";n.d(e,"g",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"h",(function(){return s})),n.d(e,"e",(function(){return f})),n.d(e,"a",(function(){return d}));var r=n("bc3a"),o=n.n(r);o.a.defaults.withCredentials=!0;var a=function(t){return o.a.post("/api/v1/videos",t).then((function(t){return t.data}))},i=function(t){return o.a.get("/api/v1/video/".concat(t)).then((function(t){return t.data}))},u=function(t,e){return o.a.get("/api/v1/videos",{params:{start:t,limit:e}}).then((function(t){return t.data}))},c=function(){return o.a.get("/api/v1/rank/weekly").then((function(t){return t.data}))},l=function(t){return o.a.post("/api/v1/upload/token",{filename:t}).then((function(t){return t.data}))},s=function(t){return o.a.post("/api/v1/user/register",t).then((function(t){return t.data}))},f=function(t){return o.a.post("/api/v1/user/login",t).then((function(t){return t.data}))},d=function(){return o.a.get("/api/v1/user/me").then((function(t){return t.data}))}},cb99:function(t,e,n){},cccb:function(t,e,n){"use strict";n("d563")},d563:function(t,e,n){}});
//# sourceMappingURL=app.734662e1.js.map