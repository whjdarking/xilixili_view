{"version":3,"sources":["webpack:///./node_modules/aws-sdk/lib/dynamodb/set.js","webpack:///./node_modules/aws-sdk/lib/protocol/json.js","webpack:///./node_modules/aws-sdk/lib/util.js","webpack:///./node_modules/aws-sdk/lib/signers/request_signer.js","webpack:///./node_modules/aws-sdk/clients/inspector.js","webpack:///./node_modules/aws-sdk/lib/xml/browser_parser.js","webpack:///./node_modules/jmespath/jmespath.js","webpack:///./node_modules/aws-sdk/lib/model/resource_waiter.js","webpack:///./node_modules/url/url.js","webpack:///./node_modules/aws-sdk/clients/directconnect.js","webpack:///./node_modules/aws-sdk/clients/translate.js","webpack:///./node_modules/es-abstract/es5.js","webpack:///./node_modules/function-bind/index.js","webpack:///./node_modules/aws-sdk/clients/iam.js","webpack:///./node_modules/aws-sdk/lib/signers/v2.js","webpack:///./node_modules/aws-sdk/clients/dynamodbstreams.js","webpack:///./node_modules/uuid/index.js","webpack:///./node_modules/aws-sdk/clients/apigateway.js","webpack:///./node_modules/aws-sdk/vendor/endpoint-cache/index.js","webpack:///./node_modules/aws-sdk/lib/signers/v4_credentials.js","webpack:///./node_modules/has-symbols/shams.js","webpack:///./node_modules/aws-sdk/lib/services/iotdata.js","webpack:///./node_modules/aws-sdk/clients/iotanalytics.js","webpack:///./node_modules/aws-sdk/lib/signers/presign.js","webpack:///./node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack:///./node_modules/string.prototype.trim/polyfill.js","webpack:///./node_modules/aws-sdk/clients/elb.js","webpack:///./node_modules/aws-sdk/lib/services/machinelearning.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/aws-sdk/lib/dynamodb/converter.js","webpack:///./node_modules/es-abstract/helpers/isNaN.js","webpack:///./node_modules/is-callable/index.js","webpack:///./node_modules/aws-sdk/clients/browser_default.js","webpack:///./node_modules/aws-sdk/clients/codepipeline.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/aws-sdk/clients/kinesis.js","webpack:///./node_modules/aws-sdk/lib/json/builder.js","webpack:///./node_modules/mux.js/lib/m2ts/timestamp-rollover-stream.js","webpack:///./node_modules/aws-sdk/clients/emr.js","webpack:///./node_modules/aws-sdk/lib/services/cognitoidentity.js","webpack:///./node_modules/mux.js/lib/mp4/probe.js","webpack:///./node_modules/aws-sdk/lib/protocol/rest.js","webpack:///./node_modules/aws-sdk/lib/signers/v4.js","webpack:///./node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///./node_modules/aws-sdk/clients/comprehend.js","webpack:///./node_modules/es-abstract/helpers/callBound.js","webpack:///./node_modules/aws-sdk/clients/forecastservice.js","webpack:///./node_modules/aws-sdk/lib/dynamodb/numberValue.js","webpack:///./node_modules/videojs-vtt.js/lib/browser-index.js","webpack:///./node_modules/aws-sdk/lib/services/ec2.js","webpack:///./node_modules/aws-sdk/lib/http/xhr.js","webpack:///./node_modules/es-to-primitive/es5.js","webpack:///./node_modules/aws-sdk/clients/codebuild.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/aws-sdk/clients/lexruntime.js","webpack:///./node_modules/aws-sdk/lib/services/lambda.js","webpack:///./node_modules/aws-sdk/clients/firehose.js","webpack:///./node_modules/aws-sdk/clients/kinesisvideomedia.js","webpack:///./node_modules/aws-sdk/lib/event-stream/buffered-create-event-stream.js","webpack:///./node_modules/url/util.js","webpack:///./node_modules/mux.js/lib/utils/clock.js","webpack:///./node_modules/aws-sdk/lib/signers/v3.js","webpack:///./node_modules/aws-sdk/clients/resourcegroups.js","webpack:///./node_modules/aws-sdk/clients/cloudhsm.js","webpack:///./node_modules/aws-sdk/lib/services/apigateway.js","webpack:///./node_modules/aws-sdk/lib/http.js","webpack:///./node_modules/aws-sdk/clients/configservice.js","webpack:///./node_modules/aws-sdk/clients/cloudwatchlogs.js","webpack:///./node_modules/mux.js/lib/m2ts/probe.js","webpack:///./node_modules/aws-sdk/lib/core.js","webpack:///./node_modules/mux.js/lib/utils/stream.js","webpack:///./src/views/PostVideo.vue?cbbe","webpack:///src/views/PostVideo.vue","webpack:///./src/views/PostVideo.vue?6f1c","webpack:///./src/views/PostVideo.vue","webpack:///./node_modules/es-abstract/helpers/callBind.js","webpack:///./node_modules/aws-sdk/lib/xml/escape-element.js","webpack:///./node_modules/aws-sdk/lib/browser.js","webpack:///./node_modules/aws-sdk/lib/signers/s3.js","webpack:///./node_modules/aws-sdk/lib/credentials/temporary_credentials.js","webpack:///./node_modules/aws-sdk/clients/mediastoredata.js","webpack:///./node_modules/aws-sdk/clients/xray.js","webpack:///./node_modules/es-to-primitive/helpers/isPrimitive.js","webpack:///./node_modules/aws-sdk/lib/model/paginator.js","webpack:///./node_modules/mux.js/lib/m2ts/caption-stream.js","webpack:///./node_modules/aws-sdk/lib/model/collection.js","webpack:///./node_modules/aws-sdk/lib/param_validator.js","webpack:///./node_modules/aws-sdk/clients/personalize.js","webpack:///./node_modules/aws-sdk/lib/services/s3.js","webpack:///./node_modules/aws-sdk/clients/gamelift.js","webpack:///./node_modules/has-symbols/index.js","webpack:///./node_modules/xtend/immutable.js","webpack:///./node_modules/aws-sdk/lib/signers/v3https.js","webpack:///./node_modules/aws-sdk/lib/discover_endpoint.js","webpack:///./node_modules/string.prototype.trim/implementation.js","webpack:///./node_modules/aws-sdk/lib/services/route53.js","webpack:///./node_modules/aws-sdk/lib/dynamodb/translator.js","webpack:///./node_modules/aws-sdk/lib/credentials/web_identity_credentials.js","webpack:///./node_modules/es-abstract/helpers/sign.js","webpack:///./src/views/ShowVideo.vue?c429","webpack:///./src/components/vplayer.vue?b21e","webpack:///./node_modules/m3u8-parser/dist/m3u8-parser.es.js","webpack:///./node_modules/pkcs7/dist/pkcs7.es.js","webpack:///./node_modules/aes-decrypter/dist/aes-decrypter.es.js","webpack:///./node_modules/video.js/dist/video.es.js","webpack:///src/components/vplayer.vue","webpack:///./src/components/vplayer.vue?634a","webpack:///./src/components/vplayer.vue","webpack:///src/views/ShowVideo.vue","webpack:///./src/views/ShowVideo.vue?82c0","webpack:///./src/views/ShowVideo.vue","webpack:///./node_modules/aws-sdk/clients/devicefarm.js","webpack:///./node_modules/aws-sdk/lib/services/cloudfront.js","webpack:///./node_modules/aws-sdk/clients/waf.js","webpack:///./node_modules/aws-sdk/clients/connect.js","webpack:///./node_modules/aws-sdk/clients/efs.js","webpack:///./node_modules/aws-sdk/clients/cloudfront.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/aws-sdk/lib/api_loader.js","webpack:///./node_modules/aws-sdk/lib/polly/presigner.js","webpack:///./node_modules/parse-headers/parse-headers.js","webpack:///./node_modules/aws-sdk/clients/lexmodelbuildingservice.js","webpack:///./node_modules/aws-sdk/lib/xml/xml-node.js","webpack:///./node_modules/aws-sdk/lib/response.js","webpack:///./node_modules/function-bind/implementation.js","webpack:///./node_modules/aws-sdk/clients/route53domains.js","webpack:///./node_modules/aws-sdk/clients/mobileanalytics.js","webpack:///./node_modules/aws-sdk/clients/iotdata.js","webpack:///./node_modules/aws-sdk/lib/config.js","webpack:///./node_modules/aws-sdk/clients/ecr.js","webpack:///./node_modules/aws-sdk/lib/xml/xml-text.js","webpack:///./node_modules/aws-sdk/clients/rekognition.js","webpack:///./node_modules/aws-sdk/lib/event-stream/parse-event.js","webpack:///./node_modules/aws-sdk/clients/costexplorer.js","webpack:///./node_modules/aws-sdk/clients/route53.js","webpack:///./node_modules/aws-sdk/lib/protocol/rest_xml.js","webpack:///./node_modules/aws-sdk/lib/sequential_executor.js","webpack:///./src/views/PostVideo.vue?3e61","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/mux.js/lib/utils/bin.js","webpack:///./node_modules/aws-sdk/lib/query/query_param_serializer.js","webpack:///./node_modules/is-function/index.js","webpack:///./node_modules/aws-sdk/clients/opsworks.js","webpack:///./node_modules/aws-sdk/vendor/endpoint-cache/utils/LRU.js","webpack:///./node_modules/mpd-parser/dist/mpd-parser.es.js","webpack:///./node_modules/aws-sdk/lib/json/parser.js","webpack:///./node_modules/aws-sdk/clients/comprehendmedical.js","webpack:///./node_modules/aws-sdk/lib/request.js","webpack:///./node_modules/aws-sdk/clients/ecs.js","webpack:///./node_modules/aws-sdk/lib/credentials/cognito_identity_credentials.js","webpack:///./node_modules/safe-json-parse/tuple.js","webpack:///./node_modules/aws-sdk/lib/service.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/aws-sdk/clients/cognitoidentityserviceprovider.js","webpack:///./node_modules/aws-sdk/clients/rds.js","webpack:///./node_modules/aws-sdk/clients/cognitoidentity.js","webpack:///./node_modules/aws-sdk/lib/protocol/helpers.js","webpack:///./node_modules/aws-sdk/clients/redshift.js","webpack:///./node_modules/aws-sdk/clients/lambda.js","webpack:///./node_modules/aws-sdk/clients/secretsmanager.js","webpack:///./node_modules/aws-sdk/clients/ssm.js","webpack:///./node_modules/aws-sdk/clients/polly.js","webpack:///./node_modules/aws-sdk/lib/services/sqs.js","webpack:///./node_modules/aws-sdk/lib/browser_loader.js","webpack:///./node_modules/mux.js/lib/tools/mp4-inspector.js","webpack:///./node_modules/aws-sdk/lib/event-stream/split-message.js","webpack:///./node_modules/aws-sdk/lib/xml/escape-attribute.js","webpack:///./node_modules/aws-sdk/clients/servicecatalog.js","webpack:///./node_modules/aws-sdk/clients/personalizeevents.js","webpack:///./node_modules/aws-sdk/clients/dynamodb.js","webpack:///./node_modules/aws-sdk/lib/model/shape.js","webpack:///./node_modules/aws-sdk/lib/event-stream/int64.js","webpack:///./node_modules/aws-sdk/lib/browserHashUtils.js","webpack:///./node_modules/has/src/index.js","webpack:///./node_modules/aws-sdk/lib/services/polly.js","webpack:///./node_modules/aws-sdk/clients/machinelearning.js","webpack:///./node_modules/aws-sdk/clients/codecommit.js","webpack:///./node_modules/aws-sdk/clients/cloudtrail.js","webpack:///./node_modules/mux.js/lib/mp4/caption-parser.js","webpack:///./node_modules/mux.js/lib/m2ts/stream-types.js","webpack:///./node_modules/aws-sdk/lib/resource_waiter.js","webpack:///./node_modules/aws-sdk/clients/cognitosync.js","webpack:///./node_modules/videojs-vtt.js/lib/vttcue.js","webpack:///./node_modules/aws-sdk/clients/autoscaling.js","webpack:///./node_modules/object-keys/implementation.js","webpack:///./node_modules/aws-sdk/lib/s3/managed_upload.js","webpack:///./node_modules/aws-sdk/lib/services/dynamodb.js","webpack:///./node_modules/aws-sdk/clients/storagegateway.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/string.prototype.trim/shim.js","webpack:///./node_modules/aws-sdk/lib/credentials/chainable_temporary_credentials.js","webpack:///./node_modules/aws-sdk/clients/personalizeruntime.js","webpack:///./node_modules/aws-sdk/clients/s3.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/aws-sdk/clients/elbv2.js","webpack:///./node_modules/aws-sdk/lib/event_listeners.js","webpack:///./node_modules/aws-sdk/clients/cloudformation.js","webpack:///./node_modules/es-abstract/helpers/isPrefixOf.js","webpack:///./node_modules/es-abstract/helpers/mod.js","webpack:///./node_modules/aws-sdk/lib/credentials/credential_provider_chain.js","webpack:///./node_modules/aws-sdk/clients/acm.js","webpack:///./node_modules/aws-sdk/lib/credentials/saml_credentials.js","webpack:///./node_modules/aws-sdk/clients/kinesisvideoarchivedmedia.js","webpack:///./node_modules/global/window.js","webpack:///./node_modules/aws-sdk/clients/sns.js","webpack:///./node_modules/aws-sdk/clients/mturk.js","webpack:///./node_modules/aws-sdk/lib/rds/signer.js","webpack:///./node_modules/aws-sdk/lib/xml/builder.js","webpack:///./node_modules/aws-sdk/clients/cloudwatch.js","webpack:///./node_modules/aws-sdk/lib/browserSha1.js","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/es-abstract/helpers/assertRecord.js","webpack:///./node_modules/aws-sdk/clients/forecastqueryservice.js","webpack:///./node_modules/aws-sdk/lib/browserMd5.js","webpack:///./node_modules/es-abstract/helpers/isFinite.js","webpack:///./node_modules/uuid/v4.js","webpack:///./node_modules/aws-sdk/lib/services/sts.js","webpack:///./node_modules/aws-sdk/lib/browserSha256.js","webpack:///./node_modules/string.prototype.trim/index.js","webpack:///./node_modules/aws-sdk/lib/protocol/query.js","webpack:///./node_modules/aws-sdk/clients/pricing.js","webpack:///./node_modules/for-each/index.js","webpack:///./node_modules/videojs-vtt.js/lib/vtt.js","webpack:///./node_modules/aws-sdk/clients/workdocs.js","webpack:///./node_modules/url-toolkit/src/url-toolkit.js","webpack:///./node_modules/aws-sdk/lib/cloudfront/signer.js","webpack:///./node_modules/object-keys/isArguments.js","webpack:///./node_modules/aws-sdk/clients/cloudwatchevents.js","webpack:///./node_modules/aws-sdk/clients/kms.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/aws-sdk/clients/kinesisvideo.js","webpack:///./node_modules/object-keys/index.js","webpack:///./node_modules/aws-sdk/lib/model/operation.js","webpack:///./node_modules/mux.js/lib/tools/ts-inspector.js","webpack:///./node_modules/aws-sdk/lib/realclock/browserClock.js","webpack:///./node_modules/mux.js/lib/tools/caption-packet-parser.js","webpack:///./node_modules/aws-sdk/clients/iot.js","webpack:///./node_modules/aws-sdk/clients/applicationautoscaling.js","webpack:///./node_modules/aws-sdk/lib/region_config.js","webpack:///./node_modules/aws-sdk/lib/dynamodb/document_client.js","webpack:///./node_modules/keycode/index.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/aws-sdk/lib/dynamodb/types.js","webpack:///./node_modules/aws-sdk/clients/ec2.js","webpack:///./node_modules/aws-sdk/lib/event-stream/parse-message.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/aws-sdk/clients/elastictranscoder.js","webpack:///./node_modules/aws-sdk/clients/cur.js","webpack:///./node_modules/aws-sdk/lib/browserCryptoLib.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/aws-sdk/clients/marketplacecommerceanalytics.js","webpack:///./node_modules/aws-sdk/lib/services/rds.js","webpack:///./node_modules/aws-sdk/lib/model/api.js","webpack:///./node_modules/aws-sdk/lib/event-stream/event-message-chunker.js","webpack:///./node_modules/aws-sdk/clients/codedeploy.js","webpack:///./node_modules/aws-sdk/clients/sts.js","webpack:///./node_modules/es-abstract/GetIntrinsic.js","webpack:///./node_modules/xhr/index.js","webpack:///./node_modules/global/document.js","webpack:///./node_modules/aws-sdk/lib/credentials.js","webpack:///./node_modules/aws-sdk/clients/sqs.js","webpack:///./node_modules/aws-sdk/lib/state_machine.js","webpack:///./node_modules/define-properties/index.js","webpack:///./node_modules/aws-sdk/lib/protocol/rest_json.js","webpack:///./node_modules/aws-sdk/clients/elasticache.js","webpack:///./node_modules/aws-sdk/clients/elasticbeanstalk.js","webpack:///./src/views/About.vue?e14e","webpack:///./src/views/About.vue","webpack:///./node_modules/aws-sdk/lib/browserHmac.js","webpack:///./node_modules/videojs-vtt.js/lib/vttregion.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/mux.js/lib/aac/utils.js","webpack:///./src/views/ShowVideo.vue?e766","webpack:///./node_modules/aws-sdk/clients/ses.js","webpack:///./node_modules/es-abstract/helpers/isPropertyDescriptor.js"],"names":["util","typeOf","memberTypeToSetType","DynamoDBSet","inherit","constructor","list","options","this","wrapperName","initialize","validate","self","values","concat","detectType","type","error","Error","code","message","length","i","toJSON","module","exports","JsonBuilder","JsonParser","populateHostPrefix","buildRequest","req","httpRequest","api","service","target","targetPrefix","operations","operation","name","version","jsonVersion","input","builder","body","build","params","headers","extractError","resp","httpResponse","split","e","JSON","parse","toString","__type","pop","Message","statusCode","statusMessage","extractData","request","config","convertResponseTypes","data","shape","output","parser","AWS","environment","engine","isBrowser","navigator","userAgent","process","platform","AWS_EXECUTION_ENV","agent","VERSION","uriEscape","string","encodeURIComponent","replace","escape","ch","charCodeAt","toUpperCase","uriEscapePath","parts","arrayEach","part","push","join","urlParse","url","urlFormat","format","queryStringParse","qs","querystring","queryParamsToString","items","sortedKeys","Object","keys","sort","value","ename","result","Array","isArray","vals","item","undefined","readFileSync","path","base64","encode","buf","buffer","toBuffer","decode","encoding","Buffer","from","Uint8Array","alloc","size","fill","toStream","isBuffer","readable","stream","pos","_read","end","slice","buffers","offset","copy","byteLength","lstatSync","object","upperFirst","substr","lowerFirst","toLowerCase","ini","currentSection","map","line","section","match","fn","noop","callback","err","makeAsync","expectedArgs","args","prototype","call","arguments","apply","date","getDate","systemClockOffset","Date","getTime","iso8601","toISOString","rfc822","toUTCString","unixTimestamp","formatter","parseTimestamp","crypto","crc32Table","crc32","tbl","crc","readUInt8","hmac","key","digest","lib","createHmac","update","md5","hash","sha256","algorithm","createHash","sliceFn","arraySliceFn","ArrayBuffer","on","chunk","FileReader","out","index","reader","onerror","onload","_continueReading","back","readAsArrayBuffer","toHex","abort","each","iterFunction","hasOwnProperty","ret","array","idx","parseInt","obj1","obj2","merge","dupe","isEmpty","obj","prop","webkitSlice","mozSlice","isType","typeName","str","originalError","stack","defineProperty","writable","enumerable","time","klass","features","newObject","ctor","__super__","mixin","hideProperties","props","configurable","property","isValue","opts","get","memoizedProperty","cachedValue","hoistPayloadMember","operationName","payload","hasEventOutput","payloadMember","members","responsePayload","computeSha256","done","isNode","Stream","fs","settings","start","createReadStream","sha","isClockSkewed","serverTime","Math","abs","applyClockOffset","extractRequestId","requestId","ResponseMetadata","RequestId","addPromises","constructors","PromiseDependency","deletePromises","getPromisesDependency","Promise","ind","deletePromisesFromClass","addPromisesToClass","promisifyMethod","methodName","resolve","reject","isDualstackAvailable","metadata","serviceIdentifier","dualstackAvailable","calculateRetryDelay","retryCount","retryDelayOptions","customBackoff","base","delay","random","pow","handleRequestWithRetries","cb","http","HttpClient","getInstance","httpOptions","errCallback","maxRetries","retryable","setTimeout","sendRequest","retryAfter","handleRequest","defer","uuid","v4","convertPayloadToString","rules","nextTick","setImmediate","getRequestPayloadShape","getProfilesFromSharedConfig","iniLoader","filename","profiles","profilesFromConfig","configOptInEnv","loadFrom","isConfig","sharedConfigFileEnv","profilesFromCreds","sharedCredentialsFileEnv","profileNames","defaultProfile","imdsDisabledEnv","Signers","RequestSigner","setServiceClientId","id","serviceClientId","getServiceClientId","getVersion","V2","V3","V4","S3","V3Https","Service","apiLoader","services","Inspector","defineService","model","paginators","pagination","Shape","DomXmlParser","getElementByTagName","xml","tag","elements","getElementsByTagName","iLen","parentNode","parseXml","parseStructure","parseMap","parseList","parseUnknown","parseScalar","memberName","memberShape","isXmlAttribute","attributes","textContent","xmlChild","flattened","defaultValue","xmlKey","xmlValue","tagName","child","firstElementChild","nodeName","nextElementSibling","member","getAttribute","create","text","toType","childNodes","window","DOMParser","parseFromString","syntaxError","documentElement","isError","errorElement","ActiveXObject","async","loadXML","isObject","strictDeepEqual","first","second","firstType","keysSeen","key2","isFalse","objValues","trimLeft","String","TYPE_NUMBER","TYPE_ANY","TYPE_STRING","TYPE_ARRAY","TYPE_OBJECT","TYPE_BOOLEAN","TYPE_EXPREF","TYPE_NULL","TYPE_ARRAY_NUMBER","TYPE_ARRAY_STRING","TOK_EOF","TOK_UNQUOTEDIDENTIFIER","TOK_QUOTEDIDENTIFIER","TOK_RBRACKET","TOK_RPAREN","TOK_COMMA","TOK_COLON","TOK_RBRACE","TOK_NUMBER","TOK_CURRENT","TOK_EXPREF","TOK_PIPE","TOK_OR","TOK_AND","TOK_EQ","TOK_GT","TOK_LT","TOK_GTE","TOK_LTE","TOK_NE","TOK_FLATTEN","TOK_STAR","TOK_FILTER","TOK_DOT","TOK_NOT","TOK_LBRACE","TOK_LBRACKET","TOK_LPAREN","TOK_LITERAL","basicTokens","operatorStartToken","skipChars","isAlpha","isNum","isAlphaNum","Lexer","tokenize","identifier","token","tokens","_current","_consumeUnquotedIdentifier","_consumeNumber","_consumeLBracket","_consumeQuotedIdentifier","_consumeRawStringLiteral","literal","_consumeLiteral","_consumeOperator","maxLength","current","startingChar","literalString","_looksLikeJSON","startingChars","jsonLiterals","numberLooking","indexOf","ex","bindingPower","Parser","TreeInterpreter","runtime","Runtime","interpreter","_interpreter","functionTable","_func","_functionAbs","_signature","types","avg","_functionAvg","ceil","_functionCeil","contains","_functionContains","_functionEndsWith","floor","_functionFloor","_functionLength","_functionMap","max","_functionMax","_functionMerge","variadic","_functionMaxBy","sum","_functionSum","_functionStartsWith","min","_functionMin","_functionMinBy","_functionType","_functionKeys","_functionValues","_functionSort","_functionSortBy","_functionJoin","reverse","_functionReverse","_functionToArray","_functionToString","_functionToNumber","_functionNotNull","compile","ast","lexer","search","expression","node","_loadTokens","_lookahead","t","_lookaheadToken","rbp","leftToken","_advance","left","nud","currentToken","led","number","right","Not","children","_parseProjectionRHS","Star","_parseMultiselectHash","Flatten","_parseIndexExpression","_projectIfSlice","_parseMultiselectList","Expref","_match","_errorToken","tokenName","Dot","_parseDotRHS","Pipe","Or","And","condition","Filter","leftNode","rightNode","_parseComparator","tokenType","_parseSliceExpression","indexExpr","comparator","lookahead","exprTokens","expressions","keyToken","keyName","pairs","identifierTypes","visit","matched","field","collected","sliceParams","computed","computeSliceParams","stop","step","filtered","finalResults","j","original","merged","resolvedArgs","callFunction","refNode","jmespathType","arrayLength","stepValueNegative","capSliceRange","actualValue","functionEntry","_validateArgs","signature","pluralized","currentSpec","actualType","typeMatched","_getTypeName","_typeMatches","actual","expected","argValue","subtype","lastIndexOf","searchStr","suffix","originalStr","reversedStr","reversedArray","inputArray","mapped","exprefNode","maxElement","localeCompare","minElement","listToSum","joinChar","listJoin","stringify","convertedValue","isNaN","sortedArray","requiredType","that","decorated","a","b","exprA","exprB","maxRecord","resolvedArray","keyFunction","createKeyFunction","maxNumber","Infinity","minRecord","minNumber","allowedTypes","keyFunc","x","msg","ResourceWaiter","waiter","forEach","punycode","Url","protocol","slashes","auth","host","port","hostname","query","pathname","href","urlResolve","resolveObject","urlResolveObject","protocolPattern","portPattern","simplePathPattern","delims","unwise","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","parseQueryString","slashesDenoteHost","u","isString","source","relative","TypeError","queryIndex","splitter","uSplit","slashRegex","rest","trim","simplePath","exec","proto","lowerProto","atSign","hostEnd","hec","decodeURIComponent","parseHost","ipv6Hostname","hostparts","l","newpart","k","validParts","notHost","bit","unshift","toASCII","p","h","ae","esc","qm","s","charAt","rel","tkeys","tk","tkey","rkeys","rk","rkey","v","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","splice","isAbsolute","DirectConnect","Translate","GetIntrinsic","$Object","$EvalError","$TypeError","$String","$Date","$Number","$floor","$DateUTC","$abs","assertRecord","isPropertyDescriptor","$isNaN","$isFinite","sign","mod","isPrefixOf","callBound","IsCallable","toPrimitive","has","$getUTCFullYear","HoursPerDay","MinutesPerHour","SecondsPerMinute","msPerSecond","msPerMinute","msPerHour","msPerDay","ES5","ToPrimitive","ToBoolean","ToNumber","ToInteger","ToInt32","ToUint32","ToUint16","posInt","ToString","ToObject","CheckObjectCoercible","optMessage","SameValue","y","Type","IsPropertyDescriptor","Desc","IsAccessorDescriptor","IsDataDescriptor","IsGenericDescriptor","FromPropertyDescriptor","set","ToPropertyDescriptor","Obj","desc","getter","setter","xType","yType","LeftFirst","px","py","bothStrings","nx","ny","msFromTime","SecFromTime","MinFromTime","HourFromTime","Day","TimeWithinDay","DayFromYear","TimeFromYear","YearFromTime","WeekDay","DaysInYear","InLeapYear","days","DayWithinYear","MonthFromTime","day","leap","DateFromTime","m","d","MakeDay","year","month","NaN","dt","ym","mn","MakeDate","MakeTime","hour","sec","ms","milli","TimeClip","modulo","implementation","Function","bind","IAM","waiters","addAuthorization","credentials","r","Timestamp","SignatureVersion","SignatureMethod","AWSAccessKeyId","accessKeyId","sessionToken","SecurityToken","Signature","secretAccessKey","stringToSign","method","endpoint","DynamoDBStreams","v1","APIGateway","LRU_1","CACHE_SIZE","EndpointCache","maxSize","cache","LRUCache","put","keyString","getKeyString","endpointRecord","populateValue","now","records","record","Expire","remove","identifiers","identifierNames","identifierName","endpoints","Address","CachePeriodInMinutes","empty","cachedSecret","cacheQueue","maxCacheEntries","v4Identifier","createScope","region","serviceName","getSigningKey","shouldCache","credsIdentifier","cacheKey","kDate","kRegion","kService","signingKey","emptyCache","Symbol","getOwnPropertySymbols","iterator","sym","symObj","symVal","getOwnPropertyNames","syms","propertyIsEnumerable","getOwnPropertyDescriptor","descriptor","blobPayloadOutputOps","IotData","validateService","setupRequestListeners","addListener","validateResponseBody","bodyCheck","IoTAnalytics","expiresHeader","signedUrlBuilder","expires","signerClass","getSignerClass","getSkewCorrectedDate","signedUrlSigner","parsedUrl","queryParams","Presign","expireTime","removeListener","EventListeners","Core","SET_CONTENT_LENGTH","COMPUTE_SHA256","emit","response","root","nodeType","freeGlobal","global","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","stringFromCharCode","fromCharCode","RangeError","mapDomain","labels","encoded","ucs2decode","extra","counter","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","basic","oldi","w","baseMinusT","inputLength","n","bias","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","test","zeroWidthSpace","ELB","MachineLearning","buildEndpoint","PredictEndpoint","Endpoint","toByteArray","fromByteArray","lookup","revLookup","Arr","len","getLens","b64","validLen","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","extraBytes","maxChunkLength","len2","NumberValue","formatList","L","DynamoDB","Converter","convertNumber","wrapNumbers","Number","formatMap","M","formatted","formatSet","convertEmptyValues","filterEmptySetValues","nonEmptyValues","potentiallyEmptyTypes","Binary","convertInput","S","N","B","BOOL","NULL","marshall","convertOutput","unmarshall","fnToStr","constructorRegex","isES6ClassFn","fnStr","tryFunctionObject","toStr","fnClass","genClass","hasToStringTag","toStringTag","strClass","ACM","ApplicationAutoScaling","AutoScaling","CloudFormation","CloudFront","CloudHSM","CloudTrail","CloudWatch","CloudWatchEvents","CloudWatchLogs","CodeBuild","CodeCommit","CodeDeploy","CodePipeline","CognitoIdentity","CognitoIdentityServiceProvider","CognitoSync","ConfigService","CUR","DeviceFarm","EC2","ECR","ECS","EFS","ElastiCache","ElasticBeanstalk","ELBv2","EMR","ElasticTranscoder","Firehose","GameLift","Iot","Kinesis","KMS","Lambda","LexRuntime","MarketplaceCommerceAnalytics","MTurk","MobileAnalytics","OpsWorks","Polly","RDS","Redshift","Rekognition","Route53","Route53Domains","ServiceCatalog","SES","SNS","SQS","SSM","StorageGateway","STS","XRay","WAF","WorkDocs","LexModelBuildingService","Pricing","CostExplorer","MediaStoreData","Comprehend","KinesisVideoArchivedMedia","KinesisVideoMedia","KinesisVideo","ResourceGroups","Connect","SecretsManager","ComprehendMedical","Personalize","PersonalizeEvents","PersonalizeRuntime","ForecastService","ForecastQueryService","byteToHex","bytesToUuid","bth","translate","translateStructure","translateMap","translateList","translateScalar","structure","struct","location","locationName","isLocationName","toWireFormat","MAX_TS","RO_THRESH","TYPE_SHARED","handleRollover","reference","direction","TimestampRolloverStream","lastDTS","referenceDTS","init","type_","dts","pts","trigger","flush","endTimeline","discontinuity","reset","getOpenIdToken","makeUnauthenticatedRequest","getId","getCredentialsForIdentity","findBox","parseType","timescale","startTime","getVideoTrackIds","getTracks","toUnsigned","toHexString","subresults","results","subarray","traks","reduce","trak","tkhd","mdhd","fragment","trafs","baseTimes","traf","tfhd","scale","baseTime","tfdt","isFinite","videoTrackIds","hdlrs","tkhds","hdlr","view","trackId","handlerType","DataView","byteOffset","getUint8","getUint32","tracks","track","stsd","sampleDescriptions","codec","codecConfig","codecConfigType","codecBox","populateMethod","httpMethod","generateURI","endpointPath","operationPath","uri","queryString","queryStringSet","paramValue","regex","RegExp","_","plus","val","populateURI","httpPath","populateHeaders","memberValue","isJsonValue","header","pattern","v4Credentials","signatureCache","signatureVersion","datetime","isPresigned","updateForPresigned","addHeaders","authorization","credString","credentialString","signedHeaders","isSignableHeader","lowerKey","sep","hexEncodedHash","canonicalString","canonicalHeaders","hexEncodedBodyHash","canonicalHeaderValues","unsignableHeaders","superCtor","super_","TempCtor","callBind","$indexOf","allowMissing","intrinsic","DynamoDBNumberValue","toNumber","vttjs","WebVTT","VTTCue","VTTRegion","cueShim","regionShim","nativeVTTCue","nativeVTTRegion","shim","restore","Query","EXTRACT_ERROR","onAsync","buildCopySnapshotPresignedUrl","PresignedUrl","_subRequest","DestinationRegion","SourceRegion","svc","newReq","presign","XML","Errors","Code","RequestID","EventEmitter","XHRClient","emitter","xhr","XMLHttpRequest","headersEmitted","addEventListener","status","readyState","HEADERS_RECEIVED","parseHeaders","getAllResponseHeaders","statusText","DONE","finishRequest","upload","evt","open","xhrAsync","setRequestHeader","timeout","xhrWithCredentials","withCredentials","responseType","send","rawHeaders","substring","ab","responseText","streamsApiVersion","isPrimitive","isCallable","ES5internalSlots","O","actualHint","methods","getOwnPropertyDescriptors","descriptors","formatRegExp","f","objects","inspect","deprecate","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","console","trace","debugEnviron","debugs","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","style","styles","arrayToHash","recurseTimes","isFunction","primitive","formatPrimitive","visibleKeys","formatError","isRegExp","isDate","braces","formatArray","formatProperty","reduceToSingleString","simple","isNumber","prev","cur","numLinesEst","ar","arg","isSymbol","re","objectToString","o","pad","debuglog","NODE_DEBUG","pid","months","timestamp","getHours","getMinutes","getSeconds","getMonth","log","inherits","origin","add","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","newReason","callbackify","callbackified","maybeCb","then","rej","setPrototypeOf","getPrototypeOf","defineProperties","promisify","promiseResolve","promiseReject","promise","custom","eventMessageChunker","parseEvent","createEventStream","eventMessages","events","secondsToVideoTs","secondsToAudioTs","videoTsToSeconds","audioTsToSeconds","audioTsToVideoTs","videoTsToAudioTs","metadataTsToSeconds","ONE_SECOND_IN_TS","seconds","sampleRate","timelineStartPts","keepOriginalTimestamps","headersToSign","setAcceptHeader","Accept","exportType","useSSL","sslEnabled","HttpRequest","_userAgent","setUserAgent","getUserAgentHeaderName","prefix","appendToUserAgent","agentPartial","getUserAgent","updateEndpoint","endpointStr","newEndpoint","HttpResponse","streaming","createUnbufferedStream","singleton","StreamTypes","parsePid","packet","parsePayloadUnitStartIndicator","parseAdaptionField","pmtPid","parsePat","pusi","parsePmt","programMapTable","payloadOffset","sectionLength","tableEnd","programInfoLength","parsePesType","H264_STREAM_TYPE","ADTS_STREAM_TYPE","METADATA_STREAM_TYPE","parsePesTime","ptsDtsFlags","pes","parseNalUnitType","videoPacketContainsKeyFrame","nalType","frameBuffer","frameI","frameSyncPoint","foundKeyFrame","_hidden","Protocol","Json","Rest","RestJson","RestXml","Builder","Model","Api","Operation","Paginator","SequentialExecutor","endpointCacheSize","listeners","listener","off","callbacks","dispose","pipe","destination","flushSource","partialFlush","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","form","$$v","$set","beforeAvatarUpload","myUpload","imageUrl","slot","onSubmit","staticRenderFns","component","$Function","$apply","$call","escapeElement","subResources","responseHeaders","canonicalizedAmzHeaders","canonicalizedResource","amzHeaders","resource","virtualHostedBucket","resources","param","subresource","res","secret","TemporaryCredentials","Credentials","masterCredentials","loadMasterCredentials","expired","RoleArn","RoleSessionName","refresh","coalesceRefresh","load","createClients","assumeRole","getSessionToken","credentialsFrom","paginator","input_token","limit_key","more_results","output_token","result_key","cea708Parser","CaptionStream","captionPackets_","ccStreams_","Cea608Stream","cc","event","sei","userData","newCaptionPackets","nalUnitType","parseSei","escapedRBSP","payloadType","USER_DATA_REGISTERED_ITU_T_T35","parseUserData","latestDts_","ignoreNextEqualDts_","numSameDts_","parseCaptionPackets","flushCCStreams","flushType","flushStream","elem","presortIndex","dispatchCea608Packet","activeCea608Channel_","ccStream","setsTextOrXDSActive","setsChannel1Active","setsChannel2Active","ccData","CHARACTER_TRANSLATION","getCharFromCode","BOTTOM_ROW","ROWS","createDisplayBuffer","dataChannel","field_","dataChannel_","name_","setConstants","swap","char0","char1","lastControlCode_","PADDING_","RESUME_CAPTION_LOADING_","mode_","END_OF_CAPTION_","clearFormatting","flushDisplayed","displayed_","nonDisplayed_","startPts_","ROLL_UP_2_ROWS_","rollUpRows_","setRollUp","ROLL_UP_3_ROWS_","ROLL_UP_4_ROWS_","CARRIAGE_RETURN_","shiftRowsUp_","BACKSPACE_","row_","ERASE_DISPLAYED_MEMORY_","ERASE_NON_DISPLAYED_MEMORY_","RESUME_DIRECT_CAPTIONING_","isSpecialCharacter","column_","isExtCharacter","isMidRowCode","addFormatting","isOffsetControlCode","isPAC","row","formatting_","isColorPAC","isNormalChar","content","startPts","endPts","topRow_","BASE_","EXT_","CONTROL_","OFFSET_","char","newBaseRow","popOn","baseRow","rollUp","paintOn","memoize","factory","nameTr","Collection","iterable","ParamValidator","validation","context","validateMember","fail","validateStructure","paramName","validateType","required","memberContext","validateList","validateMap","validateScalar","validateRange","mapCount","validateString","validatePayload","validateNumber","validTypes","validateEnum","validatePattern","validateUri","acceptedTypes","foundInvalidType","acceptedType","vowel","castedValue","parseFloat","Blob","operationsWith200StatusCodeError","regionRedirectErrorCodes","getSignatureVersion","defaultApiVersion","userDefinedVersion","_originalConfig","regionDefinedVersion","messages","s3BucketEndpoint","shouldDisableBodySigning","s3DisableBodySigning","prependListener","validateScheme","validateBucketEndpoint","correctBucketRegionFromCache","validateBucketName","addContentType","computeContentMd5","computeSseCustomerKeyMd5","addExpect100Continue","VALIDATE_REGION","requestBucketRegion","prepareSignedUrl","reqRegionForNetworkingError","disableBodySigning","scheme","sensitive","SSECustomerKey","CopySourceSSECustomerKey","Bucket","bucket","Key","slashIndex","isValidAccelerateOperation","invalidOperations","pathStyleBucketName","useAccelerateEndpoint","useDualstack","removeVirtualHostedBucketFromPath","encodedS3Key","Body","contentType","replaceFn","charsetName","charset","computableChecksumOperations","putBucketCors","putBucketLifecycle","putBucketLifecycleConfiguration","putBucketTagging","deleteObjects","putBucketReplication","putObjectLegalHold","putObjectRetention","putObjectLockConfiguration","willComputeChecksums","computeChecksums","ContentMD5","bucketName","s3ForcePathStyle","dnsCompatibleBucketName","domain","ipAddress","dots","successfulResponse","retryableError","_requestRegionForBucket","bucketRegionCache","updateReqBucketRegion","_super","s3Config","newConfig","Host","_asm","currentState","LocationConstraint","createBucketConfiguration","CreateBucketConfiguration","clearBucketRegionCache","extractRequestIds","cachedRegion","codes","304","403","400","404","Region","reqOperation","reqParams","MaxKeys","regionReq","getRegionReq","listObjects","buckets","requestRegion","extendedRequestId","cfId","getSignedUrl","Expires","makeRequest","createPresignedPost","boundParams","finalizePost","fields","preparePostFields","Fields","Conditions","getCredentials","conditions","expiresInSeconds","signingDate","shortDate","scope","credential","Policy","preparePostPolicy","valueOf","expiration","noPresignedContentLength","ContentLength","createBucket","globalEndpoint","uploader","ManagedUpload","getSignedUrlPromise","origSymbol","hasSymbolSham","extend","endpointDiscoveryEnabledEnvs","getCacheKey","serviceId","marshallCustomIdentifiersHelper","endpointDiscoveryId","marshallCustomIdentifiers","optionalDiscoverEndpoint","operationModel","inputShape","endpointCache","endpointRequest","endpointOperation","Identifiers","addApiVersionHeader","VALIDATE_PARAMETERS","RETRY_CHECK","Endpoints","requestQueue","requiredDiscoverEndpoint","cacheKeyStr","errorParams","pendingRequests","requestContext","apiVersion","invalidateCachedEndpoints","hasCustomEndpoint","client","endpointDiscoveryEnabled","svcConfig","Boolean","isFalsy","isEndpointDiscoveryApplicable","env","configFile","sharedFileConfig","AWS_PROFILE","endpoint_discovery_enabled","discoverEndpoint","isEndpointDiscoveryRequired","endpointDiscoveryRequired","addNamedListener","invalidateCachedEndpoint","ES","leftWhitespace","rightWhitespace","sanitizeUrl","convert","Translator","attrValue","translateInput","mode","translateOutput","WebIdentityCredentials","clientConfig","_clientConfig","assumeRoleWithWebIdentity","stsConfig","_l","video","padding","nativeOn","$event","goVideo","avatar","_s","title","created_at","videoOptions","info","_extends","assign","_inheritsLoose","subClass","superClass","__proto__","_assertThisInitialized","ReferenceError","_proto","LineStream","_Stream","_this","nextNewline","attributeSeparator","keyvalue","parseAttributes","attr","ParseStream","customParsers","tagMappers","_this2","newLines","acc","mapper","mappedLine","newLine","tagType","duration","playlistType","allowed","URI","BYTERANGE","_attributes$BYTERANGE","byterange","RESOLUTION","resolution","width","height","BANDWIDTH","dateTimeString","dateTimeObject","IV","Uint32Array","PRECISE","addParser","_ref","_this3","customType","dataParser","segment","addTagMapper","_ref2","mapFn","decodeB64ToUint8Array","b64Text","decodedString","atob","lineStream","parseStream","currentMap","_key","uris","currentUri","defaultMediaGroups","widevineUuid","currentTimeline","manifest","allowCache","discontinuityStarts","segments","entry","mediaGroup","rendition","endlist","endList","inf","mediaSequence","discontinuitySequence","METHOD","KEYFORMAT","VALID_METHODS","KEYID","contentProtection","schemeIdUri","keyId","pssh","iv","playlist","playlists","mediaGroups","media","TYPE","NAME","mediaGroupType","default","DEFAULT","autoselect","AUTOSELECT","LANGUAGE","language","instreamId","CHARACTERISTICS","characteristics","FORCED","forced","targetduration","targetDuration","totalduration","totalDuration","timeOffset","precise","cueOut","cueOutCont","cueIn","timeline","comment","unpad","padded","classCallCheck","instance","Constructor","createClass","protoProps","staticProps","possibleConstructorReturn","precompute","tables","encTable","decTable","sbox","sboxInv","xInv","th","x2","x4","x8","tEnc","tDec","aesTables","AES","_tables","encKey","decKey","keyLen","rcon","decrypt","encrypted0","encrypted1","encrypted2","encrypted3","c","a2","b2","c2","nInnerRounds","kIndex","table","table0","table1","table2","table3","_length","_i","AsyncStream","jobs","timeout_","processJob_","job","ntoh","word","encrypted","initVector","encrypted32","Int32Array","decipher","decrypted","decrypted32","init0","init1","init2","init3","wordIx","Decrypter","STEP","asyncStream_","decryptChunk_","bytes","level","lvl","levels","lvlRegExp","createLogger","logByType","_len","subname","all","debug","warn","history","filter","fname","historyItem","clear","disable","enable","_len2","_key2","_len3","_key3","_len4","_key4","createLogger$1","initial","accum","sources","isPlain","computedStyle","el","getComputedStyle","computedStyleValue","getPropertyValue","isNonBlankString","throwIfWhitespace","classRegExp","className","isReal","document","isEl","isInFrame","parent","createQuerier","selector","querySelector","properties","createElement","propName","setAttribute","attrName","appendContent","innerText","prependTo","firstChild","insertBefore","appendChild","hasClass","element","classToCheck","classList","addClass","classToAdd","removeClass","classToRemove","toggleClass","classToToggle","predicate","setAttributes","removeAttribute","getAttributes","knownBooleans","attrVal","attribute","blockTextSelection","focus","onselectstart","unblockTextSelection","getBoundingClientRect","rect","findPosition","box","top","docEl","clientLeft","scrollLeft","pageXOffset","clientTop","scrollTop","pageYOffset","round","getPointerPosition","position","boxW","offsetWidth","boxH","offsetHeight","boxY","boxX","pageY","pageX","changedTouches","isTextNode","emptyEl","removeChild","normalizeContent","createTextNode","insertContent","isSingleLeftClick","button","buttons","videojs","$","$$","Dom","freeze","createEl","_windowLoaded","autoSetup","vids","audios","divs","mediaEls","mediaEl","autoSetupTimeout","player","wait","vjs","setWindowLoaded","removeEventListener","setTextContent","styleSheet","cssText","DomData","WeakMap","_initialGuid","_guid","newGUID","_cleanUpEvents","handlers","dispatcher","detachEvent","disabled","_handleMultipleEvents","fixEvent","returnTrue","returnFalse","isPropagationStopped","old","preventDefault","srcElement","relatedTarget","fromElement","toElement","returnValue","defaultPrevented","stopPropagation","cancelBubble","stopImmediatePropagation","isImmediatePropagationStopped","clientX","doc","clientY","which","charCode","keyCode","_supportsPassive","passiveEvents","guid","handlersCopy","passive","attachEvent","removeType","elemData","ownerDocument","bubbles","targetData","one","func","any","EVENT_MAP","Events","UPDATE_REFRESH_INTERVAL","uid","bound","performance","throttled","immediate","cancel","clearTimeout","debounced","_later","EventTarget","allowedEvents_","ael","dispatchEvent","queueTrigger","Map","oldTimeout","isEvented","eventBusEl_","every","addEventedCallback","eventedCallbacks","isValidEventType","validateTarget","validateEventType","validateListener","normalizeListenArgs","isTargetingSelf","listen","EventedMixin","_normalizeListenArgs","removeListenerOnDispose","removeRemoverOnTargetDispose","_normalizeListenArgs2","wrapper","largs","_normalizeListenArgs3","_len5","_key5","targetOrType","typeOrListener","evented","_options","eventBusKey","StatefulMixin","state","setState","stateUpdates","changes","to","stateful","defaultState","handleStateChanged","toTitleCase","titleCaseEquals","str1","str2","mergeOptions","Component","ready","play","player_","parentComponent_","options_","id_","el_","children_","childIndex_","childNameIndex_","setTimeoutIds_","Set","setIntervalIds_","rafIds_","clearingTimersOnDispose_","initChildren","reportTouchActivity","enableTouchActivity","localize","languages","primaryCode","primaryLang","localizedString","contentEl","contentEl_","getChildById","getChild","addChild","componentName","componentClassName","componentClass","ComponentClass","getComponent","childFound","compEl","workingChildren","parentOptions","handleAdd","playerOptions","newChild","Tech","some","wchild","isTech","buildCSSClass","sync","isReady_","readyQueue_","triggerReady","readyQueue","show","hide","lockShowing","unlockShowing","skipListeners","dimension","dimensions","widthOrHeight","pxIndex","currentDimension","computedWidthOrHeight","rule","currentDimensions","currentWidth","currentHeight","blur","handleKeyDown","handleKeyPress","emitTapEvents","couldBeTap","touchStart","firstTouch","tapMovementThreshold","touchTimeThreshold","touches","xdiff","ydiff","touchDistance","sqrt","noTap","touchTime","reportUserActivity","touchHolding","report","clearInterval","setInterval","touchEnd","timeoutId","clearTimersOnDispose_","interval","intervalId","requestAnimationFrame","supportsRaf_","cancelAnimationFrame","_this4","idName","cancelName","registerComponent","ComponentToRegister","isComp","isPrototypeOf","components_","Player","players","playerNames","pname","_setPrototypeOf","isNativeReflectConstruct","Reflect","construct","sham","Proxy","_construct","Parent","Class","USER_AGENT","webkitVersionMap","appleWebkitVersion","IS_IPAD","IS_IPHONE","IS_IPOD","IS_IOS","IOS_VERSION","IS_ANDROID","ANDROID_VERSION","major","minor","IS_NATIVE_ANDROID","IS_FIREFOX","IS_EDGE","IS_CHROME","CHROME_VERSION","IE_VERSION","IS_SAFARI","IS_ANY_SAFARI","IS_WINDOWS","TOUCH_ENABLED","maxTouchPoints","DocumentTouch","browser","rangeCheck","fnName","maxIndex","getRange","valueIndex","ranges","rangeIndex","createTimeRangesObj","createTimeRanges","bufferedPercent","buffered","bufferedDuration","browserApi","FullscreenApi","prefixed","apiMap","specApi","MediaError","defaultMessages","errorTypes","1","2","3","4","5","errNum","isPromise","silencePromise","trackToJson_","cues","cue","endTime","textTracksToJson","tech","trackEls","trackObjs","trackEl","json","src","textTracks","jsonToTextTracks","addedTrack","addRemoteTextTrack","addCue","textTrackConverter","MODAL_CLASS_NAME","_Component","ModalDialog","opened_","hasBeenOpened_","hasBeenFilled_","closeable","uncloseable","role","descEl_","description","tabIndex","label","previouslyActiveEl_","fillAlways","wasPlaying_","paused","pauseOnOpen","pause","hadControls_","controls","conditionalFocus_","opened","close","conditionalBlur_","temporary","closeable_","temp","controlText","fillWith","parentEl","nextSiblingEl","nextSibling","closeButton","content_","activeEl","activeElement","playerEl","isEventKey","focusIndex","focusableEls","focusableEls_","shiftKey","allChildren","querySelectorAll","HTMLAnchorElement","HTMLAreaElement","hasAttribute","HTMLInputElement","HTMLSelectElement","HTMLTextAreaElement","HTMLButtonElement","HTMLIFrameElement","HTMLObjectElement","HTMLEmbedElement","TrackList","_EventTarget","tracks_","addTrack","removeTrack","rtrack","getTrackById","change","addtrack","removetrack","disableOthers","enabled","AudioTrackList","_TrackList","changing_","enabledChange_","disableOthers$1","selected","VideoTrackList","selectedChange_","TextTrackList","queueChange_","triggerSelectedlanguagechange","triggerSelectedlanguagechange_","nonLanguageTextTrackKind","kind","selectedlanguagechange_","HtmlTrackElementList","trackElements","trackElements_","addTrackElement_","trackElement","getTrackElementByTrack_","trackElement_","removeTrackElement_","TextTrackCueList","setCues_","length_","oldLength","cues_","defineProp","getCueById","VideoTrackKind","alternative","captions","main","subtitles","commentary","AudioTrackKind","TextTrackKind","descriptions","chapters","TextTrackMode","hidden","showing","Track","trackProps","_loop","div","addToBody","innerHTML","details","getFileExtension","splitPathRe","pathParts","winLoc","urlInfo","srcProtocol","crossOrigin","parseUrl","getAbsoluteURL","isCrossOrigin","srcContent","StringDecoder","oncue","onparsingerror","onflush","groupCollapsed","groupEnd","cors","responseBody","loaded_","tech_","_Track","TextTrack","srclang","default_","activeCues_","activeCues","changed","timeupdateHandler","newMode","ct","currentTime","active","originalCue","originalCue_","removeCue","_removeCue","cuechange","AudioTrack","newEnabled","VideoTrack","newSelected","NONE","LOADING","LOADED","ERROR","HTMLTrackElement","NORMAL","audio","ListClass","TrackClass","capitalName","getterName","privateName","REMOTE","remoteText","remoteTextEl","ALL","createTrackHelper","names","hasStarted_","featuresProgressEvents","manualProgressOn","featuresTimeupdateEvents","manualTimeUpdatesOn","nativeCaptions","nativeTextTracks","featuresNativeTextTracks","emulateTextTracks","autoRemoteTextTracks_","initTrackListeners","nativeControlsForTouch","triggerSourceset","onDurationChange","manualProgress","trackProgress","manualProgressOff","stopTrackingProgress","progressInterval","numBufferedPercent","bufferedPercent_","duration_","manualTimeUpdates","trackCurrentTime","stopTrackingCurrentTime","manualTimeUpdatesOff","currentTimeInterval","manuallyTriggered","clearTracks","removeRemoteTextTrack","cleanupAutoTextTracks","error_","played","setCurrentTime","trackListChanges","addWebVttScript_","_this5","script","_this6","remoteTracks","remoteTextTracks","handleAddTrack","handleRemoveTrack","updateDisplay","textTracksChanges","addTextTrack","createRemoteTextTrack","manualCleanup","_this7","htmlTrackElement","remoteTextTrackEls","getVideoPlaybackQuality","requestPictureInPicture","PromiseClass","setPoster","playsinline","setPlaysinline","overrideNativeAudioTracks","overrideNativeVideoTracks","canPlayType","canPlaySource","srcObj","registerTech","techs_","defaultTechOrder_","getTech","featuresVolumeControl","featuresMuteControl","featuresFullscreenResize","featuresPlaybackRate","featuresSourceset","withSourceHandlers","_Tech","registerSourceHandler","handler","sourceHandlers","can","selectSourceHandler","canHandleSource","sh","deferrable","originalFn","sourceHandler_","setSource","nativeSourceHandler","disposeSourceHandler","currentSource_","handleSource","middlewares","middlewareInstances","TERMINATOR","use","middleware","next","setSourceHelper","setTech","mw","reduceRight","middlewareIterator","mediate","callMethod","middlewareValue","terminated","executeRight","allowedGetters","seekable","volume","allowedSetters","setVolume","allowedMediators","mws","clearCacheForPlayer","getOrCreateFactory","mwFactory","_mws$i","mwf","mwi","lastRun","_middleware","mwrest","_src","MimetypesKind","opus","ogv","mp4","mov","m4v","mkv","m4a","mp3","aac","oga","m3u8","jpg","jpeg","gif","png","svg","webp","getMimetype","ext","mimetype","findMimetype","cache_","matchingSources","filterSource","newsrc","srcobj","fixSource","MediaLoader","techOrder","techName","isSupported","loadTech_","ClickableComponent","tabIndex_","createControlTextEl","controlTextEl_","controlText_","localizedText","nonIconControl","enabled_","handleClick","handleMouseOver","handleMouseOut","PosterImage","_ClickableComponent","poster","setSrc","backgroundImage","darkGray","lightGray","fontMap","monospace","sansSerif","serif","monospaceSansSerif","monospaceSerif","proportionalSansSerif","proportionalSerif","casual","smallcaps","constructColor","color","opacity","hex","tryUpdateStyle","TextTrackDisplay","updateDisplayHandler","toggleDisplay","preselectTrack","firstDesc","firstCaptions","preferredTrack","modes","trackList","userPref","selectedLanguage","clearDisplay","processCues","allowMultipleShowingTracks","showingTracks","updateForTrack","descriptionsTrack","captionsSubtitlesTrack","_track","updateDisplayState","overrides","textTrackSettings","getValues","cueDiv","displayState","textOpacity","backgroundColor","backgroundOpacity","windowColor","windowOpacity","edgeStyle","textShadow","fontPercent","fontSize","bottom","fontFamily","fontVariant","_i2","_track2","_j","cueEl","LoadingSpinner","isAudio","playerType","dir","Button","BigPlayButton","_Button","mouseused_","handleMouseDown","playPromise","playToggle","playFocus","CloseButton","PlayToggle","replay","handlePlay","handlePause","handleEnded","handleSeeked","defaultImplementation","guide","gm","gh","setFormatTime","customImplementation","resetFormatTime","formatTime","TimeDisplay","throttledUpdateContent","updateContent","labelText_","updateTextNode_","textNode_","formattedTime_","formatTime_","updateFormattedTime_","formattedTime","CurrentTimeDisplay","_TimeDisplay","scrubbing","getCache","DurationDisplay","TimeDivider","RemainingTimeDisplay","remainingTimeDisplay","remainingTime","LiveDisplay","updateShowing","SeekToLive","updateLiveEdgeStatus","liveTracker","textEl_","atLiveEdge","seekToLiveEdge","Slider","bar","barName","vertical","playerEvent","handleMouseMove","handleMouseUp","progress","getPercent","percentage","toFixed","sizeKey","calculateDistance","stepBack","stepForward","bool","vertical_","LoadProgressBar","partEls_","isLive","seekableEnd","bufferedEnd","controlTextPercentage","percentify","rounded","percent","TimeTooltip","seekBarRect","seekBarPoint","tooltipRect","playerRect","seekBarPointPx","spaceLeftOfPoint","spaceRightOfPoint","pullTooltipBy","write","updateTime","rafId_","liveWindow","secondsBehind","PlayProgressBar","timeTooltip","MouseTimeDisplay","STEP_SECONDS","PAGE_KEY_MULTIPLIER","UPDATE_REFRESH_INTERVAL$1","_Slider","SeekBar","setEventHandlers_","updateInterval","enableInterval_","disableInterval_","toggleVisibility_","update_","liveCurrentTime","offsetParent","getCurrentTime_","seekableStart","videoWasPlaying","newTime","distance","mouseTimeDisplay","handleAction","gotoFraction","ProgressControl","throttledHandleMouseSeek","handleMouseSeek","seekBar","seekBarEl","PictureInPictureToggle","handlePictureInPictureChange","pictureInPictureEnabled","isInPictureInPicture","exitPictureInPicture","FullscreenToggle","handleFullscreenChange","fsApi_","fullscreenEnabled","isFullscreen","exitFullscreen","requestFullscreen","checkVolumeSupport","VolumeLevel","VolumeBar","updateLastVolume_","updateARIAAttributes","checkMuted","muted","ariaValue","volumeAsPercentage_","volumeBeforeDrag","lastVolume_","VolumeControl","volumeBar","throttledHandleMouseMove","orientationClass","checkMuteSupport","MuteToggle","vol","lastVolume","volumeToSet","updateIcon_","updateControlText_","soundOff","VolumePanel","inline","volumeControl","volumePanelState_","muteToggle","handleVolumeControlKeyUp","sliderActive_","sliderInactive_","Menu","menuButton_","menuButton","focusedChild_","boundHandleBlur_","handleBlur","boundHandleTapClick_","handleTapClick","addEventListenerForItem","removeEventListenerForItem","addItem","childComponent","contentElType","append","btn","buttonPressed_","unpressButton","childComponents","foundComponent","stepChild","haveTitle","MenuButton","buttonClass","menu","handleMenuKeyUp","handleMouseLeave","handleSubmenuKeyDown","createMenu","hideThreshold_","titleEl","titleComponent","createItems","buildWrapperCSSClass","menuButtonClass","pressButton","handleSubmenuKeyPress","TrackButton","_MenuButton","updateHandler","MenuKeys","MenuItem","selectable","isSelected_","multiSelectable","_selected","_MenuItem","TextTrackMenuItem","kinds","changeHandler","handleTracksChange","selectedLanguageChangeHandler","handleSelectedLanguageChange","onchange","Event","createEvent","initEvent","referenceTrack","shouldBeSelected","OffTextTrackMenuItem","_TextTrackMenuItem","allHidden","TextTrackButton","_TrackButton","TrackMenuItem","label_","kinds_","kind_","ChaptersTrackMenuItem","ChaptersButton","_TextTrackButton","track_","setTrack","findChaptersTrack","updateHandler_","remoteTextTrackEl","_remoteTextTrackEl","getMenuCaption","mi","DescriptionsButton","SubtitlesButton","CaptionSettingsMenuItem","CaptionsButton","SubsCapsMenuItem","SubsCapsButton","language_","AudioTrackMenuItem","audioTracks","AudioTrackButton","PlaybackRateMenuItem","rate","playbackRate","PlaybackRateMenuButton","updateVisibility","updateLabel","labelEl_","rates","playbackRates","currentRate","newRate","playbackRateSupported","Spacer","CustomControlSpacer","_Spacer","ControlBar","ErrorDisplay","_ModalDialog","LOCAL_STORAGE_KEY","COLOR_BLACK","COLOR_BLUE","COLOR_CYAN","COLOR_GREEN","COLOR_MAGENTA","COLOR_RED","COLOR_WHITE","COLOR_YELLOW","OPACITY_OPAQUE","OPACITY_SEMI","OPACITY_TRANS","selectConfigs","parseOptionValue","getSelectedOptionValue","selectedIndex","setSelectedOption","TextTrackSettings","endDialog","setDefaults","persistTextTrackSettings","saveSettings","restoreSettings","createElSelect_","legendId","selectLabelledbyIds","optionId","createElFgColor_","createElBgColor_","createElWinColor_","createElColors_","createElFont_","createElControls_","defaultsDescription","setValues","localStorage","getItem","setItem","removeItem","ttDisplay","controlBar","subsCapsBtn","subsCapsButton","ccBtn","captionsButton","ResizeManager","RESIZE_OBSERVER_AVAILABLE","ResizeObserver","loadListener_","resizeObserver_","debouncedHandler_","resizeHandler","observe","contentWindow","unloadListener_","unobserve","disconnect","resizeObserver","median","mid","sortedList","LiveTracker","reset_","handleDurationchange","handleVisibilityChange","stopTracking","startTracking","isBehind_","timeupdateSeen_","liveEdgeWindow","seekableIncrement_","trackLive_","pastSeekEnd_","newSeekEnd","lastSeekEnd_","seekableIncrementList_","pastSeekEnd","behindLiveEdge","behindLiveEdge_","isTracking","hasStarted","trackingInterval_","handleTimeupdate","seekableEnds","seekableStarts","sourcesetLoad","srcUrls","innerHTMLDescriptorPolyfill","cloneNode","dummy","docFrag","createDocumentFragment","Element","getDescriptor","priority","HTMLMediaElement","firstSourceWatch","resetSourceWatch_","innerDescriptor","appendWrapper","appendFn","retval","srcDescriptorPolyfill","setupSourceset","resetSourceset_","srcDescriptor","oldSetAttribute","oldLoad","currentSrc","Html5","crossoriginTracks","initNetworkState_","handleLateInit_","enableSourceset","setupSourcesetHandling_","hasChildNodes","nodes","nodesLength","removeNodes","proxyNativeTracks_","restoreMetadataTracksInIOSNativePlayer_","setControls","proxyWebkitFullscreen_","disposeMediaElement","metadataTracksPreFullscreenState","takeMetadataTrackSnapshot","storedMode","restoreTrackMode","storedTrack","overrideNative_","override","lowerCaseType","eventName","elTracks","proxyNativeTracksForType_","techTracks","currentTarget","removeOldTracks","removeTracks","found","playerElIngest","movingMediaElementInDOM","clone","tagAttributes","techId","playerId","preload","settingsAttrs","networkState","loadstartFired","setLoadstartFired","triggerLoadstart","eventsToTrigger","checkProgress","endFn","beginFn","webkitPresentationMode","supportsFullScreen","webkitEnterFullScreen","enterFullScreen","HAVE_METADATA","exitFullScreen","webkitExitFullScreen","resetMediaElement","videoPlaybackQuality","webkitDroppedFrameCount","webkitDecodedFrameCount","droppedVideoFrames","totalVideoFrames","creationTime","timing","navigationStart","TEST_VID","canControlVolume","canMuteVolume","canControlPlaybackRate","canOverrideAttributes","supportsNativeTextTracks","supportsNativeVideoTracks","videoTracks","supportsNativeAudioTracks","featuresNativeVideoTracks","featuresNativeAudioTracks","mpegurlRE","patchCanPlayType","unpatchCanPlayType","TECH_EVENTS_RETRIGGER","TECH_EVENTS_QUEUE","canplay","canplaythrough","playing","seeked","BREAKPOINT_ORDER","BREAKPOINT_CLASSES","DEFAULT_BREAKPOINTS","tiny","xsmall","small","medium","large","xlarge","huge","getTagSettings","closest","boundDocumentFullscreenChange_","documentFullscreenChange_","boundFullWindowOnEscKey_","fullWindowOnEscKey","isPosterFromTech_","queuedCallbacks_","userActive_","languagesToLower","languages_","resetCache_","poster_","controls_","changingSrc_","playCallbacks_","playTerminatedQueue_","autoplay","plugins","scrubbing_","fluid_","updateStyleEl_","playerOptionsCopy","middleware_","flexNotSupported_","majorVersion","userActive","listenForUserActivity_","handleStageClick_","breakpoints","responsive","fullscreenchange","styleEl_","playerElIngest_","divEmbed","tabindex","VIDEOJS_NO_DYNAMIC_STYLE","defaultsStyleEl","head","fill_","fluid","aspectRatio","links","linkEl","_dimension","privDimension","parsedVal","ratio","aspectRatio_","idClass","videoWidth","videoHeight","ratioParts","ratioMultiplier","width_","height_","_width","_height","techEl","unloadTech_","titleTechName","camelTechName","techName_","techOptions","loop","techCanOverridePoster","TechClass","handleTechReady_","textTracksJson_","eventObj","seeking","handleTechLoadStart_","handleTechSourceset_","handleTechWaiting_","handleTechEnded_","handleTechSeeking_","handleTechPlay_","handleTechFirstPlay_","handleTechPause_","handleTechDurationChange_","handleTechFullscreenChange_","handleTechEnterPictureInPicture_","handleTechLeavePictureInPicture_","handleTechError_","handleTechPosterChange_","handleTechTextData_","handleTechRateChange_","usingNativeControls","techGet_","addTechControlsListeners_","safety","removeTechControlsListeners_","handleTechClick_","handleTechDoubleClick_","handleTechTouchStart_","handleTechTouchMove_","handleTechTouchEnd_","handleTechTap_","techCall_","manualAutoplay_","previouslyMuted","restoreMuted","mutedPromise","updateSourceCaches_","sourceElSources","sourceEls","matchingSourceEls","sourceObj","updateSourceCaches","playerSrc","currentSource","eventSrc","lastSource_","techSrc","techGet","lastPlaybackRate","queued","timeWhenWaiting","timeUpdateListener","handleTechCanPlay_","handleTechCanPlayThrough_","handleTechPlaying_","handleTechSeeked_","starttime","inAllowedEls","userActions","doubleClick","userWasActive","toggleFullscreenClass_","isFs","fullscreenElement","matches","fullscreen","msMatchesSelector","togglePictureInPictureClass_","inactivityTimeout","defaultPlaybackRate","_this8","play_","_this9","isSrcReady","waitToPlay_","runPlayTerminatedQueue_","runPlayCallbacks_","queue","isScrubbing","liveui","percentAsDecimal","_muted","defaultMuted","_defaultMuted","isFS","isFullscreen_","fullscreenOptions","fsOptions","enterFullWindow","exitFullWindow","isFullWindow","docOrigOverflow","overflow","isPiP","isInPictureInPicture_","hotkeys","excludeElement","isContentEditable","allowedInputTypes","excludedTags","handleHotkeys","_hotkeys$fullscreenKe","fullscreenKey","keydownEvent","_hotkeys$muteKey","muteKey","_hotkeys$playPauseKey","playPauseKey","FSToggle","selectSource","foundSourceAndTech","_this10","techs","findFirstPassingTechSourcePair","outerArray","innerArray","tester","outerChoice","innerChoice","flip","finder","sourceOrder","_this11","middlewareSource","src_","notSupportedMessage","_this12","sourceTech","_this13","doReset_","resetControlBarUI_","resetProgressBar_","resetPlaybackRate_","resetVolumeBar_","_this$controlBar","durationDisplay","currentSources","currentType","techAutoplay","newPoster","usingNativeControls_","suppressNotSupportedError","triggerSuppressedError","errorDisplay","userActivity_","mouseInProgress","lastMoveX","lastMoveY","handleActivity","screenX","screenY","isAudio_","_obj","createModal","_this14","modal","updateCurrentBreakpoint_","currentBreakpoint","candidateBreakpoint","maxWidth","breakpoints_","breakpoint_","removeCurrentBreakpoint_","currentBreakpointClass","_breakpoints","responsive_","loadMedia","_this15","_this$cache_$media","artwork","tt","getMedia","baseOptions","tagOptions","dataSetup","_safeParseTuple","childName","html5","flash","userLanguage","navigationUI","BASE_PLUGIN_NAME","PLUGIN_CACHE_KEY","pluginStorage","pluginExists","getPlugin","markPluginAsActive","triggerSetupEvent","before","createBasicPlugin","plugin","basicPluginWrapper","createPluginFactory","PluginSubClass","getEventHash","Plugin","isBasic","registerPlugin","deregisterPlugin","getPlugins","getPluginVersion","usingPlugin","hasPlugin","_inherits","subClassMethods","normalizeId","videojs$1","getPlayer","defaultView","hooks","hookFunction","PlayerComponent","hooks_","hook","hookOnce","removeHook","getPlayers","nId","_tag","_player","getAllPlayers","comp","writeable","addLanguage","_mergeOptions","createTimeRange","dom","baseURL","relativeURL","buildAbsoluteURL","resolveManifestRedirect","handleManifestRedirect","responseURL","get$1","receiver","slicedToArray","sliceIterator","_arr","_n","_d","_e","mergeOptions$1","EventTarget$1","log$1","forEachMediaGroup","master","mediaType","groupKey","labelKey","mediaProperties","updateSegments","resolveSegmentUris","baseUri","resolvedUri","updateMaster","mergedPlaylist","setupMediaPlaylists","resolveMediaGroupUris","refreshDelay","lastSegment","PlaylistLoader","srcUrl","hls","_options$withCredenti","_options$handleManife","handleManifestRedirects","hls_","hlsOptions","customTagParsers","customTagMappers","playlistRequestError","haveMetadata","startingState","customParser","media_","mediaUpdateTimeout","stopRequest","finalRenditionTimeout","oldRequest","onreadystatechange","isFinalRendition","mediaChange","started","backwardDuration","endSequence","forwardDuration","intervalDuration","backward","forward","sumDurations","startIndex","endIndex","durations","safeLiveIndex","distanceFromEnd","safeDistance","playlistEnd","useSafeLiveEnd","isWholeNumber","roundSignificantDigit","increment","numDecimalDigits","ceilLeastSignificantDigit","floorLeastSignificantDigit","getMediaInfoForTime","numSegments","mediaIndex","isBlacklisted","excludeUntil","isIncompatible","isEnabled","blacklisted","isDisabled","isAes","isFmp4","estimateSegmentRequestTime","segmentDuration","bandwidth","bytesReceived","isLowestEnabledRendition","currentBandwidth","MAX_VALUE","Playlist","videojsXHR","mergeOptions$1$1","xhrFactory","XhrFunction","beforeRequest","Hls","newOptions","reqResponse","responseTime","roundTripTime","requestTime","timedout","aborted","originalAbort","byterangeStr","byterangeStart","byterangeEnd","segmentXhrHeaders","Range","textRange","range","formatHexString","formatAsciiString","createTransferableMessage","transferable","isView","initSegmentId","initSegment","segmentKeyId","hexDump","ascii","tagDump","textRanges","utils","SEGMENT_END_FUDGE_PERCENT","playerTimeToProgramTime","playerTime","transmuxerPrependedSeconds","videoTimingInfo","transmuxedStart","transmuxedPresentationStart","startOfSegment","offsetFromSegmentStart","originalSegmentVideoDuration","transmuxedPresentationEnd","findSegmentForProgramTime","programTime","nextSegmentStart","lastSegmentStart","lastSegmentDuration","lastSegmentEnd","estimatedStart","findSegmentForPlayerTime","segmentEnd","getOffsetFromTimestamp","comparisonTimeStamp","segmentDateTime","programDateTime","segmentTimeEpoch","programTimeEpoch","verifyProgramDateTimeTags","getProgramTime","_ref$time","matchedSegment","seekTime","programTimeObject","mediaSeconds","seekToProgramTime","_ref2$retryCount","seekTo","_ref2$pauseAfterSeek","pauseAfterSeek","mediaOffset","seekToTime","seekedCallback","TIME_FUDGE_FACTOR","SAFE_TIME_DELTA","filterRanges","timeRanges","findRange","findNextRange","findGaps","printableRange","strArr","timeUntilRebuffer","timeRangesToArray","timeRangesList","createTextTracksIfNecessary","sourceBuffer","mediaSource","inbandTextTracks_","captionStreams","metadataTrack_","inBandMetadataTrackDispatchType","dispatchType","removeCuesFromTrack","deprecateOldCue","frame","privateData","durationOfVideo","dur","sourceHandler","captionArray","metadataArray","Cue","WebKitDataCue","caption","timestampOffset","videoDuration","mediaSource_","cueTime","frames","cuesArray","cuesGroupedByStartTime","timeSlot","sortedStartTimes","cueGroup","nextTime","win","TARGET","SCRIPT_TYPE","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","URL","webkitURL","msURL","Worker","shimWorker","forceFallback","objURL","createSourceObject","wrapTerminate","selfShim","postMessage","onmessage","isThisThread","testWorker","testArray","revokeObjectURL","terminate","createObjectURL","blob","getBlob","worker","term","TransmuxWorker","document$$1","dinf","esds","ftyp","mdat","mfhd","minf","moof","moov","mvex","mvhd","mdia","sdtp","stbl","trex","trun","MAJOR_BRAND","MINOR_VERSION","AVC1_BRAND","VIDEO_HDLR","AUDIO_HDLR","HDLR_TYPES","VMHD","SMHD","DREF","STCO","STSC","STSZ","STTS","UINT32_MAX","avc1","avcC","btrt","dref","mp4a","pasp","smhd","stco","stsc","stsz","stts","styp","vmhd","setUint32","audioobjecttype","samplingfrequencyindex","channelcount","samplerate","sequenceNumber","trackFragments","boxes","flags","samples","dependsOn","isDependedOn","hasRedundancy","videoSample","audioSample","avc1Box","sps","pps","sequenceParameterSets","pictureParameterSets","profileIdc","profileCompatibility","levelIdc","sarRatio","hSpacing","vSpacing","samplesize","trackFragmentHeader","trackFragmentDecodeTime","trackFragmentRun","sampleDependencyTable","dataOffset","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","baseMediaDecodeTime","audioTrun","videoTrun","trunHeader","durationPresent","sizePresent","flagsPresent","compositionTimeOffset","sample","isLeading","paddingValue","isNonSyncSample","degradationPriority","mp4Generator","fileType","movie","groupNalsIntoFrames","nalUnits","currentNal","currentFrame","nalCount","keyFrame","groupFramesIntoGops","currentGop","gops","extendFirstKeyFrame","createDefaultSample","sampleForFrame","generateSampleTable","baseDataOffset","concatenateNalData","nalsByteLength","numberOfNals","totalByteLength","generateSampleTableForFrame","concatenateNalDataForFrame","frameUtils","highPrefix","lowPrefix","zeroFill","count","makeTable","metaTable","coneOfSilence","96000","88200","64000","48000","44100","32000","24000","16000","12000","11025","8000","silence","clock","sumFrameByteLengths","currentObj","prefixWithSilence","audioAppendStartTs","videoBaseMediaDecodeTime","baseMediaDecodeTimeTs","silentFrame","firstFrame","frameDuration","audioGapDuration","audioFillFrameCount","audioFillDuration","trimAdtsFramesByEarliestDts","adtsFrames","earliestAllowedDts","minSegmentDts","minSegmentPts","generateSampleTable$1","concatenateFrameData","audioFrameUtils","ONE_SECOND_IN_TS$1","collectDtsInfo","timelineStartInfo","maxSegmentPts","maxSegmentDts","clearDtsInfo","calculateTrackBaseMediaDecodeTime","trackDecodeInfo","RBSP_TRAILING_BITS","payloadSize","discardEmulationPreventionBytes","newLength","newData","emulationPreventionBytesPositions","sourceIndex","captionPacketParser","_char","captionStream","streamTypes","_MetadataStream","timestampRolloverStream","percentEncode","parseUtf8","parseIso88591","unescape","parseSyncSafeInteger","tagParsers","TXXX","WXXX","PRIV","owner","tagSize","bufferSize","frameStart","frameSize","frameHeader","dataAlignmentIndicator","timeStamp","_TransportPacketStream","_TransportParseStream","_ElementaryStream","metadataStream","TimestampRolloverStream$1","MP2T_PACKET_LENGTH","SYNC_BYTE","bytesInBuffer","everything","parsePsi","packetsWaitingForPmt","psi","payloadUnitStartIndicator","pat","section_number","last_section_number","pmt","streamType","processPes_","STREAM_TYPES","h264","adts","timedMetadata","parsePes","packetLength","stream$$1","forceFlush","packetData","packetFlushable","flushStreams_","m2ts","PAT_PID","TransportPacketStream","TransportParseStream","ElementaryStream","MetadataStream","_AdtsStream","m2ts_1","ONE_SECOND_IN_TS$2","ADTS_SAMPLING_FREQUENCIES","handlePartialSegments","frameNum","frameLength","protectionSkipBytes","frameEnd","oldBuffer","sampleCount","adtsFrameDuration","ExpGolomb","workingData","workingBytesAvailable","workingWord","workingBitsAvailable","bitsAvailable","loadWord","workingBytes","availableBytes","skipBits","skipBytes","readBits","bits","valu","skipLeadingZeros","leadingZeroCount","skipUnsignedExpGolomb","skipExpGolomb","readUnsignedExpGolomb","clz","readExpGolomb","readBoolean","readUnsignedByte","_H264Stream","_NalByteStream","PROFILES_WITH_OPTIONAL_SPS_DATA","expGolomb","syncPoint","swapBuffer","100","110","122","244","44","83","86","118","128","138","139","134","currentPts","currentDts","readSequenceParameterSet","skipScalingList","nalByteStream","expGolombDecoder","deltaScale","lastScale","nextScale","chromaFormatIdc","picOrderCntType","numRefFramesInPicOrderCntCycle","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","scalingListCount","aspectRatioIdc","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","sarScale","_AacStream","H264Stream","NalByteStream","ADTS_SAMPLING_FREQUENCIES$1","isLikelyAacData","parseSyncSafeInteger$1","percentEncode$1","parseIso88591$1","parseId3TagSize","byteIndex","returnSize","footerPresent","parseAdtsSize","lowThree","middle","highTwo","parseSampleRate","parseAacTimestamp","setTimestamp","bytesLeft","tempLength","_VideoSegmentStream","_AudioSegmentStream","_Transmuxer","_CoalesceStream","isLikelyAacData$1","ONE_SECOND_IN_TS$3","AUDIO_PROPERTIES","VIDEO_PROPERTIES","arrayEquals","generateVideoSegmentTimingInfo","startDts","endDts","prependedContentDuration","ptsOffsetFromDts","decodeDuration","presentationDuration","setEarliestDts","earliestDts","setVideoBaseMediaDecodeTime","setAudioAppendStart","gopsToAlignWith","minPTS","gopCache_","nalUnit","gopForFusion","firstGop","lastGop","resetStream_","getGopForFusion_","alignedGops","alignGopsAtEnd","alignGopsAtEnd_","alignGopsAtStart_","gop","dtsDistance","nearestGopObj","currentGopObj","halfSecond","allowableOverlap","nearestDistance","alignIndex","gopIndex","align","alignEndIndex","matchFound","trimIndex","total","alignGopsWith","newGopsToAlignWith","numberOfTracks","remux","remuxTracks","pendingTracks","videoTrack","pendingBoxes","pendingCaptions","pendingMetadata","pendingBytes","emittedTracks","audioTrack","id3","setRemux","hasFlushed","transmuxPipeline_","setupAacPipeline","pipeline","aacStream","audioTimestampRolloverStream","timedMetadataTimestampRolloverStream","adtsStream","coalesceStream","headOfPipeline","audioSegmentStream","hasAudio","hasVideo","setupTsPipeline","packetStream","elementaryStream","h264Stream","videoSegmentStream","id3Frame","setBaseMediaDecodeTime","isAac","resetCaptions","transmuxer","Transmuxer","VideoSegmentStream","AudioSegmentStream","wireTransmuxerEvents","transmuxer$$1","initArray","typedArray","action","gopInfo","videoSegmentTimingInfo","MessageHandlers","appendStart","TransmuxerWorker","messageHandlers","transmuxerWorker","defaultCodecs","videoCodec","videoObjectTypeIndicator","audioProfile","translateLegacyCodecs","codecs","orig","profile","avcLevel","profileHex","avcLevelHex","parseCodecs","codecCount","parsed","mapLegacyAvcCodecs","codecString","makeMimeTypeString","container","getContainerType","getCodecs","mediaAttributes","CODECS","audioProfileFromDefault","audioGroupId","AUDIO","audioGroup","audioType","mimeTypesForPlaylist","containerType","codecInfo","isMuxed","isMaat","groupId","codecStrings","justAudio","justVideo","bothVideoAudio","parseContentType","parameters","parameter","pair","isAudioCodec","isVideoCodec","gopsSafeToAlignWith","mapping","currentTimePts","updateGopBuffer","removeGopBuffer","updatedBuffer","videoBuffer","audioBuffer","audioDisabled","arity","extents","videoBuffered","audioBuffered","makeWrappedSourceBuffer","mimeType","addSourceBuffer","updating","realBuffer_","VirtualSourceBuffer","_videojs$EventTarget","timestampOffset_","pendingBuffers_","bufferUpdating_","codecs_","audioCodec_","videoCodec_","audioDisabled_","appendAudioInitSegment_","gopBuffer_","timeMapping_","safeAppend_","transmuxer_","data_","done_","appendGopInfo_","videoSegmentTimingInfo_","videoBuffer_","audioBuffer_","appendWindowStart","processPendingSegments_","timingInfo","timingInfoInSeconds","presentation","codecProperty","nativeMediaSource_","shouldTrigger","sortedSegments","segmentObj","createRealSourceBuffers_","triggerUpdateend","concatAndAppendSegments_","destinationBuffer","tempBuffer","appendBuffer","HtmlMediaSource","MediaSource","activeSourceBuffers_","sourceBuffers","updateActiveSourceBuffers_","disableCombined","disableAudioOnly","onPlayerMediachange_","onHlsReset_","onHlsSegmentTimeMapping_","url_","sourcebuffer","parsedType","urlCount","mediaSources","msObjectURL","swfId","isTypeSupported","supportsNativeMediaSources","URL$1","objectUrlPrefix","EventTarget$1$1","mergeOptions$2","updateMaster$1","oldMaster","newMaster","noChanges","minimumUpdatePeriod","playlistUpdate","group","_playlistUpdate","generateSidxKey","sidxInfo","sidxByteRangeEnd","equivalentSidx","neitherMap","equivalentMap","compareSidxEntry","oldSidxMapping","newSidxMapping","currentSidxInfo","sidx","savedSidxInfo","masterXml","clientOffset","manifestUri","videoSidx","mediaGroupSidx","requestSidx_","sidxRange","finishProcessingFn","sidxRequestOptions","DashPlaylistLoader","srcUrlOrPlaylist","masterPlaylistLoader","refreshXml_","refreshMedia_","loadedPlaylists_","sidxMapping_","setupChildLoader","masterPlaylistLoader_","childPlaylist_","minimumUpdatePeriodTimeout_","mediaRequest_","doneFn","parseSidx","sidxMapping","sidxKey","sidxRequestFinished_","masterXml_","clientOffset_","phonyUri","_phonyUri","haveMaster_","masterLoaded_","syncClientServerClock_","onClientServerClockSync_","utcTiming","parseMasterXml","hasPendingRequest","updatedMaster","mediaUri","logger","SourceUpdater","sourceBufferEmitter","callbacks_","pendingCallback_","processedAppend_","mimeType_","logger_","createSourceBuffer_","sourceBuffer_","start_","started_","onUpdateendCallback_","pendingCallback","removing","runCallback_","queueCallback_","videoSegmentTimingInfoCallback","disposeFn","Config","GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","INITIAL_BANDWIDTH","BANDWIDTH_VARIANCE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","REQUEST_ERRORS","FAILURE","TIMEOUT","ABORTED","abortAll","activeXhrs","getRequestStats","getProgressStats","progressEvent","stats","loaded","handleErrors","handleKeyResponse","errorObj","captionParser","isInitialized","timescales","handleSegmentResponse","encryptedBytes","fmp4Captions","decryptSegment","decrypter","decryptionHandler","keyBytes","waitForCompletion","didError","endOfAllRequests","handleProgress","progressFn","firstBytesReceivedAt","mediaSegmentRequest","xhrOptions","decryptionWorker","keyRequestOptions","keyRequestCallback","keyXhr","initSegmentOptions","initSegmentRequestCallback","initSegmentXhr","segmentRequestOptions","segmentRequestCallback","segmentXhr","stableSort","sortFn","newArray","cmp","leftBandwidth","rightBandwidth","leftWidth","rightWidth","playerBandwidth","playerWidth","playerHeight","limitRenditionByPlayerDimensions","sortedPlaylistReps","rep","enabledPlaylistReps","bandwidthPlaylistReps","highestRemainingBandwidthRep","bandwidthBestRep","_chosenRep","haveResolution","resolutionBestRepList","resolutionBestRep","resolutionPlusOneList","resolutionPlusOneSmallest","resolutionPlusOneRep","chosenRep","lastBandwidthSelector","systemBandwidth","minRebufferMaxBandwidthSelector","duration$$1","syncController","compatiblePlaylists","enabledPlaylists","bandwidthPlaylists","rebufferingEstimates","getSyncPoint","numRequests","requestTimeEstimate","rebufferingImpact","noRebufferingPlaylists","estimate","lowestBitrateCompatibleVariantSelector","playlistsWithVideo","createCaptionsTrackIfNotExists","inbandTextTracks","addCaptionData","CHECK_BUFFER_DELAY","detectEndOfStream","segmentIndex","appendedLastSegment","finite","illegalMediaSwitch","loaderType","startingMedia","newSegmentMedia","containsAudio","containsVideo","safeBackBufferTrimTime","seekable$$1","removeToTime","segmentInfoString","segmentInfo","_segmentInfo$segment","_segmentInfo$playlist","seq","_segmentInfo$playlist2","SegmentLoader","throughput","roundTrip","resetStats_","hasPlayed_","hasPlayed","currentTime_","seekable_","seeking_","loaderType_","startingMedia_","segmentMetadataTrack_","segmentMetadataTrack","goalBufferLength_","goalBufferLength","sourceType_","sourceType","state_","checkBufferTimeout_","currentTimeline_","pendingSegment_","sourceUpdater_","xhrOptions_","activeInitSegmentId_","initSegments_","cacheEncryptionKeys_","cacheEncryptionKeys","keyCache_","captionParser_","decrypter_","syncController_","syncPoint_","ended_","fetchAtBuffer_","newState","mediaBytesTransferred","mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaSecondsLoaded","abort_","monitorBuffer_","abortRequests","_error","set$$1","storedMap","storedKey","playlist_","setDateTimeMapping","couldBeginLoading_","init_","sourceBufferEmitter_","resetEverything","newPlaylist","oldPlaylist","syncInfo","oldId","mediaSequenceDiff","saveExpiredSegmentInfo","resyncLoader","_mimeType","resetLoader","clearAllCaptions","monitorBufferTick_","fillBuffer_","checkBuffer_","buffered_","isEndOfStream_","endOfStream","loadSegment_","lastBufferedEnd","bufferedTime","getSyncSegmentCandidate_","generateSegmentInfo_","mediaSourceInfo","_mediaSourceInfo","segmentIndexArray","isSyncRequest","measuredBandwidth","requestTimeRemaining","timeUntilRebuffer$$1","switchCandidate","timeSavedBySwitching","minimumTimeSaving","simpleSegment","abortRequestEarly_","trimBackBuffer_","createSimplifiedSegmentObj_","handleProgress_","segmentRequestFinished_","segmentKey","processSegmentResponse_","clearParsedCaptions","handleSegment_","probeSegmentInfo","illegalMediaSwitchError","blacklistDuration","segmentTimestampInfo","ptsStartTime","ptsTime","dtsStartTime","dtsTime","timelineMapping","mappingForTimeline","initId","handleVideoSegmentTimingInfo_","handleUpdateEnd_","isWalkingForward","recordThroughput_","addSegmentMetadataCue_","segmentProcessingTime","segmentProcessingThroughput","uint8ToUtf8","uintArray","VTT_LINE_TERMINATORS","_char2","_SegmentLoader","VTTSegmentLoader","subtitlesTrack_","combinedByteLength","combinedSegment","skipEmptySegments_","timestampOffsetForTimeline","checkTimestampOffset","loadHandler","errorHandler","requested","parseVTTCues_","updateTimeMapping_","timelines","decoder","decodeBytesToString","TextDecoder","timestampmap","MPEGTS","LOCAL","ontimestampmap","mapData","segmentData","mappingObj","diff","firstStart","lastStart","findAdCue","mediaTime","adStartTime","adEndTime","adOffset","adTotal","_segment$cueOutCont$s","_segment$cueOutCont$s2","tsprobe","syncPointStrategies","run","datetimeToDisplayTime","lastDistance","segmentTime","segmentStart","discontinuitySync","discontinuities","SyncController","inspectCache_","syncPoints","runStrategies_","selectSyncPoint_","strategy","bestSyncPoint","bestDistance","bestStrategy","newDistance","lastRemovedSegment","playlistTimestamp","probeMp4Segment_","probeTsSegment_","calculateSegmentTimeMapping_","saveDiscontinuitySyncInfo_","timeInfo","segmentStartTime","segmentEndTime","probedInfo","accuracy","mediaIndexDiff","Decrypter$1","AsyncStream$$1","decrypt$$1","Decrypter$$1","DecrypterWorker","decrypterWorker","audioTrackKind_","stopLoaders","segmentLoader","activePlaylistLoader","startLoaders","playlistLoader","onGroupChanged","_settings$segmentLoad","segmentLoaders","mainSegmentLoader","mediaTypes","activeTrack","activeGroup","previousActiveLoader","onTrackChanged","_settings$segmentLoad2","onError","blacklistCurrentPlaylist","defaultTrack","SUBTITLES","setupListeners","requestOptions","_settings$mediaTypes$","groups","variantLabel","_settings$mediaTypes$2","_settings$mediaTypes$3","variants","setupMediaGroups","onAudioTrackChanged","createMediaTypes","ABORT_EARLY_BLACKLIST_SECONDS","loaderStats","sumLoaderStat","stat","audioSegmentLoader_","mainSegmentLoader_","MasterPlaylistController","externHls","useCueTags","enableLowInitialPlaylist","seekTo_","useCueTags_","cueTagsTrack_","requestOptions_","mediaTypes_","handleSourceOpen_","segmentLoaderSettings","setupMasterPlaylistLoaderListeners_","subtitleSegmentLoader_","setupSegmentLoaderListeners_","requestTimeout","triggerPresenceUsage_","setupSourceBuffers_","setupFirstPlay","updatedPlaylist","excludeUnsupportedVariants_","selectedMedia","selectInitialPlaylist","selectPlaylist","initialMedia_","updateAdCues_","updateDuration","addSeekableRange","addSeekableRange_","onDurationchange","playlistOutdated","stuckAtPlaylistEnd_","defaultDemuxed","audioGroupKeys","nextPlaylist","currentPlaylist","forwardBuffer","bufferLowWaterLine","onSyncInfoUpdate_","onEndOfStream","ended","isEndOfStream","getExpiredTime","absolutePlaylistEnd","mainSeekable","audioSeekable","oldEnd","oldStart","oldDuration","newDuration","setDuration","mimeTypes","configureLoaderMimeTypes_","excludeIncompatibleVariants_","variant","variantCodecs","enableFunction","loader","playlistUri","changePlaylistFn","incompatible","currentlyEnabled","Representation","hlsHandler","mpc","masterPlaylistController_","smoothQualityChange","changeType","qualityChangeFunction","renditionSelectionMixin","representations","timerCancelEvents","PlaybackWatcher","allowSeeksWithinUnsafeLiveWindow","consecutiveUpdates","lastRecordedTime","timer_","checkCurrentTimeTimeout_","canPlayHandler","monitorCurrentTime_","waitingHandler","techWaiting_","cancelTimerHandler","cancelTimer_","fixesBadSeeksHandler","fixesBadSeeks_","checkCurrentTime_","waiting_","isAfterSeekableRange","afterSeekableWindow_","beforeSeekableWindow_","currentRange","livePoint","nextRange","videoUnderflow_","difference","skipTheGap_","allowedEnd","gap","gapFromVideoUnderflow_","scheduledCurrentTime","gaps","defaultOptions","errorInterval","getSource","IWillNotUseThisInPlugins","initPlugin","lastCalled","localOptions","loadedMetadataHandler","cleanupEvents","reinitPlugin","reloadSourceOnError","version$1","vhs","source_","Hls$1","STANDARD_PLAYLIST_SELECTOR","INITIAL_PLAYLIST_SELECTOR","comparePlaylistBandwidth","comparePlaylistResolution","LOCAL_STORAGE_KEY$1","simpleTypeFromSourceType","dashRE","handleHlsMediaChange","qualityLevels","selectedIndex_","handleHlsLoadedMetadata","addQualityLevel","emeKeySystems","keySystemOptions","videoPlaylist","audioPlaylist","keySystemContentTypes","keySystem","audioContentType","videoContentType","setupEmeOptions","eme","sourceOptions","keySystems","initializeMediaKeys","getVhsLocalStorage","storedObject","updateVhsLocalStorage","objectToStore","supportsNativeHls","canPlay","canItPlay","supportsNativeDash","supportsTypeNatively","Component$1","HlsHandler","dash","setOptions_","overrideNative","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","smoothQualityChange_","pauseLoading","useBandwidthFromLocalStorage","option","playbackWatcher_","invBandwidth","invThroughput","systemBitrate","mediaRequests_","mediaRequestsAborted_","mediaRequestsTimedout_","mediaRequestsErrored_","mediaTransferDuration_","mediaBytesTransferred_","mediaSecondsLoaded_","currentTech","playerDimensions","setupQualityLevels_","qualityLevels_","HlsSourceHandler","_videojs$mergeOptions","supportedType","canUseMsePlayback","webpackPolyfill","paths","Presigner","bindServiceObject","_operations","modifyInputMembers","modifiedInput","convertPostToGet","getSynthesizeSpeechUrl","removeAllListeners","escapeAttribute","XmlNode","addAttribute","addChildNode","hasChildren","xmlText","attributeNames","attributeName","jmespath","Response","redirectCount","numRetries","maxRedirects","nextPage","paginationConfig","hasNextPage","nextPageTokens","inputTokens","inputToken","cacheNextPageTokens","moreResults","exprs","outputToken","expr","ERROR_MESSAGE","funcType","binder","boundLength","boundArgs","Empty","PromisesDependency","extractCredentials","finish","credError","getAsyncCredentials","getStaticCredentials","credentialProvider","creds","allowUnknownKeys","hasService","loadFromPath","fileSystemCreds","FileSystemCredentials","chain","CredentialProviderChain","providers","apiVersions","paramValidation","correctClockSkew","customUserAgent","dynamoDbCrc32","clientSideMonitoring","hostPrefixEnabled","stsRegionalEndpoints","setPromisesDependency","dep","Request","XmlText","parseMessage","parsedMessage","messageType","parseError","eventType","eventModel","eventPayloadMemberName","payloadShape","eventHeaderNames","eventHeaderMemberNames","errorCode","errorMessage","populateBody","rootElement","toXML","isEventStream","isStreaming","_events","toHead","_isAsync","eventArgs","doneCallback","callListeners","prevError","callNextListener","_haltHandlersOnError","addListeners","addNamedAsyncListener","addNamedListeners","dP","FProto","nameRE","QueryParamSerializer","ucfirst","isQueryName","serializeStructure","serializeMember","serializeMap","valueName","serializeList","memberRules","serialize","alert","confirm","prompt","LinkedListNode","nodeMap","sizeLimit","prependToList","headerNode","tailNode","removeFromTail","prevNode","detachFromList","key_1","newNode","flatten","lists","findIndexes","INVALID_NUMBER_OF_PERIOD","DASH_EMPTY_MANIFEST","DASH_INVALID_XML","NO_BASE_URL","MISSING_SEGMENT_INFORMATION","SEGMENT_TIME_UNSPECIFIED","UNSUPPORTED_UTC_TIMING_SCHEME","createCommonjsModule","urlToolkit","URL_REGEX","FIRST_SEGMENT_REGEX","SLASH_DOT_REGEX","SLASH_DOT_DOT_REGEX","URLToolkit","alwaysNormalize","basePartsForNormalise","parseURL","normalizePath","buildURLFromParts","relativeParts","baseParts","netLoc","builtParts","baseURLPath","newPath","resolveUrl","baseUrl","relativeUrl","urlTypeToSegment","_ref$baseUrl","_ref$source","_ref$range","_ref$indexRange","indexRange","rangeStr","startRange","endRange","byteRangeToString","segmentRange","static","_attributes$timescale","sourceDuration","dynamic","NOW","availabilityStartTime","_attributes$timescale2","_attributes$start","_attributes$minimumUp","_attributes$timeShift","timeShiftBufferDepth","periodStartWC","periodEndWC","periodDuration","segmentCount","availableStart","availableEnd","toSegments","_attributes$timescale3","periodIndex","_attributes$startNumb","startNumber","parseByDuration","_attributes$type","_attributes$timescale4","_segmentRange$type","segmentsFromBase","_attributes$initializ","initialization","_attributes$indexRang","sourceURL","segmentTimeInfo","addSegmentsToPlaylist","sidxByteRange","sidxEnd","mediaReferences","references","referenceType","firstOffset","referencedSize","subsegmentDuration","mergeDiscontiguousPlaylists","mergedPlaylists","_acc$name$segments","lang","addSegmentInfoFromSidx","sidxMatch","formatAudioPlaylist","_attributes","formatVttPlaylist","_attributes2","organizeAudioPlaylists","mainPlaylist","formattedPlaylists","roleLabel","firstLabel","organizeVttPlaylists","formatVideoPlaylist","_ref3","_attributes3","toM3u8","dashPlaylists","_mediaGroups","_dashPlaylists$0$attr","_dashPlaylists$0$attr2","videoOnly","_ref4","audioOnly","_ref5","vttOnly","_ref6","videoPlaylists","audioPlaylists","vttPlaylists","VIDEO","subs","getLiveRValue","parseByTimeline","segmentTimeline","_attributes$minimumUp2","_attributes$media","sIndex","repeat","nextS","identifierPattern","identifierReplacement","constructTemplateUrl","parseTemplateInfo","segmentsFromTemplate","templateValues","RepresentationID","Bandwidth","mapSegment","Time","SegmentURLToSegmentObject","segmentUrl","mediaRange","segmentsFromList","_attributes$segmentUr","segmentUrls","segmentUrlMap","segmentUrlObject","generateSegments","segmentAttributes","segmentsFn","template","segmentsInfo","_segmentAttributes","_segmentAttributes$ti","toPlaylists","findChildren","getContent","parseDuration","SECONDS_IN_YEAR","SECONDS_IN_MONTH","SECONDS_IN_DAY","SECONDS_IN_HOUR","SECONDS_IN_MIN","durationRegex","_match$slice","minute","parseDate","dateRegex","parsers","mediaPresentationDuration","parsedValue","parseFn","keySystemsMap","buildBaseUrls","referenceUrls","baseUrlElements","baseUrlElement","getSegmentInformation","adaptationSet","segmentTemplate","segmentList","segmentBase","segmentTimelineParentNode","segmentInitializationParentNode","segmentInitialization","inheritBaseUrls","adaptationSetAttributes","adaptationSetBaseUrls","adaptationSetSegmentInfo","representation","repBaseUrlElements","repBaseUrls","representationSegmentInfo","generateKeySystemInformation","contentProtectionNodes","psshNode","psshBuffer","toRepresentations","periodAttributes","periodBaseUrls","periodSegmentInfo","roleAttributes","toAdaptationSets","mpdAttributes","mpdBaseUrls","period","periodAtt","parsedPeriodId","adaptationSets","inheritAttributes","mpd","_options$manifestUri","_options$NOW","_options$clientOffset","periods","stringToMpdXml","manifestString","parseUTCTimingScheme","UTCTimingNode","parseUTCTiming","shapeMembers","AcceptorStateMachine","hardErrorStates","success","complete","isTerminalState","machine","fsm","setupStates","transition","Domain","domainEmitter","domainThrown","addState","isGlobalEndpoint","states","emitEvent","runTo","didCallback","_abortCallback","eachPage","wrappedCallback","eachItem","resultKey","continueIteration","isPageable","streams","PassThrough","sent","HTTP_DATA","HTTP_ERROR","expectedLen","shouldCheckContentLength","receivedLen","checkContentLengthAndEmit","httpStream","lengthAccumulator","_write","unpipe","eventParameters","origEmit","toGet","toUnauthenticated","_unAuthenticated","VALIDATE_CREDENTIALS","SIGN","buildAsGet","haltHandlersOnError","CognitoIdentityCredentials","localStorageKey","_identityId","loadCachedId","IdentityId","identityId","clearIdOnNotAuthorized","getCredentialsFromSTS","clearCachedId","poolId","IdentityPoolId","loginId","LoginId","storage","cognito","loadCredentials","AccessKeyId","SecretKey","SessionToken","Expiration","cacheId","WebIdentityToken","Token","webIdentityCredentials","webErr","sts","getStorage","Logins","actualProviders","cachedProviders","intersect","cognitoConfig","setStorage","SafeParseTuple","reviver","regionConfig","clientCount","loadServiceClass","ServiceClass","originalConfig","_clientId","endpointFromTemplate","setEndpoint","addDefaultMonitoringListeners","_clientSideMonitoring","publisher","eventHandler","serviceConfig","apiConfig","defineServiceApi","getLatestServiceClass","getLatestServiceVersion","selectedVersion","defaultRetryCount","customizeRequests","customRequestHandler","addAllRequestListeners","attachMonitoringEmitter","waitFor","serviceInterface","CorePost","Logger","apiCallEvent","monitoringEvent","Version","endpointPrefix","MaxRetriesExceeded","UserAgent","FinalHttpStatusCode","FinalAwsException","FinalAwsExceptionMessage","FinalSdkException","FinalSdkExceptionMessage","apiAttemptEvent","Fqdn","HttpStatusCode","AccessKey","XAmznRequestId","XAmzRequestId","XAmzId2","attemptFailEvent","AwsException","AwsExceptionMessage","SdkException","SdkExceptionMessage","attemptTimestamp","attemptStartRealTime","attemptLatency","callStartRealTime","callTimestamp","attemptCount","addToHead","realClock","AttemptLatency","AttemptCount","latency","Latency","authtype","retryDelays","timeoutError","networkingError","expiredCredentialsError","throttledError","clockSkewError","newServerTime","throwException","defineMethods","versions","_serviceMap","addVersions","Publisher","configProvider","publisherConfig","superclass","setApi","isApi","attachOn","baseClass","read","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","LN2","eq","regexp","maxKeys","kstr","vstr","xs","hasEndpointDiscover","hostPrefix","hostPrefixNotation","expandHostPrefix","prependEndpointPrefix","validateHostname","isEndpointOperation","hostLabel","hostPattern","verifySendMessageChecksum","verifySendMessageBatchChecksum","verifyReceiveMessageChecksum","MD5OfMessageBody","MessageBody","calculatedMd5","calculateChecksum","throwInvalidChecksumError","MessageId","entries","messageIds","Successful","Id","Entries","isChecksumValid","Messages","MD5OfBody","ids","checksum","QueueUrl","inspectMp4","textifyMp4","parseMp4Date","parseSampleFlags","nalParse","avcStream","avcView","dataReferenceIndex","getUint16","horizresolution","vertresolution","frameCount","numOfPictureParameterSets","nalSize","configurationVersion","avcProfileIndication","avcLevelIndication","lengthSizeMinusOne","numOfSequenceParameterSets","bufferSizeDB","maxBitrate","avgBitrate","esId","streamPriority","decoderConfig","objectProfileIndication","decoderConfigDescriptor","audioObjectType","samplingFrequencyIndex","channelConfiguration","majorBrand","minorVersion","compatibleBrands","dataReferences","nals","modificationTime","streamDescriptor","matrix","nextTrackId","pdin","initialDelay","referenceId","earliestPresentationTime","referenceCount","startsWithSap","sapType","sapDeltaTime","balance","chunkOffsets","entryCount","sampleToChunks","firstChunk","samplesPerChunk","sampleDescriptionIndex","sampleSize","timeToSamples","sampleDelta","baseDataOffsetPresent","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","durationIsEmpty","defaultBaseIsMoof","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","baseDataOffsetIsMoof","layer","alternateGroup","defaultSampleDescriptionIndex","sampleDependsOn","sampleIsDependedOn","sampleHasRedundancy","samplePaddingValue","sampleIsDifferenceSample","sampleDegradationPriority","dataOffsetPresent","firstSampleFlagsPresent","sampleDurationPresent","sampleSizePresent","sampleFlagsPresent","sampleCompositionTimeOffsetPresent","getInt32","graphicsmode","opcolor","Uint16Array","z","inspectedMp4","indent","byte","textify","parseTfdt","parseHdlr","parseTfhd","parseTrun","PRELUDE_MEMBER_LENGTH","PRELUDE_LENGTH","CHECKSUM_LENGTH","MINIMUM_MESSAGE_LENGTH","splitMessage","readUInt32BE","expectedPreludeChecksum","expectedMessageChecksum","headersStart","headersEnd","enum","xmlName","queryName","requiresLength","isComposite","idempotencyToken","jsonvalue","eventstream","eventpayload","eventheader","timestampFormat","isTimestampFormatSet","endpointdiscoveryid","documentation","documentationUrl","xmlAttribute","CompositeShape","StructureShape","requiredMap","firstInit","isShape","xmlOrder","memberNames","isEventPayload","isEventHeader","resultWrapper","xmlNamespace","ListShape","oldName","MapShape","TimestampShape","StringShape","nullLessProtocols","FloatShape","IntegerShape","BinaryShape","isSensitive","secureBuf","Base64Shape","BooleanShape","normalizedTypes","character","double","long","short","biginteger","bigdecimal","refShape","shapes","filteredKeys","InlineShape","origType","Int64","negate","fromNumber","remaining","negative","viewStrings","isEmptyData","convertToBuffer","BYTES_PER_ELEMENT","probe","mapToSample","approximateOffset","findSeiNals","seiNal","lastMatchedSample","matchingSample","parseSamples","truns","allSamples","trackRun","parseCaptionNals","videoTrackId","mdats","captionNals","mdatTrafPairs","matchingTraf","seiNals","headerInfo","parseEmbeddedCaptions","CaptionParser","segmentCache","parsedCaptions","parsingPartial","isPartial","isNewInit","parsedData","cachedSegment","pushNals","nal","resetCaptionStream","CHECK_ACCEPTORS","_waiter","acceptors","acceptorMatched","acceptor","matcher","matchers","argument","setSuccess","setError","loadWaiterConfig","pathAll","numResults","pathAny","retryDelay","$waiter","maxAttempts","autoKeyword","directionSetting","alignSetting","findDirectionSetting","findAlignSetting","hasBeenReset","_id","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_positionAlign","_size","_align","setting","SyntaxError","getCueAsHTML","convertCueToDOMTree","keysShim","isArgs","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","equalsConstructorPrototypeIfNotBuggy","isArguments","theKeys","skipProto","skipConstructor","completeInfo","fillQueue","configure","partSize","minPartSize","queueSize","leavePartsOnError","tags","validateBody","adjustTotalBytes","maxTotalParts","failed","runFill","fillBuffer","fillStream","partBuffers","cleanup","isDoneChunking","numParts","totalPartNumbers","doneParts","finishMultiPart","singlePart","totalBytes","newPartSize","partPos","totalChunkedBytes","totalUploadedBytes","activeParts","multipartReq","partBufferLength","bodyLen","nextChunk","endPos","pbuf","isDoneSending","partNumber","Tagging","getTaggingHeader","putObject","_managedUpload","finishSinglePart","ETag","UploadId","uploadPart","queueChunks","createMultipartUpload","kvPairStrings","Value","partParams","PartNumber","partInfo","_lastUploadedBytes","resume","abortMultipartUpload","completeParams","MultipartUpload","Parts","completeMultipartUpload","Location","putObjectTagging","TagSet","httpReq","EXTRACT_DATA","checkCrc32","crc32IsValid","define","getPolyfill","polyfill","ChainableTemporaryCredentials","tokenCodeFn","SerialNumber","getTokenCode","tokenCode","TokenCode","ieee754","typedArraySupport","foo","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","encodingOrOffset","allocUnsafe","fromArrayBuffer","fromString","fromObject","assertSize","checked","isEncoding","fromArrayLike","isnan","SlowBuffer","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","strLen","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","bytesPerSequence","decodeCodePointsArray","INSPECT_MAX_BYTES","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","equals","thisStart","thisEnd","thisCopy","targetCopy","includes","MAX_ARGUMENTS_LENGTH","codePoints","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt16LE","readUInt32LE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","units","leadSurrogate","byteArray","hi","lo","dst","DISCOVER_ENDPOINT","getOperationAuthtype","addAsync","idempotentMembers","SignerClass","signer","signingName","signedAt","httpResp","errCode","executeSend","timeDiff","numBytes","dateHeader","redirect","willRetry","errno","buildMessage","filterSensitiveLog","subShapeName","subShape","ansi","isTTY","censoredParams","$strSlice","remain","defaultProviders","resolveCallbacks","resolveNext","provider","getErr","resolvePromise","SAMLCredentials","assumeRoleWithSAML","requiredAuthTokenOptions","username","Signer","convertUrlToAuthToken","getAuthToken","hasCallback","optionsValidation","validateAuthTokenOptions","serviceOptions","modifyRequestForAuthToken","Action","DBUser","XmlBuilder","serializeScalar","applyNamespaces","entryKey","entryValue","isRoot","xmlNamespaceUri","xmlNamespacePrefix","noEmpty","hashUtils","BLOCK_SIZE","DIGEST_LENGTH","Sha1","h0","h1","h2","h3","h4","block","totalLength","finished","processBlock","outView","_nodeId","_clockseq","rng","_lastMSecs","_lastNSecs","clockseq","seedBytes","msecs","nsecs","tl","tmh","$SyntaxError","predicates","isData","IsAccessor","recordType","argumentName","Md5","bufferLength","bytesHashed","cmn","ff","gg","hh","ii","sourceData","setUint8","hashBuffer","_a","undecoratedLength","bitsHashed","buff","rnds","ENV_REGIONAL_ENDPOINT_ENABLED","CONFIG_REGIONAL_ENDPOINT_ENABLED","SecretAccessKey","validateRegionalEndpointsFlagValue","configValue","errorOptions","validateRegionalEndpointsFlag","envFlag","fileFlag","optInRegionalEndpoint","insertPoint","KEY","MAX_HASHABLE_LENGTH","Sha256","bufferView","state0","state1","state2","state3","state4","state5","state6","state7","t1_1","t2_1","t1","t2","boundTrim","origRules","_XAMZRequestId","requestIdShape","forEachArray","forEachString","forEachObject","thisArg","_objCreate","F","ParsingError","errorData","parseTimeStamp","computeSeconds","Settings","parseOptions","keyValueDelim","groupDelim","kv","parseCue","regionList","oInput","consumeTimeStamp","ts","BadTimeStamp","consumeCueSettings","alt","vals0","integer","lineAlign","snapToLines","positionAlign","skipWhitespace","BadSignature","dflt","defaultKey","ESCAPE","TAG_NAME","ruby","TAG_ANNOTATION","NEEDS_PARENT","parseContent","nextToken","consume","unescape1","shouldAdd","localName","annotation","rootDiv","tagStack","createProcessingInstruction","strongRTLRanges","isStrongRTLChar","determineBidi","nodeStack","pushNodes","nextTextNode","computeLinePos","textTrackList","mediaElement","StyleBox","CueStyleBox","styleOptions","display","writingMode","unicodeBidi","applyStyles","textAlign","font","whiteSpace","textPos","formatStyle","move","BoxPosition","lh","offsetTop","rects","getClientRects","lineHeight","moveBoxToLinePosition","styleBox","containerBox","boxPositions","findBestPosition","axis","bestPosition","specifiedPosition","overlapsOppositeAxis","within","overlapsAny","intersectPercentage","boxPosition","linePos","maxPosition","initialAxis","calculatedPercentage","toCSSCompatValues","unit","toMove","overlaps","intersectArea","getSimpleBoxPosition","cuetext","FONT_SIZE_PERCENT","FONT_STYLE","CUE_BACKGROUND_PADDING","overlay","paddedOverlay","shouldCompute","margin","reportOrThrowError","collectNextLine","parseRegion","xy","anchor","lines","regionAnchorX","regionAnchorY","viewportAnchorX","viewportAnchorY","scroll","onregion","parseTimestampMap","parseHeader","alreadyCollectedLine","hasSubstring","base64Encode","queryEncode","replacements","signPolicy","policy","privateKey","createSign","signWithCannedPolicy","keyPairId","Statement","Resource","Condition","DateLessThan","signWithCustomPolicy","determineScheme","getRtmpUrl","rtmpUrl","getResource","handleError","handleSuccess","getSignedCookie","signatureHash","cookieHash","signedUrl","callee","origKeys","originalKeys","keysWorksWithArguments","requestUri","endpointdiscovery","isIdempotent","hasEventStream","topLevelShape","parsePsi_","parseAudioPes_","pesType","endLoop","parseVideoPes_","firstKeyFrame","adjustTimestamp_","baseTimestamp","audioBaseTimestamp","videoBaseTimestamp","inspectAac_","audioCount","audioTimescale","inspectTs_","isAacData","generateRegionPrefix","derivedKeys","regionPrefix","applyConfig","configureEndpoint","patterns","DocumentClient","putItem","Item","makeServiceRequest","setupRequest","setupResponse","serviceClientOperationsMap","batchGet","batchWrite","delete","scan","transactGet","transactWrite","createSet","getTranslator","translator","rawParams","outputShape","searchInput","hasKeyCode","foundNamedKey","aliases","nameOrCode","alias","stringifyPrimitive","objectKeys","ks","isBinary","BOOLEAN_TAG","BYTE_TAG","SHORT_TAG","INT_TAG","LONG_TAG","BINARY_TAG","STRING_TAG","TIMESTAMP_TAG","UUID_TAG","nameLength","binaryLength","stringLength","uuidChars","getRandomValues","msCrypto","rnds8","Hmac","alg","crossRegionOperations","PreSignedUrl","doesParamValidation","buildCrossRegionPresignedUrl","destinationRegion","addEndpointOperation","endpointoperation","serviceAbbreviation","serviceFullName","generator","asyncFn","asyncGen","ThrowTypeError","hasSymbols","getProto","generatorFunction","asyncFunction","asyncGenFunction","asyncGenIterator","TypedArray","INTRINSICS","asyncIterator","Atomics","decodeURI","encodeURI","eval","EvalError","Float32Array","Float64Array","Int8Array","Int16Array","SharedArrayBuffer","Uint8ClampedArray","URIError","WeakSet","$replace","rePropName","reEscapeChar","stringToPath","quote","subString","getBaseIntrinsic","xtend","initParams","createXHR","_createXHR","called","readystatechange","loadFunc","getBody","getXml","isJson","errorFunc","timeoutTimer","failureResponse","useXDR","rawRequest","XDomainRequest","onprogress","onabort","ontimeout","password","beforeSend","responseXML","firefoxBugTakenEffect","doccy","minDoc","topLevel","refreshCallbacks","expiryWindow","needsRefresh","adjustedTime","getPromise","refreshPromise","finalState","bindObject","inputError","accept","acceptState","failState","origDefineProperty","arePropertyDescriptorsSupported","supportsDescriptors","applyContentTypeHeader","hashCtor","outer","inner","bufferFromSecret","bufferHash","toHash","scrollSetting","findScrollSetting","isValidPercentValue","_lines","_regionAnchorX","_regionAnchorY","_viewportAnchorX","_viewportAnchorY","_scroll","ReflectOwnKeys","R","ReflectApply","ProcessEmitWarning","warning","ownKeys","NumberIsNaN","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","_addListener","prepend","existing","newListener","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","spliceOne","setMaxListeners","getMaxListeners","doError","er","once","prependOnceListener","originalListener","rawListeners","eventNames"],"mappings":"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","file":"js/about.74348592.js","sourcesContent":["var util = require('../core').util;\nvar typeOf = require('./types').typeOf;\n\n/**\n * @api private\n */\nvar memberTypeToSetType = {\n  'String': 'String',\n  'Number': 'Number',\n  'NumberValue': 'Number',\n  'Binary': 'Binary'\n};\n\n/**\n * @api private\n */\nvar DynamoDBSet = util.inherit({\n\n  constructor: function Set(list, options) {\n    options = options || {};\n    this.wrapperName = 'Set';\n    this.initialize(list, options.validate);\n  },\n\n  initialize: function(list, validate) {\n    var self = this;\n    self.values = [].concat(list);\n    self.detectType();\n    if (validate) {\n      self.validate();\n    }\n  },\n\n  detectType: function() {\n    this.type = memberTypeToSetType[typeOf(this.values[0])];\n    if (!this.type) {\n      throw util.error(new Error(), {\n        code: 'InvalidSetType',\n        message: 'Sets can contain string, number, or binary values'\n      });\n    }\n  },\n\n  validate: function() {\n    var self = this;\n    var length = self.values.length;\n    var values = self.values;\n    for (var i = 0; i < length; i++) {\n      if (memberTypeToSetType[typeOf(values[i])] !== self.type) {\n        throw util.error(new Error(), {\n          code: 'InvalidType',\n          message: self.type + ' Set contains ' + typeOf(values[i]) + ' value'\n        });\n      }\n    }\n  },\n\n  /**\n   * Render the underlying values only when converting to JSON.\n   */\n  toJSON: function() {\n    var self = this;\n    return self.values;\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = DynamoDBSet;\n","var util = require('../util');\nvar JsonBuilder = require('../json/builder');\nvar JsonParser = require('../json/parser');\nvar populateHostPrefix = require('./helpers').populateHostPrefix;\n\nfunction buildRequest(req) {\n  var httpRequest = req.httpRequest;\n  var api = req.service.api;\n  var target = api.targetPrefix + '.' + api.operations[req.operation].name;\n  var version = api.jsonVersion || '1.0';\n  var input = api.operations[req.operation].input;\n  var builder = new JsonBuilder();\n\n  if (version === 1) version = '1.0';\n  httpRequest.body = builder.build(req.params || {}, input);\n  httpRequest.headers['Content-Type'] = 'application/x-amz-json-' + version;\n  httpRequest.headers['X-Amz-Target'] = target;\n\n  populateHostPrefix(req);\n}\n\nfunction extractError(resp) {\n  var error = {};\n  var httpResponse = resp.httpResponse;\n\n  error.code = httpResponse.headers['x-amzn-errortype'] || 'UnknownError';\n  if (typeof error.code === 'string') {\n    error.code = error.code.split(':')[0];\n  }\n\n  if (httpResponse.body.length > 0) {\n    try {\n      var e = JSON.parse(httpResponse.body.toString());\n      if (e.__type || e.code) {\n        error.code = (e.__type || e.code).split('#').pop();\n      }\n      if (error.code === 'RequestEntityTooLarge') {\n        error.message = 'Request body must be less than 1 MB';\n      } else {\n        error.message = (e.message || e.Message || null);\n      }\n    } catch (e) {\n      error.statusCode = httpResponse.statusCode;\n      error.message = httpResponse.statusMessage;\n    }\n  } else {\n    error.statusCode = httpResponse.statusCode;\n    error.message = httpResponse.statusCode.toString();\n  }\n\n  resp.error = util.error(new Error(), error);\n}\n\nfunction extractData(resp) {\n  var body = resp.httpResponse.body.toString() || '{}';\n  if (resp.request.service.config.convertResponseTypes === false) {\n    resp.data = JSON.parse(body);\n  } else {\n    var operation = resp.request.service.api.operations[resp.request.operation];\n    var shape = operation.output || {};\n    var parser = new JsonParser();\n    resp.data = parser.parse(body, shape);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","/* eslint guard-for-in:0 */\nvar AWS;\n\n/**\n * A set of utility methods for use with the AWS SDK.\n *\n * @!attribute abort\n *   Return this value from an iterator function {each} or {arrayEach}\n *   to break out of the iteration.\n *   @example Breaking out of an iterator function\n *     AWS.util.each({a: 1, b: 2, c: 3}, function(key, value) {\n *       if (key == 'b') return AWS.util.abort;\n *     });\n *   @see each\n *   @see arrayEach\n * @api private\n */\nvar util = {\n  environment: 'nodejs',\n  engine: function engine() {\n    if (util.isBrowser() && typeof navigator !== 'undefined') {\n      return navigator.userAgent;\n    } else {\n      var engine = process.platform + '/' + process.version;\n      if (process.env.AWS_EXECUTION_ENV) {\n        engine += ' exec-env/' + process.env.AWS_EXECUTION_ENV;\n      }\n      return engine;\n    }\n  },\n\n  userAgent: function userAgent() {\n    var name = util.environment;\n    var agent = 'aws-sdk-' + name + '/' + require('./core').VERSION;\n    if (name === 'nodejs') agent += ' ' + util.engine();\n    return agent;\n  },\n\n  uriEscape: function uriEscape(string) {\n    var output = encodeURIComponent(string);\n    output = output.replace(/[^A-Za-z0-9_.~\\-%]+/g, escape);\n\n    // AWS percent-encodes some extra non-standard characters in a URI\n    output = output.replace(/[*]/g, function(ch) {\n      return '%' + ch.charCodeAt(0).toString(16).toUpperCase();\n    });\n\n    return output;\n  },\n\n  uriEscapePath: function uriEscapePath(string) {\n    var parts = [];\n    util.arrayEach(string.split('/'), function (part) {\n      parts.push(util.uriEscape(part));\n    });\n    return parts.join('/');\n  },\n\n  urlParse: function urlParse(url) {\n    return util.url.parse(url);\n  },\n\n  urlFormat: function urlFormat(url) {\n    return util.url.format(url);\n  },\n\n  queryStringParse: function queryStringParse(qs) {\n    return util.querystring.parse(qs);\n  },\n\n  queryParamsToString: function queryParamsToString(params) {\n    var items = [];\n    var escape = util.uriEscape;\n    var sortedKeys = Object.keys(params).sort();\n\n    util.arrayEach(sortedKeys, function(name) {\n      var value = params[name];\n      var ename = escape(name);\n      var result = ename + '=';\n      if (Array.isArray(value)) {\n        var vals = [];\n        util.arrayEach(value, function(item) { vals.push(escape(item)); });\n        result = ename + '=' + vals.sort().join('&' + ename + '=');\n      } else if (value !== undefined && value !== null) {\n        result = ename + '=' + escape(value);\n      }\n      items.push(result);\n    });\n\n    return items.join('&');\n  },\n\n  readFileSync: function readFileSync(path) {\n    if (util.isBrowser()) return null;\n    return require('fs').readFileSync(path, 'utf-8');\n  },\n\n  base64: {\n    encode: function encode64(string) {\n      if (typeof string === 'number') {\n        throw util.error(new Error('Cannot base64 encode number ' + string));\n      }\n      if (string === null || typeof string === 'undefined') {\n        return string;\n      }\n      var buf = util.buffer.toBuffer(string);\n      return buf.toString('base64');\n    },\n\n    decode: function decode64(string) {\n      if (typeof string === 'number') {\n        throw util.error(new Error('Cannot base64 decode number ' + string));\n      }\n      if (string === null || typeof string === 'undefined') {\n        return string;\n      }\n      return util.buffer.toBuffer(string, 'base64');\n    }\n\n  },\n\n  buffer: {\n    /**\n     * Buffer constructor for Node buffer and buffer pollyfill\n     */\n    toBuffer: function(data, encoding) {\n      return (typeof util.Buffer.from === 'function' && util.Buffer.from !== Uint8Array.from) ?\n        util.Buffer.from(data, encoding) : new util.Buffer(data, encoding);\n    },\n\n    alloc: function(size, fill, encoding) {\n      if (typeof size !== 'number') {\n        throw new Error('size passed to alloc must be a number.');\n      }\n      if (typeof util.Buffer.alloc === 'function') {\n        return util.Buffer.alloc(size, fill, encoding);\n      } else {\n        var buf = new util.Buffer(size);\n        if (fill !== undefined && typeof buf.fill === 'function') {\n          buf.fill(fill, undefined, undefined, encoding);\n        }\n        return buf;\n      }\n    },\n\n    toStream: function toStream(buffer) {\n      if (!util.Buffer.isBuffer(buffer)) buffer =  util.buffer.toBuffer(buffer);\n\n      var readable = new (util.stream.Readable)();\n      var pos = 0;\n      readable._read = function(size) {\n        if (pos >= buffer.length) return readable.push(null);\n\n        var end = pos + size;\n        if (end > buffer.length) end = buffer.length;\n        readable.push(buffer.slice(pos, end));\n        pos = end;\n      };\n\n      return readable;\n    },\n\n    /**\n     * Concatenates a list of Buffer objects.\n     */\n    concat: function(buffers) {\n      var length = 0,\n          offset = 0,\n          buffer = null, i;\n\n      for (i = 0; i < buffers.length; i++) {\n        length += buffers[i].length;\n      }\n\n      buffer = util.buffer.alloc(length);\n\n      for (i = 0; i < buffers.length; i++) {\n        buffers[i].copy(buffer, offset);\n        offset += buffers[i].length;\n      }\n\n      return buffer;\n    }\n  },\n\n  string: {\n    byteLength: function byteLength(string) {\n      if (string === null || string === undefined) return 0;\n      if (typeof string === 'string') string = util.buffer.toBuffer(string);\n\n      if (typeof string.byteLength === 'number') {\n        return string.byteLength;\n      } else if (typeof string.length === 'number') {\n        return string.length;\n      } else if (typeof string.size === 'number') {\n        return string.size;\n      } else if (typeof string.path === 'string') {\n        return require('fs').lstatSync(string.path).size;\n      } else {\n        throw util.error(new Error('Cannot determine length of ' + string),\n          { object: string });\n      }\n    },\n\n    upperFirst: function upperFirst(string) {\n      return string[0].toUpperCase() + string.substr(1);\n    },\n\n    lowerFirst: function lowerFirst(string) {\n      return string[0].toLowerCase() + string.substr(1);\n    }\n  },\n\n  ini: {\n    parse: function string(ini) {\n      var currentSection, map = {};\n      util.arrayEach(ini.split(/\\r?\\n/), function(line) {\n        line = line.split(/(^|\\s)[;#]/)[0]; // remove comments\n        var section = line.match(/^\\s*\\[([^\\[\\]]+)\\]\\s*$/);\n        if (section) {\n          currentSection = section[1];\n        } else if (currentSection) {\n          var item = line.match(/^\\s*(.+?)\\s*=\\s*(.+?)\\s*$/);\n          if (item) {\n            map[currentSection] = map[currentSection] || {};\n            map[currentSection][item[1]] = item[2];\n          }\n        }\n      });\n\n      return map;\n    }\n  },\n\n  fn: {\n    noop: function() {},\n    callback: function (err) { if (err) throw err; },\n\n    /**\n     * Turn a synchronous function into as \"async\" function by making it call\n     * a callback. The underlying function is called with all but the last argument,\n     * which is treated as the callback. The callback is passed passed a first argument\n     * of null on success to mimick standard node callbacks.\n     */\n    makeAsync: function makeAsync(fn, expectedArgs) {\n      if (expectedArgs && expectedArgs <= fn.length) {\n        return fn;\n      }\n\n      return function() {\n        var args = Array.prototype.slice.call(arguments, 0);\n        var callback = args.pop();\n        var result = fn.apply(null, args);\n        callback(result);\n      };\n    }\n  },\n\n  /**\n   * Date and time utility functions.\n   */\n  date: {\n\n    /**\n     * @return [Date] the current JavaScript date object. Since all\n     *   AWS services rely on this date object, you can override\n     *   this function to provide a special time value to AWS service\n     *   requests.\n     */\n    getDate: function getDate() {\n      if (!AWS) AWS = require('./core');\n      if (AWS.config.systemClockOffset) { // use offset when non-zero\n        return new Date(new Date().getTime() + AWS.config.systemClockOffset);\n      } else {\n        return new Date();\n      }\n    },\n\n    /**\n     * @return [String] the date in ISO-8601 format\n     */\n    iso8601: function iso8601(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.toISOString().replace(/\\.\\d{3}Z$/, 'Z');\n    },\n\n    /**\n     * @return [String] the date in RFC 822 format\n     */\n    rfc822: function rfc822(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.toUTCString();\n    },\n\n    /**\n     * @return [Integer] the UNIX timestamp value for the current time\n     */\n    unixTimestamp: function unixTimestamp(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.getTime() / 1000;\n    },\n\n    /**\n     * @param [String,number,Date] date\n     * @return [Date]\n     */\n    from: function format(date) {\n      if (typeof date === 'number') {\n        return new Date(date * 1000); // unix timestamp\n      } else {\n        return new Date(date);\n      }\n    },\n\n    /**\n     * Given a Date or date-like value, this function formats the\n     * date into a string of the requested value.\n     * @param [String,number,Date] date\n     * @param [String] formatter Valid formats are:\n     #   * 'iso8601'\n     #   * 'rfc822'\n     #   * 'unixTimestamp'\n     * @return [String]\n     */\n    format: function format(date, formatter) {\n      if (!formatter) formatter = 'iso8601';\n      return util.date[formatter](util.date.from(date));\n    },\n\n    parseTimestamp: function parseTimestamp(value) {\n      if (typeof value === 'number') { // unix timestamp (number)\n        return new Date(value * 1000);\n      } else if (value.match(/^\\d+$/)) { // unix timestamp\n        return new Date(value * 1000);\n      } else if (value.match(/^\\d{4}/)) { // iso8601\n        return new Date(value);\n      } else if (value.match(/^\\w{3},/)) { // rfc822\n        return new Date(value);\n      } else {\n        throw util.error(\n          new Error('unhandled timestamp format: ' + value),\n          {code: 'TimestampParserError'});\n      }\n    }\n\n  },\n\n  crypto: {\n    crc32Table: [\n     0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419,\n     0x706AF48F, 0xE963A535, 0x9E6495A3, 0x0EDB8832, 0x79DCB8A4,\n     0xE0D5E91E, 0x97D2D988, 0x09B64C2B, 0x7EB17CBD, 0xE7B82D07,\n     0x90BF1D91, 0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE,\n     0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7, 0x136C9856,\n     0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9,\n     0xFA0F3D63, 0x8D080DF5, 0x3B6E20C8, 0x4C69105E, 0xD56041E4,\n     0xA2677172, 0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B,\n     0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940, 0x32D86CE3,\n     0x45DF5C75, 0xDCD60DCF, 0xABD13D59, 0x26D930AC, 0x51DE003A,\n     0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423, 0xCFBA9599,\n     0xB8BDA50F, 0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924,\n     0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D, 0x76DC4190,\n     0x01DB7106, 0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F,\n     0x9FBFE4A5, 0xE8B8D433, 0x7807C9A2, 0x0F00F934, 0x9609A88E,\n     0xE10E9818, 0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01,\n     0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E, 0x6C0695ED,\n     0x1B01A57B, 0x8208F4C1, 0xF50FC457, 0x65B0D9C6, 0x12B7E950,\n     0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3,\n     0xFBD44C65, 0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2,\n     0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB, 0x4369E96A,\n     0x346ED9FC, 0xAD678846, 0xDA60B8D0, 0x44042D73, 0x33031DE5,\n     0xAA0A4C5F, 0xDD0D7CC9, 0x5005713C, 0x270241AA, 0xBE0B1010,\n     0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F,\n     0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17,\n     0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD, 0xEDB88320, 0x9ABFB3B6,\n     0x03B6E20C, 0x74B1D29A, 0xEAD54739, 0x9DD277AF, 0x04DB2615,\n     0x73DC1683, 0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8,\n     0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1, 0xF00F9344,\n     0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB,\n     0x196C3671, 0x6E6B06E7, 0xFED41B76, 0x89D32BE0, 0x10DA7A5A,\n     0x67DD4ACC, 0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5,\n     0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1,\n     0xA6BC5767, 0x3FB506DD, 0x48B2364B, 0xD80D2BDA, 0xAF0A1B4C,\n     0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55, 0x316E8EEF,\n     0x4669BE79, 0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236,\n     0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F, 0xC5BA3BBE,\n     0xB2BD0B28, 0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31,\n     0x2CD99E8B, 0x5BDEAE1D, 0x9B64C2B0, 0xEC63F226, 0x756AA39C,\n     0x026D930A, 0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713,\n     0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38, 0x92D28E9B,\n     0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21, 0x86D3D2D4, 0xF1D4E242,\n     0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1,\n     0x18B74777, 0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C,\n     0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45, 0xA00AE278,\n     0xD70DD2EE, 0x4E048354, 0x3903B3C2, 0xA7672661, 0xD06016F7,\n     0x4969474D, 0x3E6E77DB, 0xAED16A4A, 0xD9D65ADC, 0x40DF0B66,\n     0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9,\n     0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605,\n     0xCDD70693, 0x54DE5729, 0x23D967BF, 0xB3667A2E, 0xC4614AB8,\n     0x5D681B02, 0x2A6F2B94, 0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B,\n     0x2D02EF8D],\n\n    crc32: function crc32(data) {\n      var tbl = util.crypto.crc32Table;\n      var crc = 0 ^ -1;\n\n      if (typeof data === 'string') {\n        data = util.buffer.toBuffer(data);\n      }\n\n      for (var i = 0; i < data.length; i++) {\n        var code = data.readUInt8(i);\n        crc = (crc >>> 8) ^ tbl[(crc ^ code) & 0xFF];\n      }\n      return (crc ^ -1) >>> 0;\n    },\n\n    hmac: function hmac(key, string, digest, fn) {\n      if (!digest) digest = 'binary';\n      if (digest === 'buffer') { digest = undefined; }\n      if (!fn) fn = 'sha256';\n      if (typeof string === 'string') string = util.buffer.toBuffer(string);\n      return util.crypto.lib.createHmac(fn, key).update(string).digest(digest);\n    },\n\n    md5: function md5(data, digest, callback) {\n      return util.crypto.hash('md5', data, digest, callback);\n    },\n\n    sha256: function sha256(data, digest, callback) {\n      return util.crypto.hash('sha256', data, digest, callback);\n    },\n\n    hash: function(algorithm, data, digest, callback) {\n      var hash = util.crypto.createHash(algorithm);\n      if (!digest) { digest = 'binary'; }\n      if (digest === 'buffer') { digest = undefined; }\n      if (typeof data === 'string') data = util.buffer.toBuffer(data);\n      var sliceFn = util.arraySliceFn(data);\n      var isBuffer = util.Buffer.isBuffer(data);\n      //Identifying objects with an ArrayBuffer as buffers\n      if (util.isBrowser() && typeof ArrayBuffer !== 'undefined' && data && data.buffer instanceof ArrayBuffer) isBuffer = true;\n\n      if (callback && typeof data === 'object' &&\n          typeof data.on === 'function' && !isBuffer) {\n        data.on('data', function(chunk) { hash.update(chunk); });\n        data.on('error', function(err) { callback(err); });\n        data.on('end', function() { callback(null, hash.digest(digest)); });\n      } else if (callback && sliceFn && !isBuffer &&\n                 typeof FileReader !== 'undefined') {\n        // this might be a File/Blob\n        var index = 0, size = 1024 * 512;\n        var reader = new FileReader();\n        reader.onerror = function() {\n          callback(new Error('Failed to read data.'));\n        };\n        reader.onload = function() {\n          var buf = new util.Buffer(new Uint8Array(reader.result));\n          hash.update(buf);\n          index += buf.length;\n          reader._continueReading();\n        };\n        reader._continueReading = function() {\n          if (index >= data.size) {\n            callback(null, hash.digest(digest));\n            return;\n          }\n\n          var back = index + size;\n          if (back > data.size) back = data.size;\n          reader.readAsArrayBuffer(sliceFn.call(data, index, back));\n        };\n\n        reader._continueReading();\n      } else {\n        if (util.isBrowser() && typeof data === 'object' && !isBuffer) {\n          data = new util.Buffer(new Uint8Array(data));\n        }\n        var out = hash.update(data).digest(digest);\n        if (callback) callback(null, out);\n        return out;\n      }\n    },\n\n    toHex: function toHex(data) {\n      var out = [];\n      for (var i = 0; i < data.length; i++) {\n        out.push(('0' + data.charCodeAt(i).toString(16)).substr(-2, 2));\n      }\n      return out.join('');\n    },\n\n    createHash: function createHash(algorithm) {\n      return util.crypto.lib.createHash(algorithm);\n    }\n\n  },\n\n  /** @!ignore */\n\n  /* Abort constant */\n  abort: {},\n\n  each: function each(object, iterFunction) {\n    for (var key in object) {\n      if (Object.prototype.hasOwnProperty.call(object, key)) {\n        var ret = iterFunction.call(this, key, object[key]);\n        if (ret === util.abort) break;\n      }\n    }\n  },\n\n  arrayEach: function arrayEach(array, iterFunction) {\n    for (var idx in array) {\n      if (Object.prototype.hasOwnProperty.call(array, idx)) {\n        var ret = iterFunction.call(this, array[idx], parseInt(idx, 10));\n        if (ret === util.abort) break;\n      }\n    }\n  },\n\n  update: function update(obj1, obj2) {\n    util.each(obj2, function iterator(key, item) {\n      obj1[key] = item;\n    });\n    return obj1;\n  },\n\n  merge: function merge(obj1, obj2) {\n    return util.update(util.copy(obj1), obj2);\n  },\n\n  copy: function copy(object) {\n    if (object === null || object === undefined) return object;\n    var dupe = {};\n    // jshint forin:false\n    for (var key in object) {\n      dupe[key] = object[key];\n    }\n    return dupe;\n  },\n\n  isEmpty: function isEmpty(obj) {\n    for (var prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n        return false;\n      }\n    }\n    return true;\n  },\n\n  arraySliceFn: function arraySliceFn(obj) {\n    var fn = obj.slice || obj.webkitSlice || obj.mozSlice;\n    return typeof fn === 'function' ? fn : null;\n  },\n\n  isType: function isType(obj, type) {\n    // handle cross-\"frame\" objects\n    if (typeof type === 'function') type = util.typeName(type);\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']';\n  },\n\n  typeName: function typeName(type) {\n    if (Object.prototype.hasOwnProperty.call(type, 'name')) return type.name;\n    var str = type.toString();\n    var match = str.match(/^\\s*function (.+)\\(/);\n    return match ? match[1] : str;\n  },\n\n  error: function error(err, options) {\n    var originalError = null;\n    if (typeof err.message === 'string' && err.message !== '') {\n      if (typeof options === 'string' || (options && options.message)) {\n        originalError = util.copy(err);\n        originalError.message = err.message;\n      }\n    }\n    err.message = err.message || null;\n\n    if (typeof options === 'string') {\n      err.message = options;\n    } else if (typeof options === 'object' && options !== null) {\n      util.update(err, options);\n      if (options.message)\n        err.message = options.message;\n      if (options.code || options.name)\n        err.code = options.code || options.name;\n      if (options.stack)\n        err.stack = options.stack;\n    }\n\n    if (typeof Object.defineProperty === 'function') {\n      Object.defineProperty(err, 'name', {writable: true, enumerable: false});\n      Object.defineProperty(err, 'message', {enumerable: true});\n    }\n\n    err.name = options && options.name || err.name || err.code || 'Error';\n    err.time = new Date();\n\n    if (originalError) err.originalError = originalError;\n\n    return err;\n  },\n\n  /**\n   * @api private\n   */\n  inherit: function inherit(klass, features) {\n    var newObject = null;\n    if (features === undefined) {\n      features = klass;\n      klass = Object;\n      newObject = {};\n    } else {\n      var ctor = function ConstructorWrapper() {};\n      ctor.prototype = klass.prototype;\n      newObject = new ctor();\n    }\n\n    // constructor not supplied, create pass-through ctor\n    if (features.constructor === Object) {\n      features.constructor = function() {\n        if (klass !== Object) {\n          return klass.apply(this, arguments);\n        }\n      };\n    }\n\n    features.constructor.prototype = newObject;\n    util.update(features.constructor.prototype, features);\n    features.constructor.__super__ = klass;\n    return features.constructor;\n  },\n\n  /**\n   * @api private\n   */\n  mixin: function mixin() {\n    var klass = arguments[0];\n    for (var i = 1; i < arguments.length; i++) {\n      // jshint forin:false\n      for (var prop in arguments[i].prototype) {\n        var fn = arguments[i].prototype[prop];\n        if (prop !== 'constructor') {\n          klass.prototype[prop] = fn;\n        }\n      }\n    }\n    return klass;\n  },\n\n  /**\n   * @api private\n   */\n  hideProperties: function hideProperties(obj, props) {\n    if (typeof Object.defineProperty !== 'function') return;\n\n    util.arrayEach(props, function (key) {\n      Object.defineProperty(obj, key, {\n        enumerable: false, writable: true, configurable: true });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  property: function property(obj, name, value, enumerable, isValue) {\n    var opts = {\n      configurable: true,\n      enumerable: enumerable !== undefined ? enumerable : true\n    };\n    if (typeof value === 'function' && !isValue) {\n      opts.get = value;\n    }\n    else {\n      opts.value = value; opts.writable = true;\n    }\n\n    Object.defineProperty(obj, name, opts);\n  },\n\n  /**\n   * @api private\n   */\n  memoizedProperty: function memoizedProperty(obj, name, get, enumerable) {\n    var cachedValue = null;\n\n    // build enumerable attribute for each value with lazy accessor.\n    util.property(obj, name, function() {\n      if (cachedValue === null) {\n        cachedValue = get();\n      }\n      return cachedValue;\n    }, enumerable);\n  },\n\n  /**\n   * TODO Remove in major version revision\n   * This backfill populates response data without the\n   * top-level payload name.\n   *\n   * @api private\n   */\n  hoistPayloadMember: function hoistPayloadMember(resp) {\n    var req = resp.request;\n    var operationName = req.operation;\n    var operation = req.service.api.operations[operationName];\n    var output = operation.output;\n    if (output.payload && !operation.hasEventOutput) {\n      var payloadMember = output.members[output.payload];\n      var responsePayload = resp.data[output.payload];\n      if (payloadMember.type === 'structure') {\n        util.each(responsePayload, function(key, value) {\n          util.property(resp.data, key, value, false);\n        });\n      }\n    }\n  },\n\n  /**\n   * Compute SHA-256 checksums of streams\n   *\n   * @api private\n   */\n  computeSha256: function computeSha256(body, done) {\n    if (util.isNode()) {\n      var Stream = util.stream.Stream;\n      var fs = require('fs');\n      if (typeof Stream === 'function' && body instanceof Stream) {\n        if (typeof body.path === 'string') { // assume file object\n          var settings = {};\n          if (typeof body.start === 'number') {\n            settings.start = body.start;\n          }\n          if (typeof body.end === 'number') {\n            settings.end = body.end;\n          }\n          body = fs.createReadStream(body.path, settings);\n        } else { // TODO support other stream types\n          return done(new Error('Non-file stream objects are ' +\n                                'not supported with SigV4'));\n        }\n      }\n    }\n\n    util.crypto.sha256(body, 'hex', function(err, sha) {\n      if (err) done(err);\n      else done(null, sha);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  isClockSkewed: function isClockSkewed(serverTime) {\n    if (serverTime) {\n      util.property(AWS.config, 'isClockSkewed',\n        Math.abs(new Date().getTime() - serverTime) >= 300000, false);\n      return AWS.config.isClockSkewed;\n    }\n  },\n\n  applyClockOffset: function applyClockOffset(serverTime) {\n    if (serverTime)\n      AWS.config.systemClockOffset = serverTime - new Date().getTime();\n  },\n\n  /**\n   * @api private\n   */\n  extractRequestId: function extractRequestId(resp) {\n    var requestId = resp.httpResponse.headers['x-amz-request-id'] ||\n                     resp.httpResponse.headers['x-amzn-requestid'];\n\n    if (!requestId && resp.data && resp.data.ResponseMetadata) {\n      requestId = resp.data.ResponseMetadata.RequestId;\n    }\n\n    if (requestId) {\n      resp.requestId = requestId;\n    }\n\n    if (resp.error) {\n      resp.error.requestId = requestId;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  addPromises: function addPromises(constructors, PromiseDependency) {\n    var deletePromises = false;\n    if (PromiseDependency === undefined && AWS && AWS.config) {\n      PromiseDependency = AWS.config.getPromisesDependency();\n    }\n    if (PromiseDependency === undefined && typeof Promise !== 'undefined') {\n      PromiseDependency = Promise;\n    }\n    if (typeof PromiseDependency !== 'function') deletePromises = true;\n    if (!Array.isArray(constructors)) constructors = [constructors];\n\n    for (var ind = 0; ind < constructors.length; ind++) {\n      var constructor = constructors[ind];\n      if (deletePromises) {\n        if (constructor.deletePromisesFromClass) {\n          constructor.deletePromisesFromClass();\n        }\n      } else if (constructor.addPromisesToClass) {\n        constructor.addPromisesToClass(PromiseDependency);\n      }\n    }\n  },\n\n  /**\n   * @api private\n   * Return a function that will return a promise whose fate is decided by the\n   * callback behavior of the given method with `methodName`. The method to be\n   * promisified should conform to node.js convention of accepting a callback as\n   * last argument and calling that callback with error as the first argument\n   * and success value on the second argument.\n   */\n  promisifyMethod: function promisifyMethod(methodName, PromiseDependency) {\n    return function promise() {\n      var self = this;\n      var args = Array.prototype.slice.call(arguments);\n      return new PromiseDependency(function(resolve, reject) {\n        args.push(function(err, data) {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(data);\n          }\n        });\n        self[methodName].apply(self, args);\n      });\n    };\n  },\n\n  /**\n   * @api private\n   */\n  isDualstackAvailable: function isDualstackAvailable(service) {\n    if (!service) return false;\n    var metadata = require('../apis/metadata.json');\n    if (typeof service !== 'string') service = service.serviceIdentifier;\n    if (typeof service !== 'string' || !metadata.hasOwnProperty(service)) return false;\n    return !!metadata[service].dualstackAvailable;\n  },\n\n  /**\n   * @api private\n   */\n  calculateRetryDelay: function calculateRetryDelay(retryCount, retryDelayOptions, err) {\n    if (!retryDelayOptions) retryDelayOptions = {};\n    var customBackoff = retryDelayOptions.customBackoff || null;\n    if (typeof customBackoff === 'function') {\n      return customBackoff(retryCount, err);\n    }\n    var base = typeof retryDelayOptions.base === 'number' ? retryDelayOptions.base : 100;\n    var delay = Math.random() * (Math.pow(2, retryCount) * base);\n    return delay;\n  },\n\n  /**\n   * @api private\n   */\n  handleRequestWithRetries: function handleRequestWithRetries(httpRequest, options, cb) {\n    if (!options) options = {};\n    var http = AWS.HttpClient.getInstance();\n    var httpOptions = options.httpOptions || {};\n    var retryCount = 0;\n\n    var errCallback = function(err) {\n      var maxRetries = options.maxRetries || 0;\n      if (err && err.code === 'TimeoutError') err.retryable = true;\n      var delay = util.calculateRetryDelay(retryCount, options.retryDelayOptions, err);\n      if (err && err.retryable && retryCount < maxRetries && delay >= 0) {\n        retryCount++;\n        setTimeout(sendRequest, delay + (err.retryAfter || 0));\n      } else {\n        cb(err);\n      }\n    };\n\n    var sendRequest = function() {\n      var data = '';\n      http.handleRequest(httpRequest, httpOptions, function(httpResponse) {\n        httpResponse.on('data', function(chunk) { data += chunk.toString(); });\n        httpResponse.on('end', function() {\n          var statusCode = httpResponse.statusCode;\n          if (statusCode < 300) {\n            cb(null, data);\n          } else {\n            var retryAfter = parseInt(httpResponse.headers['retry-after'], 10) * 1000 || 0;\n            var err = util.error(new Error(),\n              { retryable: statusCode >= 500 || statusCode === 429 }\n            );\n            if (retryAfter && err.retryable) err.retryAfter = retryAfter;\n            errCallback(err);\n          }\n        });\n      }, errCallback);\n    };\n\n    AWS.util.defer(sendRequest);\n  },\n\n  /**\n   * @api private\n   */\n  uuid: {\n    v4: function uuidV4() {\n      return require('uuid').v4();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  convertPayloadToString: function convertPayloadToString(resp) {\n    var req = resp.request;\n    var operation = req.operation;\n    var rules = req.service.api.operations[operation].output || {};\n    if (rules.payload && resp.data[rules.payload]) {\n      resp.data[rules.payload] = resp.data[rules.payload].toString();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  defer: function defer(callback) {\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n      process.nextTick(callback);\n    } else if (typeof setImmediate === 'function') {\n      setImmediate(callback);\n    } else {\n      setTimeout(callback, 0);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getRequestPayloadShape: function getRequestPayloadShape(req) {\n    var operations = req.service.api.operations;\n    if (!operations) return undefined;\n    var operation = (operations || {})[req.operation];\n    if (!operation || !operation.input || !operation.input.payload) return undefined;\n    return operation.input.members[operation.input.payload];\n  },\n\n  getProfilesFromSharedConfig: function getProfilesFromSharedConfig(iniLoader, filename) {\n    var profiles = {};\n    var profilesFromConfig = {};\n    if (process.env[util.configOptInEnv]) {\n      var profilesFromConfig = iniLoader.loadFrom({\n        isConfig: true,\n        filename: process.env[util.sharedConfigFileEnv]\n      });\n    }\n    var profilesFromCreds = iniLoader.loadFrom({\n      filename: filename ||\n        (process.env[util.configOptInEnv] && process.env[util.sharedCredentialsFileEnv])\n    });\n    for (var i = 0, profileNames = Object.keys(profilesFromConfig); i < profileNames.length; i++) {\n      profiles[profileNames[i]] = profilesFromConfig[profileNames[i]];\n    }\n    for (var i = 0, profileNames = Object.keys(profilesFromCreds); i < profileNames.length; i++) {\n      profiles[profileNames[i]] = profilesFromCreds[profileNames[i]];\n    }\n    return profiles;\n  },\n\n  /**\n   * @api private\n   */\n  defaultProfile: 'default',\n\n  /**\n   * @api private\n   */\n  configOptInEnv: 'AWS_SDK_LOAD_CONFIG',\n\n  /**\n   * @api private\n   */\n  sharedCredentialsFileEnv: 'AWS_SHARED_CREDENTIALS_FILE',\n\n  /**\n   * @api private\n   */\n  sharedConfigFileEnv: 'AWS_CONFIG_FILE',\n\n  /**\n   * @api private\n   */\n  imdsDisabledEnv: 'AWS_EC2_METADATA_DISABLED'\n};\n\n/**\n * @api private\n */\nmodule.exports = util;\n","var AWS = require('../core');\n\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.RequestSigner = inherit({\n  constructor: function RequestSigner(request) {\n    this.request = request;\n  },\n\n  setServiceClientId: function setServiceClientId(id) {\n    this.serviceClientId = id;\n  },\n\n  getServiceClientId: function getServiceClientId() {\n    return this.serviceClientId;\n  }\n});\n\nAWS.Signers.RequestSigner.getVersion = function getVersion(version) {\n  switch (version) {\n    case 'v2': return AWS.Signers.V2;\n    case 'v3': return AWS.Signers.V3;\n    case 's3v4': return AWS.Signers.V4;\n    case 'v4': return AWS.Signers.V4;\n    case 's3': return AWS.Signers.S3;\n    case 'v3https': return AWS.Signers.V3Https;\n  }\n  throw new Error('Unknown signing version ' + version);\n};\n\nrequire('./v2');\nrequire('./v3');\nrequire('./v3https');\nrequire('./v4');\nrequire('./s3');\nrequire('./presign');\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['inspector'] = {};\nAWS.Inspector = Service.defineService('inspector', ['2015-08-18*', '2016-02-16']);\nObject.defineProperty(apiLoader.services['inspector'], '2016-02-16', {\n  get: function get() {\n    var model = require('../apis/inspector-2016-02-16.min.json');\n    model.paginators = require('../apis/inspector-2016-02-16.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Inspector;\n","var util = require('../util');\nvar Shape = require('../model/shape');\n\nfunction DomXmlParser() { }\n\nDomXmlParser.prototype.parse = function(xml, shape) {\n  if (xml.replace(/^\\s+/, '') === '') return {};\n\n  var result, error;\n  try {\n    if (window.DOMParser) {\n      try {\n        var parser = new DOMParser();\n        result = parser.parseFromString(xml, 'text/xml');\n      } catch (syntaxError) {\n        throw util.error(new Error('Parse error in document'),\n          {\n            originalError: syntaxError,\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n\n      if (result.documentElement === null) {\n        throw util.error(new Error('Cannot parse empty document.'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n\n      var isError = result.getElementsByTagName('parsererror')[0];\n      if (isError && (isError.parentNode === result ||\n          isError.parentNode.nodeName === 'body' ||\n          isError.parentNode.parentNode === result ||\n          isError.parentNode.parentNode.nodeName === 'body')) {\n        var errorElement = isError.getElementsByTagName('div')[0] || isError;\n        throw util.error(new Error(errorElement.textContent || 'Parser error in document'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n    } else if (window.ActiveXObject) {\n      result = new window.ActiveXObject('Microsoft.XMLDOM');\n      result.async = false;\n\n      if (!result.loadXML(xml)) {\n        throw util.error(new Error('Parse error in document'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n    } else {\n      throw new Error('Cannot load XML parser');\n    }\n  } catch (e) {\n    error = e;\n  }\n\n  if (result && result.documentElement && !error) {\n    var data = parseXml(result.documentElement, shape);\n    var metadata = getElementByTagName(result.documentElement, 'ResponseMetadata');\n    if (metadata) {\n      data.ResponseMetadata = parseXml(metadata, {});\n    }\n    return data;\n  } else if (error) {\n    throw util.error(error || new Error(), {code: 'XMLParserError', retryable: true});\n  } else { // empty xml document\n    return {};\n  }\n};\n\nfunction getElementByTagName(xml, tag) {\n  var elements = xml.getElementsByTagName(tag);\n  for (var i = 0, iLen = elements.length; i < iLen; i++) {\n    if (elements[i].parentNode === xml) {\n      return elements[i];\n    }\n  }\n}\n\nfunction parseXml(xml, shape) {\n  if (!shape) shape = {};\n  switch (shape.type) {\n    case 'structure': return parseStructure(xml, shape);\n    case 'map': return parseMap(xml, shape);\n    case 'list': return parseList(xml, shape);\n    case undefined: case null: return parseUnknown(xml);\n    default: return parseScalar(xml, shape);\n  }\n}\n\nfunction parseStructure(xml, shape) {\n  var data = {};\n  if (xml === null) return data;\n\n  util.each(shape.members, function(memberName, memberShape) {\n    if (memberShape.isXmlAttribute) {\n      if (Object.prototype.hasOwnProperty.call(xml.attributes, memberShape.name)) {\n        var value = xml.attributes[memberShape.name].value;\n        data[memberName] = parseXml({textContent: value}, memberShape);\n      }\n    } else {\n      var xmlChild = memberShape.flattened ? xml :\n        getElementByTagName(xml, memberShape.name);\n      if (xmlChild) {\n        data[memberName] = parseXml(xmlChild, memberShape);\n      } else if (!memberShape.flattened && memberShape.type === 'list') {\n        data[memberName] = memberShape.defaultValue;\n      }\n    }\n  });\n\n  return data;\n}\n\nfunction parseMap(xml, shape) {\n  var data = {};\n  var xmlKey = shape.key.name || 'key';\n  var xmlValue = shape.value.name || 'value';\n  var tagName = shape.flattened ? shape.name : 'entry';\n\n  var child = xml.firstElementChild;\n  while (child) {\n    if (child.nodeName === tagName) {\n      var key = getElementByTagName(child, xmlKey).textContent;\n      var value = getElementByTagName(child, xmlValue);\n      data[key] = parseXml(value, shape.value);\n    }\n    child = child.nextElementSibling;\n  }\n  return data;\n}\n\nfunction parseList(xml, shape) {\n  var data = [];\n  var tagName = shape.flattened ? shape.name : (shape.member.name || 'member');\n\n  var child = xml.firstElementChild;\n  while (child) {\n    if (child.nodeName === tagName) {\n      data.push(parseXml(child, shape.member));\n    }\n    child = child.nextElementSibling;\n  }\n  return data;\n}\n\nfunction parseScalar(xml, shape) {\n  if (xml.getAttribute) {\n    var encoding = xml.getAttribute('encoding');\n    if (encoding === 'base64') {\n      shape = new Shape.create({type: encoding});\n    }\n  }\n\n  var text = xml.textContent;\n  if (text === '') text = null;\n  if (typeof shape.toType === 'function') {\n    return shape.toType(text);\n  } else {\n    return text;\n  }\n}\n\nfunction parseUnknown(xml) {\n  if (xml === undefined || xml === null) return '';\n\n  // empty object\n  if (!xml.firstElementChild) {\n    if (xml.parentNode.parentNode === null) return {};\n    if (xml.childNodes.length === 0) return '';\n    else return xml.textContent;\n  }\n\n  // object, parse as structure\n  var shape = {type: 'structure', members: {}};\n  var child = xml.firstElementChild;\n  while (child) {\n    var tag = child.nodeName;\n    if (Object.prototype.hasOwnProperty.call(shape.members, tag)) {\n      // multiple tags of the same name makes it a list\n      shape.members[tag].type = 'list';\n    } else {\n      shape.members[tag] = {name: tag};\n    }\n    child = child.nextElementSibling;\n  }\n  return parseStructure(xml, shape);\n}\n\n/**\n * @api private\n */\nmodule.exports = DomXmlParser;\n","(function(exports) {\n  \"use strict\";\n\n  function isArray(obj) {\n    if (obj !== null) {\n      return Object.prototype.toString.call(obj) === \"[object Array]\";\n    } else {\n      return false;\n    }\n  }\n\n  function isObject(obj) {\n    if (obj !== null) {\n      return Object.prototype.toString.call(obj) === \"[object Object]\";\n    } else {\n      return false;\n    }\n  }\n\n  function strictDeepEqual(first, second) {\n    // Check the scalar case first.\n    if (first === second) {\n      return true;\n    }\n\n    // Check if they are the same type.\n    var firstType = Object.prototype.toString.call(first);\n    if (firstType !== Object.prototype.toString.call(second)) {\n      return false;\n    }\n    // We know that first and second have the same type so we can just check the\n    // first type from now on.\n    if (isArray(first) === true) {\n      // Short circuit if they're not the same length;\n      if (first.length !== second.length) {\n        return false;\n      }\n      for (var i = 0; i < first.length; i++) {\n        if (strictDeepEqual(first[i], second[i]) === false) {\n          return false;\n        }\n      }\n      return true;\n    }\n    if (isObject(first) === true) {\n      // An object is equal if it has the same key/value pairs.\n      var keysSeen = {};\n      for (var key in first) {\n        if (hasOwnProperty.call(first, key)) {\n          if (strictDeepEqual(first[key], second[key]) === false) {\n            return false;\n          }\n          keysSeen[key] = true;\n        }\n      }\n      // Now check that there aren't any keys in second that weren't\n      // in first.\n      for (var key2 in second) {\n        if (hasOwnProperty.call(second, key2)) {\n          if (keysSeen[key2] !== true) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  function isFalse(obj) {\n    // From the spec:\n    // A false value corresponds to the following values:\n    // Empty list\n    // Empty object\n    // Empty string\n    // False boolean\n    // null value\n\n    // First check the scalar values.\n    if (obj === \"\" || obj === false || obj === null) {\n        return true;\n    } else if (isArray(obj) && obj.length === 0) {\n        // Check for an empty array.\n        return true;\n    } else if (isObject(obj)) {\n        // Check for an empty object.\n        for (var key in obj) {\n            // If there are any keys, then\n            // the object is not empty so the object\n            // is not false.\n            if (obj.hasOwnProperty(key)) {\n              return false;\n            }\n        }\n        return true;\n    } else {\n        return false;\n    }\n  }\n\n  function objValues(obj) {\n    var keys = Object.keys(obj);\n    var values = [];\n    for (var i = 0; i < keys.length; i++) {\n      values.push(obj[keys[i]]);\n    }\n    return values;\n  }\n\n  function merge(a, b) {\n      var merged = {};\n      for (var key in a) {\n          merged[key] = a[key];\n      }\n      for (var key2 in b) {\n          merged[key2] = b[key2];\n      }\n      return merged;\n  }\n\n  var trimLeft;\n  if (typeof String.prototype.trimLeft === \"function\") {\n    trimLeft = function(str) {\n      return str.trimLeft();\n    };\n  } else {\n    trimLeft = function(str) {\n      return str.match(/^\\s*(.*)/)[1];\n    };\n  }\n\n  // Type constants used to define functions.\n  var TYPE_NUMBER = 0;\n  var TYPE_ANY = 1;\n  var TYPE_STRING = 2;\n  var TYPE_ARRAY = 3;\n  var TYPE_OBJECT = 4;\n  var TYPE_BOOLEAN = 5;\n  var TYPE_EXPREF = 6;\n  var TYPE_NULL = 7;\n  var TYPE_ARRAY_NUMBER = 8;\n  var TYPE_ARRAY_STRING = 9;\n\n  var TOK_EOF = \"EOF\";\n  var TOK_UNQUOTEDIDENTIFIER = \"UnquotedIdentifier\";\n  var TOK_QUOTEDIDENTIFIER = \"QuotedIdentifier\";\n  var TOK_RBRACKET = \"Rbracket\";\n  var TOK_RPAREN = \"Rparen\";\n  var TOK_COMMA = \"Comma\";\n  var TOK_COLON = \"Colon\";\n  var TOK_RBRACE = \"Rbrace\";\n  var TOK_NUMBER = \"Number\";\n  var TOK_CURRENT = \"Current\";\n  var TOK_EXPREF = \"Expref\";\n  var TOK_PIPE = \"Pipe\";\n  var TOK_OR = \"Or\";\n  var TOK_AND = \"And\";\n  var TOK_EQ = \"EQ\";\n  var TOK_GT = \"GT\";\n  var TOK_LT = \"LT\";\n  var TOK_GTE = \"GTE\";\n  var TOK_LTE = \"LTE\";\n  var TOK_NE = \"NE\";\n  var TOK_FLATTEN = \"Flatten\";\n  var TOK_STAR = \"Star\";\n  var TOK_FILTER = \"Filter\";\n  var TOK_DOT = \"Dot\";\n  var TOK_NOT = \"Not\";\n  var TOK_LBRACE = \"Lbrace\";\n  var TOK_LBRACKET = \"Lbracket\";\n  var TOK_LPAREN= \"Lparen\";\n  var TOK_LITERAL= \"Literal\";\n\n  // The \"&\", \"[\", \"<\", \">\" tokens\n  // are not in basicToken because\n  // there are two token variants\n  // (\"&&\", \"[?\", \"<=\", \">=\").  This is specially handled\n  // below.\n\n  var basicTokens = {\n    \".\": TOK_DOT,\n    \"*\": TOK_STAR,\n    \",\": TOK_COMMA,\n    \":\": TOK_COLON,\n    \"{\": TOK_LBRACE,\n    \"}\": TOK_RBRACE,\n    \"]\": TOK_RBRACKET,\n    \"(\": TOK_LPAREN,\n    \")\": TOK_RPAREN,\n    \"@\": TOK_CURRENT\n  };\n\n  var operatorStartToken = {\n      \"<\": true,\n      \">\": true,\n      \"=\": true,\n      \"!\": true\n  };\n\n  var skipChars = {\n      \" \": true,\n      \"\\t\": true,\n      \"\\n\": true\n  };\n\n\n  function isAlpha(ch) {\n      return (ch >= \"a\" && ch <= \"z\") ||\n             (ch >= \"A\" && ch <= \"Z\") ||\n             ch === \"_\";\n  }\n\n  function isNum(ch) {\n      return (ch >= \"0\" && ch <= \"9\") ||\n             ch === \"-\";\n  }\n  function isAlphaNum(ch) {\n      return (ch >= \"a\" && ch <= \"z\") ||\n             (ch >= \"A\" && ch <= \"Z\") ||\n             (ch >= \"0\" && ch <= \"9\") ||\n             ch === \"_\";\n  }\n\n  function Lexer() {\n  }\n  Lexer.prototype = {\n      tokenize: function(stream) {\n          var tokens = [];\n          this._current = 0;\n          var start;\n          var identifier;\n          var token;\n          while (this._current < stream.length) {\n              if (isAlpha(stream[this._current])) {\n                  start = this._current;\n                  identifier = this._consumeUnquotedIdentifier(stream);\n                  tokens.push({type: TOK_UNQUOTEDIDENTIFIER,\n                               value: identifier,\n                               start: start});\n              } else if (basicTokens[stream[this._current]] !== undefined) {\n                  tokens.push({type: basicTokens[stream[this._current]],\n                              value: stream[this._current],\n                              start: this._current});\n                  this._current++;\n              } else if (isNum(stream[this._current])) {\n                  token = this._consumeNumber(stream);\n                  tokens.push(token);\n              } else if (stream[this._current] === \"[\") {\n                  // No need to increment this._current.  This happens\n                  // in _consumeLBracket\n                  token = this._consumeLBracket(stream);\n                  tokens.push(token);\n              } else if (stream[this._current] === \"\\\"\") {\n                  start = this._current;\n                  identifier = this._consumeQuotedIdentifier(stream);\n                  tokens.push({type: TOK_QUOTEDIDENTIFIER,\n                               value: identifier,\n                               start: start});\n              } else if (stream[this._current] === \"'\") {\n                  start = this._current;\n                  identifier = this._consumeRawStringLiteral(stream);\n                  tokens.push({type: TOK_LITERAL,\n                               value: identifier,\n                               start: start});\n              } else if (stream[this._current] === \"`\") {\n                  start = this._current;\n                  var literal = this._consumeLiteral(stream);\n                  tokens.push({type: TOK_LITERAL,\n                               value: literal,\n                               start: start});\n              } else if (operatorStartToken[stream[this._current]] !== undefined) {\n                  tokens.push(this._consumeOperator(stream));\n              } else if (skipChars[stream[this._current]] !== undefined) {\n                  // Ignore whitespace.\n                  this._current++;\n              } else if (stream[this._current] === \"&\") {\n                  start = this._current;\n                  this._current++;\n                  if (stream[this._current] === \"&\") {\n                      this._current++;\n                      tokens.push({type: TOK_AND, value: \"&&\", start: start});\n                  } else {\n                      tokens.push({type: TOK_EXPREF, value: \"&\", start: start});\n                  }\n              } else if (stream[this._current] === \"|\") {\n                  start = this._current;\n                  this._current++;\n                  if (stream[this._current] === \"|\") {\n                      this._current++;\n                      tokens.push({type: TOK_OR, value: \"||\", start: start});\n                  } else {\n                      tokens.push({type: TOK_PIPE, value: \"|\", start: start});\n                  }\n              } else {\n                  var error = new Error(\"Unknown character:\" + stream[this._current]);\n                  error.name = \"LexerError\";\n                  throw error;\n              }\n          }\n          return tokens;\n      },\n\n      _consumeUnquotedIdentifier: function(stream) {\n          var start = this._current;\n          this._current++;\n          while (this._current < stream.length && isAlphaNum(stream[this._current])) {\n              this._current++;\n          }\n          return stream.slice(start, this._current);\n      },\n\n      _consumeQuotedIdentifier: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (stream[this._current] !== \"\\\"\" && this._current < maxLength) {\n              // You can escape a double quote and you can escape an escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"\\\"\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          this._current++;\n          return JSON.parse(stream.slice(start, this._current));\n      },\n\n      _consumeRawStringLiteral: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (stream[this._current] !== \"'\" && this._current < maxLength) {\n              // You can escape a single quote and you can escape an escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"'\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          this._current++;\n          var literal = stream.slice(start + 1, this._current - 1);\n          return literal.replace(\"\\\\'\", \"'\");\n      },\n\n      _consumeNumber: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (isNum(stream[this._current]) && this._current < maxLength) {\n              this._current++;\n          }\n          var value = parseInt(stream.slice(start, this._current));\n          return {type: TOK_NUMBER, value: value, start: start};\n      },\n\n      _consumeLBracket: function(stream) {\n          var start = this._current;\n          this._current++;\n          if (stream[this._current] === \"?\") {\n              this._current++;\n              return {type: TOK_FILTER, value: \"[?\", start: start};\n          } else if (stream[this._current] === \"]\") {\n              this._current++;\n              return {type: TOK_FLATTEN, value: \"[]\", start: start};\n          } else {\n              return {type: TOK_LBRACKET, value: \"[\", start: start};\n          }\n      },\n\n      _consumeOperator: function(stream) {\n          var start = this._current;\n          var startingChar = stream[start];\n          this._current++;\n          if (startingChar === \"!\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_NE, value: \"!=\", start: start};\n              } else {\n                return {type: TOK_NOT, value: \"!\", start: start};\n              }\n          } else if (startingChar === \"<\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_LTE, value: \"<=\", start: start};\n              } else {\n                  return {type: TOK_LT, value: \"<\", start: start};\n              }\n          } else if (startingChar === \">\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_GTE, value: \">=\", start: start};\n              } else {\n                  return {type: TOK_GT, value: \">\", start: start};\n              }\n          } else if (startingChar === \"=\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_EQ, value: \"==\", start: start};\n              }\n          }\n      },\n\n      _consumeLiteral: function(stream) {\n          this._current++;\n          var start = this._current;\n          var maxLength = stream.length;\n          var literal;\n          while(stream[this._current] !== \"`\" && this._current < maxLength) {\n              // You can escape a literal char or you can escape the escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"`\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          var literalString = trimLeft(stream.slice(start, this._current));\n          literalString = literalString.replace(\"\\\\`\", \"`\");\n          if (this._looksLikeJSON(literalString)) {\n              literal = JSON.parse(literalString);\n          } else {\n              // Try to JSON parse it as \"<literal>\"\n              literal = JSON.parse(\"\\\"\" + literalString + \"\\\"\");\n          }\n          // +1 gets us to the ending \"`\", +1 to move on to the next char.\n          this._current++;\n          return literal;\n      },\n\n      _looksLikeJSON: function(literalString) {\n          var startingChars = \"[{\\\"\";\n          var jsonLiterals = [\"true\", \"false\", \"null\"];\n          var numberLooking = \"-0123456789\";\n\n          if (literalString === \"\") {\n              return false;\n          } else if (startingChars.indexOf(literalString[0]) >= 0) {\n              return true;\n          } else if (jsonLiterals.indexOf(literalString) >= 0) {\n              return true;\n          } else if (numberLooking.indexOf(literalString[0]) >= 0) {\n              try {\n                  JSON.parse(literalString);\n                  return true;\n              } catch (ex) {\n                  return false;\n              }\n          } else {\n              return false;\n          }\n      }\n  };\n\n      var bindingPower = {};\n      bindingPower[TOK_EOF] = 0;\n      bindingPower[TOK_UNQUOTEDIDENTIFIER] = 0;\n      bindingPower[TOK_QUOTEDIDENTIFIER] = 0;\n      bindingPower[TOK_RBRACKET] = 0;\n      bindingPower[TOK_RPAREN] = 0;\n      bindingPower[TOK_COMMA] = 0;\n      bindingPower[TOK_RBRACE] = 0;\n      bindingPower[TOK_NUMBER] = 0;\n      bindingPower[TOK_CURRENT] = 0;\n      bindingPower[TOK_EXPREF] = 0;\n      bindingPower[TOK_PIPE] = 1;\n      bindingPower[TOK_OR] = 2;\n      bindingPower[TOK_AND] = 3;\n      bindingPower[TOK_EQ] = 5;\n      bindingPower[TOK_GT] = 5;\n      bindingPower[TOK_LT] = 5;\n      bindingPower[TOK_GTE] = 5;\n      bindingPower[TOK_LTE] = 5;\n      bindingPower[TOK_NE] = 5;\n      bindingPower[TOK_FLATTEN] = 9;\n      bindingPower[TOK_STAR] = 20;\n      bindingPower[TOK_FILTER] = 21;\n      bindingPower[TOK_DOT] = 40;\n      bindingPower[TOK_NOT] = 45;\n      bindingPower[TOK_LBRACE] = 50;\n      bindingPower[TOK_LBRACKET] = 55;\n      bindingPower[TOK_LPAREN] = 60;\n\n  function Parser() {\n  }\n\n  Parser.prototype = {\n      parse: function(expression) {\n          this._loadTokens(expression);\n          this.index = 0;\n          var ast = this.expression(0);\n          if (this._lookahead(0) !== TOK_EOF) {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\n                  \"Unexpected token type: \" + t.type + \", value: \" + t.value);\n              error.name = \"ParserError\";\n              throw error;\n          }\n          return ast;\n      },\n\n      _loadTokens: function(expression) {\n          var lexer = new Lexer();\n          var tokens = lexer.tokenize(expression);\n          tokens.push({type: TOK_EOF, value: \"\", start: expression.length});\n          this.tokens = tokens;\n      },\n\n      expression: function(rbp) {\n          var leftToken = this._lookaheadToken(0);\n          this._advance();\n          var left = this.nud(leftToken);\n          var currentToken = this._lookahead(0);\n          while (rbp < bindingPower[currentToken]) {\n              this._advance();\n              left = this.led(currentToken, left);\n              currentToken = this._lookahead(0);\n          }\n          return left;\n      },\n\n      _lookahead: function(number) {\n          return this.tokens[this.index + number].type;\n      },\n\n      _lookaheadToken: function(number) {\n          return this.tokens[this.index + number];\n      },\n\n      _advance: function() {\n          this.index++;\n      },\n\n      nud: function(token) {\n        var left;\n        var right;\n        var expression;\n        switch (token.type) {\n          case TOK_LITERAL:\n            return {type: \"Literal\", value: token.value};\n          case TOK_UNQUOTEDIDENTIFIER:\n            return {type: \"Field\", name: token.value};\n          case TOK_QUOTEDIDENTIFIER:\n            var node = {type: \"Field\", name: token.value};\n            if (this._lookahead(0) === TOK_LPAREN) {\n                throw new Error(\"Quoted identifier not allowed for function names.\");\n            } else {\n                return node;\n            }\n            break;\n          case TOK_NOT:\n            right = this.expression(bindingPower.Not);\n            return {type: \"NotExpression\", children: [right]};\n          case TOK_STAR:\n            left = {type: \"Identity\"};\n            right = null;\n            if (this._lookahead(0) === TOK_RBRACKET) {\n                // This can happen in a multiselect,\n                // [a, b, *]\n                right = {type: \"Identity\"};\n            } else {\n                right = this._parseProjectionRHS(bindingPower.Star);\n            }\n            return {type: \"ValueProjection\", children: [left, right]};\n          case TOK_FILTER:\n            return this.led(token.type, {type: \"Identity\"});\n          case TOK_LBRACE:\n            return this._parseMultiselectHash();\n          case TOK_FLATTEN:\n            left = {type: TOK_FLATTEN, children: [{type: \"Identity\"}]};\n            right = this._parseProjectionRHS(bindingPower.Flatten);\n            return {type: \"Projection\", children: [left, right]};\n          case TOK_LBRACKET:\n            if (this._lookahead(0) === TOK_NUMBER || this._lookahead(0) === TOK_COLON) {\n                right = this._parseIndexExpression();\n                return this._projectIfSlice({type: \"Identity\"}, right);\n            } else if (this._lookahead(0) === TOK_STAR &&\n                       this._lookahead(1) === TOK_RBRACKET) {\n                this._advance();\n                this._advance();\n                right = this._parseProjectionRHS(bindingPower.Star);\n                return {type: \"Projection\",\n                        children: [{type: \"Identity\"}, right]};\n            } else {\n                return this._parseMultiselectList();\n            }\n            break;\n          case TOK_CURRENT:\n            return {type: TOK_CURRENT};\n          case TOK_EXPREF:\n            expression = this.expression(bindingPower.Expref);\n            return {type: \"ExpressionReference\", children: [expression]};\n          case TOK_LPAREN:\n            var args = [];\n            while (this._lookahead(0) !== TOK_RPAREN) {\n              if (this._lookahead(0) === TOK_CURRENT) {\n                expression = {type: TOK_CURRENT};\n                this._advance();\n              } else {\n                expression = this.expression(0);\n              }\n              args.push(expression);\n            }\n            this._match(TOK_RPAREN);\n            return args[0];\n          default:\n            this._errorToken(token);\n        }\n      },\n\n      led: function(tokenName, left) {\n        var right;\n        switch(tokenName) {\n          case TOK_DOT:\n            var rbp = bindingPower.Dot;\n            if (this._lookahead(0) !== TOK_STAR) {\n                right = this._parseDotRHS(rbp);\n                return {type: \"Subexpression\", children: [left, right]};\n            } else {\n                // Creating a projection.\n                this._advance();\n                right = this._parseProjectionRHS(rbp);\n                return {type: \"ValueProjection\", children: [left, right]};\n            }\n            break;\n          case TOK_PIPE:\n            right = this.expression(bindingPower.Pipe);\n            return {type: TOK_PIPE, children: [left, right]};\n          case TOK_OR:\n            right = this.expression(bindingPower.Or);\n            return {type: \"OrExpression\", children: [left, right]};\n          case TOK_AND:\n            right = this.expression(bindingPower.And);\n            return {type: \"AndExpression\", children: [left, right]};\n          case TOK_LPAREN:\n            var name = left.name;\n            var args = [];\n            var expression, node;\n            while (this._lookahead(0) !== TOK_RPAREN) {\n              if (this._lookahead(0) === TOK_CURRENT) {\n                expression = {type: TOK_CURRENT};\n                this._advance();\n              } else {\n                expression = this.expression(0);\n              }\n              if (this._lookahead(0) === TOK_COMMA) {\n                this._match(TOK_COMMA);\n              }\n              args.push(expression);\n            }\n            this._match(TOK_RPAREN);\n            node = {type: \"Function\", name: name, children: args};\n            return node;\n          case TOK_FILTER:\n            var condition = this.expression(0);\n            this._match(TOK_RBRACKET);\n            if (this._lookahead(0) === TOK_FLATTEN) {\n              right = {type: \"Identity\"};\n            } else {\n              right = this._parseProjectionRHS(bindingPower.Filter);\n            }\n            return {type: \"FilterProjection\", children: [left, right, condition]};\n          case TOK_FLATTEN:\n            var leftNode = {type: TOK_FLATTEN, children: [left]};\n            var rightNode = this._parseProjectionRHS(bindingPower.Flatten);\n            return {type: \"Projection\", children: [leftNode, rightNode]};\n          case TOK_EQ:\n          case TOK_NE:\n          case TOK_GT:\n          case TOK_GTE:\n          case TOK_LT:\n          case TOK_LTE:\n            return this._parseComparator(left, tokenName);\n          case TOK_LBRACKET:\n            var token = this._lookaheadToken(0);\n            if (token.type === TOK_NUMBER || token.type === TOK_COLON) {\n                right = this._parseIndexExpression();\n                return this._projectIfSlice(left, right);\n            } else {\n                this._match(TOK_STAR);\n                this._match(TOK_RBRACKET);\n                right = this._parseProjectionRHS(bindingPower.Star);\n                return {type: \"Projection\", children: [left, right]};\n            }\n            break;\n          default:\n            this._errorToken(this._lookaheadToken(0));\n        }\n      },\n\n      _match: function(tokenType) {\n          if (this._lookahead(0) === tokenType) {\n              this._advance();\n          } else {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\"Expected \" + tokenType + \", got: \" + t.type);\n              error.name = \"ParserError\";\n              throw error;\n          }\n      },\n\n      _errorToken: function(token) {\n          var error = new Error(\"Invalid token (\" +\n                                token.type + \"): \\\"\" +\n                                token.value + \"\\\"\");\n          error.name = \"ParserError\";\n          throw error;\n      },\n\n\n      _parseIndexExpression: function() {\n          if (this._lookahead(0) === TOK_COLON || this._lookahead(1) === TOK_COLON) {\n              return this._parseSliceExpression();\n          } else {\n              var node = {\n                  type: \"Index\",\n                  value: this._lookaheadToken(0).value};\n              this._advance();\n              this._match(TOK_RBRACKET);\n              return node;\n          }\n      },\n\n      _projectIfSlice: function(left, right) {\n          var indexExpr = {type: \"IndexExpression\", children: [left, right]};\n          if (right.type === \"Slice\") {\n              return {\n                  type: \"Projection\",\n                  children: [indexExpr, this._parseProjectionRHS(bindingPower.Star)]\n              };\n          } else {\n              return indexExpr;\n          }\n      },\n\n      _parseSliceExpression: function() {\n          // [start:end:step] where each part is optional, as well as the last\n          // colon.\n          var parts = [null, null, null];\n          var index = 0;\n          var currentToken = this._lookahead(0);\n          while (currentToken !== TOK_RBRACKET && index < 3) {\n              if (currentToken === TOK_COLON) {\n                  index++;\n                  this._advance();\n              } else if (currentToken === TOK_NUMBER) {\n                  parts[index] = this._lookaheadToken(0).value;\n                  this._advance();\n              } else {\n                  var t = this._lookahead(0);\n                  var error = new Error(\"Syntax error, unexpected token: \" +\n                                        t.value + \"(\" + t.type + \")\");\n                  error.name = \"Parsererror\";\n                  throw error;\n              }\n              currentToken = this._lookahead(0);\n          }\n          this._match(TOK_RBRACKET);\n          return {\n              type: \"Slice\",\n              children: parts\n          };\n      },\n\n      _parseComparator: function(left, comparator) {\n        var right = this.expression(bindingPower[comparator]);\n        return {type: \"Comparator\", name: comparator, children: [left, right]};\n      },\n\n      _parseDotRHS: function(rbp) {\n          var lookahead = this._lookahead(0);\n          var exprTokens = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER, TOK_STAR];\n          if (exprTokens.indexOf(lookahead) >= 0) {\n              return this.expression(rbp);\n          } else if (lookahead === TOK_LBRACKET) {\n              this._match(TOK_LBRACKET);\n              return this._parseMultiselectList();\n          } else if (lookahead === TOK_LBRACE) {\n              this._match(TOK_LBRACE);\n              return this._parseMultiselectHash();\n          }\n      },\n\n      _parseProjectionRHS: function(rbp) {\n          var right;\n          if (bindingPower[this._lookahead(0)] < 10) {\n              right = {type: \"Identity\"};\n          } else if (this._lookahead(0) === TOK_LBRACKET) {\n              right = this.expression(rbp);\n          } else if (this._lookahead(0) === TOK_FILTER) {\n              right = this.expression(rbp);\n          } else if (this._lookahead(0) === TOK_DOT) {\n              this._match(TOK_DOT);\n              right = this._parseDotRHS(rbp);\n          } else {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\"Sytanx error, unexpected token: \" +\n                                    t.value + \"(\" + t.type + \")\");\n              error.name = \"ParserError\";\n              throw error;\n          }\n          return right;\n      },\n\n      _parseMultiselectList: function() {\n          var expressions = [];\n          while (this._lookahead(0) !== TOK_RBRACKET) {\n              var expression = this.expression(0);\n              expressions.push(expression);\n              if (this._lookahead(0) === TOK_COMMA) {\n                  this._match(TOK_COMMA);\n                  if (this._lookahead(0) === TOK_RBRACKET) {\n                    throw new Error(\"Unexpected token Rbracket\");\n                  }\n              }\n          }\n          this._match(TOK_RBRACKET);\n          return {type: \"MultiSelectList\", children: expressions};\n      },\n\n      _parseMultiselectHash: function() {\n        var pairs = [];\n        var identifierTypes = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER];\n        var keyToken, keyName, value, node;\n        for (;;) {\n          keyToken = this._lookaheadToken(0);\n          if (identifierTypes.indexOf(keyToken.type) < 0) {\n            throw new Error(\"Expecting an identifier token, got: \" +\n                            keyToken.type);\n          }\n          keyName = keyToken.value;\n          this._advance();\n          this._match(TOK_COLON);\n          value = this.expression(0);\n          node = {type: \"KeyValuePair\", name: keyName, value: value};\n          pairs.push(node);\n          if (this._lookahead(0) === TOK_COMMA) {\n            this._match(TOK_COMMA);\n          } else if (this._lookahead(0) === TOK_RBRACE) {\n            this._match(TOK_RBRACE);\n            break;\n          }\n        }\n        return {type: \"MultiSelectHash\", children: pairs};\n      }\n  };\n\n\n  function TreeInterpreter(runtime) {\n    this.runtime = runtime;\n  }\n\n  TreeInterpreter.prototype = {\n      search: function(node, value) {\n          return this.visit(node, value);\n      },\n\n      visit: function(node, value) {\n          var matched, current, result, first, second, field, left, right, collected, i;\n          switch (node.type) {\n            case \"Field\":\n              if (value === null ) {\n                  return null;\n              } else if (isObject(value)) {\n                  field = value[node.name];\n                  if (field === undefined) {\n                      return null;\n                  } else {\n                      return field;\n                  }\n              } else {\n                return null;\n              }\n              break;\n            case \"Subexpression\":\n              result = this.visit(node.children[0], value);\n              for (i = 1; i < node.children.length; i++) {\n                  result = this.visit(node.children[1], result);\n                  if (result === null) {\n                      return null;\n                  }\n              }\n              return result;\n            case \"IndexExpression\":\n              left = this.visit(node.children[0], value);\n              right = this.visit(node.children[1], left);\n              return right;\n            case \"Index\":\n              if (!isArray(value)) {\n                return null;\n              }\n              var index = node.value;\n              if (index < 0) {\n                index = value.length + index;\n              }\n              result = value[index];\n              if (result === undefined) {\n                result = null;\n              }\n              return result;\n            case \"Slice\":\n              if (!isArray(value)) {\n                return null;\n              }\n              var sliceParams = node.children.slice(0);\n              var computed = this.computeSliceParams(value.length, sliceParams);\n              var start = computed[0];\n              var stop = computed[1];\n              var step = computed[2];\n              result = [];\n              if (step > 0) {\n                  for (i = start; i < stop; i += step) {\n                      result.push(value[i]);\n                  }\n              } else {\n                  for (i = start; i > stop; i += step) {\n                      result.push(value[i]);\n                  }\n              }\n              return result;\n            case \"Projection\":\n              // Evaluate left child.\n              var base = this.visit(node.children[0], value);\n              if (!isArray(base)) {\n                return null;\n              }\n              collected = [];\n              for (i = 0; i < base.length; i++) {\n                current = this.visit(node.children[1], base[i]);\n                if (current !== null) {\n                  collected.push(current);\n                }\n              }\n              return collected;\n            case \"ValueProjection\":\n              // Evaluate left child.\n              base = this.visit(node.children[0], value);\n              if (!isObject(base)) {\n                return null;\n              }\n              collected = [];\n              var values = objValues(base);\n              for (i = 0; i < values.length; i++) {\n                current = this.visit(node.children[1], values[i]);\n                if (current !== null) {\n                  collected.push(current);\n                }\n              }\n              return collected;\n            case \"FilterProjection\":\n              base = this.visit(node.children[0], value);\n              if (!isArray(base)) {\n                return null;\n              }\n              var filtered = [];\n              var finalResults = [];\n              for (i = 0; i < base.length; i++) {\n                matched = this.visit(node.children[2], base[i]);\n                if (!isFalse(matched)) {\n                  filtered.push(base[i]);\n                }\n              }\n              for (var j = 0; j < filtered.length; j++) {\n                current = this.visit(node.children[1], filtered[j]);\n                if (current !== null) {\n                  finalResults.push(current);\n                }\n              }\n              return finalResults;\n            case \"Comparator\":\n              first = this.visit(node.children[0], value);\n              second = this.visit(node.children[1], value);\n              switch(node.name) {\n                case TOK_EQ:\n                  result = strictDeepEqual(first, second);\n                  break;\n                case TOK_NE:\n                  result = !strictDeepEqual(first, second);\n                  break;\n                case TOK_GT:\n                  result = first > second;\n                  break;\n                case TOK_GTE:\n                  result = first >= second;\n                  break;\n                case TOK_LT:\n                  result = first < second;\n                  break;\n                case TOK_LTE:\n                  result = first <= second;\n                  break;\n                default:\n                  throw new Error(\"Unknown comparator: \" + node.name);\n              }\n              return result;\n            case TOK_FLATTEN:\n              var original = this.visit(node.children[0], value);\n              if (!isArray(original)) {\n                return null;\n              }\n              var merged = [];\n              for (i = 0; i < original.length; i++) {\n                current = original[i];\n                if (isArray(current)) {\n                  merged.push.apply(merged, current);\n                } else {\n                  merged.push(current);\n                }\n              }\n              return merged;\n            case \"Identity\":\n              return value;\n            case \"MultiSelectList\":\n              if (value === null) {\n                return null;\n              }\n              collected = [];\n              for (i = 0; i < node.children.length; i++) {\n                  collected.push(this.visit(node.children[i], value));\n              }\n              return collected;\n            case \"MultiSelectHash\":\n              if (value === null) {\n                return null;\n              }\n              collected = {};\n              var child;\n              for (i = 0; i < node.children.length; i++) {\n                child = node.children[i];\n                collected[child.name] = this.visit(child.value, value);\n              }\n              return collected;\n            case \"OrExpression\":\n              matched = this.visit(node.children[0], value);\n              if (isFalse(matched)) {\n                  matched = this.visit(node.children[1], value);\n              }\n              return matched;\n            case \"AndExpression\":\n              first = this.visit(node.children[0], value);\n\n              if (isFalse(first) === true) {\n                return first;\n              }\n              return this.visit(node.children[1], value);\n            case \"NotExpression\":\n              first = this.visit(node.children[0], value);\n              return isFalse(first);\n            case \"Literal\":\n              return node.value;\n            case TOK_PIPE:\n              left = this.visit(node.children[0], value);\n              return this.visit(node.children[1], left);\n            case TOK_CURRENT:\n              return value;\n            case \"Function\":\n              var resolvedArgs = [];\n              for (i = 0; i < node.children.length; i++) {\n                  resolvedArgs.push(this.visit(node.children[i], value));\n              }\n              return this.runtime.callFunction(node.name, resolvedArgs);\n            case \"ExpressionReference\":\n              var refNode = node.children[0];\n              // Tag the node with a specific attribute so the type\n              // checker verify the type.\n              refNode.jmespathType = TOK_EXPREF;\n              return refNode;\n            default:\n              throw new Error(\"Unknown node type: \" + node.type);\n          }\n      },\n\n      computeSliceParams: function(arrayLength, sliceParams) {\n        var start = sliceParams[0];\n        var stop = sliceParams[1];\n        var step = sliceParams[2];\n        var computed = [null, null, null];\n        if (step === null) {\n          step = 1;\n        } else if (step === 0) {\n          var error = new Error(\"Invalid slice, step cannot be 0\");\n          error.name = \"RuntimeError\";\n          throw error;\n        }\n        var stepValueNegative = step < 0 ? true : false;\n\n        if (start === null) {\n            start = stepValueNegative ? arrayLength - 1 : 0;\n        } else {\n            start = this.capSliceRange(arrayLength, start, step);\n        }\n\n        if (stop === null) {\n            stop = stepValueNegative ? -1 : arrayLength;\n        } else {\n            stop = this.capSliceRange(arrayLength, stop, step);\n        }\n        computed[0] = start;\n        computed[1] = stop;\n        computed[2] = step;\n        return computed;\n      },\n\n      capSliceRange: function(arrayLength, actualValue, step) {\n          if (actualValue < 0) {\n              actualValue += arrayLength;\n              if (actualValue < 0) {\n                  actualValue = step < 0 ? -1 : 0;\n              }\n          } else if (actualValue >= arrayLength) {\n              actualValue = step < 0 ? arrayLength - 1 : arrayLength;\n          }\n          return actualValue;\n      }\n\n  };\n\n  function Runtime(interpreter) {\n    this._interpreter = interpreter;\n    this.functionTable = {\n        // name: [function, <signature>]\n        // The <signature> can be:\n        //\n        // {\n        //   args: [[type1, type2], [type1, type2]],\n        //   variadic: true|false\n        // }\n        //\n        // Each arg in the arg list is a list of valid types\n        // (if the function is overloaded and supports multiple\n        // types.  If the type is \"any\" then no type checking\n        // occurs on the argument.  Variadic is optional\n        // and if not provided is assumed to be false.\n        abs: {_func: this._functionAbs, _signature: [{types: [TYPE_NUMBER]}]},\n        avg: {_func: this._functionAvg, _signature: [{types: [TYPE_ARRAY_NUMBER]}]},\n        ceil: {_func: this._functionCeil, _signature: [{types: [TYPE_NUMBER]}]},\n        contains: {\n            _func: this._functionContains,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY]},\n                        {types: [TYPE_ANY]}]},\n        \"ends_with\": {\n            _func: this._functionEndsWith,\n            _signature: [{types: [TYPE_STRING]}, {types: [TYPE_STRING]}]},\n        floor: {_func: this._functionFloor, _signature: [{types: [TYPE_NUMBER]}]},\n        length: {\n            _func: this._functionLength,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY, TYPE_OBJECT]}]},\n        map: {\n            _func: this._functionMap,\n            _signature: [{types: [TYPE_EXPREF]}, {types: [TYPE_ARRAY]}]},\n        max: {\n            _func: this._functionMax,\n            _signature: [{types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]}]},\n        \"merge\": {\n            _func: this._functionMerge,\n            _signature: [{types: [TYPE_OBJECT], variadic: true}]\n        },\n        \"max_by\": {\n          _func: this._functionMaxBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        sum: {_func: this._functionSum, _signature: [{types: [TYPE_ARRAY_NUMBER]}]},\n        \"starts_with\": {\n            _func: this._functionStartsWith,\n            _signature: [{types: [TYPE_STRING]}, {types: [TYPE_STRING]}]},\n        min: {\n            _func: this._functionMin,\n            _signature: [{types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]}]},\n        \"min_by\": {\n          _func: this._functionMinBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        type: {_func: this._functionType, _signature: [{types: [TYPE_ANY]}]},\n        keys: {_func: this._functionKeys, _signature: [{types: [TYPE_OBJECT]}]},\n        values: {_func: this._functionValues, _signature: [{types: [TYPE_OBJECT]}]},\n        sort: {_func: this._functionSort, _signature: [{types: [TYPE_ARRAY_STRING, TYPE_ARRAY_NUMBER]}]},\n        \"sort_by\": {\n          _func: this._functionSortBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        join: {\n            _func: this._functionJoin,\n            _signature: [\n                {types: [TYPE_STRING]},\n                {types: [TYPE_ARRAY_STRING]}\n            ]\n        },\n        reverse: {\n            _func: this._functionReverse,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY]}]},\n        \"to_array\": {_func: this._functionToArray, _signature: [{types: [TYPE_ANY]}]},\n        \"to_string\": {_func: this._functionToString, _signature: [{types: [TYPE_ANY]}]},\n        \"to_number\": {_func: this._functionToNumber, _signature: [{types: [TYPE_ANY]}]},\n        \"not_null\": {\n            _func: this._functionNotNull,\n            _signature: [{types: [TYPE_ANY], variadic: true}]\n        }\n    };\n  }\n\n  Runtime.prototype = {\n    callFunction: function(name, resolvedArgs) {\n      var functionEntry = this.functionTable[name];\n      if (functionEntry === undefined) {\n          throw new Error(\"Unknown function: \" + name + \"()\");\n      }\n      this._validateArgs(name, resolvedArgs, functionEntry._signature);\n      return functionEntry._func.call(this, resolvedArgs);\n    },\n\n    _validateArgs: function(name, args, signature) {\n        // Validating the args requires validating\n        // the correct arity and the correct type of each arg.\n        // If the last argument is declared as variadic, then we need\n        // a minimum number of args to be required.  Otherwise it has to\n        // be an exact amount.\n        var pluralized;\n        if (signature[signature.length - 1].variadic) {\n            if (args.length < signature.length) {\n                pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n                throw new Error(\"ArgumentError: \" + name + \"() \" +\n                                \"takes at least\" + signature.length + pluralized +\n                                \" but received \" + args.length);\n            }\n        } else if (args.length !== signature.length) {\n            pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n            throw new Error(\"ArgumentError: \" + name + \"() \" +\n                            \"takes \" + signature.length + pluralized +\n                            \" but received \" + args.length);\n        }\n        var currentSpec;\n        var actualType;\n        var typeMatched;\n        for (var i = 0; i < signature.length; i++) {\n            typeMatched = false;\n            currentSpec = signature[i].types;\n            actualType = this._getTypeName(args[i]);\n            for (var j = 0; j < currentSpec.length; j++) {\n                if (this._typeMatches(actualType, currentSpec[j], args[i])) {\n                    typeMatched = true;\n                    break;\n                }\n            }\n            if (!typeMatched) {\n                throw new Error(\"TypeError: \" + name + \"() \" +\n                                \"expected argument \" + (i + 1) +\n                                \" to be type \" + currentSpec +\n                                \" but received type \" + actualType +\n                                \" instead.\");\n            }\n        }\n    },\n\n    _typeMatches: function(actual, expected, argValue) {\n        if (expected === TYPE_ANY) {\n            return true;\n        }\n        if (expected === TYPE_ARRAY_STRING ||\n            expected === TYPE_ARRAY_NUMBER ||\n            expected === TYPE_ARRAY) {\n            // The expected type can either just be array,\n            // or it can require a specific subtype (array of numbers).\n            //\n            // The simplest case is if \"array\" with no subtype is specified.\n            if (expected === TYPE_ARRAY) {\n                return actual === TYPE_ARRAY;\n            } else if (actual === TYPE_ARRAY) {\n                // Otherwise we need to check subtypes.\n                // I think this has potential to be improved.\n                var subtype;\n                if (expected === TYPE_ARRAY_NUMBER) {\n                  subtype = TYPE_NUMBER;\n                } else if (expected === TYPE_ARRAY_STRING) {\n                  subtype = TYPE_STRING;\n                }\n                for (var i = 0; i < argValue.length; i++) {\n                    if (!this._typeMatches(\n                            this._getTypeName(argValue[i]), subtype,\n                                             argValue[i])) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n        } else {\n            return actual === expected;\n        }\n    },\n    _getTypeName: function(obj) {\n        switch (Object.prototype.toString.call(obj)) {\n            case \"[object String]\":\n              return TYPE_STRING;\n            case \"[object Number]\":\n              return TYPE_NUMBER;\n            case \"[object Array]\":\n              return TYPE_ARRAY;\n            case \"[object Boolean]\":\n              return TYPE_BOOLEAN;\n            case \"[object Null]\":\n              return TYPE_NULL;\n            case \"[object Object]\":\n              // Check if it's an expref.  If it has, it's been\n              // tagged with a jmespathType attr of 'Expref';\n              if (obj.jmespathType === TOK_EXPREF) {\n                return TYPE_EXPREF;\n              } else {\n                return TYPE_OBJECT;\n              }\n        }\n    },\n\n    _functionStartsWith: function(resolvedArgs) {\n        return resolvedArgs[0].lastIndexOf(resolvedArgs[1]) === 0;\n    },\n\n    _functionEndsWith: function(resolvedArgs) {\n        var searchStr = resolvedArgs[0];\n        var suffix = resolvedArgs[1];\n        return searchStr.indexOf(suffix, searchStr.length - suffix.length) !== -1;\n    },\n\n    _functionReverse: function(resolvedArgs) {\n        var typeName = this._getTypeName(resolvedArgs[0]);\n        if (typeName === TYPE_STRING) {\n          var originalStr = resolvedArgs[0];\n          var reversedStr = \"\";\n          for (var i = originalStr.length - 1; i >= 0; i--) {\n              reversedStr += originalStr[i];\n          }\n          return reversedStr;\n        } else {\n          var reversedArray = resolvedArgs[0].slice(0);\n          reversedArray.reverse();\n          return reversedArray;\n        }\n    },\n\n    _functionAbs: function(resolvedArgs) {\n      return Math.abs(resolvedArgs[0]);\n    },\n\n    _functionCeil: function(resolvedArgs) {\n        return Math.ceil(resolvedArgs[0]);\n    },\n\n    _functionAvg: function(resolvedArgs) {\n        var sum = 0;\n        var inputArray = resolvedArgs[0];\n        for (var i = 0; i < inputArray.length; i++) {\n            sum += inputArray[i];\n        }\n        return sum / inputArray.length;\n    },\n\n    _functionContains: function(resolvedArgs) {\n        return resolvedArgs[0].indexOf(resolvedArgs[1]) >= 0;\n    },\n\n    _functionFloor: function(resolvedArgs) {\n        return Math.floor(resolvedArgs[0]);\n    },\n\n    _functionLength: function(resolvedArgs) {\n       if (!isObject(resolvedArgs[0])) {\n         return resolvedArgs[0].length;\n       } else {\n         // As far as I can tell, there's no way to get the length\n         // of an object without O(n) iteration through the object.\n         return Object.keys(resolvedArgs[0]).length;\n       }\n    },\n\n    _functionMap: function(resolvedArgs) {\n      var mapped = [];\n      var interpreter = this._interpreter;\n      var exprefNode = resolvedArgs[0];\n      var elements = resolvedArgs[1];\n      for (var i = 0; i < elements.length; i++) {\n          mapped.push(interpreter.visit(exprefNode, elements[i]));\n      }\n      return mapped;\n    },\n\n    _functionMerge: function(resolvedArgs) {\n      var merged = {};\n      for (var i = 0; i < resolvedArgs.length; i++) {\n        var current = resolvedArgs[i];\n        for (var key in current) {\n          merged[key] = current[key];\n        }\n      }\n      return merged;\n    },\n\n    _functionMax: function(resolvedArgs) {\n      if (resolvedArgs[0].length > 0) {\n        var typeName = this._getTypeName(resolvedArgs[0][0]);\n        if (typeName === TYPE_NUMBER) {\n          return Math.max.apply(Math, resolvedArgs[0]);\n        } else {\n          var elements = resolvedArgs[0];\n          var maxElement = elements[0];\n          for (var i = 1; i < elements.length; i++) {\n              if (maxElement.localeCompare(elements[i]) < 0) {\n                  maxElement = elements[i];\n              }\n          }\n          return maxElement;\n        }\n      } else {\n          return null;\n      }\n    },\n\n    _functionMin: function(resolvedArgs) {\n      if (resolvedArgs[0].length > 0) {\n        var typeName = this._getTypeName(resolvedArgs[0][0]);\n        if (typeName === TYPE_NUMBER) {\n          return Math.min.apply(Math, resolvedArgs[0]);\n        } else {\n          var elements = resolvedArgs[0];\n          var minElement = elements[0];\n          for (var i = 1; i < elements.length; i++) {\n              if (elements[i].localeCompare(minElement) < 0) {\n                  minElement = elements[i];\n              }\n          }\n          return minElement;\n        }\n      } else {\n        return null;\n      }\n    },\n\n    _functionSum: function(resolvedArgs) {\n      var sum = 0;\n      var listToSum = resolvedArgs[0];\n      for (var i = 0; i < listToSum.length; i++) {\n        sum += listToSum[i];\n      }\n      return sum;\n    },\n\n    _functionType: function(resolvedArgs) {\n        switch (this._getTypeName(resolvedArgs[0])) {\n          case TYPE_NUMBER:\n            return \"number\";\n          case TYPE_STRING:\n            return \"string\";\n          case TYPE_ARRAY:\n            return \"array\";\n          case TYPE_OBJECT:\n            return \"object\";\n          case TYPE_BOOLEAN:\n            return \"boolean\";\n          case TYPE_EXPREF:\n            return \"expref\";\n          case TYPE_NULL:\n            return \"null\";\n        }\n    },\n\n    _functionKeys: function(resolvedArgs) {\n        return Object.keys(resolvedArgs[0]);\n    },\n\n    _functionValues: function(resolvedArgs) {\n        var obj = resolvedArgs[0];\n        var keys = Object.keys(obj);\n        var values = [];\n        for (var i = 0; i < keys.length; i++) {\n            values.push(obj[keys[i]]);\n        }\n        return values;\n    },\n\n    _functionJoin: function(resolvedArgs) {\n        var joinChar = resolvedArgs[0];\n        var listJoin = resolvedArgs[1];\n        return listJoin.join(joinChar);\n    },\n\n    _functionToArray: function(resolvedArgs) {\n        if (this._getTypeName(resolvedArgs[0]) === TYPE_ARRAY) {\n            return resolvedArgs[0];\n        } else {\n            return [resolvedArgs[0]];\n        }\n    },\n\n    _functionToString: function(resolvedArgs) {\n        if (this._getTypeName(resolvedArgs[0]) === TYPE_STRING) {\n            return resolvedArgs[0];\n        } else {\n            return JSON.stringify(resolvedArgs[0]);\n        }\n    },\n\n    _functionToNumber: function(resolvedArgs) {\n        var typeName = this._getTypeName(resolvedArgs[0]);\n        var convertedValue;\n        if (typeName === TYPE_NUMBER) {\n            return resolvedArgs[0];\n        } else if (typeName === TYPE_STRING) {\n            convertedValue = +resolvedArgs[0];\n            if (!isNaN(convertedValue)) {\n                return convertedValue;\n            }\n        }\n        return null;\n    },\n\n    _functionNotNull: function(resolvedArgs) {\n        for (var i = 0; i < resolvedArgs.length; i++) {\n            if (this._getTypeName(resolvedArgs[i]) !== TYPE_NULL) {\n                return resolvedArgs[i];\n            }\n        }\n        return null;\n    },\n\n    _functionSort: function(resolvedArgs) {\n        var sortedArray = resolvedArgs[0].slice(0);\n        sortedArray.sort();\n        return sortedArray;\n    },\n\n    _functionSortBy: function(resolvedArgs) {\n        var sortedArray = resolvedArgs[0].slice(0);\n        if (sortedArray.length === 0) {\n            return sortedArray;\n        }\n        var interpreter = this._interpreter;\n        var exprefNode = resolvedArgs[1];\n        var requiredType = this._getTypeName(\n            interpreter.visit(exprefNode, sortedArray[0]));\n        if ([TYPE_NUMBER, TYPE_STRING].indexOf(requiredType) < 0) {\n            throw new Error(\"TypeError\");\n        }\n        var that = this;\n        // In order to get a stable sort out of an unstable\n        // sort algorithm, we decorate/sort/undecorate (DSU)\n        // by creating a new list of [index, element] pairs.\n        // In the cmp function, if the evaluated elements are\n        // equal, then the index will be used as the tiebreaker.\n        // After the decorated list has been sorted, it will be\n        // undecorated to extract the original elements.\n        var decorated = [];\n        for (var i = 0; i < sortedArray.length; i++) {\n          decorated.push([i, sortedArray[i]]);\n        }\n        decorated.sort(function(a, b) {\n          var exprA = interpreter.visit(exprefNode, a[1]);\n          var exprB = interpreter.visit(exprefNode, b[1]);\n          if (that._getTypeName(exprA) !== requiredType) {\n              throw new Error(\n                  \"TypeError: expected \" + requiredType + \", received \" +\n                  that._getTypeName(exprA));\n          } else if (that._getTypeName(exprB) !== requiredType) {\n              throw new Error(\n                  \"TypeError: expected \" + requiredType + \", received \" +\n                  that._getTypeName(exprB));\n          }\n          if (exprA > exprB) {\n            return 1;\n          } else if (exprA < exprB) {\n            return -1;\n          } else {\n            // If they're equal compare the items by their\n            // order to maintain relative order of equal keys\n            // (i.e. to get a stable sort).\n            return a[0] - b[0];\n          }\n        });\n        // Undecorate: extract out the original list elements.\n        for (var j = 0; j < decorated.length; j++) {\n          sortedArray[j] = decorated[j][1];\n        }\n        return sortedArray;\n    },\n\n    _functionMaxBy: function(resolvedArgs) {\n      var exprefNode = resolvedArgs[1];\n      var resolvedArray = resolvedArgs[0];\n      var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n      var maxNumber = -Infinity;\n      var maxRecord;\n      var current;\n      for (var i = 0; i < resolvedArray.length; i++) {\n        current = keyFunction(resolvedArray[i]);\n        if (current > maxNumber) {\n          maxNumber = current;\n          maxRecord = resolvedArray[i];\n        }\n      }\n      return maxRecord;\n    },\n\n    _functionMinBy: function(resolvedArgs) {\n      var exprefNode = resolvedArgs[1];\n      var resolvedArray = resolvedArgs[0];\n      var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n      var minNumber = Infinity;\n      var minRecord;\n      var current;\n      for (var i = 0; i < resolvedArray.length; i++) {\n        current = keyFunction(resolvedArray[i]);\n        if (current < minNumber) {\n          minNumber = current;\n          minRecord = resolvedArray[i];\n        }\n      }\n      return minRecord;\n    },\n\n    createKeyFunction: function(exprefNode, allowedTypes) {\n      var that = this;\n      var interpreter = this._interpreter;\n      var keyFunc = function(x) {\n        var current = interpreter.visit(exprefNode, x);\n        if (allowedTypes.indexOf(that._getTypeName(current)) < 0) {\n          var msg = \"TypeError: expected one of \" + allowedTypes +\n                    \", received \" + that._getTypeName(current);\n          throw new Error(msg);\n        }\n        return current;\n      };\n      return keyFunc;\n    }\n\n  };\n\n  function compile(stream) {\n    var parser = new Parser();\n    var ast = parser.parse(stream);\n    return ast;\n  }\n\n  function tokenize(stream) {\n      var lexer = new Lexer();\n      return lexer.tokenize(stream);\n  }\n\n  function search(data, expression) {\n      var parser = new Parser();\n      // This needs to be improved.  Both the interpreter and runtime depend on\n      // each other.  The runtime needs the interpreter to support exprefs.\n      // There's likely a clean way to avoid the cyclic dependency.\n      var runtime = new Runtime();\n      var interpreter = new TreeInterpreter(runtime);\n      runtime._interpreter = interpreter;\n      var node = parser.parse(expression);\n      return interpreter.search(node, data);\n  }\n\n  exports.tokenize = tokenize;\n  exports.compile = compile;\n  exports.search = search;\n  exports.strictDeepEqual = strictDeepEqual;\n})(typeof exports === \"undefined\" ? this.jmespath = {} : exports);\n","var util = require('../util');\nvar property = util.property;\n\nfunction ResourceWaiter(name, waiter, options) {\n  options = options || {};\n  property(this, 'name', name);\n  property(this, 'api', options.api, false);\n\n  if (waiter.operation) {\n    property(this, 'operation', util.string.lowerFirst(waiter.operation));\n  }\n\n  var self = this;\n  var keys = [\n    'type',\n    'description',\n    'delay',\n    'maxAttempts',\n    'acceptors'\n  ];\n\n  keys.forEach(function(key) {\n    var value = waiter[key];\n    if (value) {\n      property(self, key, value);\n    }\n  });\n}\n\n/**\n * @api private\n */\nmodule.exports = ResourceWaiter;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['directconnect'] = {};\nAWS.DirectConnect = Service.defineService('directconnect', ['2012-10-25']);\nObject.defineProperty(apiLoader.services['directconnect'], '2012-10-25', {\n  get: function get() {\n    var model = require('../apis/directconnect-2012-10-25.min.json');\n    model.paginators = require('../apis/directconnect-2012-10-25.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.DirectConnect;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['translate'] = {};\nAWS.Translate = Service.defineService('translate', ['2017-07-01']);\nObject.defineProperty(apiLoader.services['translate'], '2017-07-01', {\n  get: function get() {\n    var model = require('../apis/translate-2017-07-01.min.json');\n    model.paginators = require('../apis/translate-2017-07-01.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Translate;\n","'use strict';\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar $Object = GetIntrinsic('%Object%');\nvar $EvalError = GetIntrinsic('%EvalError%');\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $String = GetIntrinsic('%String%');\nvar $Date = GetIntrinsic('%Date%');\nvar $Number = GetIntrinsic('%Number%');\nvar $floor = GetIntrinsic('%Math.floor%');\nvar $DateUTC = GetIntrinsic('%Date.UTC%');\nvar $abs = GetIntrinsic('%Math.abs%');\n\nvar assertRecord = require('./helpers/assertRecord');\nvar isPropertyDescriptor = require('./helpers/isPropertyDescriptor');\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\nvar isPrefixOf = require('./helpers/isPrefixOf');\nvar callBound = require('./helpers/callBound');\n\nvar IsCallable = require('is-callable');\nvar toPrimitive = require('es-to-primitive/es5');\n\nvar has = require('has');\n\nvar $getUTCFullYear = callBound('Date.prototype.getUTCFullYear');\n\nvar HoursPerDay = 24;\nvar MinutesPerHour = 60;\nvar SecondsPerMinute = 60;\nvar msPerSecond = 1e3;\nvar msPerMinute = msPerSecond * SecondsPerMinute;\nvar msPerHour = msPerMinute * MinutesPerHour;\nvar msPerDay = 86400000;\n\n// https://es5.github.io/#x9\nvar ES5 = {\n\tToPrimitive: toPrimitive,\n\n\tToBoolean: function ToBoolean(value) {\n\t\treturn !!value;\n\t},\n\tToNumber: function ToNumber(value) {\n\t\treturn +value; // eslint-disable-line no-implicit-coercion\n\t},\n\tToInteger: function ToInteger(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number)) { return 0; }\n\t\tif (number === 0 || !$isFinite(number)) { return number; }\n\t\treturn sign(number) * Math.floor(Math.abs(number));\n\t},\n\tToInt32: function ToInt32(x) {\n\t\treturn this.ToNumber(x) >> 0;\n\t},\n\tToUint32: function ToUint32(x) {\n\t\treturn this.ToNumber(x) >>> 0;\n\t},\n\tToUint16: function ToUint16(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * Math.floor(Math.abs(number));\n\t\treturn mod(posInt, 0x10000);\n\t},\n\tToString: function ToString(value) {\n\t\treturn $String(value);\n\t},\n\tToObject: function ToObject(value) {\n\t\tthis.CheckObjectCoercible(value);\n\t\treturn $Object(value);\n\t},\n\tCheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {\n\t\t/* jshint eqnull:true */\n\t\tif (value == null) {\n\t\t\tthrow new $TypeError(optMessage || 'Cannot call method on ' + value);\n\t\t}\n\t\treturn value;\n\t},\n\tIsCallable: IsCallable,\n\tSameValue: function SameValue(x, y) {\n\t\tif (x === y) { // 0 === -0, but they are not identical.\n\t\t\tif (x === 0) { return 1 / x === 1 / y; }\n\t\t\treturn true;\n\t\t}\n\t\treturn $isNaN(x) && $isNaN(y);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8\n\tType: function Type(x) {\n\t\tif (x === null) {\n\t\t\treturn 'Null';\n\t\t}\n\t\tif (typeof x === 'undefined') {\n\t\t\treturn 'Undefined';\n\t\t}\n\t\tif (typeof x === 'function' || typeof x === 'object') {\n\t\t\treturn 'Object';\n\t\t}\n\t\tif (typeof x === 'number') {\n\t\t\treturn 'Number';\n\t\t}\n\t\tif (typeof x === 'boolean') {\n\t\t\treturn 'Boolean';\n\t\t}\n\t\tif (typeof x === 'string') {\n\t\t\treturn 'String';\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n\tIsPropertyDescriptor: function IsPropertyDescriptor(Desc) {\n\t\treturn isPropertyDescriptor(this, Desc);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.1\n\tIsAccessorDescriptor: function IsAccessorDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.2\n\tIsDataDescriptor: function IsDataDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.3\n\tIsGenericDescriptor: function IsGenericDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.4\n\tFromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn Desc;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (this.IsDataDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tvalue: Desc['[[Value]]'],\n\t\t\t\twritable: !!Desc['[[Writable]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else if (this.IsAccessorDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tget: Desc['[[Get]]'],\n\t\t\t\tset: Desc['[[Set]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else {\n\t\t\tthrow new $TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.5\n\tToPropertyDescriptor: function ToPropertyDescriptor(Obj) {\n\t\tif (this.Type(Obj) !== 'Object') {\n\t\t\tthrow new $TypeError('ToPropertyDescriptor requires an object');\n\t\t}\n\n\t\tvar desc = {};\n\t\tif (has(Obj, 'enumerable')) {\n\t\t\tdesc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);\n\t\t}\n\t\tif (has(Obj, 'configurable')) {\n\t\t\tdesc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);\n\t\t}\n\t\tif (has(Obj, 'value')) {\n\t\t\tdesc['[[Value]]'] = Obj.value;\n\t\t}\n\t\tif (has(Obj, 'writable')) {\n\t\t\tdesc['[[Writable]]'] = this.ToBoolean(Obj.writable);\n\t\t}\n\t\tif (has(Obj, 'get')) {\n\t\t\tvar getter = Obj.get;\n\t\t\tif (typeof getter !== 'undefined' && !this.IsCallable(getter)) {\n\t\t\t\tthrow new TypeError('getter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Get]]'] = getter;\n\t\t}\n\t\tif (has(Obj, 'set')) {\n\t\t\tvar setter = Obj.set;\n\t\t\tif (typeof setter !== 'undefined' && !this.IsCallable(setter)) {\n\t\t\t\tthrow new $TypeError('setter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Set]]'] = setter;\n\t\t}\n\n\t\tif ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {\n\t\t\tthrow new $TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n\t\t}\n\t\treturn desc;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-11.9.3\n\t'Abstract Equality Comparison': function AbstractEqualityComparison(x, y) {\n\t\tvar xType = this.Type(x);\n\t\tvar yType = this.Type(y);\n\t\tif (xType === yType) {\n\t\t\treturn x === y; // ES6+ specified this shortcut anyways.\n\t\t}\n\t\tif (x == null && y == null) {\n\t\t\treturn true;\n\t\t}\n\t\tif (xType === 'Number' && yType === 'String') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToNumber(y));\n\t\t}\n\t\tif (xType === 'String' && yType === 'Number') {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToNumber(x), y);\n\t\t}\n\t\tif (xType === 'Boolean') {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToNumber(x), y);\n\t\t}\n\t\tif (yType === 'Boolean') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToNumber(y));\n\t\t}\n\t\tif ((xType === 'String' || xType === 'Number') && yType === 'Object') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToPrimitive(y));\n\t\t}\n\t\tif (xType === 'Object' && (yType === 'String' || yType === 'Number')) {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToPrimitive(x), y);\n\t\t}\n\t\treturn false;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-11.9.6\n\t'Strict Equality Comparison': function StrictEqualityComparison(x, y) {\n\t\tvar xType = this.Type(x);\n\t\tvar yType = this.Type(y);\n\t\tif (xType !== yType) {\n\t\t\treturn false;\n\t\t}\n\t\tif (xType === 'Undefined' || xType === 'Null') {\n\t\t\treturn true;\n\t\t}\n\t\treturn x === y; // shortcut for steps 4-7\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-11.8.5\n\t// eslint-disable-next-line max-statements\n\t'Abstract Relational Comparison': function AbstractRelationalComparison(x, y, LeftFirst) {\n\t\tif (this.Type(LeftFirst) !== 'Boolean') {\n\t\t\tthrow new $TypeError('Assertion failed: LeftFirst argument must be a Boolean');\n\t\t}\n\t\tvar px;\n\t\tvar py;\n\t\tif (LeftFirst) {\n\t\t\tpx = this.ToPrimitive(x, $Number);\n\t\t\tpy = this.ToPrimitive(y, $Number);\n\t\t} else {\n\t\t\tpy = this.ToPrimitive(y, $Number);\n\t\t\tpx = this.ToPrimitive(x, $Number);\n\t\t}\n\t\tvar bothStrings = this.Type(px) === 'String' && this.Type(py) === 'String';\n\t\tif (!bothStrings) {\n\t\t\tvar nx = this.ToNumber(px);\n\t\t\tvar ny = this.ToNumber(py);\n\t\t\tif ($isNaN(nx) || $isNaN(ny)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tif ($isFinite(nx) && $isFinite(ny) && nx === ny) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (nx === 0 && ny === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (nx === Infinity) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (ny === Infinity) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (ny === -Infinity) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (nx === -Infinity) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn nx < ny; // by now, these are both nonzero, finite, and not equal\n\t\t}\n\t\tif (isPrefixOf(py, px)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (isPrefixOf(px, py)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn px < py; // both strings, neither a prefix of the other. shortcut for steps c-f\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.10\n\tmsFromTime: function msFromTime(t) {\n\t\treturn mod(t, msPerSecond);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.10\n\tSecFromTime: function SecFromTime(t) {\n\t\treturn mod($floor(t / msPerSecond), SecondsPerMinute);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.10\n\tMinFromTime: function MinFromTime(t) {\n\t\treturn mod($floor(t / msPerMinute), MinutesPerHour);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.10\n\tHourFromTime: function HourFromTime(t) {\n\t\treturn mod($floor(t / msPerHour), HoursPerDay);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.2\n\tDay: function Day(t) {\n\t\treturn $floor(t / msPerDay);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.2\n\tTimeWithinDay: function TimeWithinDay(t) {\n\t\treturn mod(t, msPerDay);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.3\n\tDayFromYear: function DayFromYear(y) {\n\t\treturn (365 * (y - 1970)) + $floor((y - 1969) / 4) - $floor((y - 1901) / 100) + $floor((y - 1601) / 400);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.3\n\tTimeFromYear: function TimeFromYear(y) {\n\t\treturn msPerDay * this.DayFromYear(y);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.3\n\tYearFromTime: function YearFromTime(t) {\n\t\t// largest y such that this.TimeFromYear(y) <= t\n\t\treturn $getUTCFullYear(new $Date(t));\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.6\n\tWeekDay: function WeekDay(t) {\n\t\treturn mod(this.Day(t) + 4, 7);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.3\n\tDaysInYear: function DaysInYear(y) {\n\t\tif (mod(y, 4) !== 0) {\n\t\t\treturn 365;\n\t\t}\n\t\tif (mod(y, 100) !== 0) {\n\t\t\treturn 366;\n\t\t}\n\t\tif (mod(y, 400) !== 0) {\n\t\t\treturn 365;\n\t\t}\n\t\treturn 366;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.3\n\tInLeapYear: function InLeapYear(t) {\n\t\tvar days = this.DaysInYear(this.YearFromTime(t));\n\t\tif (days === 365) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (days === 366) {\n\t\t\treturn 1;\n\t\t}\n\t\tthrow new $EvalError('Assertion failed: there are not 365 or 366 days in a year, got: ' + days);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.4\n\tDayWithinYear: function DayWithinYear(t) {\n\t\treturn this.Day(t) - this.DayFromYear(this.YearFromTime(t));\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.4\n\tMonthFromTime: function MonthFromTime(t) {\n\t\tvar day = this.DayWithinYear(t);\n\t\tif (0 <= day && day < 31) {\n\t\t\treturn 0;\n\t\t}\n\t\tvar leap = this.InLeapYear(t);\n\t\tif (31 <= day && day < (59 + leap)) {\n\t\t\treturn 1;\n\t\t}\n\t\tif ((59 + leap) <= day && day < (90 + leap)) {\n\t\t\treturn 2;\n\t\t}\n\t\tif ((90 + leap) <= day && day < (120 + leap)) {\n\t\t\treturn 3;\n\t\t}\n\t\tif ((120 + leap) <= day && day < (151 + leap)) {\n\t\t\treturn 4;\n\t\t}\n\t\tif ((151 + leap) <= day && day < (181 + leap)) {\n\t\t\treturn 5;\n\t\t}\n\t\tif ((181 + leap) <= day && day < (212 + leap)) {\n\t\t\treturn 6;\n\t\t}\n\t\tif ((212 + leap) <= day && day < (243 + leap)) {\n\t\t\treturn 7;\n\t\t}\n\t\tif ((243 + leap) <= day && day < (273 + leap)) {\n\t\t\treturn 8;\n\t\t}\n\t\tif ((273 + leap) <= day && day < (304 + leap)) {\n\t\t\treturn 9;\n\t\t}\n\t\tif ((304 + leap) <= day && day < (334 + leap)) {\n\t\t\treturn 10;\n\t\t}\n\t\tif ((334 + leap) <= day && day < (365 + leap)) {\n\t\t\treturn 11;\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.5\n\tDateFromTime: function DateFromTime(t) {\n\t\tvar m = this.MonthFromTime(t);\n\t\tvar d = this.DayWithinYear(t);\n\t\tif (m === 0) {\n\t\t\treturn d + 1;\n\t\t}\n\t\tif (m === 1) {\n\t\t\treturn d - 30;\n\t\t}\n\t\tvar leap = this.InLeapYear(t);\n\t\tif (m === 2) {\n\t\t\treturn d - 58 - leap;\n\t\t}\n\t\tif (m === 3) {\n\t\t\treturn d - 89 - leap;\n\t\t}\n\t\tif (m === 4) {\n\t\t\treturn d - 119 - leap;\n\t\t}\n\t\tif (m === 5) {\n\t\t\treturn d - 150 - leap;\n\t\t}\n\t\tif (m === 6) {\n\t\t\treturn d - 180 - leap;\n\t\t}\n\t\tif (m === 7) {\n\t\t\treturn d - 211 - leap;\n\t\t}\n\t\tif (m === 8) {\n\t\t\treturn d - 242 - leap;\n\t\t}\n\t\tif (m === 9) {\n\t\t\treturn d - 272 - leap;\n\t\t}\n\t\tif (m === 10) {\n\t\t\treturn d - 303 - leap;\n\t\t}\n\t\tif (m === 11) {\n\t\t\treturn d - 333 - leap;\n\t\t}\n\t\tthrow new $EvalError('Assertion failed: MonthFromTime returned an impossible value: ' + m);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.12\n\tMakeDay: function MakeDay(year, month, date) {\n\t\tif (!$isFinite(year) || !$isFinite(month) || !$isFinite(date)) {\n\t\t\treturn NaN;\n\t\t}\n\t\tvar y = this.ToInteger(year);\n\t\tvar m = this.ToInteger(month);\n\t\tvar dt = this.ToInteger(date);\n\t\tvar ym = y + $floor(m / 12);\n\t\tvar mn = mod(m, 12);\n\t\tvar t = $DateUTC(ym, mn, 1);\n\t\tif (this.YearFromTime(t) !== ym || this.MonthFromTime(t) !== mn || this.DateFromTime(t) !== 1) {\n\t\t\treturn NaN;\n\t\t}\n\t\treturn this.Day(t) + dt - 1;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.13\n\tMakeDate: function MakeDate(day, time) {\n\t\tif (!$isFinite(day) || !$isFinite(time)) {\n\t\t\treturn NaN;\n\t\t}\n\t\treturn (day * msPerDay) + time;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.11\n\tMakeTime: function MakeTime(hour, min, sec, ms) {\n\t\tif (!$isFinite(hour) || !$isFinite(min) || !$isFinite(sec) || !$isFinite(ms)) {\n\t\t\treturn NaN;\n\t\t}\n\t\tvar h = this.ToInteger(hour);\n\t\tvar m = this.ToInteger(min);\n\t\tvar s = this.ToInteger(sec);\n\t\tvar milli = this.ToInteger(ms);\n\t\tvar t = (h * msPerHour) + (m * msPerMinute) + (s * msPerSecond) + milli;\n\t\treturn t;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.14\n\tTimeClip: function TimeClip(time) {\n\t\tif (!$isFinite(time) || $abs(time) > 8.64e15) {\n\t\t\treturn NaN;\n\t\t}\n\t\treturn $Number(new $Date(this.ToNumber(time)));\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-5.2\n\tmodulo: function modulo(x, y) {\n\t\treturn mod(x, y);\n\t}\n};\n\nmodule.exports = ES5;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['iam'] = {};\nAWS.IAM = Service.defineService('iam', ['2010-05-08']);\nObject.defineProperty(apiLoader.services['iam'], '2010-05-08', {\n  get: function get() {\n    var model = require('../apis/iam-2010-05-08.min.json');\n    model.paginators = require('../apis/iam-2010-05-08.paginators.json').pagination;\n    model.waiters = require('../apis/iam-2010-05-08.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.IAM;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V2 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    if (!date) date = AWS.util.date.getDate();\n\n    var r = this.request;\n\n    r.params.Timestamp = AWS.util.date.iso8601(date);\n    r.params.SignatureVersion = '2';\n    r.params.SignatureMethod = 'HmacSHA256';\n    r.params.AWSAccessKeyId = credentials.accessKeyId;\n\n    if (credentials.sessionToken) {\n      r.params.SecurityToken = credentials.sessionToken;\n    }\n\n    delete r.params.Signature; // delete old Signature for re-signing\n    r.params.Signature = this.signature(credentials);\n\n    r.body = AWS.util.queryParamsToString(r.params);\n    r.headers['Content-Length'] = r.body.length;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push(this.request.endpoint.host.toLowerCase());\n    parts.push(this.request.pathname());\n    parts.push(AWS.util.queryParamsToString(this.request.params));\n    return parts.join('\\n');\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V2;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['dynamodbstreams'] = {};\nAWS.DynamoDBStreams = Service.defineService('dynamodbstreams', ['2012-08-10']);\nObject.defineProperty(apiLoader.services['dynamodbstreams'], '2012-08-10', {\n  get: function get() {\n    var model = require('../apis/streams.dynamodb-2012-08-10.min.json');\n    model.paginators = require('../apis/streams.dynamodb-2012-08-10.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.DynamoDBStreams;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['apigateway'] = {};\nAWS.APIGateway = Service.defineService('apigateway', ['2015-07-09']);\nrequire('../lib/services/apigateway');\nObject.defineProperty(apiLoader.services['apigateway'], '2015-07-09', {\n  get: function get() {\n    var model = require('../apis/apigateway-2015-07-09.min.json');\n    model.paginators = require('../apis/apigateway-2015-07-09.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.APIGateway;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LRU_1 = require(\"./utils/LRU\");\nvar CACHE_SIZE = 1000;\n/**\n * Inspired node-lru-cache[https://github.com/isaacs/node-lru-cache]\n */\nvar EndpointCache = /** @class */ (function () {\n    function EndpointCache(maxSize) {\n        if (maxSize === void 0) { maxSize = CACHE_SIZE; }\n        this.maxSize = maxSize;\n        this.cache = new LRU_1.LRUCache(maxSize);\n    }\n    ;\n    Object.defineProperty(EndpointCache.prototype, \"size\", {\n        get: function () {\n            return this.cache.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EndpointCache.prototype.put = function (key, value) {\n      var keyString = typeof key !== 'string' ? EndpointCache.getKeyString(key) : key;\n        var endpointRecord = this.populateValue(value);\n        this.cache.put(keyString, endpointRecord);\n    };\n    EndpointCache.prototype.get = function (key) {\n      var keyString = typeof key !== 'string' ? EndpointCache.getKeyString(key) : key;\n        var now = Date.now();\n        var records = this.cache.get(keyString);\n        if (records) {\n            for (var i = 0; i < records.length; i++) {\n                var record = records[i];\n                if (record.Expire < now) {\n                    this.cache.remove(keyString);\n                    return undefined;\n                }\n            }\n        }\n        return records;\n    };\n    EndpointCache.getKeyString = function (key) {\n        var identifiers = [];\n        var identifierNames = Object.keys(key).sort();\n        for (var i = 0; i < identifierNames.length; i++) {\n            var identifierName = identifierNames[i];\n            if (key[identifierName] === undefined)\n                continue;\n            identifiers.push(key[identifierName]);\n        }\n        return identifiers.join(' ');\n    };\n    EndpointCache.prototype.populateValue = function (endpoints) {\n        var now = Date.now();\n        return endpoints.map(function (endpoint) { return ({\n            Address: endpoint.Address || '',\n            Expire: now + (endpoint.CachePeriodInMinutes || 1) * 60 * 1000\n        }); });\n    };\n    EndpointCache.prototype.empty = function () {\n        this.cache.empty();\n    };\n    EndpointCache.prototype.remove = function (key) {\n      var keyString = typeof key !== 'string' ? EndpointCache.getKeyString(key) : key;\n        this.cache.remove(keyString);\n    };\n    return EndpointCache;\n}());\nexports.EndpointCache = EndpointCache;","var AWS = require('../core');\n\n/**\n * @api private\n */\nvar cachedSecret = {};\n\n/**\n * @api private\n */\nvar cacheQueue = [];\n\n/**\n * @api private\n */\nvar maxCacheEntries = 50;\n\n/**\n * @api private\n */\nvar v4Identifier = 'aws4_request';\n\n/**\n * @api private\n */\nmodule.exports = {\n  /**\n   * @api private\n   *\n   * @param date [String]\n   * @param region [String]\n   * @param serviceName [String]\n   * @return [String]\n   */\n  createScope: function createScope(date, region, serviceName) {\n    return [\n      date.substr(0, 8),\n      region,\n      serviceName,\n      v4Identifier\n    ].join('/');\n  },\n\n  /**\n   * @api private\n   *\n   * @param credentials [Credentials]\n   * @param date [String]\n   * @param region [String]\n   * @param service [String]\n   * @param shouldCache [Boolean]\n   * @return [String]\n   */\n  getSigningKey: function getSigningKey(\n    credentials,\n    date,\n    region,\n    service,\n    shouldCache\n  ) {\n    var credsIdentifier = AWS.util.crypto\n      .hmac(credentials.secretAccessKey, credentials.accessKeyId, 'base64');\n    var cacheKey = [credsIdentifier, date, region, service].join('_');\n    shouldCache = shouldCache !== false;\n    if (shouldCache && (cacheKey in cachedSecret)) {\n      return cachedSecret[cacheKey];\n    }\n\n    var kDate = AWS.util.crypto.hmac(\n      'AWS4' + credentials.secretAccessKey,\n      date,\n      'buffer'\n    );\n    var kRegion = AWS.util.crypto.hmac(kDate, region, 'buffer');\n    var kService = AWS.util.crypto.hmac(kRegion, service, 'buffer');\n\n    var signingKey = AWS.util.crypto.hmac(kService, v4Identifier, 'buffer');\n    if (shouldCache) {\n      cachedSecret[cacheKey] = signingKey;\n      cacheQueue.push(cacheKey);\n      if (cacheQueue.length > maxCacheEntries) {\n        // remove the oldest entry (not the least recently used)\n        delete cachedSecret[cacheQueue.shift()];\n      }\n    }\n\n    return signingKey;\n  },\n\n  /**\n   * @api private\n   *\n   * Empties the derived signing key cache. Made available for testing purposes\n   * only.\n   */\n  emptyCache: function emptyCache() {\n    cachedSecret = {};\n    cacheQueue = [];\n  }\n};\n","'use strict';\n\n/* eslint complexity: [2, 17], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","var AWS = require('../core');\n\n/**\n * @api private\n */\nvar blobPayloadOutputOps = [\n  'deleteThingShadow',\n  'getThingShadow',\n  'updateThingShadow'\n];\n\n/**\n * Constructs a service interface object. Each API operation is exposed as a\n * function on service.\n *\n * ### Sending a Request Using IotData\n *\n * ```javascript\n * var iotdata = new AWS.IotData({endpoint: 'my.host.tld'});\n * iotdata.getThingShadow(params, function (err, data) {\n *   if (err) console.log(err, err.stack); // an error occurred\n *   else     console.log(data);           // successful response\n * });\n * ```\n *\n * ### Locking the API Version\n *\n * In order to ensure that the IotData object uses this specific API,\n * you can construct the object by passing the `apiVersion` option to the\n * constructor:\n *\n * ```javascript\n * var iotdata = new AWS.IotData({\n *   endpoint: 'my.host.tld',\n *   apiVersion: '2015-05-28'\n * });\n * ```\n *\n * You can also set the API version globally in `AWS.config.apiVersions` using\n * the **iotdata** service identifier:\n *\n * ```javascript\n * AWS.config.apiVersions = {\n *   iotdata: '2015-05-28',\n *   // other service API versions\n * };\n *\n * var iotdata = new AWS.IotData({endpoint: 'my.host.tld'});\n * ```\n *\n * @note You *must* provide an `endpoint` configuration parameter when\n *   constructing this service. See {constructor} for more information.\n *\n * @!method constructor(options = {})\n *   Constructs a service object. This object has one method for each\n *   API operation.\n *\n *   @example Constructing a IotData object\n *     var iotdata = new AWS.IotData({endpoint: 'my.host.tld'});\n *   @note You *must* provide an `endpoint` when constructing this service.\n *   @option (see AWS.Config.constructor)\n *\n * @service iotdata\n * @version 2015-05-28\n */\nAWS.util.update(AWS.IotData.prototype, {\n    /**\n     * @api private\n     */\n    validateService: function validateService() {\n        if (!this.config.endpoint || this.config.endpoint.indexOf('{') >= 0) {\n            var msg = 'AWS.IotData requires an explicit ' +\n                '`endpoint\\' configuration option.';\n            throw AWS.util.error(new Error(),\n                {name: 'InvalidEndpoint', message: msg});\n        }\n    },\n\n    /**\n     * @api private\n     */\n    setupRequestListeners: function setupRequestListeners(request) {\n        request.addListener('validateResponse', this.validateResponseBody);\n        if (blobPayloadOutputOps.indexOf(request.operation) > -1) {\n            request.addListener('extractData', AWS.util.convertPayloadToString);\n        }\n    },\n\n    /**\n     * @api private\n     */\n    validateResponseBody: function validateResponseBody(resp) {\n        var body = resp.httpResponse.body.toString() || '{}';\n        var bodyCheck = body.trim();\n        if (!bodyCheck || bodyCheck.charAt(0) !== '{') {\n            resp.httpResponse.body = '';\n        }\n    }\n\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['iotanalytics'] = {};\nAWS.IoTAnalytics = Service.defineService('iotanalytics', ['2017-11-27']);\nObject.defineProperty(apiLoader.services['iotanalytics'], '2017-11-27', {\n  get: function get() {\n    var model = require('../apis/iotanalytics-2017-11-27.min.json');\n    model.paginators = require('../apis/iotanalytics-2017-11-27.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.IoTAnalytics;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nvar expiresHeader = 'presigned-expires';\n\n/**\n * @api private\n */\nfunction signedUrlBuilder(request) {\n  var expires = request.httpRequest.headers[expiresHeader];\n  var signerClass = request.service.getSignerClass(request);\n\n  delete request.httpRequest.headers['User-Agent'];\n  delete request.httpRequest.headers['X-Amz-User-Agent'];\n\n  if (signerClass === AWS.Signers.V4) {\n    if (expires > 604800) { // one week expiry is invalid\n      var message = 'Presigning does not support expiry time greater ' +\n                    'than a week with SigV4 signing.';\n      throw AWS.util.error(new Error(), {\n        code: 'InvalidExpiryTime', message: message, retryable: false\n      });\n    }\n    request.httpRequest.headers[expiresHeader] = expires;\n  } else if (signerClass === AWS.Signers.S3) {\n    var now = request.service ? request.service.getSkewCorrectedDate() : AWS.util.date.getDate();\n    request.httpRequest.headers[expiresHeader] = parseInt(\n      AWS.util.date.unixTimestamp(now) + expires, 10).toString();\n  } else {\n    throw AWS.util.error(new Error(), {\n      message: 'Presigning only supports S3 or SigV4 signing.',\n      code: 'UnsupportedSigner', retryable: false\n    });\n  }\n}\n\n/**\n * @api private\n */\nfunction signedUrlSigner(request) {\n  var endpoint = request.httpRequest.endpoint;\n  var parsedUrl = AWS.util.urlParse(request.httpRequest.path);\n  var queryParams = {};\n\n  if (parsedUrl.search) {\n    queryParams = AWS.util.queryStringParse(parsedUrl.search.substr(1));\n  }\n\n  var auth = request.httpRequest.headers['Authorization'].split(' ');\n  if (auth[0] === 'AWS') {\n    auth = auth[1].split(':');\n    queryParams['AWSAccessKeyId'] = auth[0];\n    queryParams['Signature'] = auth[1];\n\n    AWS.util.each(request.httpRequest.headers, function (key, value) {\n      if (key === expiresHeader) key = 'Expires';\n      if (key.indexOf('x-amz-meta-') === 0) {\n        // Delete existing, potentially not normalized key\n        delete queryParams[key];\n        key = key.toLowerCase();\n      }\n      queryParams[key] = value;\n    });\n    delete request.httpRequest.headers[expiresHeader];\n    delete queryParams['Authorization'];\n    delete queryParams['Host'];\n  } else if (auth[0] === 'AWS4-HMAC-SHA256') { // SigV4 signing\n    auth.shift();\n    var rest = auth.join(' ');\n    var signature = rest.match(/Signature=(.*?)(?:,|\\s|\\r?\\n|$)/)[1];\n    queryParams['X-Amz-Signature'] = signature;\n    delete queryParams['Expires'];\n  }\n\n  // build URL\n  endpoint.pathname = parsedUrl.pathname;\n  endpoint.search = AWS.util.queryParamsToString(queryParams);\n}\n\n/**\n * @api private\n */\nAWS.Signers.Presign = inherit({\n  /**\n   * @api private\n   */\n  sign: function sign(request, expireTime, callback) {\n    request.httpRequest.headers[expiresHeader] = expireTime || 3600;\n    request.on('build', signedUrlBuilder);\n    request.on('sign', signedUrlSigner);\n    request.removeListener('afterBuild',\n      AWS.EventListeners.Core.SET_CONTENT_LENGTH);\n    request.removeListener('afterBuild',\n      AWS.EventListeners.Core.COMPUTE_SHA256);\n\n    request.emit('beforePresign', [request]);\n\n    if (callback) {\n      request.build(function() {\n        if (this.response.error) callback(this.response.error);\n        else {\n          callback(null, AWS.util.urlFormat(request.httpRequest.endpoint));\n        }\n      });\n    } else {\n      request.build();\n      if (request.response.error) throw request.response.error;\n      return AWS.util.urlFormat(request.httpRequest.endpoint);\n    }\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.Presign;\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar zeroWidthSpace = '\\u200b';\n\nmodule.exports = function getPolyfill() {\n\tif (String.prototype.trim && zeroWidthSpace.trim() === zeroWidthSpace) {\n\t\treturn String.prototype.trim;\n\t}\n\treturn implementation;\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['elb'] = {};\nAWS.ELB = Service.defineService('elb', ['2012-06-01']);\nObject.defineProperty(apiLoader.services['elb'], '2012-06-01', {\n  get: function get() {\n    var model = require('../apis/elasticloadbalancing-2012-06-01.min.json');\n    model.paginators = require('../apis/elasticloadbalancing-2012-06-01.paginators.json').pagination;\n    model.waiters = require('../apis/elasticloadbalancing-2012-06-01.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ELB;\n","var AWS = require('../core');\n\nAWS.util.update(AWS.MachineLearning.prototype, {\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    if (request.operation === 'predict') {\n      request.addListener('build', this.buildEndpoint);\n    }\n  },\n\n  /**\n   * Updates request endpoint from PredictEndpoint\n   * @api private\n   */\n  buildEndpoint: function buildEndpoint(request) {\n    var url = request.params.PredictEndpoint;\n    if (url) {\n      request.httpRequest.endpoint = new AWS.Endpoint(url);\n    }\n  }\n\n});\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","var AWS = require('../core');\nvar util = AWS.util;\nvar typeOf = require('./types').typeOf;\nvar DynamoDBSet = require('./set');\nvar NumberValue = require('./numberValue');\n\nAWS.DynamoDB.Converter = {\n  /**\n   * Convert a JavaScript value to its equivalent DynamoDB AttributeValue type\n   *\n   * @param data [any] The data to convert to a DynamoDB AttributeValue\n   * @param options [map]\n   * @option options convertEmptyValues [Boolean] Whether to automatically\n   *                                              convert empty strings, blobs,\n   *                                              and sets to `null`\n   * @option options wrapNumbers [Boolean]  Whether to return numbers as a\n   *                                        NumberValue object instead of\n   *                                        converting them to native JavaScript\n   *                                        numbers. This allows for the safe\n   *                                        round-trip transport of numbers of\n   *                                        arbitrary size.\n   * @return [map] An object in the Amazon DynamoDB AttributeValue format\n   *\n   * @see AWS.DynamoDB.Converter.marshall AWS.DynamoDB.Converter.marshall to\n   *    convert entire records (rather than individual attributes)\n   */\n  input: function convertInput(data, options) {\n    options = options || {};\n    var type = typeOf(data);\n    if (type === 'Object') {\n      return formatMap(data, options);\n    } else if (type === 'Array') {\n      return formatList(data, options);\n    } else if (type === 'Set') {\n      return formatSet(data, options);\n    } else if (type === 'String') {\n      if (data.length === 0 && options.convertEmptyValues) {\n        return convertInput(null);\n      }\n      return { S: data };\n    } else if (type === 'Number' || type === 'NumberValue') {\n      return { N: data.toString() };\n    } else if (type === 'Binary') {\n      if (data.length === 0 && options.convertEmptyValues) {\n        return convertInput(null);\n      }\n      return { B: data };\n    } else if (type === 'Boolean') {\n      return { BOOL: data };\n    } else if (type === 'null') {\n      return { NULL: true };\n    } else if (type !== 'undefined' && type !== 'Function') {\n      // this value has a custom constructor\n      return formatMap(data, options);\n    }\n  },\n\n  /**\n   * Convert a JavaScript object into a DynamoDB record.\n   *\n   * @param data [any] The data to convert to a DynamoDB record\n   * @param options [map]\n   * @option options convertEmptyValues [Boolean] Whether to automatically\n   *                                              convert empty strings, blobs,\n   *                                              and sets to `null`\n   * @option options wrapNumbers [Boolean]  Whether to return numbers as a\n   *                                        NumberValue object instead of\n   *                                        converting them to native JavaScript\n   *                                        numbers. This allows for the safe\n   *                                        round-trip transport of numbers of\n   *                                        arbitrary size.\n   *\n   * @return [map] An object in the DynamoDB record format.\n   *\n   * @example Convert a JavaScript object into a DynamoDB record\n   *  var marshalled = AWS.DynamoDB.Converter.marshall({\n   *    string: 'foo',\n   *    list: ['fizz', 'buzz', 'pop'],\n   *    map: {\n   *      nestedMap: {\n   *        key: 'value',\n   *      }\n   *    },\n   *    number: 123,\n   *    nullValue: null,\n   *    boolValue: true,\n   *    stringSet: new DynamoDBSet(['foo', 'bar', 'baz'])\n   *  });\n   */\n  marshall: function marshallItem(data, options) {\n    return AWS.DynamoDB.Converter.input(data, options).M;\n  },\n\n  /**\n   * Convert a DynamoDB AttributeValue object to its equivalent JavaScript type.\n   *\n   * @param data [map] An object in the Amazon DynamoDB AttributeValue format\n   * @param options [map]\n   * @option options convertEmptyValues [Boolean] Whether to automatically\n   *                                              convert empty strings, blobs,\n   *                                              and sets to `null`\n   * @option options wrapNumbers [Boolean]  Whether to return numbers as a\n   *                                        NumberValue object instead of\n   *                                        converting them to native JavaScript\n   *                                        numbers. This allows for the safe\n   *                                        round-trip transport of numbers of\n   *                                        arbitrary size.\n   *\n   * @return [Object|Array|String|Number|Boolean|null]\n   *\n   * @see AWS.DynamoDB.Converter.unmarshall AWS.DynamoDB.Converter.unmarshall to\n   *    convert entire records (rather than individual attributes)\n   */\n  output: function convertOutput(data, options) {\n    options = options || {};\n    var list, map, i;\n    for (var type in data) {\n      var values = data[type];\n      if (type === 'M') {\n        map = {};\n        for (var key in values) {\n          map[key] = convertOutput(values[key], options);\n        }\n        return map;\n      } else if (type === 'L') {\n        list = [];\n        for (i = 0; i < values.length; i++) {\n          list.push(convertOutput(values[i], options));\n        }\n        return list;\n      } else if (type === 'SS') {\n        list = [];\n        for (i = 0; i < values.length; i++) {\n          list.push(values[i] + '');\n        }\n        return new DynamoDBSet(list);\n      } else if (type === 'NS') {\n        list = [];\n        for (i = 0; i < values.length; i++) {\n          list.push(convertNumber(values[i], options.wrapNumbers));\n        }\n        return new DynamoDBSet(list);\n      } else if (type === 'BS') {\n        list = [];\n        for (i = 0; i < values.length; i++) {\n          list.push(AWS.util.buffer.toBuffer(values[i]));\n        }\n        return new DynamoDBSet(list);\n      } else if (type === 'S') {\n        return values + '';\n      } else if (type === 'N') {\n        return convertNumber(values, options.wrapNumbers);\n      } else if (type === 'B') {\n        return util.buffer.toBuffer(values);\n      } else if (type === 'BOOL') {\n        return (values === 'true' || values === 'TRUE' || values === true);\n      } else if (type === 'NULL') {\n        return null;\n      }\n    }\n  },\n\n  /**\n   * Convert a DynamoDB record into a JavaScript object.\n   *\n   * @param data [any] The DynamoDB record\n   * @param options [map]\n   * @option options convertEmptyValues [Boolean] Whether to automatically\n   *                                              convert empty strings, blobs,\n   *                                              and sets to `null`\n   * @option options wrapNumbers [Boolean]  Whether to return numbers as a\n   *                                        NumberValue object instead of\n   *                                        converting them to native JavaScript\n   *                                        numbers. This allows for the safe\n   *                                        round-trip transport of numbers of\n   *                                        arbitrary size.\n   *\n   * @return [map] An object whose properties have been converted from\n   *    DynamoDB's AttributeValue format into their corresponding native\n   *    JavaScript types.\n   *\n   * @example Convert a record received from a DynamoDB stream\n   *  var unmarshalled = AWS.DynamoDB.Converter.unmarshall({\n   *    string: {S: 'foo'},\n   *    list: {L: [{S: 'fizz'}, {S: 'buzz'}, {S: 'pop'}]},\n   *    map: {\n   *      M: {\n   *        nestedMap: {\n   *          M: {\n   *            key: {S: 'value'}\n   *          }\n   *        }\n   *      }\n   *    },\n   *    number: {N: '123'},\n   *    nullValue: {NULL: true},\n   *    boolValue: {BOOL: true}\n   *  });\n   */\n  unmarshall: function unmarshall(data, options) {\n    return AWS.DynamoDB.Converter.output({M: data}, options);\n  }\n};\n\n/**\n * @api private\n * @param data [Array]\n * @param options [map]\n */\nfunction formatList(data, options) {\n  var list = {L: []};\n  for (var i = 0; i < data.length; i++) {\n    list['L'].push(AWS.DynamoDB.Converter.input(data[i], options));\n  }\n  return list;\n}\n\n/**\n * @api private\n * @param value [String]\n * @param wrapNumbers [Boolean]\n */\nfunction convertNumber(value, wrapNumbers) {\n  return wrapNumbers ? new NumberValue(value) : Number(value);\n}\n\n/**\n * @api private\n * @param data [map]\n * @param options [map]\n */\nfunction formatMap(data, options) {\n  var map = {M: {}};\n  for (var key in data) {\n    var formatted = AWS.DynamoDB.Converter.input(data[key], options);\n    if (formatted !== void 0) {\n      map['M'][key] = formatted;\n    }\n  }\n  return map;\n}\n\n/**\n * @api private\n */\nfunction formatSet(data, options) {\n  options = options || {};\n  var values = data.values;\n  if (options.convertEmptyValues) {\n    values = filterEmptySetValues(data);\n    if (values.length === 0) {\n      return AWS.DynamoDB.Converter.input(null);\n    }\n  }\n\n  var map = {};\n  switch (data.type) {\n    case 'String': map['SS'] = values; break;\n    case 'Binary': map['BS'] = values; break;\n    case 'Number': map['NS'] = values.map(function (value) {\n      return value.toString();\n    });\n  }\n  return map;\n}\n\n/**\n * @api private\n */\nfunction filterEmptySetValues(set) {\n    var nonEmptyValues = [];\n    var potentiallyEmptyTypes = {\n        String: true,\n        Binary: true,\n        Number: false\n    };\n    if (potentiallyEmptyTypes[set.type]) {\n        for (var i = 0; i < set.values.length; i++) {\n            if (set.values[i].length === 0) {\n                continue;\n            }\n            nonEmptyValues.push(set.values[i]);\n        }\n\n        return nonEmptyValues;\n    }\n\n    return set.values;\n}\n\n/**\n * @api private\n */\nmodule.exports = AWS.DynamoDB.Converter;\n","'use strict';\n\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isCallable(value) {\n\tif (!value) { return false; }\n\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\tif (typeof value === 'function' && !value.prototype) { return true; }\n\tif (hasToStringTag) { return tryFunctionObject(value); }\n\tif (isES6ClassFn(value)) { return false; }\n\tvar strClass = toStr.call(value);\n\treturn strClass === fnClass || strClass === genClass;\n};\n","require('../lib/node_loader');\nmodule.exports = {\n  ACM: require('./acm'),\n  APIGateway: require('./apigateway'),\n  ApplicationAutoScaling: require('./applicationautoscaling'),\n  AutoScaling: require('./autoscaling'),\n  CloudFormation: require('./cloudformation'),\n  CloudFront: require('./cloudfront'),\n  CloudHSM: require('./cloudhsm'),\n  CloudTrail: require('./cloudtrail'),\n  CloudWatch: require('./cloudwatch'),\n  CloudWatchEvents: require('./cloudwatchevents'),\n  CloudWatchLogs: require('./cloudwatchlogs'),\n  CodeBuild: require('./codebuild'),\n  CodeCommit: require('./codecommit'),\n  CodeDeploy: require('./codedeploy'),\n  CodePipeline: require('./codepipeline'),\n  CognitoIdentity: require('./cognitoidentity'),\n  CognitoIdentityServiceProvider: require('./cognitoidentityserviceprovider'),\n  CognitoSync: require('./cognitosync'),\n  ConfigService: require('./configservice'),\n  CUR: require('./cur'),\n  DeviceFarm: require('./devicefarm'),\n  DirectConnect: require('./directconnect'),\n  DynamoDB: require('./dynamodb'),\n  DynamoDBStreams: require('./dynamodbstreams'),\n  EC2: require('./ec2'),\n  ECR: require('./ecr'),\n  ECS: require('./ecs'),\n  EFS: require('./efs'),\n  ElastiCache: require('./elasticache'),\n  ElasticBeanstalk: require('./elasticbeanstalk'),\n  ELB: require('./elb'),\n  ELBv2: require('./elbv2'),\n  EMR: require('./emr'),\n  ElasticTranscoder: require('./elastictranscoder'),\n  Firehose: require('./firehose'),\n  GameLift: require('./gamelift'),\n  IAM: require('./iam'),\n  Inspector: require('./inspector'),\n  Iot: require('./iot'),\n  IotData: require('./iotdata'),\n  Kinesis: require('./kinesis'),\n  KMS: require('./kms'),\n  Lambda: require('./lambda'),\n  LexRuntime: require('./lexruntime'),\n  MachineLearning: require('./machinelearning'),\n  MarketplaceCommerceAnalytics: require('./marketplacecommerceanalytics'),\n  MTurk: require('./mturk'),\n  MobileAnalytics: require('./mobileanalytics'),\n  OpsWorks: require('./opsworks'),\n  Polly: require('./polly'),\n  RDS: require('./rds'),\n  Redshift: require('./redshift'),\n  Rekognition: require('./rekognition'),\n  Route53: require('./route53'),\n  Route53Domains: require('./route53domains'),\n  S3: require('./s3'),\n  ServiceCatalog: require('./servicecatalog'),\n  SES: require('./ses'),\n  SNS: require('./sns'),\n  SQS: require('./sqs'),\n  SSM: require('./ssm'),\n  StorageGateway: require('./storagegateway'),\n  STS: require('./sts'),\n  XRay: require('./xray'),\n  WAF: require('./waf'),\n  WorkDocs: require('./workdocs'),\n  LexModelBuildingService: require('./lexmodelbuildingservice'),\n  Pricing: require('./pricing'),\n  CostExplorer: require('./costexplorer'),\n  MediaStoreData: require('./mediastoredata'),\n  Comprehend: require('./comprehend'),\n  KinesisVideoArchivedMedia: require('./kinesisvideoarchivedmedia'),\n  KinesisVideoMedia: require('./kinesisvideomedia'),\n  KinesisVideo: require('./kinesisvideo'),\n  Translate: require('./translate'),\n  ResourceGroups: require('./resourcegroups'),\n  Connect: require('./connect'),\n  SecretsManager: require('./secretsmanager'),\n  IoTAnalytics: require('./iotanalytics'),\n  ComprehendMedical: require('./comprehendmedical'),\n  Personalize: require('./personalize'),\n  PersonalizeEvents: require('./personalizeevents'),\n  PersonalizeRuntime: require('./personalizeruntime'),\n  ForecastService: require('./forecastservice'),\n  ForecastQueryService: require('./forecastqueryservice')\n};","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['codepipeline'] = {};\nAWS.CodePipeline = Service.defineService('codepipeline', ['2015-07-09']);\nObject.defineProperty(apiLoader.services['codepipeline'], '2015-07-09', {\n  get: function get() {\n    var model = require('../apis/codepipeline-2015-07-09.min.json');\n    model.paginators = require('../apis/codepipeline-2015-07-09.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CodePipeline;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['kinesis'] = {};\nAWS.Kinesis = Service.defineService('kinesis', ['2013-12-02']);\nObject.defineProperty(apiLoader.services['kinesis'], '2013-12-02', {\n  get: function get() {\n    var model = require('../apis/kinesis-2013-12-02.min.json');\n    model.paginators = require('../apis/kinesis-2013-12-02.paginators.json').pagination;\n    model.waiters = require('../apis/kinesis-2013-12-02.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Kinesis;\n","var util = require('../util');\n\nfunction JsonBuilder() { }\n\nJsonBuilder.prototype.build = function(value, shape) {\n  return JSON.stringify(translate(value, shape));\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined || value === null) return undefined;\n\n  switch (shape.type) {\n    case 'structure': return translateStructure(value, shape);\n    case 'map': return translateMap(value, shape);\n    case 'list': return translateList(value, shape);\n    default: return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  var struct = {};\n  util.each(structure, function(name, value) {\n    var memberShape = shape.members[name];\n    if (memberShape) {\n      if (memberShape.location !== 'body') return;\n      var locationName = memberShape.isLocationName ? memberShape.name : name;\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[locationName] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = translate(value, shape.member);\n    if (result !== undefined) out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = translate(value, shape.value);\n    if (result !== undefined) out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toWireFormat(value);\n}\n\n/**\n * @api private\n */\nmodule.exports = JsonBuilder;\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Accepts program elementary stream (PES) data events and corrects\n * decode and presentation time stamps to account for a rollover\n * of the 33 bit value.\n */\n\n'use strict';\n\nvar Stream = require('../utils/stream');\n\nvar MAX_TS = 8589934592;\n\nvar RO_THRESH = 4294967296;\n\nvar TYPE_SHARED = 'shared';\n\nvar handleRollover = function(value, reference) {\n  var direction = 1;\n\n  if (value > reference) {\n    // If the current timestamp value is greater than our reference timestamp and we detect a\n    // timestamp rollover, this means the roll over is happening in the opposite direction.\n    // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\n    // point will be set to a small number, e.g. 1. The user then seeks backwards over the\n    // rollover point. In loading this segment, the timestamp values will be very large,\n    // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\n    // the time stamp to be `value - 2^33`.\n    direction = -1;\n  }\n\n  // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\n  // cause an incorrect adjustment.\n  while (Math.abs(reference - value) > RO_THRESH) {\n    value += (direction * MAX_TS);\n  }\n\n  return value;\n};\n\nvar TimestampRolloverStream = function(type) {\n  var lastDTS, referenceDTS;\n\n  TimestampRolloverStream.prototype.init.call(this);\n\n  // The \"shared\" type is used in cases where a stream will contain muxed\n  // video and audio. We could use `undefined` here, but having a string\n  // makes debugging a little clearer.\n  this.type_ = type || TYPE_SHARED;\n\n  this.push = function(data) {\n\n    // Any \"shared\" rollover streams will accept _all_ data. Otherwise,\n    // streams will only accept data that matches their type.\n    if (this.type_ !== TYPE_SHARED && data.type !== this.type_) {\n      return;\n    }\n\n    if (referenceDTS === undefined) {\n      referenceDTS = data.dts;\n    }\n\n    data.dts = handleRollover(data.dts, referenceDTS);\n    data.pts = handleRollover(data.pts, referenceDTS);\n\n    lastDTS = data.dts;\n\n    this.trigger('data', data);\n  };\n\n  this.flush = function() {\n    referenceDTS = lastDTS;\n    this.trigger('done');\n  };\n\n  this.endTimeline = function() {\n    this.flush();\n    this.trigger('endedtimeline');\n  };\n\n  this.discontinuity = function() {\n    referenceDTS = void 0;\n    lastDTS = void 0;\n  };\n\n  this.reset = function() {\n    this.discontinuity();\n    this.trigger('reset');\n  };\n};\n\nTimestampRolloverStream.prototype = new Stream();\n\nmodule.exports = {\n  TimestampRolloverStream: TimestampRolloverStream,\n  handleRollover: handleRollover\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['emr'] = {};\nAWS.EMR = Service.defineService('emr', ['2009-03-31']);\nObject.defineProperty(apiLoader.services['emr'], '2009-03-31', {\n  get: function get() {\n    var model = require('../apis/elasticmapreduce-2009-03-31.min.json');\n    model.paginators = require('../apis/elasticmapreduce-2009-03-31.paginators.json').pagination;\n    model.waiters = require('../apis/elasticmapreduce-2009-03-31.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.EMR;\n","var AWS = require('../core');\n\nAWS.util.update(AWS.CognitoIdentity.prototype, {\n  getOpenIdToken: function getOpenIdToken(params, callback) {\n    return this.makeUnauthenticatedRequest('getOpenIdToken', params, callback);\n  },\n\n  getId: function getId(params, callback) {\n    return this.makeUnauthenticatedRequest('getId', params, callback);\n  },\n\n  getCredentialsForIdentity: function getCredentialsForIdentity(params, callback) {\n    return this.makeUnauthenticatedRequest('getCredentialsForIdentity', params, callback);\n  }\n});\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about MP4s.\n */\n'use strict';\n\nvar toUnsigned = require('../utils/bin').toUnsigned;\nvar toHexString = require('../utils/bin').toHexString;\nvar findBox, parseType, timescale, startTime, getVideoTrackIds, getTracks;\n\n// Find the data for a box specified by its path\nfindBox = function(data, path) {\n  var results = [],\n      i, size, type, end, subresults;\n\n  if (!path.length) {\n    // short-circuit the search for empty paths\n    return null;\n  }\n\n  for (i = 0; i < data.byteLength;) {\n    size  = toUnsigned(data[i]     << 24 |\n                       data[i + 1] << 16 |\n                       data[i + 2] <<  8 |\n                       data[i + 3]);\n\n    type = parseType(data.subarray(i + 4, i + 8));\n\n    end = size > 1 ? i + size : data.byteLength;\n\n    if (type === path[0]) {\n      if (path.length === 1) {\n        // this is the end of the path and we've found the box we were\n        // looking for\n        results.push(data.subarray(i + 8, end));\n      } else {\n        // recursively search for the next box along the path\n        subresults = findBox(data.subarray(i + 8, end), path.slice(1));\n        if (subresults.length) {\n          results = results.concat(subresults);\n        }\n      }\n    }\n    i = end;\n  }\n\n  // we've finished searching all of data\n  return results;\n};\n\n/**\n * Returns the string representation of an ASCII encoded four byte buffer.\n * @param buffer {Uint8Array} a four-byte buffer to translate\n * @return {string} the corresponding string\n */\nparseType = function(buffer) {\n  var result = '';\n  result += String.fromCharCode(buffer[0]);\n  result += String.fromCharCode(buffer[1]);\n  result += String.fromCharCode(buffer[2]);\n  result += String.fromCharCode(buffer[3]);\n  return result;\n};\n\n/**\n * Parses an MP4 initialization segment and extracts the timescale\n * values for any declared tracks. Timescale values indicate the\n * number of clock ticks per second to assume for time-based values\n * elsewhere in the MP4.\n *\n * To determine the start time of an MP4, you need two pieces of\n * information: the timescale unit and the earliest base media decode\n * time. Multiple timescales can be specified within an MP4 but the\n * base media decode time is always expressed in the timescale from\n * the media header box for the track:\n * ```\n * moov > trak > mdia > mdhd.timescale\n * ```\n * @param init {Uint8Array} the bytes of the init segment\n * @return {object} a hash of track ids to timescale values or null if\n * the init segment is malformed.\n */\ntimescale = function(init) {\n  var\n    result = {},\n    traks = findBox(init, ['moov', 'trak']);\n\n  // mdhd timescale\n  return traks.reduce(function(result, trak) {\n    var tkhd, version, index, id, mdhd;\n\n    tkhd = findBox(trak, ['tkhd'])[0];\n    if (!tkhd) {\n      return null;\n    }\n    version = tkhd[0];\n    index = version === 0 ? 12 : 20;\n    id = toUnsigned(tkhd[index]     << 24 |\n                    tkhd[index + 1] << 16 |\n                    tkhd[index + 2] <<  8 |\n                    tkhd[index + 3]);\n\n    mdhd = findBox(trak, ['mdia', 'mdhd'])[0];\n    if (!mdhd) {\n      return null;\n    }\n    version = mdhd[0];\n    index = version === 0 ? 12 : 20;\n    result[id] = toUnsigned(mdhd[index]     << 24 |\n                            mdhd[index + 1] << 16 |\n                            mdhd[index + 2] <<  8 |\n                            mdhd[index + 3]);\n    return result;\n  }, result);\n};\n\n/**\n * Determine the base media decode start time, in seconds, for an MP4\n * fragment. If multiple fragments are specified, the earliest time is\n * returned.\n *\n * The base media decode time can be parsed from track fragment\n * metadata:\n * ```\n * moof > traf > tfdt.baseMediaDecodeTime\n * ```\n * It requires the timescale value from the mdhd to interpret.\n *\n * @param timescale {object} a hash of track ids to timescale values.\n * @return {number} the earliest base media decode start time for the\n * fragment, in seconds\n */\nstartTime = function(timescale, fragment) {\n  var trafs, baseTimes, result;\n\n  // we need info from two childrend of each track fragment box\n  trafs = findBox(fragment, ['moof', 'traf']);\n\n  // determine the start times for each track\n  baseTimes = [].concat.apply([], trafs.map(function(traf) {\n    return findBox(traf, ['tfhd']).map(function(tfhd) {\n      var id, scale, baseTime;\n\n      // get the track id from the tfhd\n      id = toUnsigned(tfhd[4] << 24 |\n                      tfhd[5] << 16 |\n                      tfhd[6] <<  8 |\n                      tfhd[7]);\n      // assume a 90kHz clock if no timescale was specified\n      scale = timescale[id] || 90e3;\n\n      // get the base media decode time from the tfdt\n      baseTime = findBox(traf, ['tfdt']).map(function(tfdt) {\n        var version, result;\n\n        version = tfdt[0];\n        result = toUnsigned(tfdt[4] << 24 |\n                            tfdt[5] << 16 |\n                            tfdt[6] <<  8 |\n                            tfdt[7]);\n        if (version ===  1) {\n          result *= Math.pow(2, 32);\n          result += toUnsigned(tfdt[8]  << 24 |\n                               tfdt[9]  << 16 |\n                               tfdt[10] <<  8 |\n                               tfdt[11]);\n        }\n        return result;\n      })[0];\n      baseTime = baseTime || Infinity;\n\n      // convert base time to seconds\n      return baseTime / scale;\n    });\n  }));\n\n  // return the minimum\n  result = Math.min.apply(null, baseTimes);\n  return isFinite(result) ? result : 0;\n};\n\n/**\n  * Find the trackIds of the video tracks in this source.\n  * Found by parsing the Handler Reference and Track Header Boxes:\n  *   moov > trak > mdia > hdlr\n  *   moov > trak > tkhd\n  *\n  * @param {Uint8Array} init - The bytes of the init segment for this source\n  * @return {Number[]} A list of trackIds\n  *\n  * @see ISO-BMFF-12/2015, Section 8.4.3\n **/\ngetVideoTrackIds = function(init) {\n  var traks = findBox(init, ['moov', 'trak']);\n  var videoTrackIds = [];\n\n  traks.forEach(function(trak) {\n    var hdlrs = findBox(trak, ['mdia', 'hdlr']);\n    var tkhds = findBox(trak, ['tkhd']);\n\n    hdlrs.forEach(function(hdlr, index) {\n      var handlerType = parseType(hdlr.subarray(8, 12));\n      var tkhd = tkhds[index];\n      var view;\n      var version;\n      var trackId;\n\n      if (handlerType === 'vide') {\n        view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n        version = view.getUint8(0);\n        trackId = (version === 0) ? view.getUint32(12) : view.getUint32(20);\n\n        videoTrackIds.push(trackId);\n      }\n    });\n  });\n\n  return videoTrackIds;\n};\n\n/**\n * Get all the video, audio, and hint tracks from a non fragmented\n * mp4 segment\n */\ngetTracks = function(init) {\n  var traks = findBox(init, ['moov', 'trak']);\n  var tracks = [];\n\n  traks.forEach(function(trak) {\n    var track = {};\n    var tkhd = findBox(trak, ['tkhd'])[0];\n    var view, version;\n\n    // id\n    if (tkhd) {\n      view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n      version = view.getUint8(0);\n\n      track.id = (version === 0) ? view.getUint32(12) : view.getUint32(20);\n    }\n\n    var hdlr = findBox(trak, ['mdia', 'hdlr'])[0];\n\n    // type\n    if (hdlr) {\n      var type = parseType(hdlr.subarray(8, 12));\n\n      if (type === 'vide') {\n        track.type = 'video';\n      } else if (type === 'soun') {\n        track.type = 'audio';\n      } else {\n        track.type = type;\n      }\n    }\n\n\n    // codec\n    var stsd = findBox(trak, ['mdia', 'minf', 'stbl', 'stsd'])[0];\n\n    if (stsd) {\n      var sampleDescriptions = stsd.subarray(8);\n      // gives the codec type string\n      track.codec = parseType(sampleDescriptions.subarray(4, 8));\n\n      var codecBox = findBox(sampleDescriptions, [track.codec])[0];\n      var codecConfig, codecConfigType;\n\n      if (codecBox) {\n        // https://tools.ietf.org/html/rfc6381#section-3.3\n        if ((/^[a-z]vc[1-9]$/i).test(track.codec)) {\n          // we don't need anything but the \"config\" parameter of the\n          // avc1 codecBox\n          codecConfig = codecBox.subarray(78);\n          codecConfigType = parseType(codecConfig.subarray(4, 8));\n\n          if (codecConfigType === 'avcC' && codecConfig.length > 11) {\n            track.codec += '.';\n\n            // left padded with zeroes for single digit hex\n            // profile idc\n            track.codec +=  toHexString(codecConfig[9]);\n            // the byte containing the constraint_set flags\n            track.codec += toHexString(codecConfig[10]);\n            // level idc\n            track.codec += toHexString(codecConfig[11]);\n          } else {\n            // TODO: show a warning that we couldn't parse the codec\n            // and are using the default\n            track.codec = 'avc1.4d400d';\n          }\n        } else if ((/^mp4[a,v]$/i).test(track.codec)) {\n          // we do not need anything but the streamDescriptor of the mp4a codecBox\n          codecConfig = codecBox.subarray(28);\n          codecConfigType = parseType(codecConfig.subarray(4, 8));\n\n          if (codecConfigType === 'esds' && codecConfig.length > 20 && codecConfig[19] !== 0) {\n            track.codec += '.' + toHexString(codecConfig[19]);\n            // this value is only a single digit\n            track.codec += '.' + toHexString((codecConfig[20] >>> 2) & 0x3f).replace(/^0/, '');\n          } else {\n            // TODO: show a warning that we couldn't parse the codec\n            // and are using the default\n            track.codec = 'mp4a.40.2';\n          }\n        } else {\n          // TODO: show a warning? for unknown codec type\n        }\n      }\n    }\n\n    var mdhd = findBox(trak, ['mdia', 'mdhd'])[0];\n\n    if (mdhd && tkhd) {\n      var index = version === 0 ? 12 : 20;\n\n      track.timescale = toUnsigned(mdhd[index]     << 24 |\n                                   mdhd[index + 1] << 16 |\n                                   mdhd[index + 2] <<  8 |\n                                   mdhd[index + 3]);\n    }\n\n    tracks.push(track);\n  });\n\n  return tracks;\n};\n\nmodule.exports = {\n  findBox: findBox,\n  parseType: parseType,\n  timescale: timescale,\n  startTime: startTime,\n  videoTrackIds: getVideoTrackIds,\n  tracks: getTracks\n};\n","var util = require('../util');\nvar populateHostPrefix = require('./helpers').populateHostPrefix;\n\nfunction populateMethod(req) {\n  req.httpRequest.method = req.service.api.operations[req.operation].httpMethod;\n}\n\nfunction generateURI(endpointPath, operationPath, input, params) {\n  var uri = [endpointPath, operationPath].join('/');\n  uri = uri.replace(/\\/+/g, '/');\n\n  var queryString = {}, queryStringSet = false;\n  util.each(input.members, function (name, member) {\n    var paramValue = params[name];\n    if (paramValue === null || paramValue === undefined) return;\n    if (member.location === 'uri') {\n      var regex = new RegExp('\\\\{' + member.name + '(\\\\+)?\\\\}');\n      uri = uri.replace(regex, function(_, plus) {\n        var fn = plus ? util.uriEscapePath : util.uriEscape;\n        return fn(String(paramValue));\n      });\n    } else if (member.location === 'querystring') {\n      queryStringSet = true;\n\n      if (member.type === 'list') {\n        queryString[member.name] = paramValue.map(function(val) {\n          return util.uriEscape(member.member.toWireFormat(val).toString());\n        });\n      } else if (member.type === 'map') {\n        util.each(paramValue, function(key, value) {\n          if (Array.isArray(value)) {\n            queryString[key] = value.map(function(val) {\n              return util.uriEscape(String(val));\n            });\n          } else {\n            queryString[key] = util.uriEscape(String(value));\n          }\n        });\n      } else {\n        queryString[member.name] = util.uriEscape(member.toWireFormat(paramValue).toString());\n      }\n    }\n  });\n\n  if (queryStringSet) {\n    uri += (uri.indexOf('?') >= 0 ? '&' : '?');\n    var parts = [];\n    util.arrayEach(Object.keys(queryString).sort(), function(key) {\n      if (!Array.isArray(queryString[key])) {\n        queryString[key] = [queryString[key]];\n      }\n      for (var i = 0; i < queryString[key].length; i++) {\n        parts.push(util.uriEscape(String(key)) + '=' + queryString[key][i]);\n      }\n    });\n    uri += parts.join('&');\n  }\n\n  return uri;\n}\n\nfunction populateURI(req) {\n  var operation = req.service.api.operations[req.operation];\n  var input = operation.input;\n\n  var uri = generateURI(req.httpRequest.endpoint.path, operation.httpPath, input, req.params);\n  req.httpRequest.path = uri;\n}\n\nfunction populateHeaders(req) {\n  var operation = req.service.api.operations[req.operation];\n  util.each(operation.input.members, function (name, member) {\n    var value = req.params[name];\n    if (value === null || value === undefined) return;\n\n    if (member.location === 'headers' && member.type === 'map') {\n      util.each(value, function(key, memberValue) {\n        req.httpRequest.headers[member.name + key] = memberValue;\n      });\n    } else if (member.location === 'header') {\n      value = member.toWireFormat(value).toString();\n      if (member.isJsonValue) {\n        value = util.base64.encode(value);\n      }\n      req.httpRequest.headers[member.name] = value;\n    }\n  });\n}\n\nfunction buildRequest(req) {\n  populateMethod(req);\n  populateURI(req);\n  populateHeaders(req);\n  populateHostPrefix(req);\n}\n\nfunction extractError() {\n}\n\nfunction extractData(resp) {\n  var req = resp.request;\n  var data = {};\n  var r = resp.httpResponse;\n  var operation = req.service.api.operations[req.operation];\n  var output = operation.output;\n\n  // normalize headers names to lower-cased keys for matching\n  var headers = {};\n  util.each(r.headers, function (k, v) {\n    headers[k.toLowerCase()] = v;\n  });\n\n  util.each(output.members, function(name, member) {\n    var header = (member.name || name).toLowerCase();\n    if (member.location === 'headers' && member.type === 'map') {\n      data[name] = {};\n      var location = member.isLocationName ? member.name : '';\n      var pattern = new RegExp('^' + location + '(.+)', 'i');\n      util.each(r.headers, function (k, v) {\n        var result = k.match(pattern);\n        if (result !== null) {\n          data[name][result[1]] = v;\n        }\n      });\n    } else if (member.location === 'header') {\n      if (headers[header] !== undefined) {\n        var value = member.isJsonValue ?\n          util.base64.decode(headers[header]) :\n          headers[header];\n        data[name] = member.toType(value);\n      }\n    } else if (member.location === 'statusCode') {\n      data[name] = parseInt(r.statusCode, 10);\n    }\n  });\n\n  resp.data = data;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData,\n  generateURI: generateURI\n};\n","var AWS = require('../core');\nvar v4Credentials = require('./v4_credentials');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nvar expiresHeader = 'presigned-expires';\n\n/**\n * @api private\n */\nAWS.Signers.V4 = inherit(AWS.Signers.RequestSigner, {\n  constructor: function V4(request, serviceName, options) {\n    AWS.Signers.RequestSigner.call(this, request);\n    this.serviceName = serviceName;\n    options = options || {};\n    this.signatureCache = typeof options.signatureCache === 'boolean' ? options.signatureCache : true;\n    this.operation = options.operation;\n    this.signatureVersion = options.signatureVersion;\n  },\n\n  algorithm: 'AWS4-HMAC-SHA256',\n\n  addAuthorization: function addAuthorization(credentials, date) {\n    var datetime = AWS.util.date.iso8601(date).replace(/[:\\-]|\\.\\d{3}/g, '');\n\n    if (this.isPresigned()) {\n      this.updateForPresigned(credentials, datetime);\n    } else {\n      this.addHeaders(credentials, datetime);\n    }\n\n    this.request.headers['Authorization'] =\n      this.authorization(credentials, datetime);\n  },\n\n  addHeaders: function addHeaders(credentials, datetime) {\n    this.request.headers['X-Amz-Date'] = datetime;\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n  },\n\n  updateForPresigned: function updateForPresigned(credentials, datetime) {\n    var credString = this.credentialString(datetime);\n    var qs = {\n      'X-Amz-Date': datetime,\n      'X-Amz-Algorithm': this.algorithm,\n      'X-Amz-Credential': credentials.accessKeyId + '/' + credString,\n      'X-Amz-Expires': this.request.headers[expiresHeader],\n      'X-Amz-SignedHeaders': this.signedHeaders()\n    };\n\n    if (credentials.sessionToken) {\n      qs['X-Amz-Security-Token'] = credentials.sessionToken;\n    }\n\n    if (this.request.headers['Content-Type']) {\n      qs['Content-Type'] = this.request.headers['Content-Type'];\n    }\n    if (this.request.headers['Content-MD5']) {\n      qs['Content-MD5'] = this.request.headers['Content-MD5'];\n    }\n    if (this.request.headers['Cache-Control']) {\n      qs['Cache-Control'] = this.request.headers['Cache-Control'];\n    }\n\n    // need to pull in any other X-Amz-* headers\n    AWS.util.each.call(this, this.request.headers, function(key, value) {\n      if (key === expiresHeader) return;\n      if (this.isSignableHeader(key)) {\n        var lowerKey = key.toLowerCase();\n        // Metadata should be normalized\n        if (lowerKey.indexOf('x-amz-meta-') === 0) {\n          qs[lowerKey] = value;\n        } else if (lowerKey.indexOf('x-amz-') === 0) {\n          qs[key] = value;\n        }\n      }\n    });\n\n    var sep = this.request.path.indexOf('?') >= 0 ? '&' : '?';\n    this.request.path += sep + AWS.util.queryParamsToString(qs);\n  },\n\n  authorization: function authorization(credentials, datetime) {\n    var parts = [];\n    var credString = this.credentialString(datetime);\n    parts.push(this.algorithm + ' Credential=' +\n      credentials.accessKeyId + '/' + credString);\n    parts.push('SignedHeaders=' + this.signedHeaders());\n    parts.push('Signature=' + this.signature(credentials, datetime));\n    return parts.join(', ');\n  },\n\n  signature: function signature(credentials, datetime) {\n    var signingKey = v4Credentials.getSigningKey(\n      credentials,\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName,\n      this.signatureCache\n    );\n    return AWS.util.crypto.hmac(signingKey, this.stringToSign(datetime), 'hex');\n  },\n\n  stringToSign: function stringToSign(datetime) {\n    var parts = [];\n    parts.push('AWS4-HMAC-SHA256');\n    parts.push(datetime);\n    parts.push(this.credentialString(datetime));\n    parts.push(this.hexEncodedHash(this.canonicalString()));\n    return parts.join('\\n');\n  },\n\n  canonicalString: function canonicalString() {\n    var parts = [], pathname = this.request.pathname();\n    if (this.serviceName !== 's3' && this.signatureVersion !== 's3v4') pathname = AWS.util.uriEscapePath(pathname);\n\n    parts.push(this.request.method);\n    parts.push(pathname);\n    parts.push(this.request.search());\n    parts.push(this.canonicalHeaders() + '\\n');\n    parts.push(this.signedHeaders());\n    parts.push(this.hexEncodedBodyHash());\n    return parts.join('\\n');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = [];\n    AWS.util.each.call(this, this.request.headers, function (key, item) {\n      headers.push([key, item]);\n    });\n    headers.sort(function (a, b) {\n      return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : 1;\n    });\n    var parts = [];\n    AWS.util.arrayEach.call(this, headers, function (item) {\n      var key = item[0].toLowerCase();\n      if (this.isSignableHeader(key)) {\n        var value = item[1];\n        if (typeof value === 'undefined' || value === null || typeof value.toString !== 'function') {\n          throw AWS.util.error(new Error('Header ' + key + ' contains invalid value'), {\n            code: 'InvalidHeader'\n          });\n        }\n        parts.push(key + ':' +\n          this.canonicalHeaderValues(value.toString()));\n      }\n    });\n    return parts.join('\\n');\n  },\n\n  canonicalHeaderValues: function canonicalHeaderValues(values) {\n    return values.replace(/\\s+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n  },\n\n  signedHeaders: function signedHeaders() {\n    var keys = [];\n    AWS.util.each.call(this, this.request.headers, function (key) {\n      key = key.toLowerCase();\n      if (this.isSignableHeader(key)) keys.push(key);\n    });\n    return keys.sort().join(';');\n  },\n\n  credentialString: function credentialString(datetime) {\n    return v4Credentials.createScope(\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName\n    );\n  },\n\n  hexEncodedHash: function hash(string) {\n    return AWS.util.crypto.sha256(string, 'hex');\n  },\n\n  hexEncodedBodyHash: function hexEncodedBodyHash() {\n    var request = this.request;\n    if (this.isPresigned() && this.serviceName === 's3' && !request.body) {\n      return 'UNSIGNED-PAYLOAD';\n    } else if (request.headers['X-Amz-Content-Sha256']) {\n      return request.headers['X-Amz-Content-Sha256'];\n    } else {\n      return this.hexEncodedHash(this.request.body || '');\n    }\n  },\n\n  unsignableHeaders: [\n    'authorization',\n    'content-type',\n    'content-length',\n    'user-agent',\n    expiresHeader,\n    'expect',\n    'x-amzn-trace-id'\n  ],\n\n  isSignableHeader: function isSignableHeader(key) {\n    if (key.toLowerCase().indexOf('x-amz-') === 0) return true;\n    return this.unsignableHeaders.indexOf(key) < 0;\n  },\n\n  isPresigned: function isPresigned() {\n    return this.request.headers[expiresHeader] ? true : false;\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V4;\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['comprehend'] = {};\nAWS.Comprehend = Service.defineService('comprehend', ['2017-11-27']);\nObject.defineProperty(apiLoader.services['comprehend'], '2017-11-27', {\n  get: function get() {\n    var model = require('../apis/comprehend-2017-11-27.min.json');\n    model.paginators = require('../apis/comprehend-2017-11-27.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Comprehend;\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar callBind = require('./callBind');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['forecastservice'] = {};\nAWS.ForecastService = Service.defineService('forecastservice', ['2018-06-26']);\nObject.defineProperty(apiLoader.services['forecastservice'], '2018-06-26', {\n  get: function get() {\n    var model = require('../apis/forecast-2018-06-26.min.json');\n    model.paginators = require('../apis/forecast-2018-06-26.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ForecastService;\n","var util = require('../core').util;\n\n/**\n * An object recognizable as a numeric value that stores the underlying number\n * as a string.\n *\n * Intended to be a deserialization target for the DynamoDB Document Client when\n * the `wrapNumbers` flag is set. This allows for numeric values that lose\n * precision when converted to JavaScript's `number` type.\n */\nvar DynamoDBNumberValue = util.inherit({\n  constructor: function NumberValue(value) {\n    this.wrapperName = 'NumberValue';\n    this.value = value.toString();\n  },\n\n  /**\n   * Render the underlying value as a number when converting to JSON.\n   */\n  toJSON: function () {\n    return this.toNumber();\n  },\n\n  /**\n   * Convert the underlying value to a JavaScript number.\n   */\n  toNumber: function () {\n    return Number(this.value);\n  },\n\n  /**\n   * Return a string representing the unaltered value provided to the\n   * constructor.\n   */\n  toString: function () {\n    return this.value;\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = DynamoDBNumberValue;\n","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Default exports for Node. Export the extended versions of VTTCue and\n// VTTRegion in Node since we likely want the capability to convert back and\n// forth between JSON. If we don't then it's not that big of a deal since we're\n// off browser.\n\nvar window = require('global/window');\n\nvar vttjs = module.exports = {\n  WebVTT: require(\"./vtt.js\"),\n  VTTCue: require(\"./vttcue.js\"),\n  VTTRegion: require(\"./vttregion.js\")\n};\n\nwindow.vttjs = vttjs;\nwindow.WebVTT = vttjs.WebVTT;\n\nvar cueShim = vttjs.VTTCue;\nvar regionShim = vttjs.VTTRegion;\nvar nativeVTTCue = window.VTTCue;\nvar nativeVTTRegion = window.VTTRegion;\n\nvttjs.shim = function() {\n  window.VTTCue = cueShim;\n  window.VTTRegion = regionShim;\n};\n\nvttjs.restore = function() {\n  window.VTTCue = nativeVTTCue;\n  window.VTTRegion = nativeVTTRegion;\n};\n\nif (!window.VTTCue) {\n  vttjs.shim();\n}\n","var AWS = require('../core');\n\nAWS.util.update(AWS.EC2.prototype, {\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    request.removeListener('extractError', AWS.EventListeners.Query.EXTRACT_ERROR);\n    request.addListener('extractError', this.extractError);\n\n    if (request.operation === 'copySnapshot') {\n      request.onAsync('validate', this.buildCopySnapshotPresignedUrl);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  buildCopySnapshotPresignedUrl: function buildCopySnapshotPresignedUrl(req, done) {\n    if (req.params.PresignedUrl || req._subRequest) {\n      return done();\n    }\n\n    req.params = AWS.util.copy(req.params);\n    req.params.DestinationRegion = req.service.config.region;\n\n    var config = AWS.util.copy(req.service.config);\n    delete config.endpoint;\n    config.region = req.params.SourceRegion;\n    var svc = new req.service.constructor(config);\n    var newReq = svc[req.operation](req.params);\n    newReq._subRequest = true;\n    newReq.presign(function(err, url) {\n      if (err) done(err);\n      else {\n        req.params.PresignedUrl = url;\n        done();\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  extractError: function extractError(resp) {\n    // EC2 nests the error code and message deeper than other AWS Query services.\n    var httpResponse = resp.httpResponse;\n    var data = new AWS.XML.Parser().parse(httpResponse.body.toString() || '');\n    if (data.Errors) {\n      resp.error = AWS.util.error(new Error(), {\n        code: data.Errors.Error.Code,\n        message: data.Errors.Error.Message\n      });\n    } else {\n      resp.error = AWS.util.error(new Error(), {\n        code: httpResponse.statusCode,\n        message: null\n      });\n    }\n    resp.error.requestId = data.RequestID || null;\n  }\n});\n","var AWS = require('../core');\nvar EventEmitter = require('events').EventEmitter;\nrequire('../http');\n\n/**\n * @api private\n */\nAWS.XHRClient = AWS.util.inherit({\n  handleRequest: function handleRequest(httpRequest, httpOptions, callback, errCallback) {\n    var self = this;\n    var endpoint = httpRequest.endpoint;\n    var emitter = new EventEmitter();\n    var href = endpoint.protocol + '//' + endpoint.hostname;\n    if (endpoint.port !== 80 && endpoint.port !== 443) {\n      href += ':' + endpoint.port;\n    }\n    href += httpRequest.path;\n\n    var xhr = new XMLHttpRequest(), headersEmitted = false;\n    httpRequest.stream = xhr;\n\n    xhr.addEventListener('readystatechange', function() {\n      try {\n        if (xhr.status === 0) return; // 0 code is invalid\n      } catch (e) { return; }\n\n      if (this.readyState >= this.HEADERS_RECEIVED && !headersEmitted) {\n        emitter.statusCode = xhr.status;\n        emitter.headers = self.parseHeaders(xhr.getAllResponseHeaders());\n        emitter.emit(\n          'headers',\n          emitter.statusCode,\n          emitter.headers,\n          xhr.statusText\n        );\n        headersEmitted = true;\n      }\n      if (this.readyState === this.DONE) {\n        self.finishRequest(xhr, emitter);\n      }\n    }, false);\n    xhr.upload.addEventListener('progress', function (evt) {\n      emitter.emit('sendProgress', evt);\n    });\n    xhr.addEventListener('progress', function (evt) {\n      emitter.emit('receiveProgress', evt);\n    }, false);\n    xhr.addEventListener('timeout', function () {\n      errCallback(AWS.util.error(new Error('Timeout'), {code: 'TimeoutError'}));\n    }, false);\n    xhr.addEventListener('error', function () {\n      errCallback(AWS.util.error(new Error('Network Failure'), {\n        code: 'NetworkingError'\n      }));\n    }, false);\n    xhr.addEventListener('abort', function () {\n      errCallback(AWS.util.error(new Error('Request aborted'), {\n        code: 'RequestAbortedError'\n      }));\n    }, false);\n\n    callback(emitter);\n    xhr.open(httpRequest.method, href, httpOptions.xhrAsync !== false);\n    AWS.util.each(httpRequest.headers, function (key, value) {\n      if (key !== 'Content-Length' && key !== 'User-Agent' && key !== 'Host') {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n\n    if (httpOptions.timeout && httpOptions.xhrAsync !== false) {\n      xhr.timeout = httpOptions.timeout;\n    }\n\n    if (httpOptions.xhrWithCredentials) {\n      xhr.withCredentials = true;\n    }\n    try { xhr.responseType = 'arraybuffer'; } catch (e) {}\n\n    try {\n      if (httpRequest.body) {\n        xhr.send(httpRequest.body);\n      } else {\n        xhr.send();\n      }\n    } catch (err) {\n      if (httpRequest.body && typeof httpRequest.body.buffer === 'object') {\n        xhr.send(httpRequest.body.buffer); // send ArrayBuffer directly\n      } else {\n        throw err;\n      }\n    }\n\n    return emitter;\n  },\n\n  parseHeaders: function parseHeaders(rawHeaders) {\n    var headers = {};\n    AWS.util.arrayEach(rawHeaders.split(/\\r?\\n/), function (line) {\n      var key = line.split(':', 1)[0];\n      var value = line.substring(key.length + 2);\n      if (key.length > 0) headers[key.toLowerCase()] = value;\n    });\n    return headers;\n  },\n\n  finishRequest: function finishRequest(xhr, emitter) {\n    var buffer;\n    if (xhr.responseType === 'arraybuffer' && xhr.response) {\n      var ab = xhr.response;\n      buffer = new AWS.util.Buffer(ab.byteLength);\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < buffer.length; ++i) {\n        buffer[i] = view[i];\n      }\n    }\n\n    try {\n      if (!buffer && typeof xhr.responseText === 'string') {\n        buffer = new AWS.util.Buffer(xhr.responseText);\n      }\n    } catch (e) {}\n\n    if (buffer) emitter.emit('data', buffer);\n    emitter.emit('end');\n  }\n});\n\n/**\n * @api private\n */\nAWS.HttpClient.prototype = AWS.XHRClient.prototype;\n\n/**\n * @api private\n */\nAWS.HttpClient.streamsApiVersion = 1;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nvar isPrimitive = require('./helpers/isPrimitive');\n\nvar isCallable = require('is-callable');\n\n// http://ecma-international.org/ecma-262/5.1/#sec-8.12.8\nvar ES5internalSlots = {\n\t'[[DefaultValue]]': function (O) {\n\t\tvar actualHint;\n\t\tif (arguments.length > 1) {\n\t\t\tactualHint = arguments[1];\n\t\t} else {\n\t\t\tactualHint = toStr.call(O) === '[object Date]' ? String : Number;\n\t\t}\n\n\t\tif (actualHint === String || actualHint === Number) {\n\t\t\tvar methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\t\t\tvar value, i;\n\t\t\tfor (i = 0; i < methods.length; ++i) {\n\t\t\t\tif (isCallable(O[methods[i]])) {\n\t\t\t\t\tvalue = O[methods[i]]();\n\t\t\t\t\tif (isPrimitive(value)) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new TypeError('No default value');\n\t\t}\n\t\tthrow new TypeError('invalid [[DefaultValue]] hint supplied');\n\t}\n};\n\n// http://ecma-international.org/ecma-262/5.1/#sec-9.1\nmodule.exports = function ToPrimitive(input) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\tif (arguments.length > 1) {\n\t\treturn ES5internalSlots['[[DefaultValue]]'](input, arguments[1]);\n\t}\n\treturn ES5internalSlots['[[DefaultValue]]'](input);\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['codebuild'] = {};\nAWS.CodeBuild = Service.defineService('codebuild', ['2016-10-06']);\nObject.defineProperty(apiLoader.services['codebuild'], '2016-10-06', {\n  get: function get() {\n    var model = require('../apis/codebuild-2016-10-06.min.json');\n    model.paginators = require('../apis/codebuild-2016-10-06.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CodeBuild;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['lexruntime'] = {};\nAWS.LexRuntime = Service.defineService('lexruntime', ['2016-11-28']);\nObject.defineProperty(apiLoader.services['lexruntime'], '2016-11-28', {\n  get: function get() {\n    var model = require('../apis/runtime.lex-2016-11-28.min.json');\n    model.paginators = require('../apis/runtime.lex-2016-11-28.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.LexRuntime;\n","var AWS = require('../core');\n\nAWS.util.update(AWS.Lambda.prototype, {\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    if (request.operation === 'invoke') {\n      request.addListener('extractData', AWS.util.convertPayloadToString);\n    }\n  }\n});\n\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['firehose'] = {};\nAWS.Firehose = Service.defineService('firehose', ['2015-08-04']);\nObject.defineProperty(apiLoader.services['firehose'], '2015-08-04', {\n  get: function get() {\n    var model = require('../apis/firehose-2015-08-04.min.json');\n    model.paginators = require('../apis/firehose-2015-08-04.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Firehose;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['kinesisvideomedia'] = {};\nAWS.KinesisVideoMedia = Service.defineService('kinesisvideomedia', ['2017-09-30']);\nObject.defineProperty(apiLoader.services['kinesisvideomedia'], '2017-09-30', {\n  get: function get() {\n    var model = require('../apis/kinesis-video-media-2017-09-30.min.json');\n    model.paginators = require('../apis/kinesis-video-media-2017-09-30.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.KinesisVideoMedia;\n","var eventMessageChunker = require('../event-stream/event-message-chunker').eventMessageChunker;\nvar parseEvent = require('./parse-event').parseEvent;\n\nfunction createEventStream(body, parser, model) {\n    var eventMessages = eventMessageChunker(body);\n\n    var events = [];\n\n    for (var i = 0; i < eventMessages.length; i++) {\n        events.push(parseEvent(parser, eventMessages[i], model));\n    }\n\n    return events;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    createEventStream: createEventStream\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nvar\n  ONE_SECOND_IN_TS = 90000, // 90kHz clock\n  secondsToVideoTs,\n  secondsToAudioTs,\n  videoTsToSeconds,\n  audioTsToSeconds,\n  audioTsToVideoTs,\n  videoTsToAudioTs,\n  metadataTsToSeconds;\n\nsecondsToVideoTs = function(seconds) {\n  return seconds * ONE_SECOND_IN_TS;\n};\n\nsecondsToAudioTs = function(seconds, sampleRate) {\n  return seconds * sampleRate;\n};\n\nvideoTsToSeconds = function(timestamp) {\n  return timestamp / ONE_SECOND_IN_TS;\n};\n\naudioTsToSeconds = function(timestamp, sampleRate) {\n  return timestamp / sampleRate;\n};\n\naudioTsToVideoTs = function(timestamp, sampleRate) {\n  return secondsToVideoTs(audioTsToSeconds(timestamp, sampleRate));\n};\n\nvideoTsToAudioTs = function(timestamp, sampleRate) {\n  return secondsToAudioTs(videoTsToSeconds(timestamp), sampleRate);\n};\n\n/**\n * Adjust ID3 tag or caption timing information by the timeline pts values\n * (if keepOriginalTimestamps is false) and convert to seconds\n */\nmetadataTsToSeconds = function(timestamp, timelineStartPts, keepOriginalTimestamps) {\n  return videoTsToSeconds(keepOriginalTimestamps ? timestamp : timestamp - timelineStartPts);\n};\n\nmodule.exports = {\n  ONE_SECOND_IN_TS: ONE_SECOND_IN_TS,\n  secondsToVideoTs: secondsToVideoTs,\n  secondsToAudioTs: secondsToAudioTs,\n  videoTsToSeconds: videoTsToSeconds,\n  audioTsToSeconds: audioTsToSeconds,\n  audioTsToVideoTs: audioTsToVideoTs,\n  videoTsToAudioTs: videoTsToAudioTs,\n  metadataTsToSeconds: metadataTsToSeconds\n};\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V3 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    var datetime = AWS.util.date.rfc822(date);\n\n    this.request.headers['X-Amz-Date'] = datetime;\n\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    this.request.headers['X-Amzn-Authorization'] =\n      this.authorization(credentials, datetime);\n\n  },\n\n  authorization: function authorization(credentials) {\n    return 'AWS3 ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'SignedHeaders=' + this.signedHeaders() + ',' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  signedHeaders: function signedHeaders() {\n    var headers = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      headers.push(h.toLowerCase());\n    });\n    return headers.sort().join(';');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = this.request.headers;\n    var parts = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      parts.push(h.toLowerCase().trim() + ':' + String(headers[h]).trim());\n    });\n    return parts.sort().join('\\n') + '\\n';\n  },\n\n  headersToSign: function headersToSign() {\n    var headers = [];\n    AWS.util.each(this.request.headers, function iterator(k) {\n      if (k === 'Host' || k === 'Content-Encoding' || k.match(/^X-Amz/i)) {\n        headers.push(k);\n      }\n    });\n    return headers;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push('/');\n    parts.push('');\n    parts.push(this.canonicalHeaders());\n    parts.push(this.request.body);\n    return AWS.util.crypto.sha256(parts.join('\\n'));\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V3;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['resourcegroups'] = {};\nAWS.ResourceGroups = Service.defineService('resourcegroups', ['2017-11-27']);\nObject.defineProperty(apiLoader.services['resourcegroups'], '2017-11-27', {\n  get: function get() {\n    var model = require('../apis/resource-groups-2017-11-27.min.json');\n    model.paginators = require('../apis/resource-groups-2017-11-27.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ResourceGroups;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cloudhsm'] = {};\nAWS.CloudHSM = Service.defineService('cloudhsm', ['2014-05-30']);\nObject.defineProperty(apiLoader.services['cloudhsm'], '2014-05-30', {\n  get: function get() {\n    var model = require('../apis/cloudhsm-2014-05-30.min.json');\n    model.paginators = require('../apis/cloudhsm-2014-05-30.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CloudHSM;\n","var AWS = require('../core');\n\nAWS.util.update(AWS.APIGateway.prototype, {\n/**\n * Sets the Accept header to application/json.\n *\n * @api private\n */\n  setAcceptHeader: function setAcceptHeader(req) {\n    var httpRequest = req.httpRequest;\n    if (!httpRequest.headers.Accept) {\n      httpRequest.headers['Accept'] = 'application/json';\n    }\n  },\n\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    request.addListener('build', this.setAcceptHeader);\n    if (request.operation === 'getExport') {\n      var params = request.params || {};\n      if (params.exportType === 'swagger') {\n        request.addListener('extractData', AWS.util.convertPayloadToString);\n      }\n    }\n  }\n});\n\n","var AWS = require('./core');\nvar inherit = AWS.util.inherit;\n\n/**\n * The endpoint that a service will talk to, for example,\n * `'https://ec2.ap-southeast-1.amazonaws.com'`. If\n * you need to override an endpoint for a service, you can\n * set the endpoint on a service by passing the endpoint\n * object with the `endpoint` option key:\n *\n * ```javascript\n * var ep = new AWS.Endpoint('awsproxy.example.com');\n * var s3 = new AWS.S3({endpoint: ep});\n * s3.service.endpoint.hostname == 'awsproxy.example.com'\n * ```\n *\n * Note that if you do not specify a protocol, the protocol will\n * be selected based on your current {AWS.config} configuration.\n *\n * @!attribute protocol\n *   @return [String] the protocol (http or https) of the endpoint\n *     URL\n * @!attribute hostname\n *   @return [String] the host portion of the endpoint, e.g.,\n *     example.com\n * @!attribute host\n *   @return [String] the host portion of the endpoint including\n *     the port, e.g., example.com:80\n * @!attribute port\n *   @return [Integer] the port of the endpoint\n * @!attribute href\n *   @return [String] the full URL of the endpoint\n */\nAWS.Endpoint = inherit({\n\n  /**\n   * @overload Endpoint(endpoint)\n   *   Constructs a new endpoint given an endpoint URL. If the\n   *   URL omits a protocol (http or https), the default protocol\n   *   set in the global {AWS.config} will be used.\n   *   @param endpoint [String] the URL to construct an endpoint from\n   */\n  constructor: function Endpoint(endpoint, config) {\n    AWS.util.hideProperties(this, ['slashes', 'auth', 'hash', 'search', 'query']);\n\n    if (typeof endpoint === 'undefined' || endpoint === null) {\n      throw new Error('Invalid endpoint: ' + endpoint);\n    } else if (typeof endpoint !== 'string') {\n      return AWS.util.copy(endpoint);\n    }\n\n    if (!endpoint.match(/^http/)) {\n      var useSSL = config && config.sslEnabled !== undefined ?\n        config.sslEnabled : AWS.config.sslEnabled;\n      endpoint = (useSSL ? 'https' : 'http') + '://' + endpoint;\n    }\n\n    AWS.util.update(this, AWS.util.urlParse(endpoint));\n\n    // Ensure the port property is set as an integer\n    if (this.port) {\n      this.port = parseInt(this.port, 10);\n    } else {\n      this.port = this.protocol === 'https:' ? 443 : 80;\n    }\n  }\n\n});\n\n/**\n * The low level HTTP request object, encapsulating all HTTP header\n * and body data sent by a service request.\n *\n * @!attribute method\n *   @return [String] the HTTP method of the request\n * @!attribute path\n *   @return [String] the path portion of the URI, e.g.,\n *     \"/list/?start=5&num=10\"\n * @!attribute headers\n *   @return [map<String,String>]\n *     a map of header keys and their respective values\n * @!attribute body\n *   @return [String] the request body payload\n * @!attribute endpoint\n *   @return [AWS.Endpoint] the endpoint for the request\n * @!attribute region\n *   @api private\n *   @return [String] the region, for signing purposes only.\n */\nAWS.HttpRequest = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function HttpRequest(endpoint, region) {\n    endpoint = new AWS.Endpoint(endpoint);\n    this.method = 'POST';\n    this.path = endpoint.path || '/';\n    this.headers = {};\n    this.body = '';\n    this.endpoint = endpoint;\n    this.region = region;\n    this._userAgent = '';\n    this.setUserAgent();\n  },\n\n  /**\n   * @api private\n   */\n  setUserAgent: function setUserAgent() {\n    this._userAgent = this.headers[this.getUserAgentHeaderName()] = AWS.util.userAgent();\n  },\n\n  getUserAgentHeaderName: function getUserAgentHeaderName() {\n    var prefix = AWS.util.isBrowser() ? 'X-Amz-' : '';\n    return prefix + 'User-Agent';\n  },\n\n  /**\n   * @api private\n   */\n  appendToUserAgent: function appendToUserAgent(agentPartial) {\n    if (typeof agentPartial === 'string' && agentPartial) {\n      this._userAgent += ' ' + agentPartial;\n    }\n    this.headers[this.getUserAgentHeaderName()] = this._userAgent;\n  },\n\n  /**\n   * @api private\n   */\n  getUserAgent: function getUserAgent() {\n    return this._userAgent;\n  },\n\n  /**\n   * @return [String] the part of the {path} excluding the\n   *   query string\n   */\n  pathname: function pathname() {\n    return this.path.split('?', 1)[0];\n  },\n\n  /**\n   * @return [String] the query string portion of the {path}\n   */\n  search: function search() {\n    var query = this.path.split('?', 2)[1];\n    if (query) {\n      query = AWS.util.queryStringParse(query);\n      return AWS.util.queryParamsToString(query);\n    }\n    return '';\n  },\n\n  /**\n   * @api private\n   * update httpRequest endpoint with endpoint string\n   */\n  updateEndpoint: function updateEndpoint(endpointStr) {\n    var newEndpoint = new AWS.Endpoint(endpointStr);\n    this.endpoint = newEndpoint;\n    this.path = newEndpoint.path || '/';\n  }\n});\n\n/**\n * The low level HTTP response object, encapsulating all HTTP header\n * and body data returned from the request.\n *\n * @!attribute statusCode\n *   @return [Integer] the HTTP status code of the response (e.g., 200, 404)\n * @!attribute headers\n *   @return [map<String,String>]\n *      a map of response header keys and their respective values\n * @!attribute body\n *   @return [String] the response body payload\n * @!attribute [r] streaming\n *   @return [Boolean] whether this response is being streamed at a low-level.\n *     Defaults to `false` (buffered reads). Do not modify this manually, use\n *     {createUnbufferedStream} to convert the stream to unbuffered mode\n *     instead.\n */\nAWS.HttpResponse = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function HttpResponse() {\n    this.statusCode = undefined;\n    this.headers = {};\n    this.body = undefined;\n    this.streaming = false;\n    this.stream = null;\n  },\n\n  /**\n   * Disables buffering on the HTTP response and returns the stream for reading.\n   * @return [Stream, XMLHttpRequest, null] the underlying stream object.\n   *   Use this object to directly read data off of the stream.\n   * @note This object is only available after the {AWS.Request~httpHeaders}\n   *   event has fired. This method must be called prior to\n   *   {AWS.Request~httpData}.\n   * @example Taking control of a stream\n   *   request.on('httpHeaders', function(statusCode, headers) {\n   *     if (statusCode < 300) {\n   *       if (headers.etag === 'xyz') {\n   *         // pipe the stream, disabling buffering\n   *         var stream = this.response.httpResponse.createUnbufferedStream();\n   *         stream.pipe(process.stdout);\n   *       } else { // abort this request and set a better error message\n   *         this.abort();\n   *         this.response.error = new Error('Invalid ETag');\n   *       }\n   *     }\n   *   }).send(console.log);\n   */\n  createUnbufferedStream: function createUnbufferedStream() {\n    this.streaming = true;\n    return this.stream;\n  }\n});\n\n\nAWS.HttpClient = inherit({});\n\n/**\n * @api private\n */\nAWS.HttpClient.getInstance = function getInstance() {\n  if (this.singleton === undefined) {\n    this.singleton = new this();\n  }\n  return this.singleton;\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['configservice'] = {};\nAWS.ConfigService = Service.defineService('configservice', ['2014-11-12']);\nObject.defineProperty(apiLoader.services['configservice'], '2014-11-12', {\n  get: function get() {\n    var model = require('../apis/config-2014-11-12.min.json');\n    model.paginators = require('../apis/config-2014-11-12.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ConfigService;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cloudwatchlogs'] = {};\nAWS.CloudWatchLogs = Service.defineService('cloudwatchlogs', ['2014-03-28']);\nObject.defineProperty(apiLoader.services['cloudwatchlogs'], '2014-03-28', {\n  get: function get() {\n    var model = require('../apis/logs-2014-03-28.min.json');\n    model.paginators = require('../apis/logs-2014-03-28.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CloudWatchLogs;\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about TS Segments.\n */\n'use strict';\n\nvar StreamTypes = require('./stream-types.js');\n\nvar parsePid = function(packet) {\n  var pid = packet[1] & 0x1f;\n  pid <<= 8;\n  pid |= packet[2];\n  return pid;\n};\n\nvar parsePayloadUnitStartIndicator = function(packet) {\n  return !!(packet[1] & 0x40);\n};\n\nvar parseAdaptionField = function(packet) {\n  var offset = 0;\n  // if an adaption field is present, its length is specified by the\n  // fifth byte of the TS packet header. The adaptation field is\n  // used to add stuffing to PES packets that don't fill a complete\n  // TS packet, and to specify some forms of timing and control data\n  // that we do not currently use.\n  if (((packet[3] & 0x30) >>> 4) > 0x01) {\n    offset += packet[4] + 1;\n  }\n  return offset;\n};\n\nvar parseType = function(packet, pmtPid) {\n  var pid = parsePid(packet);\n  if (pid === 0) {\n    return 'pat';\n  } else if (pid === pmtPid) {\n    return 'pmt';\n  } else if (pmtPid) {\n    return 'pes';\n  }\n  return null;\n};\n\nvar parsePat = function(packet) {\n  var pusi = parsePayloadUnitStartIndicator(packet);\n  var offset = 4 + parseAdaptionField(packet);\n\n  if (pusi) {\n    offset += packet[offset] + 1;\n  }\n\n  return (packet[offset + 10] & 0x1f) << 8 | packet[offset + 11];\n};\n\nvar parsePmt = function(packet) {\n  var programMapTable = {};\n  var pusi = parsePayloadUnitStartIndicator(packet);\n  var payloadOffset = 4 + parseAdaptionField(packet);\n\n  if (pusi) {\n    payloadOffset += packet[payloadOffset] + 1;\n  }\n\n  // PMTs can be sent ahead of the time when they should actually\n  // take effect. We don't believe this should ever be the case\n  // for HLS but we'll ignore \"forward\" PMT declarations if we see\n  // them. Future PMT declarations have the current_next_indicator\n  // set to zero.\n  if (!(packet[payloadOffset + 5] & 0x01)) {\n    return;\n  }\n\n  var sectionLength, tableEnd, programInfoLength;\n  // the mapping table ends at the end of the current section\n  sectionLength = (packet[payloadOffset + 1] & 0x0f) << 8 | packet[payloadOffset + 2];\n  tableEnd = 3 + sectionLength - 4;\n\n  // to determine where the table is, we have to figure out how\n  // long the program info descriptors are\n  programInfoLength = (packet[payloadOffset + 10] & 0x0f) << 8 | packet[payloadOffset + 11];\n\n  // advance the offset to the first entry in the mapping table\n  var offset = 12 + programInfoLength;\n  while (offset < tableEnd) {\n    var i = payloadOffset + offset;\n    // add an entry that maps the elementary_pid to the stream_type\n    programMapTable[(packet[i + 1] & 0x1F) << 8 | packet[i + 2]] = packet[i];\n\n    // move to the next table entry\n    // skip past the elementary stream descriptors, if present\n    offset += ((packet[i + 3] & 0x0F) << 8 | packet[i + 4]) + 5;\n  }\n  return programMapTable;\n};\n\nvar parsePesType = function(packet, programMapTable) {\n  var pid = parsePid(packet);\n  var type = programMapTable[pid];\n  switch (type) {\n    case StreamTypes.H264_STREAM_TYPE:\n      return 'video';\n    case StreamTypes.ADTS_STREAM_TYPE:\n      return 'audio';\n    case StreamTypes.METADATA_STREAM_TYPE:\n      return 'timed-metadata';\n    default:\n      return null;\n  }\n};\n\nvar parsePesTime = function(packet) {\n  var pusi = parsePayloadUnitStartIndicator(packet);\n  if (!pusi) {\n    return null;\n  }\n\n  var offset = 4 + parseAdaptionField(packet);\n\n  if (offset >= packet.byteLength) {\n    // From the H 222.0 MPEG-TS spec\n    // \"For transport stream packets carrying PES packets, stuffing is needed when there\n    //  is insufficient PES packet data to completely fill the transport stream packet\n    //  payload bytes. Stuffing is accomplished by defining an adaptation field longer than\n    //  the sum of the lengths of the data elements in it, so that the payload bytes\n    //  remaining after the adaptation field exactly accommodates the available PES packet\n    //  data.\"\n    //\n    // If the offset is >= the length of the packet, then the packet contains no data\n    // and instead is just adaption field stuffing bytes\n    return null;\n  }\n\n  var pes = null;\n  var ptsDtsFlags;\n\n  // PES packets may be annotated with a PTS value, or a PTS value\n  // and a DTS value. Determine what combination of values is\n  // available to work with.\n  ptsDtsFlags = packet[offset + 7];\n\n  // PTS and DTS are normally stored as a 33-bit number.  Javascript\n  // performs all bitwise operations on 32-bit integers but javascript\n  // supports a much greater range (52-bits) of integer using standard\n  // mathematical operations.\n  // We construct a 31-bit value using bitwise operators over the 31\n  // most significant bits and then multiply by 4 (equal to a left-shift\n  // of 2) before we add the final 2 least significant bits of the\n  // timestamp (equal to an OR.)\n  if (ptsDtsFlags & 0xC0) {\n    pes = {};\n    // the PTS and DTS are not written out directly. For information\n    // on how they are encoded, see\n    // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n    pes.pts = (packet[offset + 9] & 0x0E) << 27 |\n      (packet[offset + 10] & 0xFF) << 20 |\n      (packet[offset + 11] & 0xFE) << 12 |\n      (packet[offset + 12] & 0xFF) <<  5 |\n      (packet[offset + 13] & 0xFE) >>>  3;\n    pes.pts *= 4; // Left shift by 2\n    pes.pts += (packet[offset + 13] & 0x06) >>> 1; // OR by the two LSBs\n    pes.dts = pes.pts;\n    if (ptsDtsFlags & 0x40) {\n      pes.dts = (packet[offset + 14] & 0x0E) << 27 |\n        (packet[offset + 15] & 0xFF) << 20 |\n        (packet[offset + 16] & 0xFE) << 12 |\n        (packet[offset + 17] & 0xFF) << 5 |\n        (packet[offset + 18] & 0xFE) >>> 3;\n      pes.dts *= 4; // Left shift by 2\n      pes.dts += (packet[offset + 18] & 0x06) >>> 1; // OR by the two LSBs\n    }\n  }\n  return pes;\n};\n\nvar parseNalUnitType = function(type) {\n  switch (type) {\n    case 0x05:\n      return 'slice_layer_without_partitioning_rbsp_idr';\n    case 0x06:\n      return 'sei_rbsp';\n    case 0x07:\n      return 'seq_parameter_set_rbsp';\n    case 0x08:\n      return 'pic_parameter_set_rbsp';\n    case 0x09:\n      return 'access_unit_delimiter_rbsp';\n    default:\n      return null;\n  }\n};\n\nvar videoPacketContainsKeyFrame = function(packet) {\n  var offset = 4 + parseAdaptionField(packet);\n  var frameBuffer = packet.subarray(offset);\n  var frameI = 0;\n  var frameSyncPoint = 0;\n  var foundKeyFrame = false;\n  var nalType;\n\n  // advance the sync point to a NAL start, if necessary\n  for (; frameSyncPoint < frameBuffer.byteLength - 3; frameSyncPoint++) {\n    if (frameBuffer[frameSyncPoint + 2] === 1) {\n      // the sync point is properly aligned\n      frameI = frameSyncPoint + 5;\n      break;\n    }\n  }\n\n  while (frameI < frameBuffer.byteLength) {\n    // look at the current byte to determine if we've hit the end of\n    // a NAL unit boundary\n    switch (frameBuffer[frameI]) {\n    case 0:\n      // skip past non-sync sequences\n      if (frameBuffer[frameI - 1] !== 0) {\n        frameI += 2;\n        break;\n      } else if (frameBuffer[frameI - 2] !== 0) {\n        frameI++;\n        break;\n      }\n\n      if (frameSyncPoint + 3 !== frameI - 2) {\n        nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n        if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n          foundKeyFrame = true;\n        }\n      }\n\n      // drop trailing zeroes\n      do {\n        frameI++;\n      } while (frameBuffer[frameI] !== 1 && frameI < frameBuffer.length);\n      frameSyncPoint = frameI - 2;\n      frameI += 3;\n      break;\n    case 1:\n      // skip past non-sync sequences\n      if (frameBuffer[frameI - 1] !== 0 ||\n          frameBuffer[frameI - 2] !== 0) {\n        frameI += 3;\n        break;\n      }\n\n      nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n      if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n        foundKeyFrame = true;\n      }\n      frameSyncPoint = frameI - 2;\n      frameI += 3;\n      break;\n    default:\n      // the current byte isn't a one or zero, so it cannot be part\n      // of a sync sequence\n      frameI += 3;\n      break;\n    }\n  }\n  frameBuffer = frameBuffer.subarray(frameSyncPoint);\n  frameI -= frameSyncPoint;\n  frameSyncPoint = 0;\n  // parse the final nal\n  if (frameBuffer && frameBuffer.byteLength > 3) {\n    nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n    if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n      foundKeyFrame = true;\n    }\n  }\n\n  return foundKeyFrame;\n};\n\n\nmodule.exports = {\n  parseType: parseType,\n  parsePat: parsePat,\n  parsePmt: parsePmt,\n  parsePayloadUnitStartIndicator: parsePayloadUnitStartIndicator,\n  parsePesType: parsePesType,\n  parsePesTime: parsePesTime,\n  videoPacketContainsKeyFrame: videoPacketContainsKeyFrame\n};\n","/**\n * The main AWS namespace\n */\nvar AWS = { util: require('./util') };\n\n/**\n * @api private\n * @!macro [new] nobrowser\n *   @note This feature is not supported in the browser environment of the SDK.\n */\nvar _hidden = {}; _hidden.toString(); // hack to parse macro\n\n/**\n * @api private\n */\nmodule.exports = AWS;\n\nAWS.util.update(AWS, {\n\n  /**\n   * @constant\n   */\n  VERSION: '2.568.0',\n\n  /**\n   * @api private\n   */\n  Signers: {},\n\n  /**\n   * @api private\n   */\n  Protocol: {\n    Json: require('./protocol/json'),\n    Query: require('./protocol/query'),\n    Rest: require('./protocol/rest'),\n    RestJson: require('./protocol/rest_json'),\n    RestXml: require('./protocol/rest_xml')\n  },\n\n  /**\n   * @api private\n   */\n  XML: {\n    Builder: require('./xml/builder'),\n    Parser: null // conditionally set based on environment\n  },\n\n  /**\n   * @api private\n   */\n  JSON: {\n    Builder: require('./json/builder'),\n    Parser: require('./json/parser')\n  },\n\n  /**\n   * @api private\n   */\n  Model: {\n    Api: require('./model/api'),\n    Operation: require('./model/operation'),\n    Shape: require('./model/shape'),\n    Paginator: require('./model/paginator'),\n    ResourceWaiter: require('./model/resource_waiter')\n  },\n\n  /**\n   * @api private\n   */\n  apiLoader: require('./api_loader'),\n\n  /**\n   * @api private\n   */\n  EndpointCache: require('../vendor/endpoint-cache').EndpointCache\n});\nrequire('./sequential_executor');\nrequire('./service');\nrequire('./config');\nrequire('./http');\nrequire('./event_listeners');\nrequire('./request');\nrequire('./response');\nrequire('./resource_waiter');\nrequire('./signers/request_signer');\nrequire('./param_validator');\n\n/**\n * @readonly\n * @return [AWS.SequentialExecutor] a collection of global event listeners that\n *   are attached to every sent request.\n * @see AWS.Request AWS.Request for a list of events to listen for\n * @example Logging the time taken to send a request\n *   AWS.events.on('send', function startSend(resp) {\n *     resp.startTime = new Date().getTime();\n *   }).on('complete', function calculateTime(resp) {\n *     var time = (new Date().getTime() - resp.startTime) / 1000;\n *     console.log('Request took ' + time + ' seconds');\n *   });\n *\n *   new AWS.S3().listBuckets(); // prints 'Request took 0.285 seconds'\n */\nAWS.events = new AWS.SequentialExecutor();\n\n//create endpoint cache lazily\nAWS.util.memoizedProperty(AWS, 'endpointCache', function() {\n  return new AWS.EndpointCache(AWS.config.endpointCacheSize);\n}, true);\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * A lightweight readable stream implemention that handles event dispatching.\n * Objects that inherit from streams should call init in their constructors.\n */\n'use strict';\n\nvar Stream = function() {\n  this.init = function() {\n    var listeners = {};\n    /**\n     * Add a listener for a specified event type.\n     * @param type {string} the event name\n     * @param listener {function} the callback to be invoked when an event of\n     * the specified type occurs\n     */\n    this.on = function(type, listener) {\n      if (!listeners[type]) {\n        listeners[type] = [];\n      }\n      listeners[type] = listeners[type].concat(listener);\n    };\n    /**\n     * Remove a listener for a specified event type.\n     * @param type {string} the event name\n     * @param listener {function} a function previously registered for this\n     * type of event through `on`\n     */\n    this.off = function(type, listener) {\n      var index;\n      if (!listeners[type]) {\n        return false;\n      }\n      index = listeners[type].indexOf(listener);\n      listeners[type] = listeners[type].slice();\n      listeners[type].splice(index, 1);\n      return index > -1;\n    };\n    /**\n     * Trigger an event of the specified type on this stream. Any additional\n     * arguments to this function are passed as parameters to event listeners.\n     * @param type {string} the event name\n     */\n    this.trigger = function(type) {\n      var callbacks, i, length, args;\n      callbacks = listeners[type];\n      if (!callbacks) {\n        return;\n      }\n      // Slicing the arguments on every invocation of this method\n      // can add a significant amount of overhead. Avoid the\n      // intermediate object creation for the common case of a\n      // single callback argument\n      if (arguments.length === 2) {\n        length = callbacks.length;\n        for (i = 0; i < length; ++i) {\n          callbacks[i].call(this, arguments[1]);\n        }\n      } else {\n        args = [];\n        i = arguments.length;\n        for (i = 1; i < arguments.length; ++i) {\n          args.push(arguments[i]);\n        }\n        length = callbacks.length;\n        for (i = 0; i < length; ++i) {\n          callbacks[i].apply(this, args);\n        }\n      }\n    };\n    /**\n     * Destroys the stream and cleans up.\n     */\n    this.dispose = function() {\n      listeners = {};\n    };\n  };\n};\n\n/**\n * Forwards all `data` events on this stream to the destination stream. The\n * destination stream should provide a method `push` to receive the data\n * events as they arrive.\n * @param destination {stream} the stream that will receive all `data` events\n * @param autoFlush {boolean} if false, we will not call `flush` on the destination\n *                            when the current stream emits a 'done' event\n * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n */\nStream.prototype.pipe = function(destination) {\n  this.on('data', function(data) {\n    destination.push(data);\n  });\n\n  this.on('done', function(flushSource) {\n    destination.flush(flushSource);\n  });\n\n  this.on('partialdone', function(flushSource) {\n    destination.partialFlush(flushSource);\n  });\n\n  this.on('endedtimeline', function(flushSource) {\n    destination.endTimeline(flushSource);\n  });\n\n  this.on('reset', function(flushSource) {\n    destination.reset(flushSource);\n  });\n\n  return destination;\n};\n\n// Default stream functions that are expected to be overridden to perform\n// actual work. These are provided by the prototype as a sort of no-op\n// implementation so that we don't have to check for their existence in the\n// `pipe` function above.\nStream.prototype.push = function(data) {\n  this.trigger('data', data);\n};\n\nStream.prototype.flush = function(flushSource) {\n  this.trigger('done', flushSource);\n};\n\nStream.prototype.partialFlush = function(flushSource) {\n  this.trigger('partialdone', flushSource);\n};\n\nStream.prototype.endTimeline = function(flushSource) {\n  this.trigger('endedtimeline', flushSource);\n};\n\nStream.prototype.reset = function(flushSource) {\n  this.trigger('reset', flushSource);\n};\n\nmodule.exports = Stream;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-video\"},[_c('h2',[_vm._v(\"\")]),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\" Title\"}},[_c('el-input',{model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\" Address\"}},[_c('el-input',{attrs:{\"type\":\"url\",\"placeholder\":\"Should be an accessible address ending with .mp4\"},model:{value:(_vm.form.url),callback:function ($$v) {_vm.$set(_vm.form, \"url\", $$v)},expression:\"form.url\"}})],1),_c('el-form-item',{attrs:{\"label\":\" Description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.info),callback:function ($$v) {_vm.$set(_vm.form, \"info\", $$v)},expression:\"form.info\"}})],1),_c('el-form-item',{attrs:{\"label\":\" Post\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.beforeAvatarUpload,\"http-request\":_vm.myUpload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"}),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"pngjpg2M\")])])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"post-video\">\r\n        <h2></h2>\r\n        <el-form ref=\"form\" :model=\"form\" label-position=\"left\" label-width=\"150px\">\r\n            <el-form-item label=\" Title\">\r\n                <el-input v-model=\"form.title\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\" Address\">\r\n                <el-input type=\"url\" v-model=\"form.url\" placeholder=\"Should be an accessible address ending with .mp4\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\" Description\">\r\n                <el-input type=\"textarea\" v-model=\"form.info\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\" Post\">\r\n                <el-upload\r\n                     class=\"avatar-uploader\"\r\n                     action=\"\"\r\n                     :show-file-list=\"false\"\r\n                     :before-upload=\"beforeAvatarUpload\"\r\n                     :http-request=\"myUpload\">\r\n                    <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\r\n                    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                    <div class=\"el-upload__tip\" slot=\"tip\">pngjpg2M</div>\r\n                </el-upload>\r\n            </el-form-item>\r\n\r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"onSubmit\"></el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    //model = form exportfrom\r\n    //axiosAPI\r\n    import AWS from 'aws-sdk';\r\n\r\n    import * as API from \"../api/video/index.js\"\r\n\r\n\r\n    export default {\r\n        name: \"PostVideo\",\r\n        data() {\r\n            return {\r\n                form: {\r\n                    title: '',\r\n                    info: '',\r\n                    url: '',\r\n                    avatar: '',\r\n                },\r\n                imageUrl: '',\r\n            }\r\n        },\r\n        methods: {\r\n            beforeAvatarUpload(file) {\r\n                const isIMG = (file.type === 'image/png' || file.type === 'image/jpeg');\r\n                const isLt2M = file.size / 1024 / 1024 < 2;\r\n                if (!isIMG) {\r\n                    this.$message.error('!');\r\n                }\r\n                if (!isLt2M) {\r\n                    this.$message.error(' 2MB!');\r\n                }\r\n                return isIMG && isLt2M;\r\n            },\r\n            myUpload(item) {\r\n                var IdentityPoolId = \"ap-northeast-1:1283a1de-d48e-4b83-96a9-af64aab7a0c5\";\r\n\r\n                AWS.config.update({\r\n                    region: \"ap-northeast-1\",\r\n                    credentials: new AWS.CognitoIdentityCredentials({\r\n                        IdentityPoolId: IdentityPoolId\r\n                    })\r\n                });\r\n                const file = item.file;\r\n                let fileName = file.name;\r\n                let albumPhotosKey = encodeURIComponent(\"avatar\") + \"/\";\r\n\r\n                this.imageUrl = albumPhotosKey + fileName;\r\n\r\n                // Use S3 ManagedUpload class as it supports multipart uploads\r\n                let upload = new AWS.S3.ManagedUpload({\r\n                    params: {\r\n                        Bucket: \"xilixilidata\",\r\n                        Key: this.imageUrl,\r\n                        Body: file,\r\n                        ACL: \"public-read\"\r\n                    }\r\n                });\r\n                this.imageUrl = \"https://xilixilidata.s3-ap-northeast-1.amazonaws.com/\" + this.imageUrl;\r\n                this.form.avatar = this.imageUrl;\r\n                upload.promise();\r\n\r\n\r\n                // promise.then(\r\n                //     function (data) {\r\n                //         alert(\"Successfully uploaded photo.\");\r\n                //         viewAlbum(\"avatar\");\r\n                //     },\r\n                //     function (err) {\r\n                //         return alert(\"There was an error uploading your photo: \", err.message);\r\n                //     }\r\n                // );\r\n                //\r\n            },\r\n\r\n            onSubmit() {\r\n                API.postVideo(this.form).then((res) => {\r\n                    if(res.status > 0) {\r\n                        this.$notify({\r\n                            title: '',\r\n                            message: res.msg,\r\n                            duration: 0\r\n                        })\r\n                    } else {\r\n                        this.$notify({\r\n                            title: '',\r\n                            message: `ID${res.data.id}`,\r\n                            type: 'success',\r\n                            duration: 0\r\n                        })\r\n                    }\r\n                }).catch((error) => {\r\n                    this.$notify({\r\n                        title: '',\r\n                        message: error,\r\n                        duration: 0\r\n                    })\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .avatar-uploader .el-upload {\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409EFF;\r\n    }\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 178px;\r\n        height: 178px;\r\n        line-height: 178px;\r\n        text-align: center;\r\n    }\r\n    .avatar {\r\n        display: block;\r\n        width: 30%;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostVideo.vue?vue&type=template&id=a71725a8&scoped=true&\"\nimport script from \"./PostVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./PostVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PostVideo.vue?vue&type=style&index=0&id=a71725a8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a71725a8\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\n\nvar bind = require('function-bind');\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n","/**\n * Escapes characters that can not be in an XML element.\n */\nfunction escapeElement(value) {\n    return value.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    escapeElement: escapeElement\n};\n","require('./browser_loader');\n\nvar AWS = require('./core');\n\nif (typeof window !== 'undefined') window.AWS = AWS;\nif (typeof module !== 'undefined') {\n    /**\n     * @api private\n     */\n    module.exports = AWS;\n}\nif (typeof self !== 'undefined') self.AWS = AWS;\n\n/**\n * @private\n * DO NOT REMOVE\n * browser builder will strip out this line if services are supplied on the command line.\n */\nrequire('../clients/browser_default');\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.S3 = inherit(AWS.Signers.RequestSigner, {\n  /**\n   * When building the stringToSign, these sub resource params should be\n   * part of the canonical resource string with their NON-decoded values\n   */\n  subResources: {\n    'acl': 1,\n    'accelerate': 1,\n    'analytics': 1,\n    'cors': 1,\n    'lifecycle': 1,\n    'delete': 1,\n    'inventory': 1,\n    'location': 1,\n    'logging': 1,\n    'metrics': 1,\n    'notification': 1,\n    'partNumber': 1,\n    'policy': 1,\n    'requestPayment': 1,\n    'replication': 1,\n    'restore': 1,\n    'tagging': 1,\n    'torrent': 1,\n    'uploadId': 1,\n    'uploads': 1,\n    'versionId': 1,\n    'versioning': 1,\n    'versions': 1,\n    'website': 1\n  },\n\n  // when building the stringToSign, these querystring params should be\n  // part of the canonical resource string with their NON-encoded values\n  responseHeaders: {\n    'response-content-type': 1,\n    'response-content-language': 1,\n    'response-expires': 1,\n    'response-cache-control': 1,\n    'response-content-disposition': 1,\n    'response-content-encoding': 1\n  },\n\n  addAuthorization: function addAuthorization(credentials, date) {\n    if (!this.request.headers['presigned-expires']) {\n      this.request.headers['X-Amz-Date'] = AWS.util.date.rfc822(date);\n    }\n\n    if (credentials.sessionToken) {\n      // presigned URLs require this header to be lowercased\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    var signature = this.sign(credentials.secretAccessKey, this.stringToSign());\n    var auth = 'AWS ' + credentials.accessKeyId + ':' + signature;\n\n    this.request.headers['Authorization'] = auth;\n  },\n\n  stringToSign: function stringToSign() {\n    var r = this.request;\n\n    var parts = [];\n    parts.push(r.method);\n    parts.push(r.headers['Content-MD5'] || '');\n    parts.push(r.headers['Content-Type'] || '');\n\n    // This is the \"Date\" header, but we use X-Amz-Date.\n    // The S3 signing mechanism requires us to pass an empty\n    // string for this Date header regardless.\n    parts.push(r.headers['presigned-expires'] || '');\n\n    var headers = this.canonicalizedAmzHeaders();\n    if (headers) parts.push(headers);\n    parts.push(this.canonicalizedResource());\n\n    return parts.join('\\n');\n\n  },\n\n  canonicalizedAmzHeaders: function canonicalizedAmzHeaders() {\n\n    var amzHeaders = [];\n\n    AWS.util.each(this.request.headers, function (name) {\n      if (name.match(/^x-amz-/i))\n        amzHeaders.push(name);\n    });\n\n    amzHeaders.sort(function (a, b) {\n      return a.toLowerCase() < b.toLowerCase() ? -1 : 1;\n    });\n\n    var parts = [];\n    AWS.util.arrayEach.call(this, amzHeaders, function (name) {\n      parts.push(name.toLowerCase() + ':' + String(this.request.headers[name]));\n    });\n\n    return parts.join('\\n');\n\n  },\n\n  canonicalizedResource: function canonicalizedResource() {\n\n    var r = this.request;\n\n    var parts = r.path.split('?');\n    var path = parts[0];\n    var querystring = parts[1];\n\n    var resource = '';\n\n    if (r.virtualHostedBucket)\n      resource += '/' + r.virtualHostedBucket;\n\n    resource += path;\n\n    if (querystring) {\n\n      // collect a list of sub resources and query params that need to be signed\n      var resources = [];\n\n      AWS.util.arrayEach.call(this, querystring.split('&'), function (param) {\n        var name = param.split('=')[0];\n        var value = param.split('=')[1];\n        if (this.subResources[name] || this.responseHeaders[name]) {\n          var subresource = { name: name };\n          if (value !== undefined) {\n            if (this.subResources[name]) {\n              subresource.value = value;\n            } else {\n              subresource.value = decodeURIComponent(value);\n            }\n          }\n          resources.push(subresource);\n        }\n      });\n\n      resources.sort(function (a, b) { return a.name < b.name ? -1 : 1; });\n\n      if (resources.length) {\n\n        querystring = [];\n        AWS.util.arrayEach(resources, function (res) {\n          if (res.value === undefined) {\n            querystring.push(res.name);\n          } else {\n            querystring.push(res.name + '=' + res.value);\n          }\n        });\n\n        resource += '?' + querystring.join('&');\n      }\n\n    }\n\n    return resource;\n\n  },\n\n  sign: function sign(secret, string) {\n    return AWS.util.crypto.hmac(secret, string, 'base64', 'sha1');\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.S3;\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents temporary credentials retrieved from {AWS.STS}. Without any\n * extra parameters, credentials will be fetched from the\n * {AWS.STS.getSessionToken} operation. If an IAM role is provided, the\n * {AWS.STS.assumeRole} operation will be used to fetch credentials for the\n * role instead.\n *\n * @note AWS.TemporaryCredentials is deprecated, but remains available for\n *   backwards compatibility. {AWS.ChainableTemporaryCredentials} is the\n *   preferred class for temporary credentials.\n *\n * To setup temporary credentials, configure a set of master credentials\n * using the standard credentials providers (environment, EC2 instance metadata,\n * or from the filesystem), then set the global credentials to a new\n * temporary credentials object:\n *\n * ```javascript\n * // Note that environment credentials are loaded by default,\n * // the following line is shown for clarity:\n * AWS.config.credentials = new AWS.EnvironmentCredentials('AWS');\n *\n * // Now set temporary credentials seeded from the master credentials\n * AWS.config.credentials = new AWS.TemporaryCredentials();\n *\n * // subsequent requests will now use temporary credentials from AWS STS.\n * new AWS.S3().listBucket(function(err, data) { ... });\n * ```\n *\n * @!attribute masterCredentials\n *   @return [AWS.Credentials] the master (non-temporary) credentials used to\n *     get and refresh temporary credentials from AWS STS.\n * @note (see constructor)\n */\nAWS.TemporaryCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new temporary credentials object.\n   *\n   * @note In order to create temporary credentials, you first need to have\n   *   \"master\" credentials configured in {AWS.Config.credentials}. These\n   *   master credentials are necessary to retrieve the temporary credentials,\n   *   as well as refresh the credentials when they expire.\n   * @param params [map] a map of options that are passed to the\n   *   {AWS.STS.assumeRole} or {AWS.STS.getSessionToken} operations.\n   *   If a `RoleArn` parameter is passed in, credentials will be based on the\n   *   IAM role.\n   * @param masterCredentials [AWS.Credentials] the master (non-temporary) credentials\n   *  used to get and refresh temporary credentials from AWS STS.\n   * @example Creating a new credentials object for generic temporary credentials\n   *   AWS.config.credentials = new AWS.TemporaryCredentials();\n   * @example Creating a new credentials object for an IAM role\n   *   AWS.config.credentials = new AWS.TemporaryCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/TemporaryCredentials',\n   *   });\n   * @see AWS.STS.assumeRole\n   * @see AWS.STS.getSessionToken\n   */\n  constructor: function TemporaryCredentials(params, masterCredentials) {\n    AWS.Credentials.call(this);\n    this.loadMasterCredentials(masterCredentials);\n    this.expired = true;\n\n    this.params = params || {};\n    if (this.params.RoleArn) {\n      this.params.RoleSessionName =\n        this.params.RoleSessionName || 'temporary-credentials';\n    }\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRole} or\n   * {AWS.STS.getSessionToken}, depending on whether an IAM role ARN was passed\n   * to the credentials {constructor}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh (callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   */\n  load: function load (callback) {\n    var self = this;\n    self.createClients();\n    self.masterCredentials.get(function () {\n      self.service.config.credentials = self.masterCredentials;\n      var operation = self.params.RoleArn ?\n        self.service.assumeRole : self.service.getSessionToken;\n      operation.call(self.service, function (err, data) {\n        if (!err) {\n          self.service.credentialsFrom(data, self);\n        }\n        callback(err);\n      });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  loadMasterCredentials: function loadMasterCredentials (masterCredentials) {\n    this.masterCredentials = masterCredentials || AWS.config.credentials;\n    while (this.masterCredentials.masterCredentials) {\n      this.masterCredentials = this.masterCredentials.masterCredentials;\n    }\n\n    if (typeof this.masterCredentials.get !== 'function') {\n      this.masterCredentials = new AWS.Credentials(this.masterCredentials);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function () {\n    this.service = this.service || new STS({params: this.params});\n  }\n\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['mediastoredata'] = {};\nAWS.MediaStoreData = Service.defineService('mediastoredata', ['2017-09-01']);\nObject.defineProperty(apiLoader.services['mediastoredata'], '2017-09-01', {\n  get: function get() {\n    var model = require('../apis/mediastore-data-2017-09-01.min.json');\n    model.paginators = require('../apis/mediastore-data-2017-09-01.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.MediaStoreData;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['xray'] = {};\nAWS.XRay = Service.defineService('xray', ['2016-04-12']);\nObject.defineProperty(apiLoader.services['xray'], '2016-04-12', {\n  get: function get() {\n    var model = require('../apis/xray-2016-04-12.min.json');\n    model.paginators = require('../apis/xray-2016-04-12.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.XRay;\n","module.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","var property = require('../util').property;\n\nfunction Paginator(name, paginator) {\n  property(this, 'inputToken', paginator.input_token);\n  property(this, 'limitKey', paginator.limit_key);\n  property(this, 'moreResults', paginator.more_results);\n  property(this, 'outputToken', paginator.output_token);\n  property(this, 'resultKey', paginator.result_key);\n}\n\n/**\n * @api private\n */\nmodule.exports = Paginator;\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Reads in-band caption information from a video elementary\n * stream. Captions must follow the CEA-708 standard for injection\n * into an MPEG-2 transport streams.\n * @see https://en.wikipedia.org/wiki/CEA-708\n * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n */\n\n'use strict';\n\n// -----------------\n// Link To Transport\n// -----------------\n\nvar Stream = require('../utils/stream');\nvar cea708Parser = require('../tools/caption-packet-parser');\n\nvar CaptionStream = function() {\n\n  CaptionStream.prototype.init.call(this);\n\n  this.captionPackets_ = [];\n\n  this.ccStreams_ = [\n    new Cea608Stream(0, 0), // eslint-disable-line no-use-before-define\n    new Cea608Stream(0, 1), // eslint-disable-line no-use-before-define\n    new Cea608Stream(1, 0), // eslint-disable-line no-use-before-define\n    new Cea608Stream(1, 1) // eslint-disable-line no-use-before-define\n  ];\n\n  this.reset();\n\n  // forward data and done events from CCs to this CaptionStream\n  this.ccStreams_.forEach(function(cc) {\n    cc.on('data', this.trigger.bind(this, 'data'));\n    cc.on('partialdone', this.trigger.bind(this, 'partialdone'));\n    cc.on('done', this.trigger.bind(this, 'done'));\n  }, this);\n\n};\n\nCaptionStream.prototype = new Stream();\nCaptionStream.prototype.push = function(event) {\n  var sei, userData, newCaptionPackets;\n\n  // only examine SEI NALs\n  if (event.nalUnitType !== 'sei_rbsp') {\n    return;\n  }\n\n  // parse the sei\n  sei = cea708Parser.parseSei(event.escapedRBSP);\n\n  // ignore everything but user_data_registered_itu_t_t35\n  if (sei.payloadType !== cea708Parser.USER_DATA_REGISTERED_ITU_T_T35) {\n    return;\n  }\n\n  // parse out the user data payload\n  userData = cea708Parser.parseUserData(sei);\n\n  // ignore unrecognized userData\n  if (!userData) {\n    return;\n  }\n\n  // Sometimes, the same segment # will be downloaded twice. To stop the\n  // caption data from being processed twice, we track the latest dts we've\n  // received and ignore everything with a dts before that. However, since\n  // data for a specific dts can be split across packets on either side of\n  // a segment boundary, we need to make sure we *don't* ignore the packets\n  // from the *next* segment that have dts === this.latestDts_. By constantly\n  // tracking the number of packets received with dts === this.latestDts_, we\n  // know how many should be ignored once we start receiving duplicates.\n  if (event.dts < this.latestDts_) {\n    // We've started getting older data, so set the flag.\n    this.ignoreNextEqualDts_ = true;\n    return;\n  } else if ((event.dts === this.latestDts_) && (this.ignoreNextEqualDts_)) {\n    this.numSameDts_--;\n    if (!this.numSameDts_) {\n      // We've received the last duplicate packet, time to start processing again\n      this.ignoreNextEqualDts_ = false;\n    }\n    return;\n  }\n\n  // parse out CC data packets and save them for later\n  newCaptionPackets = cea708Parser.parseCaptionPackets(event.pts, userData);\n  this.captionPackets_ = this.captionPackets_.concat(newCaptionPackets);\n  if (this.latestDts_ !== event.dts) {\n    this.numSameDts_ = 0;\n  }\n  this.numSameDts_++;\n  this.latestDts_ = event.dts;\n};\n\nCaptionStream.prototype.flushCCStreams = function(flushType) {\n  this.ccStreams_.forEach(function(cc) {\n    return flushType === 'flush' ? cc.flush() : cc.partialFlush();\n  }, this);\n};\n\nCaptionStream.prototype.flushStream = function(flushType) {\n  // make sure we actually parsed captions before proceeding\n  if (!this.captionPackets_.length) {\n    this.flushCCStreams(flushType);\n    return;\n  }\n\n  // In Chrome, the Array#sort function is not stable so add a\n  // presortIndex that we can use to ensure we get a stable-sort\n  this.captionPackets_.forEach(function(elem, idx) {\n    elem.presortIndex = idx;\n  });\n\n  // sort caption byte-pairs based on their PTS values\n  this.captionPackets_.sort(function(a, b) {\n    if (a.pts === b.pts) {\n      return a.presortIndex - b.presortIndex;\n    }\n    return a.pts - b.pts;\n  });\n\n  this.captionPackets_.forEach(function(packet) {\n    if (packet.type < 2) {\n      // Dispatch packet to the right Cea608Stream\n      this.dispatchCea608Packet(packet);\n    }\n    // this is where an 'else' would go for a dispatching packets\n    // to a theoretical Cea708Stream that handles SERVICEn data\n  }, this);\n\n  this.captionPackets_.length = 0;\n  this.flushCCStreams(flushType);\n};\n\nCaptionStream.prototype.flush = function() {\n  return this.flushStream('flush');\n};\n\n// Only called if handling partial data\nCaptionStream.prototype.partialFlush = function() {\n  return this.flushStream('partialFlush');\n};\n\nCaptionStream.prototype.reset = function() {\n  this.latestDts_ = null;\n  this.ignoreNextEqualDts_ = false;\n  this.numSameDts_ = 0;\n  this.activeCea608Channel_ = [null, null];\n  this.ccStreams_.forEach(function(ccStream) {\n    ccStream.reset();\n  });\n};\n\n// From the CEA-608 spec:\n/*\n * When XDS sub-packets are interleaved with other services, the end of each sub-packet shall be followed\n * by a control pair to change to a different service. When any of the control codes from 0x10 to 0x1F is\n * used to begin a control code pair, it indicates the return to captioning or Text data. The control code pair\n * and subsequent data should then be processed according to the FCC rules. It may be necessary for the\n * line 21 data encoder to automatically insert a control code pair (i.e. RCL, RU2, RU3, RU4, RDC, or RTD)\n * to switch to captioning or Text.\n*/\n// With that in mind, we ignore any data between an XDS control code and a\n// subsequent closed-captioning control code.\nCaptionStream.prototype.dispatchCea608Packet = function(packet) {\n  // NOTE: packet.type is the CEA608 field\n  if (this.setsTextOrXDSActive(packet)) {\n    this.activeCea608Channel_[packet.type] = null;\n  } else if (this.setsChannel1Active(packet)) {\n    this.activeCea608Channel_[packet.type] = 0;\n  } else if (this.setsChannel2Active(packet)) {\n    this.activeCea608Channel_[packet.type] = 1;\n  }\n  if (this.activeCea608Channel_[packet.type] === null) {\n    // If we haven't received anything to set the active channel, or the\n    // packets are Text/XDS data, discard the data; we don't want jumbled\n    // captions\n    return;\n  }\n  this.ccStreams_[(packet.type << 1) + this.activeCea608Channel_[packet.type]].push(packet);\n};\n\nCaptionStream.prototype.setsChannel1Active = function(packet) {\n  return ((packet.ccData & 0x7800) === 0x1000);\n};\nCaptionStream.prototype.setsChannel2Active = function(packet) {\n  return ((packet.ccData & 0x7800) === 0x1800);\n};\nCaptionStream.prototype.setsTextOrXDSActive = function(packet) {\n  return ((packet.ccData & 0x7100) === 0x0100) ||\n    ((packet.ccData & 0x78fe) === 0x102a) ||\n    ((packet.ccData & 0x78fe) === 0x182a);\n};\n\n// ----------------------\n// Session to Application\n// ----------------------\n\n// This hash maps non-ASCII, special, and extended character codes to their\n// proper Unicode equivalent. The first keys that are only a single byte\n// are the non-standard ASCII characters, which simply map the CEA608 byte\n// to the standard ASCII/Unicode. The two-byte keys that follow are the CEA608\n// character codes, but have their MSB bitmasked with 0x03 so that a lookup\n// can be performed regardless of the field and data channel on which the\n// character code was received.\nvar CHARACTER_TRANSLATION = {\n  0x2a: 0xe1,     // \n  0x5c: 0xe9,     // \n  0x5e: 0xed,     // \n  0x5f: 0xf3,     // \n  0x60: 0xfa,     // \n  0x7b: 0xe7,     // \n  0x7c: 0xf7,     // \n  0x7d: 0xd1,     // \n  0x7e: 0xf1,     // \n  0x7f: 0x2588,   // \n  0x0130: 0xae,   // \n  0x0131: 0xb0,   // \n  0x0132: 0xbd,   // \n  0x0133: 0xbf,   // \n  0x0134: 0x2122, // \n  0x0135: 0xa2,   // \n  0x0136: 0xa3,   // \n  0x0137: 0x266a, // \n  0x0138: 0xe0,   // \n  0x0139: 0xa0,   //\n  0x013a: 0xe8,   // \n  0x013b: 0xe2,   // \n  0x013c: 0xea,   // \n  0x013d: 0xee,   // \n  0x013e: 0xf4,   // \n  0x013f: 0xfb,   // \n  0x0220: 0xc1,   // \n  0x0221: 0xc9,   // \n  0x0222: 0xd3,   // \n  0x0223: 0xda,   // \n  0x0224: 0xdc,   // \n  0x0225: 0xfc,   // \n  0x0226: 0x2018, // \n  0x0227: 0xa1,   // \n  0x0228: 0x2a,   // *\n  0x0229: 0x27,   // '\n  0x022a: 0x2014, // \n  0x022b: 0xa9,   // \n  0x022c: 0x2120, // \n  0x022d: 0x2022, // \n  0x022e: 0x201c, // \n  0x022f: 0x201d, // \n  0x0230: 0xc0,   // \n  0x0231: 0xc2,   // \n  0x0232: 0xc7,   // \n  0x0233: 0xc8,   // \n  0x0234: 0xca,   // \n  0x0235: 0xcb,   // \n  0x0236: 0xeb,   // \n  0x0237: 0xce,   // \n  0x0238: 0xcf,   // \n  0x0239: 0xef,   // \n  0x023a: 0xd4,   // \n  0x023b: 0xd9,   // \n  0x023c: 0xf9,   // \n  0x023d: 0xdb,   // \n  0x023e: 0xab,   // \n  0x023f: 0xbb,   // \n  0x0320: 0xc3,   // \n  0x0321: 0xe3,   // \n  0x0322: 0xcd,   // \n  0x0323: 0xcc,   // \n  0x0324: 0xec,   // \n  0x0325: 0xd2,   // \n  0x0326: 0xf2,   // \n  0x0327: 0xd5,   // \n  0x0328: 0xf5,   // \n  0x0329: 0x7b,   // {\n  0x032a: 0x7d,   // }\n  0x032b: 0x5c,   // \\\n  0x032c: 0x5e,   // ^\n  0x032d: 0x5f,   // _\n  0x032e: 0x7c,   // |\n  0x032f: 0x7e,   // ~\n  0x0330: 0xc4,   // \n  0x0331: 0xe4,   // \n  0x0332: 0xd6,   // \n  0x0333: 0xf6,   // \n  0x0334: 0xdf,   // \n  0x0335: 0xa5,   // \n  0x0336: 0xa4,   // \n  0x0337: 0x2502, // \n  0x0338: 0xc5,   // \n  0x0339: 0xe5,   // \n  0x033a: 0xd8,   // \n  0x033b: 0xf8,   // \n  0x033c: 0x250c, // \n  0x033d: 0x2510, // \n  0x033e: 0x2514, // \n  0x033f: 0x2518  // \n};\n\nvar getCharFromCode = function(code) {\n  if (code === null) {\n    return '';\n  }\n  code = CHARACTER_TRANSLATION[code] || code;\n  return String.fromCharCode(code);\n};\n\n// the index of the last row in a CEA-608 display buffer\nvar BOTTOM_ROW = 14;\n\n// This array is used for mapping PACs -> row #, since there's no way of\n// getting it through bit logic.\nvar ROWS = [0x1100, 0x1120, 0x1200, 0x1220, 0x1500, 0x1520, 0x1600, 0x1620,\n            0x1700, 0x1720, 0x1000, 0x1300, 0x1320, 0x1400, 0x1420];\n\n// CEA-608 captions are rendered onto a 34x15 matrix of character\n// cells. The \"bottom\" row is the last element in the outer array.\nvar createDisplayBuffer = function() {\n  var result = [], i = BOTTOM_ROW + 1;\n  while (i--) {\n    result.push('');\n  }\n  return result;\n};\n\nvar Cea608Stream = function(field, dataChannel) {\n  Cea608Stream.prototype.init.call(this);\n\n  this.field_ = field || 0;\n  this.dataChannel_ = dataChannel || 0;\n\n  this.name_ = 'CC' + (((this.field_ << 1) | this.dataChannel_) + 1);\n\n  this.setConstants();\n  this.reset();\n\n  this.push = function(packet) {\n    var data, swap, char0, char1, text;\n    // remove the parity bits\n    data = packet.ccData & 0x7f7f;\n\n    // ignore duplicate control codes; the spec demands they're sent twice\n    if (data === this.lastControlCode_) {\n      this.lastControlCode_ = null;\n      return;\n    }\n\n    // Store control codes\n    if ((data & 0xf000) === 0x1000) {\n      this.lastControlCode_ = data;\n    } else if (data !== this.PADDING_) {\n      this.lastControlCode_ = null;\n    }\n\n    char0 = data >>> 8;\n    char1 = data & 0xff;\n\n    if (data === this.PADDING_) {\n      return;\n\n    } else if (data === this.RESUME_CAPTION_LOADING_) {\n      this.mode_ = 'popOn';\n\n    } else if (data === this.END_OF_CAPTION_) {\n      // If an EOC is received while in paint-on mode, the displayed caption\n      // text should be swapped to non-displayed memory as if it was a pop-on\n      // caption. Because of that, we should explicitly switch back to pop-on\n      // mode\n      this.mode_ = 'popOn';\n      this.clearFormatting(packet.pts);\n      // if a caption was being displayed, it's gone now\n      this.flushDisplayed(packet.pts);\n\n      // flip memory\n      swap = this.displayed_;\n      this.displayed_ = this.nonDisplayed_;\n      this.nonDisplayed_ = swap;\n\n      // start measuring the time to display the caption\n      this.startPts_ = packet.pts;\n\n    } else if (data === this.ROLL_UP_2_ROWS_) {\n      this.rollUpRows_ = 2;\n      this.setRollUp(packet.pts);\n    } else if (data === this.ROLL_UP_3_ROWS_) {\n      this.rollUpRows_ = 3;\n      this.setRollUp(packet.pts);\n    } else if (data === this.ROLL_UP_4_ROWS_) {\n      this.rollUpRows_ = 4;\n      this.setRollUp(packet.pts);\n    } else if (data === this.CARRIAGE_RETURN_) {\n      this.clearFormatting(packet.pts);\n      this.flushDisplayed(packet.pts);\n      this.shiftRowsUp_();\n      this.startPts_ = packet.pts;\n\n    } else if (data === this.BACKSPACE_) {\n      if (this.mode_ === 'popOn') {\n        this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n      } else {\n        this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n      }\n    } else if (data === this.ERASE_DISPLAYED_MEMORY_) {\n      this.flushDisplayed(packet.pts);\n      this.displayed_ = createDisplayBuffer();\n    } else if (data === this.ERASE_NON_DISPLAYED_MEMORY_) {\n      this.nonDisplayed_ = createDisplayBuffer();\n\n    } else if (data === this.RESUME_DIRECT_CAPTIONING_) {\n      if (this.mode_ !== 'paintOn') {\n        // NOTE: This should be removed when proper caption positioning is\n        // implemented\n        this.flushDisplayed(packet.pts);\n        this.displayed_ = createDisplayBuffer();\n      }\n      this.mode_ = 'paintOn';\n      this.startPts_ = packet.pts;\n\n    // Append special characters to caption text\n    } else if (this.isSpecialCharacter(char0, char1)) {\n      // Bitmask char0 so that we can apply character transformations\n      // regardless of field and data channel.\n      // Then byte-shift to the left and OR with char1 so we can pass the\n      // entire character code to `getCharFromCode`.\n      char0 = (char0 & 0x03) << 8;\n      text = getCharFromCode(char0 | char1);\n      this[this.mode_](packet.pts, text);\n      this.column_++;\n\n    // Append extended characters to caption text\n    } else if (this.isExtCharacter(char0, char1)) {\n      // Extended characters always follow their \"non-extended\" equivalents.\n      // IE if a \"\" is desired, you'll always receive \"e\"; non-compliant\n      // decoders are supposed to drop the \"\", while compliant decoders\n      // backspace the \"e\" and insert \"\".\n\n      // Delete the previous character\n      if (this.mode_ === 'popOn') {\n        this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n      } else {\n        this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n      }\n\n      // Bitmask char0 so that we can apply character transformations\n      // regardless of field and data channel.\n      // Then byte-shift to the left and OR with char1 so we can pass the\n      // entire character code to `getCharFromCode`.\n      char0 = (char0 & 0x03) << 8;\n      text = getCharFromCode(char0 | char1);\n      this[this.mode_](packet.pts, text);\n      this.column_++;\n\n    // Process mid-row codes\n    } else if (this.isMidRowCode(char0, char1)) {\n      // Attributes are not additive, so clear all formatting\n      this.clearFormatting(packet.pts);\n\n      // According to the standard, mid-row codes\n      // should be replaced with spaces, so add one now\n      this[this.mode_](packet.pts, ' ');\n      this.column_++;\n\n      if ((char1 & 0xe) === 0xe) {\n        this.addFormatting(packet.pts, ['i']);\n      }\n\n      if ((char1 & 0x1) === 0x1) {\n        this.addFormatting(packet.pts, ['u']);\n      }\n\n    // Detect offset control codes and adjust cursor\n    } else if (this.isOffsetControlCode(char0, char1)) {\n      // Cursor position is set by indent PAC (see below) in 4-column\n      // increments, with an additional offset code of 1-3 to reach any\n      // of the 32 columns specified by CEA-608. So all we need to do\n      // here is increment the column cursor by the given offset.\n      this.column_ += (char1 & 0x03);\n\n    // Detect PACs (Preamble Address Codes)\n    } else if (this.isPAC(char0, char1)) {\n\n      // There's no logic for PAC -> row mapping, so we have to just\n      // find the row code in an array and use its index :(\n      var row = ROWS.indexOf(data & 0x1f20);\n\n      // Configure the caption window if we're in roll-up mode\n      if (this.mode_ === 'rollUp') {\n        // This implies that the base row is incorrectly set.\n        // As per the recommendation in CEA-608(Base Row Implementation), defer to the number\n        // of roll-up rows set.\n        if (row - this.rollUpRows_ + 1 < 0) {\n          row = this.rollUpRows_ - 1;\n        }\n\n        this.setRollUp(packet.pts, row);\n      }\n\n      if (row !== this.row_) {\n        // formatting is only persistent for current row\n        this.clearFormatting(packet.pts);\n        this.row_ = row;\n      }\n      // All PACs can apply underline, so detect and apply\n      // (All odd-numbered second bytes set underline)\n      if ((char1 & 0x1) && (this.formatting_.indexOf('u') === -1)) {\n          this.addFormatting(packet.pts, ['u']);\n      }\n\n      if ((data & 0x10) === 0x10) {\n        // We've got an indent level code. Each successive even number\n        // increments the column cursor by 4, so we can get the desired\n        // column position by bit-shifting to the right (to get n/2)\n        // and multiplying by 4.\n        this.column_ = ((data & 0xe) >> 1) * 4;\n      }\n\n      if (this.isColorPAC(char1)) {\n        // it's a color code, though we only support white, which\n        // can be either normal or italicized. white italics can be\n        // either 0x4e or 0x6e depending on the row, so we just\n        // bitwise-and with 0xe to see if italics should be turned on\n        if ((char1 & 0xe) === 0xe) {\n          this.addFormatting(packet.pts, ['i']);\n        }\n      }\n\n    // We have a normal character in char0, and possibly one in char1\n    } else if (this.isNormalChar(char0)) {\n      if (char1 === 0x00) {\n        char1 = null;\n      }\n      text = getCharFromCode(char0);\n      text += getCharFromCode(char1);\n      this[this.mode_](packet.pts, text);\n      this.column_ += text.length;\n\n    } // finish data processing\n\n  };\n};\nCea608Stream.prototype = new Stream();\n// Trigger a cue point that captures the current state of the\n// display buffer\nCea608Stream.prototype.flushDisplayed = function(pts) {\n  var content = this.displayed_\n    // remove spaces from the start and end of the string\n    .map(function(row) {\n      try {\n        return row.trim();\n      } catch (e) {\n        // Ordinarily, this shouldn't happen. However, caption\n        // parsing errors should not throw exceptions and\n        // break playback.\n        // eslint-disable-next-line no-console\n        console.error('Skipping malformed caption.');\n        return '';\n      }\n    })\n    // combine all text rows to display in one cue\n    .join('\\n')\n    // and remove blank rows from the start and end, but not the middle\n    .replace(/^\\n+|\\n+$/g, '');\n\n  if (content.length) {\n    this.trigger('data', {\n      startPts: this.startPts_,\n      endPts: pts,\n      text: content,\n      stream: this.name_\n    });\n  }\n};\n\n/**\n * Zero out the data, used for startup and on seek\n */\nCea608Stream.prototype.reset = function() {\n  this.mode_ = 'popOn';\n  // When in roll-up mode, the index of the last row that will\n  // actually display captions. If a caption is shifted to a row\n  // with a lower index than this, it is cleared from the display\n  // buffer\n  this.topRow_ = 0;\n  this.startPts_ = 0;\n  this.displayed_ = createDisplayBuffer();\n  this.nonDisplayed_ = createDisplayBuffer();\n  this.lastControlCode_ = null;\n\n  // Track row and column for proper line-breaking and spacing\n  this.column_ = 0;\n  this.row_ = BOTTOM_ROW;\n  this.rollUpRows_ = 2;\n\n  // This variable holds currently-applied formatting\n  this.formatting_ = [];\n};\n\n/**\n * Sets up control code and related constants for this instance\n */\nCea608Stream.prototype.setConstants = function() {\n  // The following attributes have these uses:\n  // ext_ :    char0 for mid-row codes, and the base for extended\n  //           chars (ext_+0, ext_+1, and ext_+2 are char0s for\n  //           extended codes)\n  // control_: char0 for control codes, except byte-shifted to the\n  //           left so that we can do this.control_ | CONTROL_CODE\n  // offset_:  char0 for tab offset codes\n  //\n  // It's also worth noting that control codes, and _only_ control codes,\n  // differ between field 1 and field2. Field 2 control codes are always\n  // their field 1 value plus 1. That's why there's the \"| field\" on the\n  // control value.\n  if (this.dataChannel_ === 0) {\n    this.BASE_     = 0x10;\n    this.EXT_      = 0x11;\n    this.CONTROL_  = (0x14 | this.field_) << 8;\n    this.OFFSET_   = 0x17;\n  } else if (this.dataChannel_ === 1) {\n    this.BASE_     = 0x18;\n    this.EXT_      = 0x19;\n    this.CONTROL_  = (0x1c | this.field_) << 8;\n    this.OFFSET_   = 0x1f;\n  }\n\n  // Constants for the LSByte command codes recognized by Cea608Stream. This\n  // list is not exhaustive. For a more comprehensive listing and semantics see\n  // http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf\n  // Padding\n  this.PADDING_                    = 0x0000;\n  // Pop-on Mode\n  this.RESUME_CAPTION_LOADING_     = this.CONTROL_ | 0x20;\n  this.END_OF_CAPTION_             = this.CONTROL_ | 0x2f;\n  // Roll-up Mode\n  this.ROLL_UP_2_ROWS_             = this.CONTROL_ | 0x25;\n  this.ROLL_UP_3_ROWS_             = this.CONTROL_ | 0x26;\n  this.ROLL_UP_4_ROWS_             = this.CONTROL_ | 0x27;\n  this.CARRIAGE_RETURN_            = this.CONTROL_ | 0x2d;\n  // paint-on mode\n  this.RESUME_DIRECT_CAPTIONING_   = this.CONTROL_ | 0x29;\n  // Erasure\n  this.BACKSPACE_                  = this.CONTROL_ | 0x21;\n  this.ERASE_DISPLAYED_MEMORY_     = this.CONTROL_ | 0x2c;\n  this.ERASE_NON_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2e;\n};\n\n/**\n * Detects if the 2-byte packet data is a special character\n *\n * Special characters have a second byte in the range 0x30 to 0x3f,\n * with the first byte being 0x11 (for data channel 1) or 0x19 (for\n * data channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are an special character\n */\nCea608Stream.prototype.isSpecialCharacter = function(char0, char1) {\n  return (char0 === this.EXT_ && char1 >= 0x30 && char1 <= 0x3f);\n};\n\n/**\n * Detects if the 2-byte packet data is an extended character\n *\n * Extended characters have a second byte in the range 0x20 to 0x3f,\n * with the first byte being 0x12 or 0x13 (for data channel 1) or\n * 0x1a or 0x1b (for data channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are an extended character\n */\nCea608Stream.prototype.isExtCharacter = function(char0, char1) {\n  return ((char0 === (this.EXT_ + 1) || char0 === (this.EXT_ + 2)) &&\n    (char1 >= 0x20 && char1 <= 0x3f));\n};\n\n/**\n * Detects if the 2-byte packet is a mid-row code\n *\n * Mid-row codes have a second byte in the range 0x20 to 0x2f, with\n * the first byte being 0x11 (for data channel 1) or 0x19 (for data\n * channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are a mid-row code\n */\nCea608Stream.prototype.isMidRowCode = function(char0, char1) {\n  return (char0 === this.EXT_ && (char1 >= 0x20 && char1 <= 0x2f));\n};\n\n/**\n * Detects if the 2-byte packet is an offset control code\n *\n * Offset control codes have a second byte in the range 0x21 to 0x23,\n * with the first byte being 0x17 (for data channel 1) or 0x1f (for\n * data channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are an offset control code\n */\nCea608Stream.prototype.isOffsetControlCode = function(char0, char1) {\n  return (char0 === this.OFFSET_ && (char1 >= 0x21 && char1 <= 0x23));\n};\n\n/**\n * Detects if the 2-byte packet is a Preamble Address Code\n *\n * PACs have a first byte in the range 0x10 to 0x17 (for data channel 1)\n * or 0x18 to 0x1f (for data channel 2), with the second byte in the\n * range 0x40 to 0x7f.\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are a PAC\n */\nCea608Stream.prototype.isPAC = function(char0, char1) {\n  return (char0 >= this.BASE_ && char0 < (this.BASE_ + 8) &&\n    (char1 >= 0x40 && char1 <= 0x7f));\n};\n\n/**\n * Detects if a packet's second byte is in the range of a PAC color code\n *\n * PAC color codes have the second byte be in the range 0x40 to 0x4f, or\n * 0x60 to 0x6f.\n *\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the byte is a color PAC\n */\nCea608Stream.prototype.isColorPAC = function(char1) {\n  return ((char1 >= 0x40 && char1 <= 0x4f) || (char1 >= 0x60 && char1 <= 0x7f));\n};\n\n/**\n * Detects if a single byte is in the range of a normal character\n *\n * Normal text bytes are in the range 0x20 to 0x7f.\n *\n * @param  {Integer} char  The byte\n * @return {Boolean}       Whether the byte is a normal character\n */\nCea608Stream.prototype.isNormalChar = function(char) {\n  return (char >= 0x20 && char <= 0x7f);\n};\n\n/**\n * Configures roll-up\n *\n * @param  {Integer} pts         Current PTS\n * @param  {Integer} newBaseRow  Used by PACs to slide the current window to\n *                               a new position\n */\nCea608Stream.prototype.setRollUp = function(pts, newBaseRow) {\n  // Reset the base row to the bottom row when switching modes\n  if (this.mode_ !== 'rollUp') {\n    this.row_ = BOTTOM_ROW;\n    this.mode_ = 'rollUp';\n    // Spec says to wipe memories when switching to roll-up\n    this.flushDisplayed(pts);\n    this.nonDisplayed_ = createDisplayBuffer();\n    this.displayed_ = createDisplayBuffer();\n  }\n\n  if (newBaseRow !== undefined && newBaseRow !== this.row_) {\n    // move currently displayed captions (up or down) to the new base row\n    for (var i = 0; i < this.rollUpRows_; i++) {\n      this.displayed_[newBaseRow - i] = this.displayed_[this.row_ - i];\n      this.displayed_[this.row_ - i] = '';\n    }\n  }\n\n  if (newBaseRow === undefined) {\n    newBaseRow = this.row_;\n  }\n\n  this.topRow_ = newBaseRow - this.rollUpRows_ + 1;\n};\n\n// Adds the opening HTML tag for the passed character to the caption text,\n// and keeps track of it for later closing\nCea608Stream.prototype.addFormatting = function(pts, format) {\n  this.formatting_ = this.formatting_.concat(format);\n  var text = format.reduce(function(text, format) {\n    return text + '<' + format + '>';\n  }, '');\n  this[this.mode_](pts, text);\n};\n\n// Adds HTML closing tags for current formatting to caption text and\n// clears remembered formatting\nCea608Stream.prototype.clearFormatting = function(pts) {\n  if (!this.formatting_.length) {\n    return;\n  }\n  var text = this.formatting_.reverse().reduce(function(text, format) {\n    return text + '</' + format + '>';\n  }, '');\n  this.formatting_ = [];\n  this[this.mode_](pts, text);\n};\n\n// Mode Implementations\nCea608Stream.prototype.popOn = function(pts, text) {\n  var baseRow = this.nonDisplayed_[this.row_];\n\n  // buffer characters\n  baseRow += text;\n  this.nonDisplayed_[this.row_] = baseRow;\n};\n\nCea608Stream.prototype.rollUp = function(pts, text) {\n  var baseRow = this.displayed_[this.row_];\n\n  baseRow += text;\n  this.displayed_[this.row_] = baseRow;\n\n};\n\nCea608Stream.prototype.shiftRowsUp_ = function() {\n  var i;\n  // clear out inactive rows\n  for (i = 0; i < this.topRow_; i++) {\n    this.displayed_[i] = '';\n  }\n  for (i = this.row_ + 1; i < BOTTOM_ROW + 1; i++) {\n    this.displayed_[i] = '';\n  }\n  // shift displayed rows up\n  for (i = this.topRow_; i < this.row_; i++) {\n    this.displayed_[i] = this.displayed_[i + 1];\n  }\n  // clear out the bottom row\n  this.displayed_[this.row_] = '';\n};\n\nCea608Stream.prototype.paintOn = function(pts, text) {\n  var baseRow = this.displayed_[this.row_];\n\n  baseRow += text;\n  this.displayed_[this.row_] = baseRow;\n};\n\n// exports\nmodule.exports = {\n  CaptionStream: CaptionStream,\n  Cea608Stream: Cea608Stream\n};\n","var memoizedProperty = require('../util').memoizedProperty;\n\nfunction memoize(name, value, factory, nameTr) {\n  memoizedProperty(this, nameTr(name), function() {\n    return factory(name, value);\n  });\n}\n\nfunction Collection(iterable, options, factory, nameTr, callback) {\n  nameTr = nameTr || String;\n  var self = this;\n\n  for (var id in iterable) {\n    if (Object.prototype.hasOwnProperty.call(iterable, id)) {\n      memoize.call(self, id, iterable[id], factory, nameTr);\n      if (callback) callback(id, iterable[id]);\n    }\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = Collection;\n","var AWS = require('./core');\n\n/**\n * @api private\n */\nAWS.ParamValidator = AWS.util.inherit({\n  /**\n   * Create a new validator object.\n   *\n   * @param validation [Boolean|map] whether input parameters should be\n   *     validated against the operation description before sending the\n   *     request. Pass a map to enable any of the following specific\n   *     validation features:\n   *\n   *     * **min** [Boolean] &mdash; Validates that a value meets the min\n   *       constraint. This is enabled by default when paramValidation is set\n   *       to `true`.\n   *     * **max** [Boolean] &mdash; Validates that a value meets the max\n   *       constraint.\n   *     * **pattern** [Boolean] &mdash; Validates that a string value matches a\n   *       regular expression.\n   *     * **enum** [Boolean] &mdash; Validates that a string value matches one\n   *       of the allowable enum values.\n   */\n  constructor: function ParamValidator(validation) {\n    if (validation === true || validation === undefined) {\n      validation = {'min': true};\n    }\n    this.validation = validation;\n  },\n\n  validate: function validate(shape, params, context) {\n    this.errors = [];\n    this.validateMember(shape, params || {}, context || 'params');\n\n    if (this.errors.length > 1) {\n      var msg = this.errors.join('\\n* ');\n      msg = 'There were ' + this.errors.length +\n        ' validation errors:\\n* ' + msg;\n      throw AWS.util.error(new Error(msg),\n        {code: 'MultipleValidationErrors', errors: this.errors});\n    } else if (this.errors.length === 1) {\n      throw this.errors[0];\n    } else {\n      return true;\n    }\n  },\n\n  fail: function fail(code, message) {\n    this.errors.push(AWS.util.error(new Error(message), {code: code}));\n  },\n\n  validateStructure: function validateStructure(shape, params, context) {\n    this.validateType(params, context, ['object'], 'structure');\n\n    var paramName;\n    for (var i = 0; shape.required && i < shape.required.length; i++) {\n      paramName = shape.required[i];\n      var value = params[paramName];\n      if (value === undefined || value === null) {\n        this.fail('MissingRequiredParameter',\n          'Missing required key \\'' + paramName + '\\' in ' + context);\n      }\n    }\n\n    // validate hash members\n    for (paramName in params) {\n      if (!Object.prototype.hasOwnProperty.call(params, paramName)) continue;\n\n      var paramValue = params[paramName],\n          memberShape = shape.members[paramName];\n\n      if (memberShape !== undefined) {\n        var memberContext = [context, paramName].join('.');\n        this.validateMember(memberShape, paramValue, memberContext);\n      } else {\n        this.fail('UnexpectedParameter',\n          'Unexpected key \\'' + paramName + '\\' found in ' + context);\n      }\n    }\n\n    return true;\n  },\n\n  validateMember: function validateMember(shape, param, context) {\n    switch (shape.type) {\n      case 'structure':\n        return this.validateStructure(shape, param, context);\n      case 'list':\n        return this.validateList(shape, param, context);\n      case 'map':\n        return this.validateMap(shape, param, context);\n      default:\n        return this.validateScalar(shape, param, context);\n    }\n  },\n\n  validateList: function validateList(shape, params, context) {\n    if (this.validateType(params, context, [Array])) {\n      this.validateRange(shape, params.length, context, 'list member count');\n      // validate array members\n      for (var i = 0; i < params.length; i++) {\n        this.validateMember(shape.member, params[i], context + '[' + i + ']');\n      }\n    }\n  },\n\n  validateMap: function validateMap(shape, params, context) {\n    if (this.validateType(params, context, ['object'], 'map')) {\n      // Build up a count of map members to validate range traits.\n      var mapCount = 0;\n      for (var param in params) {\n        if (!Object.prototype.hasOwnProperty.call(params, param)) continue;\n        // Validate any map key trait constraints\n        this.validateMember(shape.key, param,\n                            context + '[key=\\'' + param + '\\']');\n        this.validateMember(shape.value, params[param],\n                            context + '[\\'' + param + '\\']');\n        mapCount++;\n      }\n      this.validateRange(shape, mapCount, context, 'map member count');\n    }\n  },\n\n  validateScalar: function validateScalar(shape, value, context) {\n    switch (shape.type) {\n      case null:\n      case undefined:\n      case 'string':\n        return this.validateString(shape, value, context);\n      case 'base64':\n      case 'binary':\n        return this.validatePayload(value, context);\n      case 'integer':\n      case 'float':\n        return this.validateNumber(shape, value, context);\n      case 'boolean':\n        return this.validateType(value, context, ['boolean']);\n      case 'timestamp':\n        return this.validateType(value, context, [Date,\n          /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/, 'number'],\n          'Date object, ISO-8601 string, or a UNIX timestamp');\n      default:\n        return this.fail('UnkownType', 'Unhandled type ' +\n                         shape.type + ' for ' + context);\n    }\n  },\n\n  validateString: function validateString(shape, value, context) {\n    var validTypes = ['string'];\n    if (shape.isJsonValue) {\n      validTypes = validTypes.concat(['number', 'object', 'boolean']);\n    }\n    if (value !== null && this.validateType(value, context, validTypes)) {\n      this.validateEnum(shape, value, context);\n      this.validateRange(shape, value.length, context, 'string length');\n      this.validatePattern(shape, value, context);\n      this.validateUri(shape, value, context);\n    }\n  },\n\n  validateUri: function validateUri(shape, value, context) {\n    if (shape['location'] === 'uri') {\n      if (value.length === 0) {\n        this.fail('UriParameterError', 'Expected uri parameter to have length >= 1,'\n          + ' but found \"' + value +'\" for ' + context);\n      }\n    }\n  },\n\n  validatePattern: function validatePattern(shape, value, context) {\n    if (this.validation['pattern'] && shape['pattern'] !== undefined) {\n      if (!(new RegExp(shape['pattern'])).test(value)) {\n        this.fail('PatternMatchError', 'Provided value \"' + value + '\" '\n          + 'does not match regex pattern /' + shape['pattern'] + '/ for '\n          + context);\n      }\n    }\n  },\n\n  validateRange: function validateRange(shape, value, context, descriptor) {\n    if (this.validation['min']) {\n      if (shape['min'] !== undefined && value < shape['min']) {\n        this.fail('MinRangeError', 'Expected ' + descriptor + ' >= '\n          + shape['min'] + ', but found ' + value + ' for ' + context);\n      }\n    }\n    if (this.validation['max']) {\n      if (shape['max'] !== undefined && value > shape['max']) {\n        this.fail('MaxRangeError', 'Expected ' + descriptor + ' <= '\n          + shape['max'] + ', but found ' + value + ' for ' + context);\n      }\n    }\n  },\n\n  validateEnum: function validateRange(shape, value, context) {\n    if (this.validation['enum'] && shape['enum'] !== undefined) {\n      // Fail if the string value is not present in the enum list\n      if (shape['enum'].indexOf(value) === -1) {\n        this.fail('EnumError', 'Found string value of ' + value + ', but '\n          + 'expected ' + shape['enum'].join('|') + ' for ' + context);\n      }\n    }\n  },\n\n  validateType: function validateType(value, context, acceptedTypes, type) {\n    // We will not log an error for null or undefined, but we will return\n    // false so that callers know that the expected type was not strictly met.\n    if (value === null || value === undefined) return false;\n\n    var foundInvalidType = false;\n    for (var i = 0; i < acceptedTypes.length; i++) {\n      if (typeof acceptedTypes[i] === 'string') {\n        if (typeof value === acceptedTypes[i]) return true;\n      } else if (acceptedTypes[i] instanceof RegExp) {\n        if ((value || '').toString().match(acceptedTypes[i])) return true;\n      } else {\n        if (value instanceof acceptedTypes[i]) return true;\n        if (AWS.util.isType(value, acceptedTypes[i])) return true;\n        if (!type && !foundInvalidType) acceptedTypes = acceptedTypes.slice();\n        acceptedTypes[i] = AWS.util.typeName(acceptedTypes[i]);\n      }\n      foundInvalidType = true;\n    }\n\n    var acceptedType = type;\n    if (!acceptedType) {\n      acceptedType = acceptedTypes.join(', ').replace(/,([^,]+)$/, ', or$1');\n    }\n\n    var vowel = acceptedType.match(/^[aeiou]/i) ? 'n' : '';\n    this.fail('InvalidParameterType', 'Expected ' + context + ' to be a' +\n              vowel + ' ' + acceptedType);\n    return false;\n  },\n\n  validateNumber: function validateNumber(shape, value, context) {\n    if (value === null || value === undefined) return;\n    if (typeof value === 'string') {\n      var castedValue = parseFloat(value);\n      if (castedValue.toString() === value) value = castedValue;\n    }\n    if (this.validateType(value, context, ['number'])) {\n      this.validateRange(shape, value, context, 'numeric value');\n    }\n  },\n\n  validatePayload: function validatePayload(value, context) {\n    if (value === null || value === undefined) return;\n    if (typeof value === 'string') return;\n    if (value && typeof value.byteLength === 'number') return; // typed arrays\n    if (AWS.util.isNode()) { // special check for buffer/stream in Node.js\n      var Stream = AWS.util.stream.Stream;\n      if (AWS.util.Buffer.isBuffer(value) || value instanceof Stream) return;\n    } else {\n      if (typeof Blob !== void 0 && value instanceof Blob) return;\n    }\n\n    var types = ['Buffer', 'Stream', 'File', 'Blob', 'ArrayBuffer', 'DataView'];\n    if (value) {\n      for (var i = 0; i < types.length; i++) {\n        if (AWS.util.isType(value, types[i])) return;\n        if (AWS.util.typeName(value.constructor) === types[i]) return;\n      }\n    }\n\n    this.fail('InvalidParameterType', 'Expected ' + context + ' to be a ' +\n      'string, Buffer, Stream, Blob, or typed array object');\n  }\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['personalize'] = {};\nAWS.Personalize = Service.defineService('personalize', ['2018-05-22']);\nObject.defineProperty(apiLoader.services['personalize'], '2018-05-22', {\n  get: function get() {\n    var model = require('../apis/personalize-2018-05-22.min.json');\n    model.paginators = require('../apis/personalize-2018-05-22.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Personalize;\n","var AWS = require('../core');\nvar v4Credentials = require('../signers/v4_credentials');\n\n// Pull in managed upload extension\nrequire('../s3/managed_upload');\n\n/**\n * @api private\n */\nvar operationsWith200StatusCodeError = {\n  'completeMultipartUpload': true,\n  'copyObject': true,\n  'uploadPartCopy': true\n};\n\n/**\n * @api private\n */\n var regionRedirectErrorCodes = [\n  'AuthorizationHeaderMalformed', // non-head operations on virtual-hosted global bucket endpoints\n  'BadRequest', // head operations on virtual-hosted global bucket endpoints\n  'PermanentRedirect', // non-head operations on path-style or regional endpoints\n  301 // head operations on path-style or regional endpoints\n ];\n\nAWS.util.update(AWS.S3.prototype, {\n  /**\n   * @api private\n   */\n  getSignatureVersion: function getSignatureVersion(request) {\n    var defaultApiVersion = this.api.signatureVersion;\n    var userDefinedVersion = this._originalConfig ? this._originalConfig.signatureVersion : null;\n    var regionDefinedVersion = this.config.signatureVersion;\n    var isPresigned = request ? request.isPresigned() : false;\n    /*\n      1) User defined version specified:\n        a) always return user defined version\n      2) No user defined version specified:\n        a) default to lowest version the region supports\n        b) If using presigned urls, default to lowest version the region supports\n    */\n    if (userDefinedVersion) {\n      userDefinedVersion = userDefinedVersion === 'v2' ? 's3' : userDefinedVersion;\n      return userDefinedVersion;\n    }\n    if (isPresigned !== true) {\n      defaultApiVersion = 'v4';\n    } else if (regionDefinedVersion) {\n      defaultApiVersion = regionDefinedVersion;\n    }\n    return defaultApiVersion;\n  },\n\n  /**\n   * @api private\n   */\n  getSignerClass: function getSignerClass(request) {\n    var signatureVersion = this.getSignatureVersion(request);\n    return AWS.Signers.RequestSigner.getVersion(signatureVersion);\n  },\n\n  /**\n   * @api private\n   */\n  validateService: function validateService() {\n    var msg;\n    var messages = [];\n\n    // default to us-east-1 when no region is provided\n    if (!this.config.region) this.config.region = 'us-east-1';\n\n    if (!this.config.endpoint && this.config.s3BucketEndpoint) {\n      messages.push('An endpoint must be provided when configuring ' +\n                    '`s3BucketEndpoint` to true.');\n    }\n    if (messages.length === 1) {\n      msg = messages[0];\n    } else if (messages.length > 1) {\n      msg = 'Multiple configuration errors:\\n' + messages.join('\\n');\n    }\n    if (msg) {\n      throw AWS.util.error(new Error(),\n        {name: 'InvalidEndpoint', message: msg});\n    }\n  },\n\n  /**\n   * @api private\n   */\n  shouldDisableBodySigning: function shouldDisableBodySigning(request) {\n    var signerClass = this.getSignerClass();\n    if (this.config.s3DisableBodySigning === true && signerClass === AWS.Signers.V4\n        && request.httpRequest.endpoint.protocol === 'https:') {\n      return true;\n    }\n    return false;\n  },\n\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    var prependListener = true;\n    request.addListener('validate', this.validateScheme);\n    request.addListener('validate', this.validateBucketEndpoint);\n    request.addListener('validate', this.correctBucketRegionFromCache);\n    request.addListener('validate', this.validateBucketName, prependListener);\n\n    request.addListener('build', this.addContentType);\n    request.addListener('build', this.populateURI);\n    request.addListener('build', this.computeContentMd5);\n    request.addListener('build', this.computeSseCustomerKeyMd5);\n    request.addListener('afterBuild', this.addExpect100Continue);\n    request.removeListener('validate',\n      AWS.EventListeners.Core.VALIDATE_REGION);\n    request.addListener('extractError', this.extractError);\n    request.onAsync('extractError', this.requestBucketRegion);\n    request.addListener('extractData', this.extractData);\n    request.addListener('extractData', AWS.util.hoistPayloadMember);\n    request.addListener('beforePresign', this.prepareSignedUrl);\n    if (AWS.util.isBrowser()) {\n      request.onAsync('retry', this.reqRegionForNetworkingError);\n    }\n    if (this.shouldDisableBodySigning(request))  {\n      request.removeListener('afterBuild', AWS.EventListeners.Core.COMPUTE_SHA256);\n      request.addListener('afterBuild', this.disableBodySigning);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateScheme: function(req) {\n    var params = req.params,\n        scheme = req.httpRequest.endpoint.protocol,\n        sensitive = params.SSECustomerKey || params.CopySourceSSECustomerKey;\n    if (sensitive && scheme !== 'https:') {\n      var msg = 'Cannot send SSE keys over HTTP. Set \\'sslEnabled\\'' +\n        'to \\'true\\' in your configuration';\n      throw AWS.util.error(new Error(),\n        { code: 'ConfigError', message: msg });\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateBucketEndpoint: function(req) {\n    if (!req.params.Bucket && req.service.config.s3BucketEndpoint) {\n      var msg = 'Cannot send requests to root API with `s3BucketEndpoint` set.';\n      throw AWS.util.error(new Error(),\n        { code: 'ConfigError', message: msg });\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateBucketName: function validateBucketName(req) {\n    var service = req.service;\n    var signatureVersion = service.getSignatureVersion(req);\n    var bucket = req.params && req.params.Bucket;\n    var key = req.params && req.params.Key;\n    var slashIndex = bucket && bucket.indexOf('/');\n    if (bucket && slashIndex >= 0) {\n      if (typeof key === 'string' && slashIndex > 0) {\n        req.params = AWS.util.copy(req.params);\n        // Need to include trailing slash to match sigv2 behavior\n        var prefix = bucket.substr(slashIndex + 1) || '';\n        req.params.Key = prefix + '/' + key;\n        req.params.Bucket = bucket.substr(0, slashIndex);\n      } else if (signatureVersion === 'v4') {\n        var msg = 'Bucket names cannot contain forward slashes. Bucket: ' + bucket;\n        throw AWS.util.error(new Error(),\n          { code: 'InvalidBucket', message: msg });\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  isValidAccelerateOperation: function isValidAccelerateOperation(operation) {\n    var invalidOperations = [\n      'createBucket',\n      'deleteBucket',\n      'listBuckets'\n    ];\n    return invalidOperations.indexOf(operation) === -1;\n  },\n\n\n  /**\n   * S3 prefers dns-compatible bucket names to be moved from the uri path\n   * to the hostname as a sub-domain.  This is not possible, even for dns-compat\n   * buckets when using SSL and the bucket name contains a dot ('.').  The\n   * ssl wildcard certificate is only 1-level deep.\n   *\n   * @api private\n   */\n  populateURI: function populateURI(req) {\n    var httpRequest = req.httpRequest;\n    var b = req.params.Bucket;\n    var service = req.service;\n    var endpoint = httpRequest.endpoint;\n    if (b) {\n      if (!service.pathStyleBucketName(b)) {\n        if (service.config.useAccelerateEndpoint && service.isValidAccelerateOperation(req.operation)) {\n          if (service.config.useDualstack) {\n            endpoint.hostname = b + '.s3-accelerate.dualstack.amazonaws.com';\n          } else {\n            endpoint.hostname = b + '.s3-accelerate.amazonaws.com';\n          }\n        } else if (!service.config.s3BucketEndpoint) {\n          endpoint.hostname =\n            b + '.' + endpoint.hostname;\n        }\n\n        var port = endpoint.port;\n        if (port !== 80 && port !== 443) {\n          endpoint.host = endpoint.hostname + ':' +\n            endpoint.port;\n        } else {\n          endpoint.host = endpoint.hostname;\n        }\n\n        httpRequest.virtualHostedBucket = b; // needed for signing the request\n        service.removeVirtualHostedBucketFromPath(req);\n      }\n    }\n  },\n\n  /**\n   * Takes the bucket name out of the path if bucket is virtual-hosted\n   *\n   * @api private\n   */\n  removeVirtualHostedBucketFromPath: function removeVirtualHostedBucketFromPath(req) {\n    var httpRequest = req.httpRequest;\n    var bucket = httpRequest.virtualHostedBucket;\n    if (bucket && httpRequest.path) {\n      if (req.params && req.params.Key) {\n        var encodedS3Key = '/' + AWS.util.uriEscapePath(req.params.Key);\n        if (httpRequest.path.indexOf(encodedS3Key) === 0 && (httpRequest.path.length === encodedS3Key.length || httpRequest.path[encodedS3Key.length] === '?')) {\n          //path only contains key or path contains only key and querystring\n          return;\n        }\n      }\n      httpRequest.path = httpRequest.path.replace(new RegExp('/' + bucket), '');\n      if (httpRequest.path[0] !== '/') {\n        httpRequest.path = '/' + httpRequest.path;\n      }\n    }\n  },\n\n  /**\n   * Adds Expect: 100-continue header if payload is greater-or-equal 1MB\n   * @api private\n   */\n  addExpect100Continue: function addExpect100Continue(req) {\n    var len = req.httpRequest.headers['Content-Length'];\n    if (AWS.util.isNode() && (len >= 1024 * 1024 || req.params.Body instanceof AWS.util.stream.Stream)) {\n      req.httpRequest.headers['Expect'] = '100-continue';\n    }\n  },\n\n  /**\n   * Adds a default content type if none is supplied.\n   *\n   * @api private\n   */\n  addContentType: function addContentType(req) {\n    var httpRequest = req.httpRequest;\n    if (httpRequest.method === 'GET' || httpRequest.method === 'HEAD') {\n      // Content-Type is not set in GET/HEAD requests\n      delete httpRequest.headers['Content-Type'];\n      return;\n    }\n\n    if (!httpRequest.headers['Content-Type']) { // always have a Content-Type\n      httpRequest.headers['Content-Type'] = 'application/octet-stream';\n    }\n\n    var contentType = httpRequest.headers['Content-Type'];\n    if (AWS.util.isBrowser()) {\n      if (typeof httpRequest.body === 'string' && !contentType.match(/;\\s*charset=/)) {\n        var charset = '; charset=UTF-8';\n        httpRequest.headers['Content-Type'] += charset;\n      } else {\n        var replaceFn = function(_, prefix, charsetName) {\n          return prefix + charsetName.toUpperCase();\n        };\n\n        httpRequest.headers['Content-Type'] =\n          contentType.replace(/(;\\s*charset=)(.+)$/, replaceFn);\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  computableChecksumOperations: {\n    putBucketCors: true,\n    putBucketLifecycle: true,\n    putBucketLifecycleConfiguration: true,\n    putBucketTagging: true,\n    deleteObjects: true,\n    putBucketReplication: true,\n    putObjectLegalHold: true,\n    putObjectRetention: true,\n    putObjectLockConfiguration: true\n  },\n\n  /**\n   * Checks whether checksums should be computed for the request.\n   * If the request requires checksums to be computed, this will always\n   * return true, otherwise it depends on whether {AWS.Config.computeChecksums}\n   * is set.\n   *\n   * @param req [AWS.Request] the request to check against\n   * @return [Boolean] whether to compute checksums for a request.\n   * @api private\n   */\n  willComputeChecksums: function willComputeChecksums(req) {\n    if (this.computableChecksumOperations[req.operation]) return true;\n    if (!this.config.computeChecksums) return false;\n\n    // TODO: compute checksums for Stream objects\n    if (!AWS.util.Buffer.isBuffer(req.httpRequest.body) &&\n        typeof req.httpRequest.body !== 'string') {\n      return false;\n    }\n\n    var rules = req.service.api.operations[req.operation].input.members;\n\n    // Sha256 signing disabled, and not a presigned url\n    if (req.service.shouldDisableBodySigning(req) && !Object.prototype.hasOwnProperty.call(req.httpRequest.headers, 'presigned-expires')) {\n      if (rules.ContentMD5 && !req.params.ContentMD5) {\n        return true;\n      }\n    }\n\n    // V4 signer uses SHA256 signatures so only compute MD5 if it is required\n    if (req.service.getSignerClass(req) === AWS.Signers.V4) {\n      if (rules.ContentMD5 && !rules.ContentMD5.required) return false;\n    }\n\n    if (rules.ContentMD5 && !req.params.ContentMD5) return true;\n  },\n\n  /**\n   * A listener that computes the Content-MD5 and sets it in the header.\n   * @see AWS.S3.willComputeChecksums\n   * @api private\n   */\n  computeContentMd5: function computeContentMd5(req) {\n    if (req.service.willComputeChecksums(req)) {\n      var md5 = AWS.util.crypto.md5(req.httpRequest.body, 'base64');\n      req.httpRequest.headers['Content-MD5'] = md5;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  computeSseCustomerKeyMd5: function computeSseCustomerKeyMd5(req) {\n    var keys = {\n      SSECustomerKey: 'x-amz-server-side-encryption-customer-key-MD5',\n      CopySourceSSECustomerKey: 'x-amz-copy-source-server-side-encryption-customer-key-MD5'\n    };\n    AWS.util.each(keys, function(key, header) {\n      if (req.params[key]) {\n        var value = AWS.util.crypto.md5(req.params[key], 'base64');\n        req.httpRequest.headers[header] = value;\n      }\n    });\n  },\n\n  /**\n   * Returns true if the bucket name should be left in the URI path for\n   * a request to S3.  This function takes into account the current\n   * endpoint protocol (e.g. http or https).\n   *\n   * @api private\n   */\n  pathStyleBucketName: function pathStyleBucketName(bucketName) {\n    // user can force path style requests via the configuration\n    if (this.config.s3ForcePathStyle) return true;\n    if (this.config.s3BucketEndpoint) return false;\n\n    if (this.dnsCompatibleBucketName(bucketName)) {\n      return (this.config.sslEnabled && bucketName.match(/\\./)) ? true : false;\n    } else {\n      return true; // not dns compatible names must always use path style\n    }\n  },\n\n  /**\n   * Returns true if the bucket name is DNS compatible.  Buckets created\n   * outside of the classic region MUST be DNS compatible.\n   *\n   * @api private\n   */\n  dnsCompatibleBucketName: function dnsCompatibleBucketName(bucketName) {\n    var b = bucketName;\n    var domain = new RegExp(/^[a-z0-9][a-z0-9\\.\\-]{1,61}[a-z0-9]$/);\n    var ipAddress = new RegExp(/(\\d+\\.){3}\\d+/);\n    var dots = new RegExp(/\\.\\./);\n    return (b.match(domain) && !b.match(ipAddress) && !b.match(dots)) ? true : false;\n  },\n\n  /**\n   * @return [Boolean] whether response contains an error\n   * @api private\n   */\n  successfulResponse: function successfulResponse(resp) {\n    var req = resp.request;\n    var httpResponse = resp.httpResponse;\n    if (operationsWith200StatusCodeError[req.operation] &&\n        httpResponse.body.toString().match('<Error>')) {\n      return false;\n    } else {\n      return httpResponse.statusCode < 300;\n    }\n  },\n\n  /**\n   * @return [Boolean] whether the error can be retried\n   * @api private\n   */\n  retryableError: function retryableError(error, request) {\n    if (operationsWith200StatusCodeError[request.operation] &&\n        error.statusCode === 200) {\n      return true;\n    } else if (request._requestRegionForBucket &&\n        request.service.bucketRegionCache[request._requestRegionForBucket]) {\n      return false;\n    } else if (error && error.code === 'RequestTimeout') {\n      return true;\n    } else if (error &&\n        regionRedirectErrorCodes.indexOf(error.code) != -1 &&\n        error.region && error.region != request.httpRequest.region) {\n      request.httpRequest.region = error.region;\n      if (error.statusCode === 301) {\n        request.service.updateReqBucketRegion(request);\n      }\n      return true;\n    } else {\n      var _super = AWS.Service.prototype.retryableError;\n      return _super.call(this, error, request);\n    }\n  },\n\n  /**\n   * Updates httpRequest with region. If region is not provided, then\n   * the httpRequest will be updated based on httpRequest.region\n   *\n   * @api private\n   */\n  updateReqBucketRegion: function updateReqBucketRegion(request, region) {\n    var httpRequest = request.httpRequest;\n    if (typeof region === 'string' && region.length) {\n      httpRequest.region = region;\n    }\n    if (!httpRequest.endpoint.host.match(/s3(?!-accelerate).*\\.amazonaws\\.com$/)) {\n      return;\n    }\n    var service = request.service;\n    var s3Config = service.config;\n    var s3BucketEndpoint = s3Config.s3BucketEndpoint;\n    if (s3BucketEndpoint) {\n      delete s3Config.s3BucketEndpoint;\n    }\n    var newConfig = AWS.util.copy(s3Config);\n    delete newConfig.endpoint;\n    newConfig.region = httpRequest.region;\n\n    httpRequest.endpoint = (new AWS.S3(newConfig)).endpoint;\n    service.populateURI(request);\n    s3Config.s3BucketEndpoint = s3BucketEndpoint;\n    httpRequest.headers.Host = httpRequest.endpoint.host;\n\n    if (request._asm.currentState === 'validate') {\n      request.removeListener('build', service.populateURI);\n      request.addListener('build', service.removeVirtualHostedBucketFromPath);\n    }\n  },\n\n  /**\n   * Provides a specialized parser for getBucketLocation -- all other\n   * operations are parsed by the super class.\n   *\n   * @api private\n   */\n  extractData: function extractData(resp) {\n    var req = resp.request;\n    if (req.operation === 'getBucketLocation') {\n      var match = resp.httpResponse.body.toString().match(/>(.+)<\\/Location/);\n      delete resp.data['_'];\n      if (match) {\n        resp.data.LocationConstraint = match[1];\n      } else {\n        resp.data.LocationConstraint = '';\n      }\n    }\n    var bucket = req.params.Bucket || null;\n    if (req.operation === 'deleteBucket' && typeof bucket === 'string' && !resp.error) {\n      req.service.clearBucketRegionCache(bucket);\n    } else {\n      var headers = resp.httpResponse.headers || {};\n      var region = headers['x-amz-bucket-region'] || null;\n      if (!region && req.operation === 'createBucket' && !resp.error) {\n        var createBucketConfiguration = req.params.CreateBucketConfiguration;\n        if (!createBucketConfiguration) {\n          region = 'us-east-1';\n        } else if (createBucketConfiguration.LocationConstraint === 'EU') {\n          region = 'eu-west-1';\n        } else {\n          region = createBucketConfiguration.LocationConstraint;\n        }\n      }\n      if (region) {\n          if (bucket && region !== req.service.bucketRegionCache[bucket]) {\n            req.service.bucketRegionCache[bucket] = region;\n          }\n      }\n    }\n    req.service.extractRequestIds(resp);\n  },\n\n  /**\n   * Extracts an error object from the http response.\n   *\n   * @api private\n   */\n  extractError: function extractError(resp) {\n    var codes = {\n      304: 'NotModified',\n      403: 'Forbidden',\n      400: 'BadRequest',\n      404: 'NotFound'\n    };\n\n    var req = resp.request;\n    var code = resp.httpResponse.statusCode;\n    var body = resp.httpResponse.body || '';\n\n    var headers = resp.httpResponse.headers || {};\n    var region = headers['x-amz-bucket-region'] || null;\n    var bucket = req.params.Bucket || null;\n    var bucketRegionCache = req.service.bucketRegionCache;\n    if (region && bucket && region !== bucketRegionCache[bucket]) {\n      bucketRegionCache[bucket] = region;\n    }\n\n    var cachedRegion;\n    if (codes[code] && body.length === 0) {\n      if (bucket && !region) {\n        cachedRegion = bucketRegionCache[bucket] || null;\n        if (cachedRegion !== req.httpRequest.region) {\n          region = cachedRegion;\n        }\n      }\n      resp.error = AWS.util.error(new Error(), {\n        code: codes[code],\n        message: null,\n        region: region\n      });\n    } else {\n      var data = new AWS.XML.Parser().parse(body.toString());\n\n      if (data.Region && !region) {\n        region = data.Region;\n        if (bucket && region !== bucketRegionCache[bucket]) {\n          bucketRegionCache[bucket] = region;\n        }\n      } else if (bucket && !region && !data.Region) {\n        cachedRegion = bucketRegionCache[bucket] || null;\n        if (cachedRegion !== req.httpRequest.region) {\n          region = cachedRegion;\n        }\n      }\n\n      resp.error = AWS.util.error(new Error(), {\n        code: data.Code || code,\n        message: data.Message || null,\n        region: region\n      });\n    }\n    req.service.extractRequestIds(resp);\n  },\n\n  /**\n   * If region was not obtained synchronously, then send async request\n   * to get bucket region for errors resulting from wrong region.\n   *\n   * @api private\n   */\n  requestBucketRegion: function requestBucketRegion(resp, done) {\n    var error = resp.error;\n    var req = resp.request;\n    var bucket = req.params.Bucket || null;\n\n    if (!error || !bucket || error.region || req.operation === 'listObjects' ||\n        (AWS.util.isNode() && req.operation === 'headBucket') ||\n        (error.statusCode === 400 && req.operation !== 'headObject') ||\n        regionRedirectErrorCodes.indexOf(error.code) === -1) {\n      return done();\n    }\n    var reqOperation = AWS.util.isNode() ? 'headBucket' : 'listObjects';\n    var reqParams = {Bucket: bucket};\n    if (reqOperation === 'listObjects') reqParams.MaxKeys = 0;\n    var regionReq = req.service[reqOperation](reqParams);\n    regionReq._requestRegionForBucket = bucket;\n    regionReq.send(function() {\n      var region = req.service.bucketRegionCache[bucket] || null;\n      error.region = region;\n      done();\n    });\n  },\n\n   /**\n   * For browser only. If NetworkingError received, will attempt to obtain\n   * the bucket region.\n   *\n   * @api private\n   */\n   reqRegionForNetworkingError: function reqRegionForNetworkingError(resp, done) {\n    if (!AWS.util.isBrowser()) {\n      return done();\n    }\n    var error = resp.error;\n    var request = resp.request;\n    var bucket = request.params.Bucket;\n    if (!error || error.code !== 'NetworkingError' || !bucket ||\n        request.httpRequest.region === 'us-east-1') {\n      return done();\n    }\n    var service = request.service;\n    var bucketRegionCache = service.bucketRegionCache;\n    var cachedRegion = bucketRegionCache[bucket] || null;\n\n    if (cachedRegion && cachedRegion !== request.httpRequest.region) {\n      service.updateReqBucketRegion(request, cachedRegion);\n      done();\n    } else if (!service.dnsCompatibleBucketName(bucket)) {\n      service.updateReqBucketRegion(request, 'us-east-1');\n      if (bucketRegionCache[bucket] !== 'us-east-1') {\n        bucketRegionCache[bucket] = 'us-east-1';\n      }\n      done();\n    } else if (request.httpRequest.virtualHostedBucket) {\n      var getRegionReq = service.listObjects({Bucket: bucket, MaxKeys: 0});\n      service.updateReqBucketRegion(getRegionReq, 'us-east-1');\n      getRegionReq._requestRegionForBucket = bucket;\n\n      getRegionReq.send(function() {\n        var region = service.bucketRegionCache[bucket] || null;\n        if (region && region !== request.httpRequest.region) {\n          service.updateReqBucketRegion(request, region);\n        }\n        done();\n      });\n    } else {\n      // DNS-compatible path-style\n      // (s3ForcePathStyle or bucket name with dot over https)\n      // Cannot obtain region information for this case\n      done();\n    }\n   },\n\n  /**\n   * Cache for bucket region.\n   *\n   * @api private\n   */\n   bucketRegionCache: {},\n\n  /**\n   * Clears bucket region cache.\n   *\n   * @api private\n   */\n   clearBucketRegionCache: function(buckets) {\n    var bucketRegionCache = this.bucketRegionCache;\n    if (!buckets) {\n      buckets = Object.keys(bucketRegionCache);\n    } else if (typeof buckets === 'string') {\n      buckets = [buckets];\n    }\n    for (var i = 0; i < buckets.length; i++) {\n      delete bucketRegionCache[buckets[i]];\n    }\n    return bucketRegionCache;\n   },\n\n   /**\n    * Corrects request region if bucket's cached region is different\n    *\n    * @api private\n    */\n  correctBucketRegionFromCache: function correctBucketRegionFromCache(req) {\n    var bucket = req.params.Bucket || null;\n    if (bucket) {\n      var service = req.service;\n      var requestRegion = req.httpRequest.region;\n      var cachedRegion = service.bucketRegionCache[bucket];\n      if (cachedRegion && cachedRegion !== requestRegion) {\n        service.updateReqBucketRegion(req, cachedRegion);\n      }\n    }\n  },\n\n  /**\n   * Extracts S3 specific request ids from the http response.\n   *\n   * @api private\n   */\n  extractRequestIds: function extractRequestIds(resp) {\n    var extendedRequestId = resp.httpResponse.headers ? resp.httpResponse.headers['x-amz-id-2'] : null;\n    var cfId = resp.httpResponse.headers ? resp.httpResponse.headers['x-amz-cf-id'] : null;\n    resp.extendedRequestId = extendedRequestId;\n    resp.cfId = cfId;\n\n    if (resp.error) {\n      resp.error.requestId = resp.requestId || null;\n      resp.error.extendedRequestId = extendedRequestId;\n      resp.error.cfId = cfId;\n    }\n  },\n\n  /**\n   * Get a pre-signed URL for a given operation name.\n   *\n   * @note You must ensure that you have static or previously resolved\n   *   credentials if you call this method synchronously (with no callback),\n   *   otherwise it may not properly sign the request. If you cannot guarantee\n   *   this (you are using an asynchronous credential provider, i.e., EC2\n   *   IAM roles), you should always call this method with an asynchronous\n   *   callback.\n   * @note Not all operation parameters are supported when using pre-signed\n   *   URLs. Certain parameters, such as `SSECustomerKey`, `ACL`, `Expires`,\n   *   `ContentLength`, or `Tagging` must be provided as headers when sending a\n   *   request. If you are using pre-signed URLs to upload from a browser and\n   *   need to use these fields, see {createPresignedPost}.\n   * @note The default signer allows altering the request by adding corresponding\n   *   headers to set some parameters (e.g. Range) and these added parameters\n   *   won't be signed. You must use signatureVersion v4 to to include these\n   *   parameters in the signed portion of the URL and enforce exact matching\n   *   between headers and signed params in the URL.\n   * @note This operation cannot be used with a promise. See note above regarding\n   *   asynchronous credentials and use with a callback.\n   * @param operation [String] the name of the operation to call\n   * @param params [map] parameters to pass to the operation. See the given\n   *   operation for the expected operation parameters. In addition, you can\n   *   also pass the \"Expires\" parameter to inform S3 how long the URL should\n   *   work for.\n   * @option params Expires [Integer] (900) the number of seconds to expire\n   *   the pre-signed URL operation in. Defaults to 15 minutes.\n   * @param callback [Function] if a callback is provided, this function will\n   *   pass the URL as the second parameter (after the error parameter) to\n   *   the callback function.\n   * @return [String] if called synchronously (with no callback), returns the\n   *   signed URL.\n   * @return [null] nothing is returned if a callback is provided.\n   * @example Pre-signing a getObject operation (synchronously)\n   *   var params = {Bucket: 'bucket', Key: 'key'};\n   *   var url = s3.getSignedUrl('getObject', params);\n   *   console.log('The URL is', url);\n   * @example Pre-signing a putObject (asynchronously)\n   *   var params = {Bucket: 'bucket', Key: 'key'};\n   *   s3.getSignedUrl('putObject', params, function (err, url) {\n   *     console.log('The URL is', url);\n   *   });\n   * @example Pre-signing a putObject operation with a specific payload\n   *   var params = {Bucket: 'bucket', Key: 'key', Body: 'body'};\n   *   var url = s3.getSignedUrl('putObject', params);\n   *   console.log('The URL is', url);\n   * @example Passing in a 1-minute expiry time for a pre-signed URL\n   *   var params = {Bucket: 'bucket', Key: 'key', Expires: 60};\n   *   var url = s3.getSignedUrl('getObject', params);\n   *   console.log('The URL is', url); // expires in 60 seconds\n   */\n  getSignedUrl: function getSignedUrl(operation, params, callback) {\n    params = AWS.util.copy(params || {});\n    var expires = params.Expires || 900;\n\n    if (typeof expires !== 'number') {\n      throw AWS.util.error(new Error(),\n        { code: 'InvalidParameterException', message: 'The expiration must be a number, received ' + typeof expires });\n    }\n\n    delete params.Expires; // we can't validate this\n    var request = this.makeRequest(operation, params);\n\n    if (callback) {\n      AWS.util.defer(function() {\n        request.presign(expires, callback);\n      });\n    } else {\n      return request.presign(expires, callback);\n    }\n  },\n\n  /**\n   * @!method  getSignedUrlPromise()\n   *   Returns a 'thenable' promise that will be resolved with a pre-signed URL\n   *   for a given operation name.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @note Not all operation parameters are supported when using pre-signed\n   *      URLs. Certain parameters, such as `SSECustomerKey`, `ACL`, `Expires`,\n   *      `ContentLength`, or `Tagging` must be provided as headers when sending a\n   *      request. If you are using pre-signed URLs to upload from a browser and\n   *      need to use these fields, see {createPresignedPost}.\n   *   @param operation [String] the name of the operation to call\n   *   @param params [map] parameters to pass to the operation. See the given\n   *      operation for the expected operation parameters. In addition, you can\n   *      also pass the \"Expires\" parameter to inform S3 how long the URL should\n   *      work for.\n   *   @option params Expires [Integer] (900) the number of seconds to expire\n   *      the pre-signed URL operation in. Defaults to 15 minutes.\n   *   @callback fulfilledCallback function(url)\n   *     Called if the promise is fulfilled.\n   *     @param url [String] the signed url\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] if an error occurred, this value will be filled\n   *   @return [Promise] A promise that represents the state of the `refresh` call.\n   *   @example Pre-signing a getObject operation\n   *      var params = {Bucket: 'bucket', Key: 'key'};\n   *      var promise = s3.getSignedUrlPromise('getObject', params);\n   *      promise.then(function(url) {\n   *        console.log('The URL is', url);\n   *      }, function(err) { ... });\n   *   @example Pre-signing a putObject operation with a specific payload\n   *      var params = {Bucket: 'bucket', Key: 'key', Body: 'body'};\n   *      var promise = s3.getSignedUrlPromise('putObject', params);\n   *      promise.then(function(url) {\n   *        console.log('The URL is', url);\n   *      }, function(err) { ... });\n   *   @example Passing in a 1-minute expiry time for a pre-signed URL\n   *      var params = {Bucket: 'bucket', Key: 'key', Expires: 60};\n   *      var promise = s3.getSignedUrlPromise('getObject', params);\n   *      promise.then(function(url) {\n   *        console.log('The URL is', url);\n   *      }, function(err) { ... });\n   */\n\n  /**\n   * Get a pre-signed POST policy to support uploading to S3 directly from an\n   * HTML form.\n   *\n   * @param params [map]\n   * @option params Bucket [String]     The bucket to which the post should be\n   *                                    uploaded\n   * @option params Expires [Integer]   (3600) The number of seconds for which\n   *                                    the presigned policy should be valid.\n   * @option params Conditions [Array]  An array of conditions that must be met\n   *                                    for the presigned policy to allow the\n   *                                    upload. This can include required tags,\n   *                                    the accepted range for content lengths,\n   *                                    etc.\n   * @see http://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-HTTPPOSTConstructPolicy.html\n   * @option params Fields [map]        Fields to include in the form. All\n   *                                    values passed in as fields will be\n   *                                    signed as exact match conditions.\n   * @param callback [Function]\n   *\n   * @note All fields passed in when creating presigned post data will be signed\n   *   as exact match conditions. Any fields that will be interpolated by S3\n   *   must be added to the fields hash after signing, and an appropriate\n   *   condition for such fields must be explicitly added to the Conditions\n   *   array passed to this function before signing.\n   *\n   * @example Presiging post data with a known key\n   *   var params = {\n   *     Bucket: 'bucket',\n   *     Fields: {\n   *       key: 'key'\n   *     }\n   *   };\n   *   s3.createPresignedPost(params, function(err, data) {\n   *     if (err) {\n   *       console.error('Presigning post data encountered an error', err);\n   *     } else {\n   *       console.log('The post data is', data);\n   *     }\n   *   });\n   *\n   * @example Presigning post data with an interpolated key\n   *   var params = {\n   *     Bucket: 'bucket',\n   *     Conditions: [\n   *       ['starts-with', '$key', 'path/to/uploads/']\n   *     ]\n   *   };\n   *   s3.createPresignedPost(params, function(err, data) {\n   *     if (err) {\n   *       console.error('Presigning post data encountered an error', err);\n   *     } else {\n   *       data.Fields.key = 'path/to/uploads/${filename}';\n   *       console.log('The post data is', data);\n   *     }\n   *   });\n   *\n   * @note You must ensure that you have static or previously resolved\n   *   credentials if you call this method synchronously (with no callback),\n   *   otherwise it may not properly sign the request. If you cannot guarantee\n   *   this (you are using an asynchronous credential provider, i.e., EC2\n   *   IAM roles), you should always call this method with an asynchronous\n   *   callback.\n   *\n   * @return [map]  If called synchronously (with no callback), returns a hash\n   *                with the url to set as the form action and a hash of fields\n   *                to include in the form.\n   * @return [null] Nothing is returned if a callback is provided.\n   *\n   * @callback callback function (err, data)\n   *  @param err [Error] the error object returned from the policy signer\n   *  @param data [map] The data necessary to construct an HTML form\n   *  @param data.url [String] The URL to use as the action of the form\n   *  @param data.fields [map] A hash of fields that must be included in the\n   *                           form for the upload to succeed. This hash will\n   *                           include the signed POST policy, your access key\n   *                           ID and security token (if present), etc. These\n   *                           may be safely included as input elements of type\n   *                           'hidden.'\n   */\n  createPresignedPost: function createPresignedPost(params, callback) {\n    if (typeof params === 'function' && callback === undefined) {\n      callback = params;\n      params = null;\n    }\n\n    params = AWS.util.copy(params || {});\n    var boundParams = this.config.params || {};\n    var bucket = params.Bucket || boundParams.Bucket,\n      self = this,\n      config = this.config,\n      endpoint = AWS.util.copy(this.endpoint);\n    if (!config.s3BucketEndpoint) {\n      endpoint.pathname = '/' + bucket;\n    }\n\n    function finalizePost() {\n      return {\n        url: AWS.util.urlFormat(endpoint),\n        fields: self.preparePostFields(\n          config.credentials,\n          config.region,\n          bucket,\n          params.Fields,\n          params.Conditions,\n          params.Expires\n        )\n      };\n    }\n\n    if (callback) {\n      config.getCredentials(function (err) {\n        if (err) {\n          callback(err);\n        }\n\n        callback(null, finalizePost());\n      });\n    } else {\n      return finalizePost();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  preparePostFields: function preparePostFields(\n    credentials,\n    region,\n    bucket,\n    fields,\n    conditions,\n    expiresInSeconds\n  ) {\n    var now = this.getSkewCorrectedDate();\n    if (!credentials || !region || !bucket) {\n      throw new Error('Unable to create a POST object policy without a bucket,'\n        + ' region, and credentials');\n    }\n    fields = AWS.util.copy(fields || {});\n    conditions = (conditions || []).slice(0);\n    expiresInSeconds = expiresInSeconds || 3600;\n\n    var signingDate = AWS.util.date.iso8601(now).replace(/[:\\-]|\\.\\d{3}/g, '');\n    var shortDate = signingDate.substr(0, 8);\n    var scope = v4Credentials.createScope(shortDate, region, 's3');\n    var credential = credentials.accessKeyId + '/' + scope;\n\n    fields['bucket'] = bucket;\n    fields['X-Amz-Algorithm'] = 'AWS4-HMAC-SHA256';\n    fields['X-Amz-Credential'] = credential;\n    fields['X-Amz-Date'] = signingDate;\n    if (credentials.sessionToken) {\n      fields['X-Amz-Security-Token'] = credentials.sessionToken;\n    }\n    for (var field in fields) {\n      if (fields.hasOwnProperty(field)) {\n        var condition = {};\n        condition[field] = fields[field];\n        conditions.push(condition);\n      }\n    }\n\n    fields.Policy = this.preparePostPolicy(\n      new Date(now.valueOf() + expiresInSeconds * 1000),\n      conditions\n    );\n    fields['X-Amz-Signature'] = AWS.util.crypto.hmac(\n      v4Credentials.getSigningKey(credentials, shortDate, region, 's3', true),\n      fields.Policy,\n      'hex'\n    );\n\n    return fields;\n  },\n\n  /**\n   * @api private\n   */\n  preparePostPolicy: function preparePostPolicy(expiration, conditions) {\n    return AWS.util.base64.encode(JSON.stringify({\n      expiration: AWS.util.date.iso8601(expiration),\n      conditions: conditions\n    }));\n  },\n\n  /**\n   * @api private\n   */\n  prepareSignedUrl: function prepareSignedUrl(request) {\n    request.addListener('validate', request.service.noPresignedContentLength);\n    request.removeListener('build', request.service.addContentType);\n    if (!request.params.Body) {\n      // no Content-MD5/SHA-256 if body is not provided\n      request.removeListener('build', request.service.computeContentMd5);\n    } else {\n      request.addListener('afterBuild', AWS.EventListeners.Core.COMPUTE_SHA256);\n    }\n  },\n\n  /**\n   * @api private\n   * @param request\n   */\n  disableBodySigning: function disableBodySigning(request) {\n    var headers = request.httpRequest.headers;\n    // Add the header to anything that isn't a presigned url, unless that presigned url had a body defined\n    if (!Object.prototype.hasOwnProperty.call(headers, 'presigned-expires')) {\n      headers['X-Amz-Content-Sha256'] = 'UNSIGNED-PAYLOAD';\n    }\n  },\n\n  /**\n   * @api private\n   */\n  noPresignedContentLength: function noPresignedContentLength(request) {\n    if (request.params.ContentLength !== undefined) {\n      throw AWS.util.error(new Error(), {code: 'UnexpectedParameter',\n        message: 'ContentLength is not supported in pre-signed URLs.'});\n    }\n  },\n\n  createBucket: function createBucket(params, callback) {\n    // When creating a bucket *outside* the classic region, the location\n    // constraint must be set for the bucket and it must match the endpoint.\n    // This chunk of code will set the location constraint param based\n    // on the region (when possible), but it will not override a passed-in\n    // location constraint.\n    if (typeof params === 'function' || !params) {\n      callback = callback || params;\n      params = {};\n    }\n    var hostname = this.endpoint.hostname;\n    if (hostname !== this.api.globalEndpoint && !params.CreateBucketConfiguration) {\n      params.CreateBucketConfiguration = { LocationConstraint: this.config.region };\n    }\n    return this.makeRequest('createBucket', params, callback);\n  },\n\n  /**\n   * @see AWS.S3.ManagedUpload\n   * @overload upload(params = {}, [options], [callback])\n   *   Uploads an arbitrarily sized buffer, blob, or stream, using intelligent\n   *   concurrent handling of parts if the payload is large enough. You can\n   *   configure the concurrent queue size by setting `options`. Note that this\n   *   is the only operation for which the SDK can retry requests with stream\n   *   bodies.\n   *\n   *   @param (see AWS.S3.putObject)\n   *   @option (see AWS.S3.ManagedUpload.constructor)\n   *   @return [AWS.S3.ManagedUpload] the managed upload object that can call\n   *     `send()` or track progress.\n   *   @example Uploading a stream object\n   *     var params = {Bucket: 'bucket', Key: 'key', Body: stream};\n   *     s3.upload(params, function(err, data) {\n   *       console.log(err, data);\n   *     });\n   *   @example Uploading a stream with concurrency of 1 and partSize of 10mb\n   *     var params = {Bucket: 'bucket', Key: 'key', Body: stream};\n   *     var options = {partSize: 10 * 1024 * 1024, queueSize: 1};\n   *     s3.upload(params, options, function(err, data) {\n   *       console.log(err, data);\n   *     });\n   * @callback callback function(err, data)\n   *   @param err [Error] an error or null if no error occurred.\n   *   @param data [map] The response data from the successful upload:\n   *   @param data.Location [String] the URL of the uploaded object\n   *   @param data.ETag [String] the ETag of the uploaded object\n   *   @param data.Bucket [String]  the bucket to which the object was uploaded\n   *   @param data.Key [String] the key to which the object was uploaded\n   */\n  upload: function upload(params, options, callback) {\n    if (typeof options === 'function' && callback === undefined) {\n      callback = options;\n      options = null;\n    }\n\n    options = options || {};\n    options = AWS.util.merge(options || {}, {service: this, params: params});\n\n    var uploader = new AWS.S3.ManagedUpload(options);\n    if (typeof callback === 'function') uploader.send(callback);\n    return uploader;\n  }\n});\n\n/**\n * @api private\n */\nAWS.S3.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.getSignedUrlPromise = AWS.util.promisifyMethod('getSignedUrl', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.S3.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.getSignedUrlPromise;\n};\n\nAWS.util.addPromises(AWS.S3);\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['gamelift'] = {};\nAWS.GameLift = Service.defineService('gamelift', ['2015-10-01']);\nObject.defineProperty(apiLoader.services['gamelift'], '2015-10-01', {\n  get: function get() {\n    var model = require('../apis/gamelift-2015-10-01.min.json');\n    model.paginators = require('../apis/gamelift-2015-10-01.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.GameLift;\n","'use strict';\n\nvar origSymbol = global.Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\nrequire('./v3');\n\n/**\n * @api private\n */\nAWS.Signers.V3Https = inherit(AWS.Signers.V3, {\n  authorization: function authorization(credentials) {\n    return 'AWS3-HTTPS ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  stringToSign: function stringToSign() {\n    return this.request.headers['X-Amz-Date'];\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V3Https;\n","var AWS = require('./core');\nvar util = require('./util');\nvar endpointDiscoveryEnabledEnvs = ['AWS_ENABLE_ENDPOINT_DISCOVERY', 'AWS_ENDPOINT_DISCOVERY_ENABLED'];\n\n/**\n * Generate key (except resources and operation part) to index the endpoints in the cache\n * If input shape has endpointdiscoveryid trait then use\n *   accessKey + operation + resources + region + service as cache key\n * If input shape doesn't have endpointdiscoveryid trait then use\n *   accessKey + region + service as cache key\n * @return [map<String,String>] object with keys to index endpoints.\n * @api private\n */\nfunction getCacheKey(request) {\n  var service = request.service;\n  var api = service.api || {};\n  var operations = api.operations;\n  var identifiers = {};\n  if (service.config.region) {\n    identifiers.region = service.config.region;\n  }\n  if (api.serviceId) {\n    identifiers.serviceId = api.serviceId;\n  }\n  if (service.config.credentials.accessKeyId) {\n    identifiers.accessKeyId = service.config.credentials.accessKeyId;\n  }\n  return identifiers;\n}\n\n/**\n * Recursive helper for marshallCustomIdentifiers().\n * Looks for required string input members that have 'endpointdiscoveryid' trait.\n * @api private\n */\nfunction marshallCustomIdentifiersHelper(result, params, shape) {\n  if (!shape || params === undefined || params === null) return;\n  if (shape.type === 'structure' && shape.required && shape.required.length > 0) {\n    util.arrayEach(shape.required, function(name) {\n      var memberShape = shape.members[name];\n      if (memberShape.endpointDiscoveryId === true) {\n        var locationName = memberShape.isLocationName ? memberShape.name : name;\n        result[locationName] = String(params[name]);\n      } else {\n        marshallCustomIdentifiersHelper(result, params[name], memberShape);\n      }\n    });\n  }\n}\n\n/**\n * Get custom identifiers for cache key.\n * Identifies custom identifiers by checking each shape's `endpointDiscoveryId` trait.\n * @param [object] request object\n * @param [object] input shape of the given operation's api\n * @api private\n */\nfunction marshallCustomIdentifiers(request, shape) {\n  var identifiers = {};\n  marshallCustomIdentifiersHelper(identifiers, request.params, shape);\n  return identifiers;\n}\n\n/**\n * Call endpoint discovery operation when it's optional.\n * When endpoint is available in cache then use the cached endpoints. If endpoints\n * are unavailable then use regional endpoints and call endpoint discovery operation\n * asynchronously. This is turned off by default.\n * @param [object] request object\n * @api private\n */\nfunction optionalDiscoverEndpoint(request) {\n  var service = request.service;\n  var api = service.api;\n  var operationModel = api.operations ? api.operations[request.operation] : undefined;\n  var inputShape = operationModel ? operationModel.input : undefined;\n\n  var identifiers = marshallCustomIdentifiers(request, inputShape);\n  var cacheKey = getCacheKey(request);\n  if (Object.keys(identifiers).length > 0) {\n    cacheKey = util.update(cacheKey, identifiers);\n    if (operationModel) cacheKey.operation = operationModel.name;\n  }\n  var endpoints = AWS.endpointCache.get(cacheKey);\n  if (endpoints && endpoints.length === 1 && endpoints[0].Address === '') {\n    //endpoint operation is being made but response not yet received\n    //or endpoint operation just failed in 1 minute\n    return;\n  } else if (endpoints && endpoints.length > 0) {\n    //found endpoint record from cache\n    request.httpRequest.updateEndpoint(endpoints[0].Address);\n  } else {\n    //endpoint record not in cache or outdated. make discovery operation\n    var endpointRequest = service.makeRequest(api.endpointOperation, {\n      Operation: operationModel.name,\n      Identifiers: identifiers,\n    });\n    addApiVersionHeader(endpointRequest);\n    endpointRequest.removeListener('validate', AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n    endpointRequest.removeListener('retry', AWS.EventListeners.Core.RETRY_CHECK);\n    //put in a placeholder for endpoints already requested, prevent\n    //too much in-flight calls\n    AWS.endpointCache.put(cacheKey, [{\n      Address: '',\n      CachePeriodInMinutes: 1\n    }]);\n    endpointRequest.send(function(err, data) {\n      if (data && data.Endpoints) {\n        AWS.endpointCache.put(cacheKey, data.Endpoints);\n      } else if (err) {\n        AWS.endpointCache.put(cacheKey, [{\n          Address: '',\n          CachePeriodInMinutes: 1 //not to make more endpoint operation in next 1 minute\n        }]);\n      }\n    });\n  }\n}\n\nvar requestQueue = {};\n\n/**\n * Call endpoint discovery operation when it's required.\n * When endpoint is available in cache then use cached ones. If endpoints are\n * unavailable then SDK should call endpoint operation then use returned new\n * endpoint for the api call. SDK will automatically attempt to do endpoint\n * discovery. This is turned off by default\n * @param [object] request object\n * @api private\n */\nfunction requiredDiscoverEndpoint(request, done) {\n  var service = request.service;\n  var api = service.api;\n  var operationModel = api.operations ? api.operations[request.operation] : undefined;\n  var inputShape = operationModel ? operationModel.input : undefined;\n\n  var identifiers = marshallCustomIdentifiers(request, inputShape);\n  var cacheKey = getCacheKey(request);\n  if (Object.keys(identifiers).length > 0) {\n    cacheKey = util.update(cacheKey, identifiers);\n    if (operationModel) cacheKey.operation = operationModel.name;\n  }\n  var cacheKeyStr = AWS.EndpointCache.getKeyString(cacheKey);\n  var endpoints = AWS.endpointCache.get(cacheKeyStr); //endpoint cache also accepts string keys\n  if (endpoints && endpoints.length === 1 && endpoints[0].Address === '') {\n    //endpoint operation is being made but response not yet received\n    //push request object to a pending queue\n    if (!requestQueue[cacheKeyStr]) requestQueue[cacheKeyStr] = [];\n    requestQueue[cacheKeyStr].push({request: request, callback: done});\n    return;\n  } else if (endpoints && endpoints.length > 0) {\n    request.httpRequest.updateEndpoint(endpoints[0].Address);\n    done();\n  } else {\n    var endpointRequest = service.makeRequest(api.endpointOperation, {\n      Operation: operationModel.name,\n      Identifiers: identifiers,\n    });\n    endpointRequest.removeListener('validate', AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n    addApiVersionHeader(endpointRequest);\n\n    //put in a placeholder for endpoints already requested, prevent\n    //too much in-flight calls\n    AWS.endpointCache.put(cacheKeyStr, [{\n      Address: '',\n      CachePeriodInMinutes: 60 //long-live cache\n    }]);\n    endpointRequest.send(function(err, data) {\n      if (err) {\n        var errorParams = {\n          code: 'EndpointDiscoveryException',\n          message: 'Request cannot be fulfilled without specifying an endpoint',\n          retryable: false\n        };\n        request.response.error = util.error(err, errorParams);\n        AWS.endpointCache.remove(cacheKey);\n\n        //fail all the pending requests in batch\n        if (requestQueue[cacheKeyStr]) {\n          var pendingRequests = requestQueue[cacheKeyStr];\n          util.arrayEach(pendingRequests, function(requestContext) {\n            requestContext.request.response.error = util.error(err, errorParams);\n            requestContext.callback();\n          });\n          delete requestQueue[cacheKeyStr];\n        }\n      } else if (data) {\n        AWS.endpointCache.put(cacheKeyStr, data.Endpoints);\n        request.httpRequest.updateEndpoint(data.Endpoints[0].Address);\n\n        //update the endpoint for all the pending requests in batch\n        if (requestQueue[cacheKeyStr]) {\n          var pendingRequests = requestQueue[cacheKeyStr];\n          util.arrayEach(pendingRequests, function(requestContext) {\n            requestContext.request.httpRequest.updateEndpoint(data.Endpoints[0].Address);\n            requestContext.callback();\n          });\n          delete requestQueue[cacheKeyStr];\n        }\n      }\n      done();\n    });\n  }\n}\n\n/**\n * add api version header to endpoint operation\n * @api private\n */\nfunction addApiVersionHeader(endpointRequest) {\n  var api = endpointRequest.service.api;\n  var apiVersion = api.apiVersion;\n  if (apiVersion && !endpointRequest.httpRequest.headers['x-amz-api-version']) {\n    endpointRequest.httpRequest.headers['x-amz-api-version'] = apiVersion;\n  }\n}\n\n/**\n * If api call gets invalid endpoint exception, SDK should attempt to remove the invalid\n * endpoint from cache.\n * @api private\n */\nfunction invalidateCachedEndpoints(response) {\n  var error = response.error;\n  var httpResponse = response.httpResponse;\n  if (error &&\n    (error.code === 'InvalidEndpointException' || httpResponse.statusCode === 421)\n  ) {\n    var request = response.request;\n    var operations = request.service.api.operations || {};\n    var inputShape = operations[request.operation] ? operations[request.operation].input : undefined;\n    var identifiers = marshallCustomIdentifiers(request, inputShape);\n    var cacheKey = getCacheKey(request);\n    if (Object.keys(identifiers).length > 0) {\n      cacheKey = util.update(cacheKey, identifiers);\n      if (operations[request.operation]) cacheKey.operation = operations[request.operation].name;\n    }\n    AWS.endpointCache.remove(cacheKey);\n  }\n}\n\n/**\n * If endpoint is explicitly configured, SDK should not do endpoint discovery in anytime.\n * @param [object] client Service client object.\n * @api private\n */\nfunction hasCustomEndpoint(client) {\n  //if set endpoint is set for specific client, enable endpoint discovery will raise an error.\n  if (client._originalConfig && client._originalConfig.endpoint && client._originalConfig.endpointDiscoveryEnabled === true) {\n    throw util.error(new Error(), {\n      code: 'ConfigurationException',\n      message: 'Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.'\n    });\n  };\n  var svcConfig = AWS.config[client.serviceIdentifier] || {};\n  return Boolean(AWS.config.endpoint || svcConfig.endpoint || (client._originalConfig && client._originalConfig.endpoint));\n}\n\n/**\n * @api private\n */\nfunction isFalsy(value) {\n  return ['false', '0'].indexOf(value) >= 0;\n}\n\n/**\n * If endpoint discovery should perform for this request when endpoint discovery is optional.\n * SDK performs config resolution in order like below:\n * 1. If turned on client configuration(default to off) then turn on endpoint discovery.\n * 2. If turned on in env AWS_ENABLE_ENDPOINT_DISCOVERY then turn on endpoint discovery.\n * 3. If turned on in shared ini config file with key 'endpoint_discovery_enabled', then\n *   turn on endpoint discovery.\n * @param [object] request request object.\n * @api private\n */\nfunction isEndpointDiscoveryApplicable(request) {\n  var service = request.service || {};\n  if (service.config.endpointDiscoveryEnabled === true) return true;\n\n  //shared ini file is only available in Node\n  //not to check env in browser\n  if (util.isBrowser()) return false;\n\n  for (var i = 0; i < endpointDiscoveryEnabledEnvs.length; i++) {\n    var env = endpointDiscoveryEnabledEnvs[i];\n    if (Object.prototype.hasOwnProperty.call(process.env, env)) {\n      if (process.env[env] === '' || process.env[env] === undefined) {\n        throw util.error(new Error(), {\n          code: 'ConfigurationException',\n          message: 'environmental variable ' + env + ' cannot be set to nothing'\n        });\n      }\n      if (!isFalsy(process.env[env])) return true;\n    }\n  }\n\n  var configFile = {};\n  try {\n    configFile = AWS.util.iniLoader ? AWS.util.iniLoader.loadFrom({\n      isConfig: true,\n      filename: process.env[AWS.util.sharedConfigFileEnv]\n    }) : {};\n  } catch (e) {}\n  var sharedFileConfig = configFile[\n    process.env.AWS_PROFILE || AWS.util.defaultProfile\n  ] || {};\n  if (Object.prototype.hasOwnProperty.call(sharedFileConfig, 'endpoint_discovery_enabled')) {\n    if (sharedFileConfig.endpoint_discovery_enabled === undefined) {\n      throw util.error(new Error(), {\n        code: 'ConfigurationException',\n        message: 'config file entry \\'endpoint_discovery_enabled\\' cannot be set to nothing'\n      });\n    }\n    if (!isFalsy(sharedFileConfig.endpoint_discovery_enabled)) return true;\n  }\n  return false;\n}\n\n/**\n * attach endpoint discovery logic to request object\n * @param [object] request\n * @api private\n */\nfunction discoverEndpoint(request, done) {\n  var service = request.service || {};\n  if (hasCustomEndpoint(service) || request.isPresigned()) return done();\n\n  if (!isEndpointDiscoveryApplicable(request)) return done();\n\n  request.httpRequest.appendToUserAgent('endpoint-discovery');\n\n  var operations = service.api.operations || {};\n  var operationModel = operations[request.operation];\n  var isEndpointDiscoveryRequired = operationModel ? operationModel.endpointDiscoveryRequired : 'NULL';\n  switch (isEndpointDiscoveryRequired) {\n    case 'OPTIONAL':\n      optionalDiscoverEndpoint(request);\n      request.addNamedListener('INVALIDATE_CACHED_ENDPOINTS', 'extractError', invalidateCachedEndpoints);\n      done();\n      break;\n    case 'REQUIRED':\n      request.addNamedListener('INVALIDATE_CACHED_ENDPOINTS', 'extractError', invalidateCachedEndpoints);\n      requiredDiscoverEndpoint(request, done);\n      break;\n    case 'NULL':\n    default:\n      done();\n      break;\n  }\n}\n\nmodule.exports = {\n  discoverEndpoint: discoverEndpoint,\n  requiredDiscoverEndpoint: requiredDiscoverEndpoint,\n  optionalDiscoverEndpoint: optionalDiscoverEndpoint,\n  marshallCustomIdentifiers: marshallCustomIdentifiers,\n  getCacheKey: getCacheKey,\n  invalidateCachedEndpoint: invalidateCachedEndpoints,\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar ES = require('es-abstract/es5');\nvar replace = bind.call(Function.call, String.prototype.replace);\n\n/* eslint-disable no-control-regex */\nvar leftWhitespace = /^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+/;\nvar rightWhitespace = /[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+$/;\n/* eslint-enable no-control-regex */\n\nmodule.exports = function trim() {\n\tvar S = ES.ToString(ES.CheckObjectCoercible(this));\n\treturn replace(replace(S, leftWhitespace, ''), rightWhitespace, '');\n};\n","var AWS = require('../core');\n\nAWS.util.update(AWS.Route53.prototype, {\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    request.on('build', this.sanitizeUrl);\n  },\n\n  /**\n   * @api private\n   */\n  sanitizeUrl: function sanitizeUrl(request) {\n    var path = request.httpRequest.path;\n    request.httpRequest.path = path.replace(/\\/%2F\\w+%2F/, '/');\n  },\n\n  /**\n   * @return [Boolean] whether the error can be retried\n   * @api private\n   */\n  retryableError: function retryableError(error) {\n    if (error.code === 'PriorRequestNotComplete' &&\n        error.statusCode === 400) {\n      return true;\n    } else {\n      var _super = AWS.Service.prototype.retryableError;\n      return _super.call(this, error);\n    }\n  }\n});\n","var util = require('../core').util;\nvar convert = require('./converter');\n\nvar Translator = function(options) {\n  options = options || {};\n  this.attrValue = options.attrValue;\n  this.convertEmptyValues = Boolean(options.convertEmptyValues);\n  this.wrapNumbers = Boolean(options.wrapNumbers);\n};\n\nTranslator.prototype.translateInput = function(value, shape) {\n  this.mode = 'input';\n  return this.translate(value, shape);\n};\n\nTranslator.prototype.translateOutput = function(value, shape) {\n  this.mode = 'output';\n  return this.translate(value, shape);\n};\n\nTranslator.prototype.translate = function(value, shape) {\n  var self = this;\n  if (!shape || value === undefined) return undefined;\n\n  if (shape.shape === self.attrValue) {\n    return convert[self.mode](value, {\n      convertEmptyValues: self.convertEmptyValues,\n      wrapNumbers: self.wrapNumbers,\n    });\n  }\n  switch (shape.type) {\n    case 'structure': return self.translateStructure(value, shape);\n    case 'map': return self.translateMap(value, shape);\n    case 'list': return self.translateList(value, shape);\n    default: return self.translateScalar(value, shape);\n  }\n};\n\nTranslator.prototype.translateStructure = function(structure, shape) {\n  var self = this;\n  if (structure == null) return undefined;\n\n  var struct = {};\n  util.each(structure, function(name, value) {\n    var memberShape = shape.members[name];\n    if (memberShape) {\n      var result = self.translate(value, memberShape);\n      if (result !== undefined) struct[name] = result;\n    }\n  });\n  return struct;\n};\n\nTranslator.prototype.translateList = function(list, shape) {\n  var self = this;\n  if (list == null) return undefined;\n\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = self.translate(value, shape.member);\n    if (result === undefined) out.push(null);\n    else out.push(result);\n  });\n  return out;\n};\n\nTranslator.prototype.translateMap = function(map, shape) {\n  var self = this;\n  if (map == null) return undefined;\n\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = self.translate(value, shape.value);\n    if (result === undefined) out[key] = null;\n    else out[key] = result;\n  });\n  return out;\n};\n\nTranslator.prototype.translateScalar = function(value, shape) {\n  return shape.toType(value);\n};\n\n/**\n * @api private\n */\nmodule.exports = Translator;\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS Web Identity Federation support.\n *\n * By default this provider gets credentials using the\n * {AWS.STS.assumeRoleWithWebIdentity} service operation. This operation\n * requires a `RoleArn` containing the ARN of the IAM trust policy for the\n * application for which credentials will be given. In addition, the\n * `WebIdentityToken` must be set to the token provided by the identity\n * provider. See {constructor} for an example on creating a credentials\n * object with proper `RoleArn` and `WebIdentityToken` values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the WebIdentityToken, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.WebIdentityToken = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.STS.assumeRoleWithWebIdentity}. To update the token, set the\n *     `params.WebIdentityToken` property.\n * @!attribute data\n *   @return [map] the raw data response from the call to\n *     {AWS.STS.assumeRoleWithWebIdentity}. Use this if you want to get\n *     access to other properties from the response.\n */\nAWS.WebIdentityCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new credentials object.\n   * @param (see AWS.STS.assumeRoleWithWebIdentity)\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.WebIdentityCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/WebIdentity',\n   *     WebIdentityToken: 'ABCDEFGHIJKLMNOP', // token from identity service\n   *     RoleSessionName: 'web' // optional name, defaults to web-identity\n   *   }, {\n   *     // optionally provide configuration to apply to the underlying AWS.STS service client\n   *     // if configuration is not provided, then configuration will be pulled from AWS.config\n   *\n   *     // specify timeout options\n   *     httpOptions: {\n   *       timeout: 100\n   *     }\n   *   });\n   * @see AWS.STS.assumeRoleWithWebIdentity\n   * @see AWS.Config\n   */\n  constructor: function WebIdentityCredentials(params, clientConfig) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n    this.params.RoleSessionName = this.params.RoleSessionName || 'web-identity';\n    this.data = null;\n    this._clientConfig = AWS.util.copy(clientConfig || {});\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRoleWithWebIdentity}\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   */\n  load: function load(callback) {\n    var self = this;\n    self.createClients();\n    self.service.assumeRoleWithWebIdentity(function (err, data) {\n      self.data = null;\n      if (!err) {\n        self.data = data;\n        self.service.credentialsFrom(data, self);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    if (!this.service) {\n      var stsConfig = AWS.util.merge({}, this._clientConfig);\n      stsConfig.params = this.params;\n      this.service = new STS(stsConfig);\n    }\n  }\n\n});\n","'use strict';\n\nmodule.exports = function sign(number) {\n\treturn number >= 0 ? 1 : -1;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-aside',{attrs:{\"width\":\"200px\"}},[_c('div',{staticClass:\"rankTitle\"},[_vm._v(\"\\n            Weekly Ranking\\n        \")]),_vm._l((_vm.videoRank),function(video){return _c('div',{key:video.id},[_c('el-card',{staticClass:\"video-card\",attrs:{\"body-style\":{ padding: '5px' },\"shadow\":\"hover\"},nativeOn:{\"click\":function($event){return _vm.goVideo(video)}}},[_c('img',{staticClass:\"image\",attrs:{\"src\":video.avatar}}),_c('div',[_c('div',{staticClass:\"rank-title\"},[_vm._v(_vm._s(video.title))])])])],1)})],2),_c('el-container',[_c('el-header',[_c('div',{staticClass:\"video-title\"},[_vm._v(_vm._s(_vm.video.title))]),_c('div',{staticClass:\"video-data\"},[_vm._v(\"\\n                \"+_vm._s(_vm.video.created_at)+\" \\n                \"+_vm._s(_vm.video.view)+\"\\n            \")])]),_c('el-main',[_c('div',[_c('VPlayer',{attrs:{\"options\":_vm.videoOptions}})],1),_c('el-divider',[_vm._v(\"Video Describe\")]),_c('div',[_c('pre',[_vm._v(_vm._s(_vm.video.info))])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('video',{ref:\"vPlayer\",staticClass:\"video-js vjs-big-play-centered\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*! @name m3u8-parser @version 4.4.0 @license Apache-2.0 */\nimport window from 'global/window';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\n/**\n * @file stream.js\n */\n\n/**\n * A lightweight readable stream implementation that handles event dispatching.\n *\n * @class Stream\n */\nvar Stream =\n/*#__PURE__*/\nfunction () {\n  function Stream() {\n    this.listeners = {};\n  }\n  /**\n   * Add a listener for a specified event type.\n   *\n   * @param {string} type the event name\n   * @param {Function} listener the callback to be invoked when an event of\n   * the specified type occurs\n   */\n\n\n  var _proto = Stream.prototype;\n\n  _proto.on = function on(type, listener) {\n    if (!this.listeners[type]) {\n      this.listeners[type] = [];\n    }\n\n    this.listeners[type].push(listener);\n  }\n  /**\n   * Remove a listener for a specified event type.\n   *\n   * @param {string} type the event name\n   * @param {Function} listener  a function previously registered for this\n   * type of event through `on`\n   * @return {boolean} if we could turn it off or not\n   */\n  ;\n\n  _proto.off = function off(type, listener) {\n    if (!this.listeners[type]) {\n      return false;\n    }\n\n    var index = this.listeners[type].indexOf(listener);\n    this.listeners[type].splice(index, 1);\n    return index > -1;\n  }\n  /**\n   * Trigger an event of the specified type on this stream. Any additional\n   * arguments to this function are passed as parameters to event listeners.\n   *\n   * @param {string} type the event name\n   */\n  ;\n\n  _proto.trigger = function trigger(type) {\n    var callbacks = this.listeners[type];\n    var i;\n    var length;\n    var args;\n\n    if (!callbacks) {\n      return;\n    } // Slicing the arguments on every invocation of this method\n    // can add a significant amount of overhead. Avoid the\n    // intermediate object creation for the common case of a\n    // single callback argument\n\n\n    if (arguments.length === 2) {\n      length = callbacks.length;\n\n      for (i = 0; i < length; ++i) {\n        callbacks[i].call(this, arguments[1]);\n      }\n    } else {\n      args = Array.prototype.slice.call(arguments, 1);\n      length = callbacks.length;\n\n      for (i = 0; i < length; ++i) {\n        callbacks[i].apply(this, args);\n      }\n    }\n  }\n  /**\n   * Destroys the stream and cleans up.\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    this.listeners = {};\n  }\n  /**\n   * Forwards all `data` events on this stream to the destination stream. The\n   * destination stream should provide a method `push` to receive the data\n   * events as they arrive.\n   *\n   * @param {Stream} destination the stream that will receive all `data` events\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n   */\n  ;\n\n  _proto.pipe = function pipe(destination) {\n    this.on('data', function (data) {\n      destination.push(data);\n    });\n  };\n\n  return Stream;\n}();\n\n/**\n * A stream that buffers string input and generates a `data` event for each\n * line.\n *\n * @class LineStream\n * @extends Stream\n */\n\nvar LineStream =\n/*#__PURE__*/\nfunction (_Stream) {\n  _inheritsLoose(LineStream, _Stream);\n\n  function LineStream() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.buffer = '';\n    return _this;\n  }\n  /**\n   * Add new data to be parsed.\n   *\n   * @param {string} data the text to process\n   */\n\n\n  var _proto = LineStream.prototype;\n\n  _proto.push = function push(data) {\n    var nextNewline;\n    this.buffer += data;\n    nextNewline = this.buffer.indexOf('\\n');\n\n    for (; nextNewline > -1; nextNewline = this.buffer.indexOf('\\n')) {\n      this.trigger('data', this.buffer.substring(0, nextNewline));\n      this.buffer = this.buffer.substring(nextNewline + 1);\n    }\n  };\n\n  return LineStream;\n}(Stream);\n\n/**\n * \"forgiving\" attribute list psuedo-grammar:\n * attributes -> keyvalue (',' keyvalue)*\n * keyvalue   -> key '=' value\n * key        -> [^=]*\n * value      -> '\"' [^\"]* '\"' | [^,]*\n */\n\nvar attributeSeparator = function attributeSeparator() {\n  var key = '[^=]*';\n  var value = '\"[^\"]*\"|[^,]*';\n  var keyvalue = '(?:' + key + ')=(?:' + value + ')';\n  return new RegExp('(?:^|,)(' + keyvalue + ')');\n};\n/**\n * Parse attributes from a line given the separator\n *\n * @param {string} attributes the attribute line to parse\n */\n\n\nvar parseAttributes = function parseAttributes(attributes) {\n  // split the string using attributes as the separator\n  var attrs = attributes.split(attributeSeparator());\n  var result = {};\n  var i = attrs.length;\n  var attr;\n\n  while (i--) {\n    // filter out unmatched portions of the string\n    if (attrs[i] === '') {\n      continue;\n    } // split the key and value\n\n\n    attr = /([^=]*)=(.*)/.exec(attrs[i]).slice(1); // trim whitespace and remove optional quotes around the value\n\n    attr[0] = attr[0].replace(/^\\s+|\\s+$/g, '');\n    attr[1] = attr[1].replace(/^\\s+|\\s+$/g, '');\n    attr[1] = attr[1].replace(/^['\"](.*)['\"]$/g, '$1');\n    result[attr[0]] = attr[1];\n  }\n\n  return result;\n};\n/**\n * A line-level M3U8 parser event stream. It expects to receive input one\n * line at a time and performs a context-free parse of its contents. A stream\n * interpretation of a manifest can be useful if the manifest is expected to\n * be too large to fit comfortably into memory or the entirety of the input\n * is not immediately available. Otherwise, it's probably much easier to work\n * with a regular `Parser` object.\n *\n * Produces `data` events with an object that captures the parser's\n * interpretation of the input. That object has a property `tag` that is one\n * of `uri`, `comment`, or `tag`. URIs only have a single additional\n * property, `line`, which captures the entirety of the input without\n * interpretation. Comments similarly have a single additional property\n * `text` which is the input without the leading `#`.\n *\n * Tags always have a property `tagType` which is the lower-cased version of\n * the M3U8 directive without the `#EXT` or `#EXT-X-` prefix. For instance,\n * `#EXT-X-MEDIA-SEQUENCE` becomes `media-sequence` when parsed. Unrecognized\n * tags are given the tag type `unknown` and a single additional property\n * `data` with the remainder of the input.\n *\n * @class ParseStream\n * @extends Stream\n */\n\n\nvar ParseStream =\n/*#__PURE__*/\nfunction (_Stream) {\n  _inheritsLoose(ParseStream, _Stream);\n\n  function ParseStream() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.customParsers = [];\n    _this.tagMappers = [];\n    return _this;\n  }\n  /**\n   * Parses an additional line of input.\n   *\n   * @param {string} line a single line of an M3U8 file to parse\n   */\n\n\n  var _proto = ParseStream.prototype;\n\n  _proto.push = function push(line) {\n    var _this2 = this;\n\n    var match;\n    var event; // strip whitespace\n\n    line = line.trim();\n\n    if (line.length === 0) {\n      // ignore empty lines\n      return;\n    } // URIs\n\n\n    if (line[0] !== '#') {\n      this.trigger('data', {\n        type: 'uri',\n        uri: line\n      });\n      return;\n    } // map tags\n\n\n    var newLines = this.tagMappers.reduce(function (acc, mapper) {\n      var mappedLine = mapper(line); // skip if unchanged\n\n      if (mappedLine === line) {\n        return acc;\n      }\n\n      return acc.concat([mappedLine]);\n    }, [line]);\n    newLines.forEach(function (newLine) {\n      for (var i = 0; i < _this2.customParsers.length; i++) {\n        if (_this2.customParsers[i].call(_this2, newLine)) {\n          return;\n        }\n      } // Comments\n\n\n      if (newLine.indexOf('#EXT') !== 0) {\n        _this2.trigger('data', {\n          type: 'comment',\n          text: newLine.slice(1)\n        });\n\n        return;\n      } // strip off any carriage returns here so the regex matching\n      // doesn't have to account for them.\n\n\n      newLine = newLine.replace('\\r', ''); // Tags\n\n      match = /^#EXTM3U/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'm3u'\n        });\n\n        return;\n      }\n\n      match = /^#EXTINF:?([0-9\\.]*)?,?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'inf'\n        };\n\n        if (match[1]) {\n          event.duration = parseFloat(match[1]);\n        }\n\n        if (match[2]) {\n          event.title = match[2];\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'targetduration'\n        };\n\n        if (match[1]) {\n          event.duration = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'totalduration'\n        };\n\n        if (match[1]) {\n          event.duration = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'version'\n        };\n\n        if (match[1]) {\n          event.version = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MEDIA-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'media-sequence'\n        };\n\n        if (match[1]) {\n          event.number = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'discontinuity-sequence'\n        };\n\n        if (match[1]) {\n          event.number = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'playlist-type'\n        };\n\n        if (match[1]) {\n          event.playlistType = match[1];\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'byterange'\n        };\n\n        if (match[1]) {\n          event.length = parseInt(match[1], 10);\n        }\n\n        if (match[2]) {\n          event.offset = parseInt(match[2], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'allow-cache'\n        };\n\n        if (match[1]) {\n          event.allowed = !/NO/.test(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MAP:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'map'\n        };\n\n        if (match[1]) {\n          var attributes = parseAttributes(match[1]);\n\n          if (attributes.URI) {\n            event.uri = attributes.URI;\n          }\n\n          if (attributes.BYTERANGE) {\n            var _attributes$BYTERANGE = attributes.BYTERANGE.split('@'),\n                length = _attributes$BYTERANGE[0],\n                offset = _attributes$BYTERANGE[1];\n\n            event.byterange = {};\n\n            if (length) {\n              event.byterange.length = parseInt(length, 10);\n            }\n\n            if (offset) {\n              event.byterange.offset = parseInt(offset, 10);\n            }\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-STREAM-INF:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'stream-inf'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n\n          if (event.attributes.RESOLUTION) {\n            var split = event.attributes.RESOLUTION.split('x');\n            var resolution = {};\n\n            if (split[0]) {\n              resolution.width = parseInt(split[0], 10);\n            }\n\n            if (split[1]) {\n              resolution.height = parseInt(split[1], 10);\n            }\n\n            event.attributes.RESOLUTION = resolution;\n          }\n\n          if (event.attributes.BANDWIDTH) {\n            event.attributes.BANDWIDTH = parseInt(event.attributes.BANDWIDTH, 10);\n          }\n\n          if (event.attributes['PROGRAM-ID']) {\n            event.attributes['PROGRAM-ID'] = parseInt(event.attributes['PROGRAM-ID'], 10);\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MEDIA:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'media'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-ENDLIST/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'endlist'\n        });\n\n        return;\n      }\n\n      match = /^#EXT-X-DISCONTINUITY/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'discontinuity'\n        });\n\n        return;\n      }\n\n      match = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'program-date-time'\n        };\n\n        if (match[1]) {\n          event.dateTimeString = match[1];\n          event.dateTimeObject = new Date(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-KEY:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'key'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]); // parse the IV string into a Uint32Array\n\n          if (event.attributes.IV) {\n            if (event.attributes.IV.substring(0, 2).toLowerCase() === '0x') {\n              event.attributes.IV = event.attributes.IV.substring(2);\n            }\n\n            event.attributes.IV = event.attributes.IV.match(/.{8}/g);\n            event.attributes.IV[0] = parseInt(event.attributes.IV[0], 16);\n            event.attributes.IV[1] = parseInt(event.attributes.IV[1], 16);\n            event.attributes.IV[2] = parseInt(event.attributes.IV[2], 16);\n            event.attributes.IV[3] = parseInt(event.attributes.IV[3], 16);\n            event.attributes.IV = new Uint32Array(event.attributes.IV);\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-START:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'start'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n          event.attributes['TIME-OFFSET'] = parseFloat(event.attributes['TIME-OFFSET']);\n          event.attributes.PRECISE = /YES/.test(event.attributes.PRECISE);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-out-cont'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-out'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-IN:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-in'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      } // unknown tag type\n\n\n      _this2.trigger('data', {\n        type: 'tag',\n        data: newLine.slice(4)\n      });\n    });\n  }\n  /**\n   * Add a parser for custom headers\n   *\n   * @param {Object}   options              a map of options for the added parser\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {string}   options.customType   the custom type to register to the output\n   * @param {Function} [options.dataParser] function to parse the line into an object\n   * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n   */\n  ;\n\n  _proto.addParser = function addParser(_ref) {\n    var _this3 = this;\n\n    var expression = _ref.expression,\n        customType = _ref.customType,\n        dataParser = _ref.dataParser,\n        segment = _ref.segment;\n\n    if (typeof dataParser !== 'function') {\n      dataParser = function dataParser(line) {\n        return line;\n      };\n    }\n\n    this.customParsers.push(function (line) {\n      var match = expression.exec(line);\n\n      if (match) {\n        _this3.trigger('data', {\n          type: 'custom',\n          data: dataParser(line),\n          customType: customType,\n          segment: segment\n        });\n\n        return true;\n      }\n    });\n  }\n  /**\n   * Add a custom header mapper\n   *\n   * @param {Object}   options\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {Function} options.map          function to translate tag into a different tag\n   */\n  ;\n\n  _proto.addTagMapper = function addTagMapper(_ref2) {\n    var expression = _ref2.expression,\n        map = _ref2.map;\n\n    var mapFn = function mapFn(line) {\n      if (expression.test(line)) {\n        return map(line);\n      }\n\n      return line;\n    };\n\n    this.tagMappers.push(mapFn);\n  };\n\n  return ParseStream;\n}(Stream);\n\nfunction decodeB64ToUint8Array(b64Text) {\n  var decodedString = window.atob(b64Text || '');\n  var array = new Uint8Array(decodedString.length);\n\n  for (var i = 0; i < decodedString.length; i++) {\n    array[i] = decodedString.charCodeAt(i);\n  }\n\n  return array;\n}\n\n/**\n * A parser for M3U8 files. The current interpretation of the input is\n * exposed as a property `manifest` on parser objects. It's just two lines to\n * create and parse a manifest once you have the contents available as a string:\n *\n * ```js\n * var parser = new m3u8.Parser();\n * parser.push(xhr.responseText);\n * ```\n *\n * New input can later be applied to update the manifest object by calling\n * `push` again.\n *\n * The parser attempts to create a usable manifest object even if the\n * underlying input is somewhat nonsensical. It emits `info` and `warning`\n * events during the parse if it encounters input that seems invalid or\n * requires some property of the manifest object to be defaulted.\n *\n * @class Parser\n * @extends Stream\n */\n\nvar Parser =\n/*#__PURE__*/\nfunction (_Stream) {\n  _inheritsLoose(Parser, _Stream);\n\n  function Parser() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.lineStream = new LineStream();\n    _this.parseStream = new ParseStream();\n\n    _this.lineStream.pipe(_this.parseStream);\n    /* eslint-disable consistent-this */\n\n\n    var self = _assertThisInitialized(_this);\n    /* eslint-enable consistent-this */\n\n\n    var uris = [];\n    var currentUri = {}; // if specified, the active EXT-X-MAP definition\n\n    var currentMap; // if specified, the active decryption key\n\n    var _key;\n\n    var noop = function noop() {};\n\n    var defaultMediaGroups = {\n      'AUDIO': {},\n      'VIDEO': {},\n      'CLOSED-CAPTIONS': {},\n      'SUBTITLES': {}\n    }; // This is the Widevine UUID from DASH IF IOP. The same exact string is\n    // used in MPDs with Widevine encrypted streams.\n\n    var widevineUuid = 'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed'; // group segments into numbered timelines delineated by discontinuities\n\n    var currentTimeline = 0; // the manifest is empty until the parse stream begins delivering data\n\n    _this.manifest = {\n      allowCache: true,\n      discontinuityStarts: [],\n      segments: []\n    }; // update the manifest with the m3u8 entry from the parse stream\n\n    _this.parseStream.on('data', function (entry) {\n      var mediaGroup;\n      var rendition;\n      ({\n        tag: function tag() {\n          // switch based on the tag type\n          (({\n            'allow-cache': function allowCache() {\n              this.manifest.allowCache = entry.allowed;\n\n              if (!('allowed' in entry)) {\n                this.trigger('info', {\n                  message: 'defaulting allowCache to YES'\n                });\n                this.manifest.allowCache = true;\n              }\n            },\n            byterange: function byterange() {\n              var byterange = {};\n\n              if ('length' in entry) {\n                currentUri.byterange = byterange;\n                byterange.length = entry.length;\n\n                if (!('offset' in entry)) {\n                  this.trigger('info', {\n                    message: 'defaulting offset to zero'\n                  });\n                  entry.offset = 0;\n                }\n              }\n\n              if ('offset' in entry) {\n                currentUri.byterange = byterange;\n                byterange.offset = entry.offset;\n              }\n            },\n            endlist: function endlist() {\n              this.manifest.endList = true;\n            },\n            inf: function inf() {\n              if (!('mediaSequence' in this.manifest)) {\n                this.manifest.mediaSequence = 0;\n                this.trigger('info', {\n                  message: 'defaulting media sequence to zero'\n                });\n              }\n\n              if (!('discontinuitySequence' in this.manifest)) {\n                this.manifest.discontinuitySequence = 0;\n                this.trigger('info', {\n                  message: 'defaulting discontinuity sequence to zero'\n                });\n              }\n\n              if (entry.duration > 0) {\n                currentUri.duration = entry.duration;\n              }\n\n              if (entry.duration === 0) {\n                currentUri.duration = 0.01;\n                this.trigger('info', {\n                  message: 'updating zero segment duration to a small value'\n                });\n              }\n\n              this.manifest.segments = uris;\n            },\n            key: function key() {\n              if (!entry.attributes) {\n                this.trigger('warn', {\n                  message: 'ignoring key declaration without attribute list'\n                });\n                return;\n              } // clear the active encryption key\n\n\n              if (entry.attributes.METHOD === 'NONE') {\n                _key = null;\n                return;\n              }\n\n              if (!entry.attributes.URI) {\n                this.trigger('warn', {\n                  message: 'ignoring key declaration without URI'\n                });\n                return;\n              } // check if the content is encrypted for Widevine\n              // Widevine/HLS spec: https://storage.googleapis.com/wvdocs/Widevine_DRM_HLS.pdf\n\n\n              if (entry.attributes.KEYFORMAT === widevineUuid) {\n                var VALID_METHODS = ['SAMPLE-AES', 'SAMPLE-AES-CTR', 'SAMPLE-AES-CENC'];\n\n                if (VALID_METHODS.indexOf(entry.attributes.METHOD) === -1) {\n                  this.trigger('warn', {\n                    message: 'invalid key method provided for Widevine'\n                  });\n                  return;\n                }\n\n                if (entry.attributes.METHOD === 'SAMPLE-AES-CENC') {\n                  this.trigger('warn', {\n                    message: 'SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead'\n                  });\n                }\n\n                if (entry.attributes.URI.substring(0, 23) !== 'data:text/plain;base64,') {\n                  this.trigger('warn', {\n                    message: 'invalid key URI provided for Widevine'\n                  });\n                  return;\n                }\n\n                if (!(entry.attributes.KEYID && entry.attributes.KEYID.substring(0, 2) === '0x')) {\n                  this.trigger('warn', {\n                    message: 'invalid key ID provided for Widevine'\n                  });\n                  return;\n                } // if Widevine key attributes are valid, store them as `contentProtection`\n                // on the manifest to emulate Widevine tag structure in a DASH mpd\n\n\n                this.manifest.contentProtection = {\n                  'com.widevine.alpha': {\n                    attributes: {\n                      schemeIdUri: entry.attributes.KEYFORMAT,\n                      // remove '0x' from the key id string\n                      keyId: entry.attributes.KEYID.substring(2)\n                    },\n                    // decode the base64-encoded PSSH box\n                    pssh: decodeB64ToUint8Array(entry.attributes.URI.split(',')[1])\n                  }\n                };\n                return;\n              }\n\n              if (!entry.attributes.METHOD) {\n                this.trigger('warn', {\n                  message: 'defaulting key method to AES-128'\n                });\n              } // setup an encryption key for upcoming segments\n\n\n              _key = {\n                method: entry.attributes.METHOD || 'AES-128',\n                uri: entry.attributes.URI\n              };\n\n              if (typeof entry.attributes.IV !== 'undefined') {\n                _key.iv = entry.attributes.IV;\n              }\n            },\n            'media-sequence': function mediaSequence() {\n              if (!isFinite(entry.number)) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid media sequence: ' + entry.number\n                });\n                return;\n              }\n\n              this.manifest.mediaSequence = entry.number;\n            },\n            'discontinuity-sequence': function discontinuitySequence() {\n              if (!isFinite(entry.number)) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid discontinuity sequence: ' + entry.number\n                });\n                return;\n              }\n\n              this.manifest.discontinuitySequence = entry.number;\n              currentTimeline = entry.number;\n            },\n            'playlist-type': function playlistType() {\n              if (!/VOD|EVENT/.test(entry.playlistType)) {\n                this.trigger('warn', {\n                  message: 'ignoring unknown playlist type: ' + entry.playlist\n                });\n                return;\n              }\n\n              this.manifest.playlistType = entry.playlistType;\n            },\n            map: function map() {\n              currentMap = {};\n\n              if (entry.uri) {\n                currentMap.uri = entry.uri;\n              }\n\n              if (entry.byterange) {\n                currentMap.byterange = entry.byterange;\n              }\n            },\n            'stream-inf': function streamInf() {\n              this.manifest.playlists = uris;\n              this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n              if (!entry.attributes) {\n                this.trigger('warn', {\n                  message: 'ignoring empty stream-inf attributes'\n                });\n                return;\n              }\n\n              if (!currentUri.attributes) {\n                currentUri.attributes = {};\n              }\n\n              _extends(currentUri.attributes, entry.attributes);\n            },\n            media: function media() {\n              this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n              if (!(entry.attributes && entry.attributes.TYPE && entry.attributes['GROUP-ID'] && entry.attributes.NAME)) {\n                this.trigger('warn', {\n                  message: 'ignoring incomplete or missing media group'\n                });\n                return;\n              } // find the media group, creating defaults as necessary\n\n\n              var mediaGroupType = this.manifest.mediaGroups[entry.attributes.TYPE];\n              mediaGroupType[entry.attributes['GROUP-ID']] = mediaGroupType[entry.attributes['GROUP-ID']] || {};\n              mediaGroup = mediaGroupType[entry.attributes['GROUP-ID']]; // collect the rendition metadata\n\n              rendition = {\n                default: /yes/i.test(entry.attributes.DEFAULT)\n              };\n\n              if (rendition.default) {\n                rendition.autoselect = true;\n              } else {\n                rendition.autoselect = /yes/i.test(entry.attributes.AUTOSELECT);\n              }\n\n              if (entry.attributes.LANGUAGE) {\n                rendition.language = entry.attributes.LANGUAGE;\n              }\n\n              if (entry.attributes.URI) {\n                rendition.uri = entry.attributes.URI;\n              }\n\n              if (entry.attributes['INSTREAM-ID']) {\n                rendition.instreamId = entry.attributes['INSTREAM-ID'];\n              }\n\n              if (entry.attributes.CHARACTERISTICS) {\n                rendition.characteristics = entry.attributes.CHARACTERISTICS;\n              }\n\n              if (entry.attributes.FORCED) {\n                rendition.forced = /yes/i.test(entry.attributes.FORCED);\n              } // insert the new rendition\n\n\n              mediaGroup[entry.attributes.NAME] = rendition;\n            },\n            discontinuity: function discontinuity() {\n              currentTimeline += 1;\n              currentUri.discontinuity = true;\n              this.manifest.discontinuityStarts.push(uris.length);\n            },\n            'program-date-time': function programDateTime() {\n              if (typeof this.manifest.dateTimeString === 'undefined') {\n                // PROGRAM-DATE-TIME is a media-segment tag, but for backwards\n                // compatibility, we add the first occurence of the PROGRAM-DATE-TIME tag\n                // to the manifest object\n                // TODO: Consider removing this in future major version\n                this.manifest.dateTimeString = entry.dateTimeString;\n                this.manifest.dateTimeObject = entry.dateTimeObject;\n              }\n\n              currentUri.dateTimeString = entry.dateTimeString;\n              currentUri.dateTimeObject = entry.dateTimeObject;\n            },\n            targetduration: function targetduration() {\n              if (!isFinite(entry.duration) || entry.duration < 0) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid target duration: ' + entry.duration\n                });\n                return;\n              }\n\n              this.manifest.targetDuration = entry.duration;\n            },\n            totalduration: function totalduration() {\n              if (!isFinite(entry.duration) || entry.duration < 0) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid total duration: ' + entry.duration\n                });\n                return;\n              }\n\n              this.manifest.totalDuration = entry.duration;\n            },\n            start: function start() {\n              if (!entry.attributes || isNaN(entry.attributes['TIME-OFFSET'])) {\n                this.trigger('warn', {\n                  message: 'ignoring start declaration without appropriate attribute list'\n                });\n                return;\n              }\n\n              this.manifest.start = {\n                timeOffset: entry.attributes['TIME-OFFSET'],\n                precise: entry.attributes.PRECISE\n              };\n            },\n            'cue-out': function cueOut() {\n              currentUri.cueOut = entry.data;\n            },\n            'cue-out-cont': function cueOutCont() {\n              currentUri.cueOutCont = entry.data;\n            },\n            'cue-in': function cueIn() {\n              currentUri.cueIn = entry.data;\n            }\n          })[entry.tagType] || noop).call(self);\n        },\n        uri: function uri() {\n          currentUri.uri = entry.uri;\n          uris.push(currentUri); // if no explicit duration was declared, use the target duration\n\n          if (this.manifest.targetDuration && !('duration' in currentUri)) {\n            this.trigger('warn', {\n              message: 'defaulting segment duration to the target duration'\n            });\n            currentUri.duration = this.manifest.targetDuration;\n          } // annotate with encryption information, if necessary\n\n\n          if (_key) {\n            currentUri.key = _key;\n          }\n\n          currentUri.timeline = currentTimeline; // annotate with initialization segment information, if necessary\n\n          if (currentMap) {\n            currentUri.map = currentMap;\n          } // prepare for the next URI\n\n\n          currentUri = {};\n        },\n        comment: function comment() {// comments are not important for playback\n        },\n        custom: function custom() {\n          // if this is segment-level data attach the output to the segment\n          if (entry.segment) {\n            currentUri.custom = currentUri.custom || {};\n            currentUri.custom[entry.customType] = entry.data; // if this is manifest-level data attach to the top level manifest object\n          } else {\n            this.manifest.custom = this.manifest.custom || {};\n            this.manifest.custom[entry.customType] = entry.data;\n          }\n        }\n      })[entry.type].call(self);\n    });\n\n    return _this;\n  }\n  /**\n   * Parse the input string and update the manifest object.\n   *\n   * @param {string} chunk a potentially incomplete portion of the manifest\n   */\n\n\n  var _proto = Parser.prototype;\n\n  _proto.push = function push(chunk) {\n    this.lineStream.push(chunk);\n  }\n  /**\n   * Flush any remaining input. This can be handy if the last line of an M3U8\n   * manifest did not contain a trailing newline but the file has been\n   * completely received.\n   */\n  ;\n\n  _proto.end = function end() {\n    // flush any buffered input\n    this.lineStream.push('\\n');\n  }\n  /**\n   * Add an additional parser for non-standard tags\n   *\n   * @param {Object}   options              a map of options for the added parser\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {string}   options.type         the type to register to the output\n   * @param {Function} [options.dataParser] function to parse the line into an object\n   * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n   */\n  ;\n\n  _proto.addParser = function addParser(options) {\n    this.parseStream.addParser(options);\n  }\n  /**\n   * Add a custom header mapper\n   *\n   * @param {Object}   options\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {Function} options.map          function to translate tag into a different tag\n   */\n  ;\n\n  _proto.addTagMapper = function addTagMapper(options) {\n    this.parseStream.addTagMapper(options);\n  };\n\n  return Parser;\n}(Stream);\n\nexport { LineStream, ParseStream, Parser };\n","/*\n * pkcs7.pad\n * https://github.com/brightcove/pkcs7\n *\n * Copyright (c) 2014 Brightcove\n * Licensed under the apache2 license.\n */\n\nvar PADDING = void 0;\n\n/**\n * Returns a new Uint8Array that is padded with PKCS#7 padding.\n * @param plaintext {Uint8Array} the input bytes before encryption\n * @return {Uint8Array} the padded bytes\n * @see http://tools.ietf.org/html/rfc5652\n */\nfunction pad(plaintext) {\n  var padding = PADDING[plaintext.byteLength % 16 || 0];\n  var result = new Uint8Array(plaintext.byteLength + padding.length);\n\n  result.set(plaintext);\n  result.set(padding, plaintext.byteLength);\n\n  return result;\n}\n\n// pre-define the padding values\nPADDING = [[16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16], [15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15], [14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14], [13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13], [12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12], [11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11], [10, 10, 10, 10, 10, 10, 10, 10, 10, 10], [9, 9, 9, 9, 9, 9, 9, 9, 9], [8, 8, 8, 8, 8, 8, 8, 8], [7, 7, 7, 7, 7, 7, 7], [6, 6, 6, 6, 6, 6], [5, 5, 5, 5, 5], [4, 4, 4, 4], [3, 3, 3], [2, 2], [1]];\n\n/**\n * Returns the subarray of a Uint8Array without PKCS#7 padding.\n * @param padded {Uint8Array} unencrypted bytes that have been padded\n * @return {Uint8Array} the unpadded bytes\n * @see http://tools.ietf.org/html/rfc5652\n */\nfunction unpad(padded) {\n  return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);\n}\n\nvar version = \"1.0.2\";\n\nexport { pad, unpad, version as VERSION };\n","import { unpad } from 'pkcs7';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/**\n * @file aes.js\n *\n * This file contains an adaptation of the AES decryption algorithm\n * from the Standford Javascript Cryptography Library. That work is\n * covered by the following copyright and permissions notice:\n *\n * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR\n * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN\n * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation\n * are those of the authors and should not be interpreted as representing\n * official policies, either expressed or implied, of the authors.\n */\n\n/**\n * Expand the S-box tables.\n *\n * @private\n */\nvar precompute = function precompute() {\n  var tables = [[[], [], [], [], []], [[], [], [], [], []]];\n  var encTable = tables[0];\n  var decTable = tables[1];\n  var sbox = encTable[4];\n  var sboxInv = decTable[4];\n  var i = void 0;\n  var x = void 0;\n  var xInv = void 0;\n  var d = [];\n  var th = [];\n  var x2 = void 0;\n  var x4 = void 0;\n  var x8 = void 0;\n  var s = void 0;\n  var tEnc = void 0;\n  var tDec = void 0;\n\n  // Compute double and third tables\n  for (i = 0; i < 256; i++) {\n    th[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\n  }\n\n  for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n    // Compute sbox\n    s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\n    s = s >> 8 ^ s & 255 ^ 99;\n    sbox[x] = s;\n    sboxInv[s] = x;\n\n    // Compute MixColumns\n    x8 = d[x4 = d[x2 = d[x]]];\n    tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n    tEnc = d[s] * 0x101 ^ s * 0x1010100;\n\n    for (i = 0; i < 4; i++) {\n      encTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\n      decTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\n    }\n  }\n\n  // Compactify. Considerable speedup on Firefox.\n  for (i = 0; i < 5; i++) {\n    encTable[i] = encTable[i].slice(0);\n    decTable[i] = decTable[i].slice(0);\n  }\n  return tables;\n};\nvar aesTables = null;\n\n/**\n * Schedule out an AES key for both encryption and decryption. This\n * is a low-level class. Use a cipher mode to do bulk encryption.\n *\n * @class AES\n * @param key {Array} The key as an array of 4, 6 or 8 words.\n */\n\nvar AES = function () {\n  function AES(key) {\n    classCallCheck(this, AES);\n\n    /**\n     * The expanded S-box and inverse S-box tables. These will be computed\n     * on the client so that we don't have to send them down the wire.\n     *\n     * There are two tables, _tables[0] is for encryption and\n     * _tables[1] is for decryption.\n     *\n     * The first 4 sub-tables are the expanded S-box with MixColumns. The\n     * last (_tables[01][4]) is the S-box itself.\n     *\n     * @private\n     */\n    // if we have yet to precompute the S-box tables\n    // do so now\n    if (!aesTables) {\n      aesTables = precompute();\n    }\n    // then make a copy of that object for use\n    this._tables = [[aesTables[0][0].slice(), aesTables[0][1].slice(), aesTables[0][2].slice(), aesTables[0][3].slice(), aesTables[0][4].slice()], [aesTables[1][0].slice(), aesTables[1][1].slice(), aesTables[1][2].slice(), aesTables[1][3].slice(), aesTables[1][4].slice()]];\n    var i = void 0;\n    var j = void 0;\n    var tmp = void 0;\n    var encKey = void 0;\n    var decKey = void 0;\n    var sbox = this._tables[0][4];\n    var decTable = this._tables[1];\n    var keyLen = key.length;\n    var rcon = 1;\n\n    if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n      throw new Error('Invalid aes key size');\n    }\n\n    encKey = key.slice(0);\n    decKey = [];\n    this._key = [encKey, decKey];\n\n    // schedule encryption keys\n    for (i = keyLen; i < 4 * keyLen + 28; i++) {\n      tmp = encKey[i - 1];\n\n      // apply sbox\n      if (i % keyLen === 0 || keyLen === 8 && i % keyLen === 4) {\n        tmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255];\n\n        // shift rows and add rcon\n        if (i % keyLen === 0) {\n          tmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\n          rcon = rcon << 1 ^ (rcon >> 7) * 283;\n        }\n      }\n\n      encKey[i] = encKey[i - keyLen] ^ tmp;\n    }\n\n    // schedule decryption keys\n    for (j = 0; i; j++, i--) {\n      tmp = encKey[j & 3 ? i : i - 4];\n      if (i <= 4 || j < 4) {\n        decKey[j] = tmp;\n      } else {\n        decKey[j] = decTable[0][sbox[tmp >>> 24]] ^ decTable[1][sbox[tmp >> 16 & 255]] ^ decTable[2][sbox[tmp >> 8 & 255]] ^ decTable[3][sbox[tmp & 255]];\n      }\n    }\n  }\n\n  /**\n   * Decrypt 16 bytes, specified as four 32-bit words.\n   *\n   * @param {Number} encrypted0 the first word to decrypt\n   * @param {Number} encrypted1 the second word to decrypt\n   * @param {Number} encrypted2 the third word to decrypt\n   * @param {Number} encrypted3 the fourth word to decrypt\n   * @param {Int32Array} out the array to write the decrypted words\n   * into\n   * @param {Number} offset the offset into the output array to start\n   * writing results\n   * @return {Array} The plaintext.\n   */\n\n\n  AES.prototype.decrypt = function decrypt(encrypted0, encrypted1, encrypted2, encrypted3, out, offset) {\n    var key = this._key[1];\n    // state variables a,b,c,d are loaded with pre-whitened data\n    var a = encrypted0 ^ key[0];\n    var b = encrypted3 ^ key[1];\n    var c = encrypted2 ^ key[2];\n    var d = encrypted1 ^ key[3];\n    var a2 = void 0;\n    var b2 = void 0;\n    var c2 = void 0;\n\n    // key.length === 2 ?\n    var nInnerRounds = key.length / 4 - 2;\n    var i = void 0;\n    var kIndex = 4;\n    var table = this._tables[1];\n\n    // load up the tables\n    var table0 = table[0];\n    var table1 = table[1];\n    var table2 = table[2];\n    var table3 = table[3];\n    var sbox = table[4];\n\n    // Inner rounds. Cribbed from OpenSSL.\n    for (i = 0; i < nInnerRounds; i++) {\n      a2 = table0[a >>> 24] ^ table1[b >> 16 & 255] ^ table2[c >> 8 & 255] ^ table3[d & 255] ^ key[kIndex];\n      b2 = table0[b >>> 24] ^ table1[c >> 16 & 255] ^ table2[d >> 8 & 255] ^ table3[a & 255] ^ key[kIndex + 1];\n      c2 = table0[c >>> 24] ^ table1[d >> 16 & 255] ^ table2[a >> 8 & 255] ^ table3[b & 255] ^ key[kIndex + 2];\n      d = table0[d >>> 24] ^ table1[a >> 16 & 255] ^ table2[b >> 8 & 255] ^ table3[c & 255] ^ key[kIndex + 3];\n      kIndex += 4;\n      a = a2;b = b2;c = c2;\n    }\n\n    // Last round.\n    for (i = 0; i < 4; i++) {\n      out[(3 & -i) + offset] = sbox[a >>> 24] << 24 ^ sbox[b >> 16 & 255] << 16 ^ sbox[c >> 8 & 255] << 8 ^ sbox[d & 255] ^ key[kIndex++];\n      a2 = a;a = b;b = c;c = d;d = a2;\n    }\n  };\n\n  return AES;\n}();\n\n/**\n * @file stream.js\n */\n/**\n * A lightweight readable stream implemention that handles event dispatching.\n *\n * @class Stream\n */\nvar Stream = function () {\n  function Stream() {\n    classCallCheck(this, Stream);\n\n    this.listeners = {};\n  }\n\n  /**\n   * Add a listener for a specified event type.\n   *\n   * @param {String} type the event name\n   * @param {Function} listener the callback to be invoked when an event of\n   * the specified type occurs\n   */\n\n\n  Stream.prototype.on = function on(type, listener) {\n    if (!this.listeners[type]) {\n      this.listeners[type] = [];\n    }\n    this.listeners[type].push(listener);\n  };\n\n  /**\n   * Remove a listener for a specified event type.\n   *\n   * @param {String} type the event name\n   * @param {Function} listener  a function previously registered for this\n   * type of event through `on`\n   * @return {Boolean} if we could turn it off or not\n   */\n\n\n  Stream.prototype.off = function off(type, listener) {\n    if (!this.listeners[type]) {\n      return false;\n    }\n\n    var index = this.listeners[type].indexOf(listener);\n\n    this.listeners[type].splice(index, 1);\n    return index > -1;\n  };\n\n  /**\n   * Trigger an event of the specified type on this stream. Any additional\n   * arguments to this function are passed as parameters to event listeners.\n   *\n   * @param {String} type the event name\n   */\n\n\n  Stream.prototype.trigger = function trigger(type) {\n    var callbacks = this.listeners[type];\n\n    if (!callbacks) {\n      return;\n    }\n\n    // Slicing the arguments on every invocation of this method\n    // can add a significant amount of overhead. Avoid the\n    // intermediate object creation for the common case of a\n    // single callback argument\n    if (arguments.length === 2) {\n      var length = callbacks.length;\n\n      for (var i = 0; i < length; ++i) {\n        callbacks[i].call(this, arguments[1]);\n      }\n    } else {\n      var args = Array.prototype.slice.call(arguments, 1);\n      var _length = callbacks.length;\n\n      for (var _i = 0; _i < _length; ++_i) {\n        callbacks[_i].apply(this, args);\n      }\n    }\n  };\n\n  /**\n   * Destroys the stream and cleans up.\n   */\n\n\n  Stream.prototype.dispose = function dispose() {\n    this.listeners = {};\n  };\n  /**\n   * Forwards all `data` events on this stream to the destination stream. The\n   * destination stream should provide a method `push` to receive the data\n   * events as they arrive.\n   *\n   * @param {Stream} destination the stream that will receive all `data` events\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n   */\n\n\n  Stream.prototype.pipe = function pipe(destination) {\n    this.on('data', function (data) {\n      destination.push(data);\n    });\n  };\n\n  return Stream;\n}();\n\n/**\n * @file async-stream.js\n */\n/**\n * A wrapper around the Stream class to use setTiemout\n * and run stream \"jobs\" Asynchronously\n *\n * @class AsyncStream\n * @extends Stream\n */\n\nvar AsyncStream = function (_Stream) {\n  inherits(AsyncStream, _Stream);\n\n  function AsyncStream() {\n    classCallCheck(this, AsyncStream);\n\n    var _this = possibleConstructorReturn(this, _Stream.call(this, Stream));\n\n    _this.jobs = [];\n    _this.delay = 1;\n    _this.timeout_ = null;\n    return _this;\n  }\n\n  /**\n   * process an async job\n   *\n   * @private\n   */\n\n\n  AsyncStream.prototype.processJob_ = function processJob_() {\n    this.jobs.shift()();\n    if (this.jobs.length) {\n      this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n    } else {\n      this.timeout_ = null;\n    }\n  };\n\n  /**\n   * push a job into the stream\n   *\n   * @param {Function} job the job to push into the stream\n   */\n\n\n  AsyncStream.prototype.push = function push(job) {\n    this.jobs.push(job);\n    if (!this.timeout_) {\n      this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n    }\n  };\n\n  return AsyncStream;\n}(Stream);\n\n/**\n * @file decrypter.js\n *\n * An asynchronous implementation of AES-128 CBC decryption with\n * PKCS#7 padding.\n */\n\n/**\n * Convert network-order (big-endian) bytes into their little-endian\n * representation.\n */\nvar ntoh = function ntoh(word) {\n  return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;\n};\n\n/**\n * Decrypt bytes using AES-128 with CBC and PKCS#7 padding.\n *\n * @param {Uint8Array} encrypted the encrypted bytes\n * @param {Uint32Array} key the bytes of the decryption key\n * @param {Uint32Array} initVector the initialization vector (IV) to\n * use for the first round of CBC.\n * @return {Uint8Array} the decrypted bytes\n *\n * @see http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\n * @see http://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_.28CBC.29\n * @see https://tools.ietf.org/html/rfc2315\n */\nvar decrypt = function decrypt(encrypted, key, initVector) {\n  // word-level access to the encrypted bytes\n  var encrypted32 = new Int32Array(encrypted.buffer, encrypted.byteOffset, encrypted.byteLength >> 2);\n\n  var decipher = new AES(Array.prototype.slice.call(key));\n\n  // byte and word-level access for the decrypted output\n  var decrypted = new Uint8Array(encrypted.byteLength);\n  var decrypted32 = new Int32Array(decrypted.buffer);\n\n  // temporary variables for working with the IV, encrypted, and\n  // decrypted data\n  var init0 = void 0;\n  var init1 = void 0;\n  var init2 = void 0;\n  var init3 = void 0;\n  var encrypted0 = void 0;\n  var encrypted1 = void 0;\n  var encrypted2 = void 0;\n  var encrypted3 = void 0;\n\n  // iteration variable\n  var wordIx = void 0;\n\n  // pull out the words of the IV to ensure we don't modify the\n  // passed-in reference and easier access\n  init0 = initVector[0];\n  init1 = initVector[1];\n  init2 = initVector[2];\n  init3 = initVector[3];\n\n  // decrypt four word sequences, applying cipher-block chaining (CBC)\n  // to each decrypted block\n  for (wordIx = 0; wordIx < encrypted32.length; wordIx += 4) {\n    // convert big-endian (network order) words into little-endian\n    // (javascript order)\n    encrypted0 = ntoh(encrypted32[wordIx]);\n    encrypted1 = ntoh(encrypted32[wordIx + 1]);\n    encrypted2 = ntoh(encrypted32[wordIx + 2]);\n    encrypted3 = ntoh(encrypted32[wordIx + 3]);\n\n    // decrypt the block\n    decipher.decrypt(encrypted0, encrypted1, encrypted2, encrypted3, decrypted32, wordIx);\n\n    // XOR with the IV, and restore network byte-order to obtain the\n    // plaintext\n    decrypted32[wordIx] = ntoh(decrypted32[wordIx] ^ init0);\n    decrypted32[wordIx + 1] = ntoh(decrypted32[wordIx + 1] ^ init1);\n    decrypted32[wordIx + 2] = ntoh(decrypted32[wordIx + 2] ^ init2);\n    decrypted32[wordIx + 3] = ntoh(decrypted32[wordIx + 3] ^ init3);\n\n    // setup the IV for the next round\n    init0 = encrypted0;\n    init1 = encrypted1;\n    init2 = encrypted2;\n    init3 = encrypted3;\n  }\n\n  return decrypted;\n};\n\n/**\n * The `Decrypter` class that manages decryption of AES\n * data through `AsyncStream` objects and the `decrypt`\n * function\n *\n * @param {Uint8Array} encrypted the encrypted bytes\n * @param {Uint32Array} key the bytes of the decryption key\n * @param {Uint32Array} initVector the initialization vector (IV) to\n * @param {Function} done the function to run when done\n * @class Decrypter\n */\n\nvar Decrypter = function () {\n  function Decrypter(encrypted, key, initVector, done) {\n    classCallCheck(this, Decrypter);\n\n    var step = Decrypter.STEP;\n    var encrypted32 = new Int32Array(encrypted.buffer);\n    var decrypted = new Uint8Array(encrypted.byteLength);\n    var i = 0;\n\n    this.asyncStream_ = new AsyncStream();\n\n    // split up the encryption job and do the individual chunks asynchronously\n    this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n    for (i = step; i < encrypted32.length; i += step) {\n      initVector = new Uint32Array([ntoh(encrypted32[i - 4]), ntoh(encrypted32[i - 3]), ntoh(encrypted32[i - 2]), ntoh(encrypted32[i - 1])]);\n      this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n    }\n    // invoke the done() callback when everything is finished\n    this.asyncStream_.push(function () {\n      // remove pkcs#7 padding from the decrypted bytes\n      done(null, unpad(decrypted));\n    });\n  }\n\n  /**\n   * a getter for step the maximum number of bytes to process at one time\n   *\n   * @return {Number} the value of step 32000\n   */\n\n\n  /**\n   * @private\n   */\n  Decrypter.prototype.decryptChunk_ = function decryptChunk_(encrypted, key, initVector, decrypted) {\n    return function () {\n      var bytes = decrypt(encrypted, key, initVector);\n\n      decrypted.set(bytes, encrypted.byteOffset);\n    };\n  };\n\n  createClass(Decrypter, null, [{\n    key: 'STEP',\n    get: function get$$1() {\n      // 4 * 8000;\n      return 32000;\n    }\n  }]);\n  return Decrypter;\n}();\n\n/**\n * @file index.js\n *\n * Index module to easily import the primary components of AES-128\n * decryption. Like this:\n *\n * ```js\n * import {Decrypter, decrypt, AsyncStream} from 'aes-decrypter';\n * ```\n */\n\nexport { decrypt, Decrypter, AsyncStream };\n","/**\n * @license\n * Video.js 7.6.5 <http://videojs.com/>\n * Copyright Brightcove, Inc. <https://www.brightcove.com/>\n * Available under Apache License Version 2.0\n * <https://github.com/videojs/video.js/blob/master/LICENSE>\n *\n * Includes vtt.js <https://github.com/mozilla/vtt.js>\n * Available under Apache License Version 2.0\n * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>\n */\n\nimport window$1 from 'global/window';\nimport document from 'global/document';\nimport safeParseTuple from 'safe-json-parse/tuple';\nimport keycode from 'keycode';\nimport XHR from 'xhr';\nimport vtt from 'videojs-vtt.js';\nimport URLToolkit from 'url-toolkit';\nimport { Parser } from 'm3u8-parser';\nimport { parse, parseUTCTiming } from 'mpd-parser';\nimport mp4Inspector from 'mux.js/lib/tools/mp4-inspector';\nimport mp4probe from 'mux.js/lib/mp4/probe';\nimport CaptionParser from 'mux.js/lib/mp4/caption-parser';\nimport tsInspector from 'mux.js/lib/tools/ts-inspector.js';\nimport { Decrypter, AsyncStream, decrypt } from 'aes-decrypter';\n\nvar version = \"7.6.5\";\n\n/**\n * @file create-logger.js\n * @module create-logger\n */\n\nvar history = [];\n/**\n * Log messages to the console and history based on the type of message\n *\n * @private\n * @param  {string} type\n *         The name of the console method to use.\n *\n * @param  {Array} args\n *         The arguments to be passed to the matching console method.\n */\n\nvar LogByTypeFactory = function LogByTypeFactory(name, log) {\n  return function (type, level, args) {\n    var lvl = log.levels[level];\n    var lvlRegExp = new RegExp(\"^(\" + lvl + \")$\");\n\n    if (type !== 'log') {\n      // Add the type to the front of the message when it's not \"log\".\n      args.unshift(type.toUpperCase() + ':');\n    } // Add console prefix after adding to history.\n\n\n    args.unshift(name + ':'); // Add a clone of the args at this point to history.\n\n    if (history) {\n      history.push([].concat(args));\n    } // If there's no console then don't try to output messages, but they will\n    // still be stored in history.\n\n\n    if (!window$1.console) {\n      return;\n    } // Was setting these once outside of this function, but containing them\n    // in the function makes it easier to test cases where console doesn't exist\n    // when the module is executed.\n\n\n    var fn = window$1.console[type];\n\n    if (!fn && type === 'debug') {\n      // Certain browsers don't have support for console.debug. For those, we\n      // should default to the closest comparable log.\n      fn = window$1.console.info || window$1.console.log;\n    } // Bail out if there's no console or if this type is not allowed by the\n    // current logging level.\n\n\n    if (!fn || !lvl || !lvlRegExp.test(type)) {\n      return;\n    }\n\n    fn[Array.isArray(args) ? 'apply' : 'call'](window$1.console, args);\n  };\n};\n\nfunction createLogger(name) {\n  // This is the private tracking variable for logging level.\n  var level = 'info'; // the curried logByType bound to the specific log and history\n\n  var logByType;\n  /**\n   * Logs plain debug messages. Similar to `console.log`.\n   *\n   * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)\n   * of our JSDoc template, we cannot properly document this as both a function\n   * and a namespace, so its function signature is documented here.\n   *\n   * #### Arguments\n   * ##### *args\n   * Mixed[]\n   *\n   * Any combination of values that could be passed to `console.log()`.\n   *\n   * #### Return Value\n   *\n   * `undefined`\n   *\n   * @namespace\n   * @param    {Mixed[]} args\n   *           One or more messages or objects that should be logged.\n   */\n\n  var log = function log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    logByType('log', level, args);\n  }; // This is the logByType helper that the logging methods below use\n\n\n  logByType = LogByTypeFactory(name, log);\n  /**\n   * Create a new sublogger which chains the old name to the new name.\n   *\n   * For example, doing `videojs.log.createLogger('player')` and then using that logger will log the following:\n   * ```js\n   *  mylogger('foo');\n   *  // > VIDEOJS: player: foo\n   * ```\n   *\n   * @param {string} name\n   *        The name to add call the new logger\n   * @return {Object}\n   */\n\n  log.createLogger = function (subname) {\n    return createLogger(name + ': ' + subname);\n  };\n  /**\n   * Enumeration of available logging levels, where the keys are the level names\n   * and the values are `|`-separated strings containing logging methods allowed\n   * in that logging level. These strings are used to create a regular expression\n   * matching the function name being called.\n   *\n   * Levels provided by Video.js are:\n   *\n   * - `off`: Matches no calls. Any value that can be cast to `false` will have\n   *   this effect. The most restrictive.\n   * - `all`: Matches only Video.js-provided functions (`debug`, `log`,\n   *   `log.warn`, and `log.error`).\n   * - `debug`: Matches `log.debug`, `log`, `log.warn`, and `log.error` calls.\n   * - `info` (default): Matches `log`, `log.warn`, and `log.error` calls.\n   * - `warn`: Matches `log.warn` and `log.error` calls.\n   * - `error`: Matches only `log.error` calls.\n   *\n   * @type {Object}\n   */\n\n\n  log.levels = {\n    all: 'debug|log|warn|error',\n    off: '',\n    debug: 'debug|log|warn|error',\n    info: 'log|warn|error',\n    warn: 'warn|error',\n    error: 'error',\n    DEFAULT: level\n  };\n  /**\n   * Get or set the current logging level.\n   *\n   * If a string matching a key from {@link module:log.levels} is provided, acts\n   * as a setter.\n   *\n   * @param  {string} [lvl]\n   *         Pass a valid level to set a new logging level.\n   *\n   * @return {string}\n   *         The current logging level.\n   */\n\n  log.level = function (lvl) {\n    if (typeof lvl === 'string') {\n      if (!log.levels.hasOwnProperty(lvl)) {\n        throw new Error(\"\\\"\" + lvl + \"\\\" in not a valid log level\");\n      }\n\n      level = lvl;\n    }\n\n    return level;\n  };\n  /**\n   * Returns an array containing everything that has been logged to the history.\n   *\n   * This array is a shallow clone of the internal history record. However, its\n   * contents are _not_ cloned; so, mutating objects inside this array will\n   * mutate them in history.\n   *\n   * @return {Array}\n   */\n\n\n  log.history = function () {\n    return history ? [].concat(history) : [];\n  };\n  /**\n   * Allows you to filter the history by the given logger name\n   *\n   * @param {string} fname\n   *        The name to filter by\n   *\n   * @return {Array}\n   *         The filtered list to return\n   */\n\n\n  log.history.filter = function (fname) {\n    return (history || []).filter(function (historyItem) {\n      // if the first item in each historyItem includes `fname`, then it's a match\n      return new RegExp(\".*\" + fname + \".*\").test(historyItem[0]);\n    });\n  };\n  /**\n   * Clears the internal history tracking, but does not prevent further history\n   * tracking.\n   */\n\n\n  log.history.clear = function () {\n    if (history) {\n      history.length = 0;\n    }\n  };\n  /**\n   * Disable history tracking if it is currently enabled.\n   */\n\n\n  log.history.disable = function () {\n    if (history !== null) {\n      history.length = 0;\n      history = null;\n    }\n  };\n  /**\n   * Enable history tracking if it is currently disabled.\n   */\n\n\n  log.history.enable = function () {\n    if (history === null) {\n      history = [];\n    }\n  };\n  /**\n   * Logs error messages. Similar to `console.error`.\n   *\n   * @param {Mixed[]} args\n   *        One or more messages or objects that should be logged as an error\n   */\n\n\n  log.error = function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return logByType('error', level, args);\n  };\n  /**\n   * Logs warning messages. Similar to `console.warn`.\n   *\n   * @param {Mixed[]} args\n   *        One or more messages or objects that should be logged as a warning.\n   */\n\n\n  log.warn = function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return logByType('warn', level, args);\n  };\n  /**\n   * Logs debug messages. Similar to `console.debug`, but may also act as a comparable\n   * log if `console.debug` is not available\n   *\n   * @param {Mixed[]} args\n   *        One or more messages or objects that should be logged as debug.\n   */\n\n\n  log.debug = function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return logByType('debug', level, args);\n  };\n\n  return log;\n}\n\n/**\n * @file log.js\n * @module log\n */\nvar log = createLogger('VIDEOJS');\nvar createLogger$1 = log.createLogger;\n\n/**\n * @file obj.js\n * @module obj\n */\n\n/**\n * @callback obj:EachCallback\n *\n * @param {Mixed} value\n *        The current key for the object that is being iterated over.\n *\n * @param {string} key\n *        The current key-value for object that is being iterated over\n */\n\n/**\n * @callback obj:ReduceCallback\n *\n * @param {Mixed} accum\n *        The value that is accumulating over the reduce loop.\n *\n * @param {Mixed} value\n *        The current key for the object that is being iterated over.\n *\n * @param {string} key\n *        The current key-value for object that is being iterated over\n *\n * @return {Mixed}\n *         The new accumulated value.\n */\nvar toString = Object.prototype.toString;\n/**\n * Get the keys of an Object\n *\n * @param {Object}\n *        The Object to get the keys from\n *\n * @return {string[]}\n *         An array of the keys from the object. Returns an empty array if the\n *         object passed in was invalid or had no keys.\n *\n * @private\n */\n\nvar keys = function keys(object) {\n  return isObject(object) ? Object.keys(object) : [];\n};\n/**\n * Array-like iteration for objects.\n *\n * @param {Object} object\n *        The object to iterate over\n *\n * @param {obj:EachCallback} fn\n *        The callback function which is called for each key in the object.\n */\n\n\nfunction each(object, fn) {\n  keys(object).forEach(function (key) {\n    return fn(object[key], key);\n  });\n}\n/**\n * Array-like reduce for objects.\n *\n * @param {Object} object\n *        The Object that you want to reduce.\n *\n * @param {Function} fn\n *         A callback function which is called for each key in the object. It\n *         receives the accumulated value and the per-iteration value and key\n *         as arguments.\n *\n * @param {Mixed} [initial = 0]\n *        Starting value\n *\n * @return {Mixed}\n *         The final accumulated value.\n */\n\nfunction reduce(object, fn, initial) {\n  if (initial === void 0) {\n    initial = 0;\n  }\n\n  return keys(object).reduce(function (accum, key) {\n    return fn(accum, object[key], key);\n  }, initial);\n}\n/**\n * Object.assign-style object shallow merge/extend.\n *\n * @param  {Object} target\n * @param  {Object} ...sources\n * @return {Object}\n */\n\nfunction assign(target) {\n  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  if (Object.assign) {\n    return Object.assign.apply(Object, [target].concat(sources));\n  }\n\n  sources.forEach(function (source) {\n    if (!source) {\n      return;\n    }\n\n    each(source, function (value, key) {\n      target[key] = value;\n    });\n  });\n  return target;\n}\n/**\n * Returns whether a value is an object of any kind - including DOM nodes,\n * arrays, regular expressions, etc. Not functions, though.\n *\n * This avoids the gotcha where using `typeof` on a `null` value\n * results in `'object'`.\n *\n * @param  {Object} value\n * @return {boolean}\n */\n\nfunction isObject(value) {\n  return !!value && typeof value === 'object';\n}\n/**\n * Returns whether an object appears to be a \"plain\" object - that is, a\n * direct instance of `Object`.\n *\n * @param  {Object} value\n * @return {boolean}\n */\n\nfunction isPlain(value) {\n  return isObject(value) && toString.call(value) === '[object Object]' && value.constructor === Object;\n}\n\n/**\n * @file computed-style.js\n * @module computed-style\n */\n/**\n * A safe getComputedStyle.\n *\n * This is needed because in Firefox, if the player is loaded in an iframe with\n * `display:none`, then `getComputedStyle` returns `null`, so, we do a\n * null-check to make sure that the player doesn't break in these cases.\n *\n * @function\n * @param    {Element} el\n *           The element you want the computed style of\n *\n * @param    {string} prop\n *           The property name you want\n *\n * @see      https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\n\nfunction computedStyle(el, prop) {\n  if (!el || !prop) {\n    return '';\n  }\n\n  if (typeof window$1.getComputedStyle === 'function') {\n    var computedStyleValue = window$1.getComputedStyle(el);\n    return computedStyleValue ? computedStyleValue.getPropertyValue(prop) || computedStyleValue[prop] : '';\n  }\n\n  return '';\n}\n\n/**\n * @file dom.js\n * @module dom\n */\n/**\n * Detect if a value is a string with any non-whitespace characters.\n *\n * @private\n * @param  {string} str\n *         The string to check\n *\n * @return {boolean}\n *         Will be `true` if the string is non-blank, `false` otherwise.\n *\n */\n\nfunction isNonBlankString(str) {\n  return typeof str === 'string' && /\\S/.test(str);\n}\n/**\n * Throws an error if the passed string has whitespace. This is used by\n * class methods to be relatively consistent with the classList API.\n *\n * @private\n * @param  {string} str\n *         The string to check for whitespace.\n *\n * @throws {Error}\n *         Throws an error if there is whitespace in the string.\n */\n\n\nfunction throwIfWhitespace(str) {\n  if (/\\s/.test(str)) {\n    throw new Error('class has illegal whitespace characters');\n  }\n}\n/**\n * Produce a regular expression for matching a className within an elements className.\n *\n * @private\n * @param  {string} className\n *         The className to generate the RegExp for.\n *\n * @return {RegExp}\n *         The RegExp that will check for a specific `className` in an elements\n *         className.\n */\n\n\nfunction classRegExp(className) {\n  return new RegExp('(^|\\\\s)' + className + '($|\\\\s)');\n}\n/**\n * Whether the current DOM interface appears to be real (i.e. not simulated).\n *\n * @return {boolean}\n *         Will be `true` if the DOM appears to be real, `false` otherwise.\n */\n\n\nfunction isReal() {\n  // Both document and window will never be undefined thanks to `global`.\n  return document === window$1.document;\n}\n/**\n * Determines, via duck typing, whether or not a value is a DOM element.\n *\n * @param  {Mixed} value\n *         The value to check.\n *\n * @return {boolean}\n *         Will be `true` if the value is a DOM element, `false` otherwise.\n */\n\nfunction isEl(value) {\n  return isObject(value) && value.nodeType === 1;\n}\n/**\n * Determines if the current DOM is embedded in an iframe.\n *\n * @return {boolean}\n *         Will be `true` if the DOM is embedded in an iframe, `false`\n *         otherwise.\n */\n\nfunction isInFrame() {\n  // We need a try/catch here because Safari will throw errors when attempting\n  // to get either `parent` or `self`\n  try {\n    return window$1.parent !== window$1.self;\n  } catch (x) {\n    return true;\n  }\n}\n/**\n * Creates functions to query the DOM using a given method.\n *\n * @private\n * @param   {string} method\n *          The method to create the query with.\n *\n * @return  {Function}\n *          The query method\n */\n\nfunction createQuerier(method) {\n  return function (selector, context) {\n    if (!isNonBlankString(selector)) {\n      return document[method](null);\n    }\n\n    if (isNonBlankString(context)) {\n      context = document.querySelector(context);\n    }\n\n    var ctx = isEl(context) ? context : document;\n    return ctx[method] && ctx[method](selector);\n  };\n}\n/**\n * Creates an element and applies properties, attributes, and inserts content.\n *\n * @param  {string} [tagName='div']\n *         Name of tag to be created.\n *\n * @param  {Object} [properties={}]\n *         Element properties to be applied.\n *\n * @param  {Object} [attributes={}]\n *         Element attributes to be applied.\n *\n * @param {module:dom~ContentDescriptor} content\n *        A content descriptor object.\n *\n * @return {Element}\n *         The element that was created.\n */\n\n\nfunction createEl(tagName, properties, attributes, content) {\n  if (tagName === void 0) {\n    tagName = 'div';\n  }\n\n  if (properties === void 0) {\n    properties = {};\n  }\n\n  if (attributes === void 0) {\n    attributes = {};\n  }\n\n  var el = document.createElement(tagName);\n  Object.getOwnPropertyNames(properties).forEach(function (propName) {\n    var val = properties[propName]; // See #2176\n    // We originally were accepting both properties and attributes in the\n    // same object, but that doesn't work so well.\n\n    if (propName.indexOf('aria-') !== -1 || propName === 'role' || propName === 'type') {\n      log.warn('Setting attributes in the second argument of createEl()\\n' + 'has been deprecated. Use the third argument instead.\\n' + (\"createEl(type, properties, attributes). Attempting to set \" + propName + \" to \" + val + \".\"));\n      el.setAttribute(propName, val); // Handle textContent since it's not supported everywhere and we have a\n      // method for it.\n    } else if (propName === 'textContent') {\n      textContent(el, val);\n    } else {\n      el[propName] = val;\n    }\n  });\n  Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n    el.setAttribute(attrName, attributes[attrName]);\n  });\n\n  if (content) {\n    appendContent(el, content);\n  }\n\n  return el;\n}\n/**\n * Injects text into an element, replacing any existing contents entirely.\n *\n * @param  {Element} el\n *         The element to add text content into\n *\n * @param  {string} text\n *         The text content to add.\n *\n * @return {Element}\n *         The element with added text content.\n */\n\nfunction textContent(el, text) {\n  if (typeof el.textContent === 'undefined') {\n    el.innerText = text;\n  } else {\n    el.textContent = text;\n  }\n\n  return el;\n}\n/**\n * Insert an element as the first child node of another\n *\n * @param {Element} child\n *        Element to insert\n *\n * @param {Element} parent\n *        Element to insert child into\n */\n\nfunction prependTo(child, parent) {\n  if (parent.firstChild) {\n    parent.insertBefore(child, parent.firstChild);\n  } else {\n    parent.appendChild(child);\n  }\n}\n/**\n * Check if an element has a class name.\n *\n * @param  {Element} element\n *         Element to check\n *\n * @param  {string} classToCheck\n *         Class name to check for\n *\n * @return {boolean}\n *         Will be `true` if the element has a class, `false` otherwise.\n *\n * @throws {Error}\n *         Throws an error if `classToCheck` has white space.\n */\n\nfunction hasClass(element, classToCheck) {\n  throwIfWhitespace(classToCheck);\n\n  if (element.classList) {\n    return element.classList.contains(classToCheck);\n  }\n\n  return classRegExp(classToCheck).test(element.className);\n}\n/**\n * Add a class name to an element.\n *\n * @param  {Element} element\n *         Element to add class name to.\n *\n * @param  {string} classToAdd\n *         Class name to add.\n *\n * @return {Element}\n *         The DOM element with the added class name.\n */\n\nfunction addClass(element, classToAdd) {\n  if (element.classList) {\n    element.classList.add(classToAdd); // Don't need to `throwIfWhitespace` here because `hasElClass` will do it\n    // in the case of classList not being supported.\n  } else if (!hasClass(element, classToAdd)) {\n    element.className = (element.className + ' ' + classToAdd).trim();\n  }\n\n  return element;\n}\n/**\n * Remove a class name from an element.\n *\n * @param  {Element} element\n *         Element to remove a class name from.\n *\n * @param  {string} classToRemove\n *         Class name to remove\n *\n * @return {Element}\n *         The DOM element with class name removed.\n */\n\nfunction removeClass(element, classToRemove) {\n  if (element.classList) {\n    element.classList.remove(classToRemove);\n  } else {\n    throwIfWhitespace(classToRemove);\n    element.className = element.className.split(/\\s+/).filter(function (c) {\n      return c !== classToRemove;\n    }).join(' ');\n  }\n\n  return element;\n}\n/**\n * The callback definition for toggleClass.\n *\n * @callback module:dom~PredicateCallback\n * @param    {Element} element\n *           The DOM element of the Component.\n *\n * @param    {string} classToToggle\n *           The `className` that wants to be toggled\n *\n * @return   {boolean|undefined}\n *           If `true` is returned, the `classToToggle` will be added to the\n *           `element`. If `false`, the `classToToggle` will be removed from\n *           the `element`. If `undefined`, the callback will be ignored.\n */\n\n/**\n * Adds or removes a class name to/from an element depending on an optional\n * condition or the presence/absence of the class name.\n *\n * @param  {Element} element\n *         The element to toggle a class name on.\n *\n * @param  {string} classToToggle\n *         The class that should be toggled.\n *\n * @param  {boolean|module:dom~PredicateCallback} [predicate]\n *         See the return value for {@link module:dom~PredicateCallback}\n *\n * @return {Element}\n *         The element with a class that has been toggled.\n */\n\nfunction toggleClass(element, classToToggle, predicate) {\n  // This CANNOT use `classList` internally because IE11 does not support the\n  // second parameter to the `classList.toggle()` method! Which is fine because\n  // `classList` will be used by the add/remove functions.\n  var has = hasClass(element, classToToggle);\n\n  if (typeof predicate === 'function') {\n    predicate = predicate(element, classToToggle);\n  }\n\n  if (typeof predicate !== 'boolean') {\n    predicate = !has;\n  } // If the necessary class operation matches the current state of the\n  // element, no action is required.\n\n\n  if (predicate === has) {\n    return;\n  }\n\n  if (predicate) {\n    addClass(element, classToToggle);\n  } else {\n    removeClass(element, classToToggle);\n  }\n\n  return element;\n}\n/**\n * Apply attributes to an HTML element.\n *\n * @param {Element} el\n *        Element to add attributes to.\n *\n * @param {Object} [attributes]\n *        Attributes to be applied.\n */\n\nfunction setAttributes(el, attributes) {\n  Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n    var attrValue = attributes[attrName];\n\n    if (attrValue === null || typeof attrValue === 'undefined' || attrValue === false) {\n      el.removeAttribute(attrName);\n    } else {\n      el.setAttribute(attrName, attrValue === true ? '' : attrValue);\n    }\n  });\n}\n/**\n * Get an element's attribute values, as defined on the HTML tag.\n *\n * Attributes are not the same as properties. They're defined on the tag\n * or with setAttribute.\n *\n * @param  {Element} tag\n *         Element from which to get tag attributes.\n *\n * @return {Object}\n *         All attributes of the element. Boolean attributes will be `true` or\n *         `false`, others will be strings.\n */\n\nfunction getAttributes(tag) {\n  var obj = {}; // known boolean attributes\n  // we can check for matching boolean properties, but not all browsers\n  // and not all tags know about these attributes, so, we still want to check them manually\n\n  var knownBooleans = ',' + 'autoplay,controls,playsinline,loop,muted,default,defaultMuted' + ',';\n\n  if (tag && tag.attributes && tag.attributes.length > 0) {\n    var attrs = tag.attributes;\n\n    for (var i = attrs.length - 1; i >= 0; i--) {\n      var attrName = attrs[i].name;\n      var attrVal = attrs[i].value; // check for known booleans\n      // the matching element property will return a value for typeof\n\n      if (typeof tag[attrName] === 'boolean' || knownBooleans.indexOf(',' + attrName + ',') !== -1) {\n        // the value of an included boolean attribute is typically an empty\n        // string ('') which would equal false if we just check for a false value.\n        // we also don't want support bad code like autoplay='false'\n        attrVal = attrVal !== null ? true : false;\n      }\n\n      obj[attrName] = attrVal;\n    }\n  }\n\n  return obj;\n}\n/**\n * Get the value of an element's attribute.\n *\n * @param {Element} el\n *        A DOM element.\n *\n * @param {string} attribute\n *        Attribute to get the value of.\n *\n * @return {string}\n *         The value of the attribute.\n */\n\nfunction getAttribute(el, attribute) {\n  return el.getAttribute(attribute);\n}\n/**\n * Set the value of an element's attribute.\n *\n * @param {Element} el\n *        A DOM element.\n *\n * @param {string} attribute\n *        Attribute to set.\n *\n * @param {string} value\n *        Value to set the attribute to.\n */\n\nfunction setAttribute(el, attribute, value) {\n  el.setAttribute(attribute, value);\n}\n/**\n * Remove an element's attribute.\n *\n * @param {Element} el\n *        A DOM element.\n *\n * @param {string} attribute\n *        Attribute to remove.\n */\n\nfunction removeAttribute(el, attribute) {\n  el.removeAttribute(attribute);\n}\n/**\n * Attempt to block the ability to select text.\n */\n\nfunction blockTextSelection() {\n  document.body.focus();\n\n  document.onselectstart = function () {\n    return false;\n  };\n}\n/**\n * Turn off text selection blocking.\n */\n\nfunction unblockTextSelection() {\n  document.onselectstart = function () {\n    return true;\n  };\n}\n/**\n * Identical to the native `getBoundingClientRect` function, but ensures that\n * the method is supported at all (it is in all browsers we claim to support)\n * and that the element is in the DOM before continuing.\n *\n * This wrapper function also shims properties which are not provided by some\n * older browsers (namely, IE8).\n *\n * Additionally, some browsers do not support adding properties to a\n * `ClientRect`/`DOMRect` object; so, we shallow-copy it with the standard\n * properties (except `x` and `y` which are not widely supported). This helps\n * avoid implementations where keys are non-enumerable.\n *\n * @param  {Element} el\n *         Element whose `ClientRect` we want to calculate.\n *\n * @return {Object|undefined}\n *         Always returns a plain object - or `undefined` if it cannot.\n */\n\nfunction getBoundingClientRect(el) {\n  if (el && el.getBoundingClientRect && el.parentNode) {\n    var rect = el.getBoundingClientRect();\n    var result = {};\n    ['bottom', 'height', 'left', 'right', 'top', 'width'].forEach(function (k) {\n      if (rect[k] !== undefined) {\n        result[k] = rect[k];\n      }\n    });\n\n    if (!result.height) {\n      result.height = parseFloat(computedStyle(el, 'height'));\n    }\n\n    if (!result.width) {\n      result.width = parseFloat(computedStyle(el, 'width'));\n    }\n\n    return result;\n  }\n}\n/**\n * Represents the position of a DOM element on the page.\n *\n * @typedef  {Object} module:dom~Position\n *\n * @property {number} left\n *           Pixels to the left.\n *\n * @property {number} top\n *           Pixels from the top.\n */\n\n/**\n * Get the position of an element in the DOM.\n *\n * Uses `getBoundingClientRect` technique from John Resig.\n *\n * @see http://ejohn.org/blog/getboundingclientrect-is-awesome/\n *\n * @param  {Element} el\n *         Element from which to get offset.\n *\n * @return {module:dom~Position}\n *         The position of the element that was passed in.\n */\n\nfunction findPosition(el) {\n  var box;\n\n  if (el.getBoundingClientRect && el.parentNode) {\n    box = el.getBoundingClientRect();\n  }\n\n  if (!box) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  var docEl = document.documentElement;\n  var body = document.body;\n  var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n  var scrollLeft = window$1.pageXOffset || body.scrollLeft;\n  var left = box.left + scrollLeft - clientLeft;\n  var clientTop = docEl.clientTop || body.clientTop || 0;\n  var scrollTop = window$1.pageYOffset || body.scrollTop;\n  var top = box.top + scrollTop - clientTop; // Android sometimes returns slightly off decimal values, so need to round\n\n  return {\n    left: Math.round(left),\n    top: Math.round(top)\n  };\n}\n/**\n * Represents x and y coordinates for a DOM element or mouse pointer.\n *\n * @typedef  {Object} module:dom~Coordinates\n *\n * @property {number} x\n *           x coordinate in pixels\n *\n * @property {number} y\n *           y coordinate in pixels\n */\n\n/**\n * Get the pointer position within an element.\n *\n * The base on the coordinates are the bottom left of the element.\n *\n * @param  {Element} el\n *         Element on which to get the pointer position on.\n *\n * @param  {EventTarget~Event} event\n *         Event object.\n *\n * @return {module:dom~Coordinates}\n *         A coordinates object corresponding to the mouse position.\n *\n */\n\nfunction getPointerPosition(el, event) {\n  var position = {};\n  var box = findPosition(el);\n  var boxW = el.offsetWidth;\n  var boxH = el.offsetHeight;\n  var boxY = box.top;\n  var boxX = box.left;\n  var pageY = event.pageY;\n  var pageX = event.pageX;\n\n  if (event.changedTouches) {\n    pageX = event.changedTouches[0].pageX;\n    pageY = event.changedTouches[0].pageY;\n  }\n\n  position.y = Math.max(0, Math.min(1, (boxY - pageY + boxH) / boxH));\n  position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n  return position;\n}\n/**\n * Determines, via duck typing, whether or not a value is a text node.\n *\n * @param  {Mixed} value\n *         Check if this value is a text node.\n *\n * @return {boolean}\n *         Will be `true` if the value is a text node, `false` otherwise.\n */\n\nfunction isTextNode(value) {\n  return isObject(value) && value.nodeType === 3;\n}\n/**\n * Empties the contents of an element.\n *\n * @param  {Element} el\n *         The element to empty children from\n *\n * @return {Element}\n *         The element with no children\n */\n\nfunction emptyEl(el) {\n  while (el.firstChild) {\n    el.removeChild(el.firstChild);\n  }\n\n  return el;\n}\n/**\n * This is a mixed value that describes content to be injected into the DOM\n * via some method. It can be of the following types:\n *\n * Type       | Description\n * -----------|-------------\n * `string`   | The value will be normalized into a text node.\n * `Element`  | The value will be accepted as-is.\n * `TextNode` | The value will be accepted as-is.\n * `Array`    | A one-dimensional array of strings, elements, text nodes, or functions. These functions should return a string, element, or text node (any other return value, like an array, will be ignored).\n * `Function` | A function, which is expected to return a string, element, text node, or array - any of the other possible values described above. This means that a content descriptor could be a function that returns an array of functions, but those second-level functions must return strings, elements, or text nodes.\n *\n * @typedef {string|Element|TextNode|Array|Function} module:dom~ContentDescriptor\n */\n\n/**\n * Normalizes content for eventual insertion into the DOM.\n *\n * This allows a wide range of content definition methods, but helps protect\n * from falling into the trap of simply writing to `innerHTML`, which could\n * be an XSS concern.\n *\n * The content for an element can be passed in multiple types and\n * combinations, whose behavior is as follows:\n *\n * @param {module:dom~ContentDescriptor} content\n *        A content descriptor value.\n *\n * @return {Array}\n *         All of the content that was passed in, normalized to an array of\n *         elements or text nodes.\n */\n\nfunction normalizeContent(content) {\n  // First, invoke content if it is a function. If it produces an array,\n  // that needs to happen before normalization.\n  if (typeof content === 'function') {\n    content = content();\n  } // Next up, normalize to an array, so one or many items can be normalized,\n  // filtered, and returned.\n\n\n  return (Array.isArray(content) ? content : [content]).map(function (value) {\n    // First, invoke value if it is a function to produce a new value,\n    // which will be subsequently normalized to a Node of some kind.\n    if (typeof value === 'function') {\n      value = value();\n    }\n\n    if (isEl(value) || isTextNode(value)) {\n      return value;\n    }\n\n    if (typeof value === 'string' && /\\S/.test(value)) {\n      return document.createTextNode(value);\n    }\n  }).filter(function (value) {\n    return value;\n  });\n}\n/**\n * Normalizes and appends content to an element.\n *\n * @param  {Element} el\n *         Element to append normalized content to.\n *\n * @param {module:dom~ContentDescriptor} content\n *        A content descriptor value.\n *\n * @return {Element}\n *         The element with appended normalized content.\n */\n\nfunction appendContent(el, content) {\n  normalizeContent(content).forEach(function (node) {\n    return el.appendChild(node);\n  });\n  return el;\n}\n/**\n * Normalizes and inserts content into an element; this is identical to\n * `appendContent()`, except it empties the element first.\n *\n * @param {Element} el\n *        Element to insert normalized content into.\n *\n * @param {module:dom~ContentDescriptor} content\n *        A content descriptor value.\n *\n * @return {Element}\n *         The element with inserted normalized content.\n */\n\nfunction insertContent(el, content) {\n  return appendContent(emptyEl(el), content);\n}\n/**\n * Check if an event was a single left click.\n *\n * @param  {EventTarget~Event} event\n *         Event object.\n *\n * @return {boolean}\n *         Will be `true` if a single left click, `false` otherwise.\n */\n\nfunction isSingleLeftClick(event) {\n  // Note: if you create something draggable, be sure to\n  // call it on both `mousedown` and `mousemove` event,\n  // otherwise `mousedown` should be enough for a button\n  if (event.button === undefined && event.buttons === undefined) {\n    // Why do we need `buttons` ?\n    // Because, middle mouse sometimes have this:\n    // e.button === 0 and e.buttons === 4\n    // Furthermore, we want to prevent combination click, something like\n    // HOLD middlemouse then left click, that would be\n    // e.button === 0, e.buttons === 5\n    // just `button` is not gonna work\n    // Alright, then what this block does ?\n    // this is for chrome `simulate mobile devices`\n    // I want to support this as well\n    return true;\n  }\n\n  if (event.button === 0 && event.buttons === undefined) {\n    // Touch screen, sometimes on some specific device, `buttons`\n    // doesn't have anything (safari on ios, blackberry...)\n    return true;\n  } // `mouseup` event on a single left click has\n  // `button` and `buttons` equal to 0\n\n\n  if (event.type === 'mouseup' && event.button === 0 && event.buttons === 0) {\n    return true;\n  }\n\n  if (event.button !== 0 || event.buttons !== 1) {\n    // This is the reason we have those if else block above\n    // if any special case we can catch and let it slide\n    // we do it above, when get to here, this definitely\n    // is-not-left-click\n    return false;\n  }\n\n  return true;\n}\n/**\n * Finds a single DOM element matching `selector` within the optional\n * `context` of another DOM element (defaulting to `document`).\n *\n * @param  {string} selector\n *         A valid CSS selector, which will be passed to `querySelector`.\n *\n * @param  {Element|String} [context=document]\n *         A DOM element within which to query. Can also be a selector\n *         string in which case the first matching element will be used\n *         as context. If missing (or no element matches selector), falls\n *         back to `document`.\n *\n * @return {Element|null}\n *         The element that was found or null.\n */\n\nvar $ = createQuerier('querySelector');\n/**\n * Finds a all DOM elements matching `selector` within the optional\n * `context` of another DOM element (defaulting to `document`).\n *\n * @param  {string} selector\n *         A valid CSS selector, which will be passed to `querySelectorAll`.\n *\n * @param  {Element|String} [context=document]\n *         A DOM element within which to query. Can also be a selector\n *         string in which case the first matching element will be used\n *         as context. If missing (or no element matches selector), falls\n *         back to `document`.\n *\n * @return {NodeList}\n *         A element list of elements that were found. Will be empty if none\n *         were found.\n *\n */\n\nvar $$ = createQuerier('querySelectorAll');\n\nvar Dom = /*#__PURE__*/Object.freeze({\n  isReal: isReal,\n  isEl: isEl,\n  isInFrame: isInFrame,\n  createEl: createEl,\n  textContent: textContent,\n  prependTo: prependTo,\n  hasClass: hasClass,\n  addClass: addClass,\n  removeClass: removeClass,\n  toggleClass: toggleClass,\n  setAttributes: setAttributes,\n  getAttributes: getAttributes,\n  getAttribute: getAttribute,\n  setAttribute: setAttribute,\n  removeAttribute: removeAttribute,\n  blockTextSelection: blockTextSelection,\n  unblockTextSelection: unblockTextSelection,\n  getBoundingClientRect: getBoundingClientRect,\n  findPosition: findPosition,\n  getPointerPosition: getPointerPosition,\n  isTextNode: isTextNode,\n  emptyEl: emptyEl,\n  normalizeContent: normalizeContent,\n  appendContent: appendContent,\n  insertContent: insertContent,\n  isSingleLeftClick: isSingleLeftClick,\n  $: $,\n  $$: $$\n});\n\n/**\n * @file setup.js - Functions for setting up a player without\n * user interaction based on the data-setup `attribute` of the video tag.\n *\n * @module setup\n */\nvar _windowLoaded = false;\nvar videojs;\n/**\n * Set up any tags that have a data-setup `attribute` when the player is started.\n */\n\nvar autoSetup = function autoSetup() {\n  // Protect against breakage in non-browser environments and check global autoSetup option.\n  if (!isReal() || videojs.options.autoSetup === false) {\n    return;\n  }\n\n  var vids = Array.prototype.slice.call(document.getElementsByTagName('video'));\n  var audios = Array.prototype.slice.call(document.getElementsByTagName('audio'));\n  var divs = Array.prototype.slice.call(document.getElementsByTagName('video-js'));\n  var mediaEls = vids.concat(audios, divs); // Check if any media elements exist\n\n  if (mediaEls && mediaEls.length > 0) {\n    for (var i = 0, e = mediaEls.length; i < e; i++) {\n      var mediaEl = mediaEls[i]; // Check if element exists, has getAttribute func.\n\n      if (mediaEl && mediaEl.getAttribute) {\n        // Make sure this player hasn't already been set up.\n        if (mediaEl.player === undefined) {\n          var options = mediaEl.getAttribute('data-setup'); // Check if data-setup attr exists.\n          // We only auto-setup if they've added the data-setup attr.\n\n          if (options !== null) {\n            // Create new video.js instance.\n            videojs(mediaEl);\n          }\n        } // If getAttribute isn't defined, we need to wait for the DOM.\n\n      } else {\n        autoSetupTimeout(1);\n        break;\n      }\n    } // No videos were found, so keep looping unless page is finished loading.\n\n  } else if (!_windowLoaded) {\n    autoSetupTimeout(1);\n  }\n};\n/**\n * Wait until the page is loaded before running autoSetup. This will be called in\n * autoSetup if `hasLoaded` returns false.\n *\n * @param {number} wait\n *        How long to wait in ms\n *\n * @param {module:videojs} [vjs]\n *        The videojs library function\n */\n\n\nfunction autoSetupTimeout(wait, vjs) {\n  if (vjs) {\n    videojs = vjs;\n  }\n\n  window$1.setTimeout(autoSetup, wait);\n}\n/**\n * Used to set the internal tracking of window loaded state to true.\n *\n * @private\n */\n\n\nfunction setWindowLoaded() {\n  _windowLoaded = true;\n  window$1.removeEventListener('load', setWindowLoaded);\n}\n\nif (isReal()) {\n  if (document.readyState === 'complete') {\n    setWindowLoaded();\n  } else {\n    /**\n     * Listen for the load event on window, and set _windowLoaded to true.\n     *\n     * We use a standard event listener here to avoid incrementing the GUID\n     * before any players are created.\n     *\n     * @listens load\n     */\n    window$1.addEventListener('load', setWindowLoaded);\n  }\n}\n\n/**\n * @file stylesheet.js\n * @module stylesheet\n */\n/**\n * Create a DOM syle element given a className for it.\n *\n * @param {string} className\n *        The className to add to the created style element.\n *\n * @return {Element}\n *         The element that was created.\n */\n\nvar createStyleElement = function createStyleElement(className) {\n  var style = document.createElement('style');\n  style.className = className;\n  return style;\n};\n/**\n * Add text to a DOM element.\n *\n * @param {Element} el\n *        The Element to add text content to.\n *\n * @param {string} content\n *        The text to add to the element.\n */\n\nvar setTextContent = function setTextContent(el, content) {\n  if (el.styleSheet) {\n    el.styleSheet.cssText = content;\n  } else {\n    el.textContent = content;\n  }\n};\n\n/**\n * @file dom-data.js\n * @module dom-data\n */\n\n/**\n * Element Data Store.\n *\n * Allows for binding data to an element without putting it directly on the\n * element. Ex. Event listeners are stored here.\n * (also from jsninja.com, slightly modified and updated for closure compiler)\n *\n * @type {Object}\n * @private\n */\nvar DomData = new WeakMap();\n\n/**\n * @file guid.js\n * @module guid\n */\n// Default value for GUIDs. This allows us to reset the GUID counter in tests.\n//\n// The initial GUID is 3 because some users have come to rely on the first\n// default player ID ending up as `vjs_video_3`.\n//\n// See: https://github.com/videojs/video.js/pull/6216\nvar _initialGuid = 3;\n/**\n * Unique ID for an element or function\n *\n * @type {Number}\n */\n\nvar _guid = _initialGuid;\n/**\n * Get a unique auto-incrementing ID by number that has not been returned before.\n *\n * @return {number}\n *         A new unique ID.\n */\n\nfunction newGUID() {\n  return _guid++;\n}\n\n/**\n * @file events.js. An Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)\n * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)\n * This should work very similarly to jQuery's events, however it's based off the book version which isn't as\n * robust as jquery's, so there's probably some differences.\n *\n * @file events.js\n * @module events\n */\n/**\n * Clean up the listener cache and dispatchers\n *\n * @param {Element|Object} elem\n *        Element to clean up\n *\n * @param {string} type\n *        Type of event to clean up\n */\n\nfunction _cleanUpEvents(elem, type) {\n  if (!DomData.has(elem)) {\n    return;\n  }\n\n  var data = DomData.get(elem); // Remove the events of a particular type if there are none left\n\n  if (data.handlers[type].length === 0) {\n    delete data.handlers[type]; // data.handlers[type] = null;\n    // Setting to null was causing an error with data.handlers\n    // Remove the meta-handler from the element\n\n    if (elem.removeEventListener) {\n      elem.removeEventListener(type, data.dispatcher, false);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + type, data.dispatcher);\n    }\n  } // Remove the events object if there are no types left\n\n\n  if (Object.getOwnPropertyNames(data.handlers).length <= 0) {\n    delete data.handlers;\n    delete data.dispatcher;\n    delete data.disabled;\n  } // Finally remove the element data if there is no data left\n\n\n  if (Object.getOwnPropertyNames(data).length === 0) {\n    DomData[\"delete\"](elem);\n  }\n}\n/**\n * Loops through an array of event types and calls the requested method for each type.\n *\n * @param {Function} fn\n *        The event method we want to use.\n *\n * @param {Element|Object} elem\n *        Element or object to bind listeners to\n *\n * @param {string} type\n *        Type of event to bind to.\n *\n * @param {EventTarget~EventListener} callback\n *        Event listener.\n */\n\n\nfunction _handleMultipleEvents(fn, elem, types, callback) {\n  types.forEach(function (type) {\n    // Call the event method for each one of the types\n    fn(elem, type, callback);\n  });\n}\n/**\n * Fix a native event to have standard property values\n *\n * @param {Object} event\n *        Event object to fix.\n *\n * @return {Object}\n *         Fixed event object.\n */\n\n\nfunction fixEvent(event) {\n  function returnTrue() {\n    return true;\n  }\n\n  function returnFalse() {\n    return false;\n  } // Test if fixing up is needed\n  // Used to check if !event.stopPropagation instead of isPropagationStopped\n  // But native events return true for stopPropagation, but don't have\n  // other expected methods like isPropagationStopped. Seems to be a problem\n  // with the Javascript Ninja code. So we're just overriding all events now.\n\n\n  if (!event || !event.isPropagationStopped) {\n    var old = event || window$1.event;\n    event = {}; // Clone the old object so that we can modify the values event = {};\n    // IE8 Doesn't like when you mess with native event properties\n    // Firefox returns false for event.hasOwnProperty('type') and other props\n    //  which makes copying more difficult.\n    // TODO: Probably best to create a whitelist of event props\n\n    for (var key in old) {\n      // Safari 6.0.3 warns you if you try to copy deprecated layerX/Y\n      // Chrome warns you if you try to copy deprecated keyboardEvent.keyLocation\n      // and webkitMovementX/Y\n      if (key !== 'layerX' && key !== 'layerY' && key !== 'keyLocation' && key !== 'webkitMovementX' && key !== 'webkitMovementY') {\n        // Chrome 32+ warns if you try to copy deprecated returnValue, but\n        // we still want to if preventDefault isn't supported (IE8).\n        if (!(key === 'returnValue' && old.preventDefault)) {\n          event[key] = old[key];\n        }\n      }\n    } // The event occurred on this element\n\n\n    if (!event.target) {\n      event.target = event.srcElement || document;\n    } // Handle which other element the event is related to\n\n\n    if (!event.relatedTarget) {\n      event.relatedTarget = event.fromElement === event.target ? event.toElement : event.fromElement;\n    } // Stop the default browser action\n\n\n    event.preventDefault = function () {\n      if (old.preventDefault) {\n        old.preventDefault();\n      }\n\n      event.returnValue = false;\n      old.returnValue = false;\n      event.defaultPrevented = true;\n    };\n\n    event.defaultPrevented = false; // Stop the event from bubbling\n\n    event.stopPropagation = function () {\n      if (old.stopPropagation) {\n        old.stopPropagation();\n      }\n\n      event.cancelBubble = true;\n      old.cancelBubble = true;\n      event.isPropagationStopped = returnTrue;\n    };\n\n    event.isPropagationStopped = returnFalse; // Stop the event from bubbling and executing other handlers\n\n    event.stopImmediatePropagation = function () {\n      if (old.stopImmediatePropagation) {\n        old.stopImmediatePropagation();\n      }\n\n      event.isImmediatePropagationStopped = returnTrue;\n      event.stopPropagation();\n    };\n\n    event.isImmediatePropagationStopped = returnFalse; // Handle mouse position\n\n    if (event.clientX !== null && event.clientX !== undefined) {\n      var doc = document.documentElement;\n      var body = document.body;\n      event.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n    } // Handle key presses\n\n\n    event.which = event.charCode || event.keyCode; // Fix button for mouse clicks:\n    // 0 == left; 1 == middle; 2 == right\n\n    if (event.button !== null && event.button !== undefined) {\n      // The following is disabled because it does not pass videojs-standard\n      // and... yikes.\n\n      /* eslint-disable */\n      event.button = event.button & 1 ? 0 : event.button & 4 ? 1 : event.button & 2 ? 2 : 0;\n      /* eslint-enable */\n    }\n  } // Returns fixed-up instance\n\n\n  return event;\n}\n/**\n * Whether passive event listeners are supported\n */\n\nvar _supportsPassive = false;\n\n(function () {\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        _supportsPassive = true;\n      }\n    });\n    window$1.addEventListener('test', null, opts);\n    window$1.removeEventListener('test', null, opts);\n  } catch (e) {// disregard\n  }\n})();\n/**\n * Touch events Chrome expects to be passive\n */\n\n\nvar passiveEvents = ['touchstart', 'touchmove'];\n/**\n * Add an event listener to element\n * It stores the handler function in a separate cache object\n * and adds a generic handler to the element's event,\n * along with a unique id (guid) to the element.\n *\n * @param {Element|Object} elem\n *        Element or object to bind listeners to\n *\n * @param {string|string[]} type\n *        Type of event to bind to.\n *\n * @param {EventTarget~EventListener} fn\n *        Event listener.\n */\n\nfunction on(elem, type, fn) {\n  if (Array.isArray(type)) {\n    return _handleMultipleEvents(on, elem, type, fn);\n  }\n\n  if (!DomData.has(elem)) {\n    DomData.set(elem, {});\n  }\n\n  var data = DomData.get(elem); // We need a place to store all our handler data\n\n  if (!data.handlers) {\n    data.handlers = {};\n  }\n\n  if (!data.handlers[type]) {\n    data.handlers[type] = [];\n  }\n\n  if (!fn.guid) {\n    fn.guid = newGUID();\n  }\n\n  data.handlers[type].push(fn);\n\n  if (!data.dispatcher) {\n    data.disabled = false;\n\n    data.dispatcher = function (event, hash) {\n      if (data.disabled) {\n        return;\n      }\n\n      event = fixEvent(event);\n      var handlers = data.handlers[event.type];\n\n      if (handlers) {\n        // Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.\n        var handlersCopy = handlers.slice(0);\n\n        for (var m = 0, n = handlersCopy.length; m < n; m++) {\n          if (event.isImmediatePropagationStopped()) {\n            break;\n          } else {\n            try {\n              handlersCopy[m].call(elem, event, hash);\n            } catch (e) {\n              log.error(e);\n            }\n          }\n        }\n      }\n    };\n  }\n\n  if (data.handlers[type].length === 1) {\n    if (elem.addEventListener) {\n      var options = false;\n\n      if (_supportsPassive && passiveEvents.indexOf(type) > -1) {\n        options = {\n          passive: true\n        };\n      }\n\n      elem.addEventListener(type, data.dispatcher, options);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + type, data.dispatcher);\n    }\n  }\n}\n/**\n * Removes event listeners from an element\n *\n * @param {Element|Object} elem\n *        Object to remove listeners from.\n *\n * @param {string|string[]} [type]\n *        Type of listener to remove. Don't include to remove all events from element.\n *\n * @param {EventTarget~EventListener} [fn]\n *        Specific listener to remove. Don't include to remove listeners for an event\n *        type.\n */\n\nfunction off(elem, type, fn) {\n  // Don't want to add a cache object through getElData if not needed\n  if (!DomData.has(elem)) {\n    return;\n  }\n\n  var data = DomData.get(elem); // If no events exist, nothing to unbind\n\n  if (!data.handlers) {\n    return;\n  }\n\n  if (Array.isArray(type)) {\n    return _handleMultipleEvents(off, elem, type, fn);\n  } // Utility function\n\n\n  var removeType = function removeType(el, t) {\n    data.handlers[t] = [];\n\n    _cleanUpEvents(el, t);\n  }; // Are we removing all bound events?\n\n\n  if (type === undefined) {\n    for (var t in data.handlers) {\n      if (Object.prototype.hasOwnProperty.call(data.handlers || {}, t)) {\n        removeType(elem, t);\n      }\n    }\n\n    return;\n  }\n\n  var handlers = data.handlers[type]; // If no handlers exist, nothing to unbind\n\n  if (!handlers) {\n    return;\n  } // If no listener was provided, remove all listeners for type\n\n\n  if (!fn) {\n    removeType(elem, type);\n    return;\n  } // We're only removing a single handler\n\n\n  if (fn.guid) {\n    for (var n = 0; n < handlers.length; n++) {\n      if (handlers[n].guid === fn.guid) {\n        handlers.splice(n--, 1);\n      }\n    }\n  }\n\n  _cleanUpEvents(elem, type);\n}\n/**\n * Trigger an event for an element\n *\n * @param {Element|Object} elem\n *        Element to trigger an event on\n *\n * @param {EventTarget~Event|string} event\n *        A string (the type) or an event object with a type attribute\n *\n * @param {Object} [hash]\n *        data hash to pass along with the event\n *\n * @return {boolean|undefined}\n *         Returns the opposite of `defaultPrevented` if default was\n *         prevented. Otherwise, returns `undefined`\n */\n\nfunction trigger(elem, event, hash) {\n  // Fetches element data and a reference to the parent (for bubbling).\n  // Don't want to add a data object to cache for every parent,\n  // so checking hasElData first.\n  var elemData = DomData.has(elem) ? DomData.get(elem) : {};\n  var parent = elem.parentNode || elem.ownerDocument; // type = event.type || event,\n  // handler;\n  // If an event name was passed as a string, creates an event out of it\n\n  if (typeof event === 'string') {\n    event = {\n      type: event,\n      target: elem\n    };\n  } else if (!event.target) {\n    event.target = elem;\n  } // Normalizes the event properties.\n\n\n  event = fixEvent(event); // If the passed element has a dispatcher, executes the established handlers.\n\n  if (elemData.dispatcher) {\n    elemData.dispatcher.call(elem, event, hash);\n  } // Unless explicitly stopped or the event does not bubble (e.g. media events)\n  // recursively calls this function to bubble the event up the DOM.\n\n\n  if (parent && !event.isPropagationStopped() && event.bubbles === true) {\n    trigger.call(null, parent, event, hash); // If at the top of the DOM, triggers the default action unless disabled.\n  } else if (!parent && !event.defaultPrevented && event.target && event.target[event.type]) {\n    if (!DomData.has(event.target)) {\n      DomData.set(event.target, {});\n    }\n\n    var targetData = DomData.get(event.target); // Checks if the target has a default action for this event.\n\n    if (event.target[event.type]) {\n      // Temporarily disables event dispatching on the target as we have already executed the handler.\n      targetData.disabled = true; // Executes the default action.\n\n      if (typeof event.target[event.type] === 'function') {\n        event.target[event.type]();\n      } // Re-enables event dispatching.\n\n\n      targetData.disabled = false;\n    }\n  } // Inform the triggerer if the default was prevented by returning false\n\n\n  return !event.defaultPrevented;\n}\n/**\n * Trigger a listener only once for an event.\n *\n * @param {Element|Object} elem\n *        Element or object to bind to.\n *\n * @param {string|string[]} type\n *        Name/type of event\n *\n * @param {Event~EventListener} fn\n *        Event listener function\n */\n\nfunction one(elem, type, fn) {\n  if (Array.isArray(type)) {\n    return _handleMultipleEvents(one, elem, type, fn);\n  }\n\n  var func = function func() {\n    off(elem, type, func);\n    fn.apply(this, arguments);\n  }; // copy the guid to the new function so it can removed using the original function's ID\n\n\n  func.guid = fn.guid = fn.guid || newGUID();\n  on(elem, type, func);\n}\n/**\n * Trigger a listener only once and then turn if off for all\n * configured events\n *\n * @param {Element|Object} elem\n *        Element or object to bind to.\n *\n * @param {string|string[]} type\n *        Name/type of event\n *\n * @param {Event~EventListener} fn\n *        Event listener function\n */\n\nfunction any(elem, type, fn) {\n  var func = function func() {\n    off(elem, type, func);\n    fn.apply(this, arguments);\n  }; // copy the guid to the new function so it can removed using the original function's ID\n\n\n  func.guid = fn.guid = fn.guid || newGUID(); // multiple ons, but one off for everything\n\n  on(elem, type, func);\n}\n\nvar Events = /*#__PURE__*/Object.freeze({\n  fixEvent: fixEvent,\n  on: on,\n  off: off,\n  trigger: trigger,\n  one: one,\n  any: any\n});\n\n/**\n * @file fn.js\n * @module fn\n */\nvar UPDATE_REFRESH_INTERVAL = 30;\n/**\n * Bind (a.k.a proxy or context). A simple method for changing the context of\n * a function.\n *\n * It also stores a unique id on the function so it can be easily removed from\n * events.\n *\n * @function\n * @param    {Mixed} context\n *           The object to bind as scope.\n *\n * @param    {Function} fn\n *           The function to be bound to a scope.\n *\n * @param    {number} [uid]\n *           An optional unique ID for the function to be set\n *\n * @return   {Function}\n *           The new function that will be bound into the context given\n */\n\nvar bind = function bind(context, fn, uid) {\n  // Make sure the function has a unique ID\n  if (!fn.guid) {\n    fn.guid = newGUID();\n  } // Create the new function that changes the context\n\n\n  var bound = fn.bind(context); // Allow for the ability to individualize this function\n  // Needed in the case where multiple objects might share the same prototype\n  // IF both items add an event listener with the same function, then you try to remove just one\n  // it will remove both because they both have the same guid.\n  // when using this, you need to use the bind method when you remove the listener as well.\n  // currently used in text tracks\n\n  bound.guid = uid ? uid + '_' + fn.guid : fn.guid;\n  return bound;\n};\n/**\n * Wraps the given function, `fn`, with a new function that only invokes `fn`\n * at most once per every `wait` milliseconds.\n *\n * @function\n * @param    {Function} fn\n *           The function to be throttled.\n *\n * @param    {number}   wait\n *           The number of milliseconds by which to throttle.\n *\n * @return   {Function}\n */\n\nvar throttle = function throttle(fn, wait) {\n  var last = window$1.performance.now();\n\n  var throttled = function throttled() {\n    var now = window$1.performance.now();\n\n    if (now - last >= wait) {\n      fn.apply(void 0, arguments);\n      last = now;\n    }\n  };\n\n  return throttled;\n};\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked.\n *\n * Inspired by lodash and underscore implementations.\n *\n * @function\n * @param    {Function} func\n *           The function to wrap with debounce behavior.\n *\n * @param    {number} wait\n *           The number of milliseconds to wait after the last invocation.\n *\n * @param    {boolean} [immediate]\n *           Whether or not to invoke the function immediately upon creation.\n *\n * @param    {Object} [context=window]\n *           The \"context\" in which the debounced function should debounce. For\n *           example, if this function should be tied to a Video.js player,\n *           the player can be passed here. Alternatively, defaults to the\n *           global `window` object.\n *\n * @return   {Function}\n *           A debounced function.\n */\n\nvar debounce = function debounce(func, wait, immediate, context) {\n  if (context === void 0) {\n    context = window$1;\n  }\n\n  var timeout;\n\n  var cancel = function cancel() {\n    context.clearTimeout(timeout);\n    timeout = null;\n  };\n  /* eslint-disable consistent-this */\n\n\n  var debounced = function debounced() {\n    var self = this;\n    var args = arguments;\n\n    var _later = function later() {\n      timeout = null;\n      _later = null;\n\n      if (!immediate) {\n        func.apply(self, args);\n      }\n    };\n\n    if (!timeout && immediate) {\n      func.apply(self, args);\n    }\n\n    context.clearTimeout(timeout);\n    timeout = context.setTimeout(_later, wait);\n  };\n  /* eslint-enable consistent-this */\n\n\n  debounced.cancel = cancel;\n  return debounced;\n};\n\n/**\n * @file src/js/event-target.js\n */\n/**\n * `EventTarget` is a class that can have the same API as the DOM `EventTarget`. It\n * adds shorthand functions that wrap around lengthy functions. For example:\n * the `on` function is a wrapper around `addEventListener`.\n *\n * @see [EventTarget Spec]{@link https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget}\n * @class EventTarget\n */\n\nvar EventTarget = function EventTarget() {};\n/**\n * A Custom DOM event.\n *\n * @typedef {Object} EventTarget~Event\n * @see [Properties]{@link https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent}\n */\n\n/**\n * All event listeners should follow the following format.\n *\n * @callback EventTarget~EventListener\n * @this {EventTarget}\n *\n * @param {EventTarget~Event} event\n *        the event that triggered this function\n *\n * @param {Object} [hash]\n *        hash of data sent during the event\n */\n\n/**\n * An object containing event names as keys and booleans as values.\n *\n * > NOTE: If an event name is set to a true value here {@link EventTarget#trigger}\n *         will have extra functionality. See that function for more information.\n *\n * @property EventTarget.prototype.allowedEvents_\n * @private\n */\n\n\nEventTarget.prototype.allowedEvents_ = {};\n/**\n * Adds an `event listener` to an instance of an `EventTarget`. An `event listener` is a\n * function that will get called when an event with a certain name gets triggered.\n *\n * @param {string|string[]} type\n *        An event name or an array of event names.\n *\n * @param {EventTarget~EventListener} fn\n *        The function to call with `EventTarget`s\n */\n\nEventTarget.prototype.on = function (type, fn) {\n  // Remove the addEventListener alias before calling Events.on\n  // so we don't get into an infinite type loop\n  var ael = this.addEventListener;\n\n  this.addEventListener = function () {};\n\n  on(this, type, fn);\n  this.addEventListener = ael;\n};\n/**\n * An alias of {@link EventTarget#on}. Allows `EventTarget` to mimic\n * the standard DOM API.\n *\n * @function\n * @see {@link EventTarget#on}\n */\n\n\nEventTarget.prototype.addEventListener = EventTarget.prototype.on;\n/**\n * Removes an `event listener` for a specific event from an instance of `EventTarget`.\n * This makes it so that the `event listener` will no longer get called when the\n * named event happens.\n *\n * @param {string|string[]} type\n *        An event name or an array of event names.\n *\n * @param {EventTarget~EventListener} fn\n *        The function to remove.\n */\n\nEventTarget.prototype.off = function (type, fn) {\n  off(this, type, fn);\n};\n/**\n * An alias of {@link EventTarget#off}. Allows `EventTarget` to mimic\n * the standard DOM API.\n *\n * @function\n * @see {@link EventTarget#off}\n */\n\n\nEventTarget.prototype.removeEventListener = EventTarget.prototype.off;\n/**\n * This function will add an `event listener` that gets triggered only once. After the\n * first trigger it will get removed. This is like adding an `event listener`\n * with {@link EventTarget#on} that calls {@link EventTarget#off} on itself.\n *\n * @param {string|string[]} type\n *        An event name or an array of event names.\n *\n * @param {EventTarget~EventListener} fn\n *        The function to be called once for each event name.\n */\n\nEventTarget.prototype.one = function (type, fn) {\n  // Remove the addEventListener aliasing Events.on\n  // so we don't get into an infinite type loop\n  var ael = this.addEventListener;\n\n  this.addEventListener = function () {};\n\n  one(this, type, fn);\n  this.addEventListener = ael;\n};\n\nEventTarget.prototype.any = function (type, fn) {\n  // Remove the addEventListener aliasing Events.on\n  // so we don't get into an infinite type loop\n  var ael = this.addEventListener;\n\n  this.addEventListener = function () {};\n\n  any(this, type, fn);\n  this.addEventListener = ael;\n};\n/**\n * This function causes an event to happen. This will then cause any `event listeners`\n * that are waiting for that event, to get called. If there are no `event listeners`\n * for an event then nothing will happen.\n *\n * If the name of the `Event` that is being triggered is in `EventTarget.allowedEvents_`.\n * Trigger will also call the `on` + `uppercaseEventName` function.\n *\n * Example:\n * 'click' is in `EventTarget.allowedEvents_`, so, trigger will attempt to call\n * `onClick` if it exists.\n *\n * @param {string|EventTarget~Event|Object} event\n *        The name of the event, an `Event`, or an object with a key of type set to\n *        an event name.\n */\n\n\nEventTarget.prototype.trigger = function (event) {\n  var type = event.type || event; // deprecation\n  // In a future version we should default target to `this`\n  // similar to how we default the target to `elem` in\n  // `Events.trigger`. Right now the default `target` will be\n  // `document` due to the `Event.fixEvent` call.\n\n  if (typeof event === 'string') {\n    event = {\n      type: type\n    };\n  }\n\n  event = fixEvent(event);\n\n  if (this.allowedEvents_[type] && this['on' + type]) {\n    this['on' + type](event);\n  }\n\n  trigger(this, event);\n};\n/**\n * An alias of {@link EventTarget#trigger}. Allows `EventTarget` to mimic\n * the standard DOM API.\n *\n * @function\n * @see {@link EventTarget#trigger}\n */\n\n\nEventTarget.prototype.dispatchEvent = EventTarget.prototype.trigger;\nvar EVENT_MAP;\n\nEventTarget.prototype.queueTrigger = function (event) {\n  var _this = this;\n\n  // only set up EVENT_MAP if it'll be used\n  if (!EVENT_MAP) {\n    EVENT_MAP = new Map();\n  }\n\n  var type = event.type || event;\n  var map = EVENT_MAP.get(this);\n\n  if (!map) {\n    map = new Map();\n    EVENT_MAP.set(this, map);\n  }\n\n  var oldTimeout = map.get(type);\n  map[\"delete\"](type);\n  window$1.clearTimeout(oldTimeout);\n  var timeout = window$1.setTimeout(function () {\n    // if we cleared out all timeouts for the current target, delete its map\n    if (map.size === 0) {\n      map = null;\n      EVENT_MAP[\"delete\"](_this);\n    }\n\n    _this.trigger(event);\n  }, 0);\n  map.set(type, timeout);\n};\n\n/**\n * @file mixins/evented.js\n * @module evented\n */\n/**\n * Returns whether or not an object has had the evented mixin applied.\n *\n * @param  {Object} object\n *         An object to test.\n *\n * @return {boolean}\n *         Whether or not the object appears to be evented.\n */\n\nvar isEvented = function isEvented(object) {\n  return object instanceof EventTarget || !!object.eventBusEl_ && ['on', 'one', 'off', 'trigger'].every(function (k) {\n    return typeof object[k] === 'function';\n  });\n};\n/**\n * Adds a callback to run after the evented mixin applied.\n *\n * @param  {Object} object\n *         An object to Add\n * @param  {Function} callback\n *         The callback to run.\n */\n\n\nvar addEventedCallback = function addEventedCallback(target, callback) {\n  if (isEvented(target)) {\n    callback();\n  } else {\n    if (!target.eventedCallbacks) {\n      target.eventedCallbacks = [];\n    }\n\n    target.eventedCallbacks.push(callback);\n  }\n};\n/**\n * Whether a value is a valid event type - non-empty string or array.\n *\n * @private\n * @param  {string|Array} type\n *         The type value to test.\n *\n * @return {boolean}\n *         Whether or not the type is a valid event type.\n */\n\n\nvar isValidEventType = function isValidEventType(type) {\n  return (// The regex here verifies that the `type` contains at least one non-\n    // whitespace character.\n    typeof type === 'string' && /\\S/.test(type) || Array.isArray(type) && !!type.length\n  );\n};\n/**\n * Validates a value to determine if it is a valid event target. Throws if not.\n *\n * @private\n * @throws {Error}\n *         If the target does not appear to be a valid event target.\n *\n * @param  {Object} target\n *         The object to test.\n */\n\n\nvar validateTarget = function validateTarget(target) {\n  if (!target.nodeName && !isEvented(target)) {\n    throw new Error('Invalid target; must be a DOM node or evented object.');\n  }\n};\n/**\n * Validates a value to determine if it is a valid event target. Throws if not.\n *\n * @private\n * @throws {Error}\n *         If the type does not appear to be a valid event type.\n *\n * @param  {string|Array} type\n *         The type to test.\n */\n\n\nvar validateEventType = function validateEventType(type) {\n  if (!isValidEventType(type)) {\n    throw new Error('Invalid event type; must be a non-empty string or array.');\n  }\n};\n/**\n * Validates a value to determine if it is a valid listener. Throws if not.\n *\n * @private\n * @throws {Error}\n *         If the listener is not a function.\n *\n * @param  {Function} listener\n *         The listener to test.\n */\n\n\nvar validateListener = function validateListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new Error('Invalid listener; must be a function.');\n  }\n};\n/**\n * Takes an array of arguments given to `on()` or `one()`, validates them, and\n * normalizes them into an object.\n *\n * @private\n * @param  {Object} self\n *         The evented object on which `on()` or `one()` was called. This\n *         object will be bound as the `this` value for the listener.\n *\n * @param  {Array} args\n *         An array of arguments passed to `on()` or `one()`.\n *\n * @return {Object}\n *         An object containing useful values for `on()` or `one()` calls.\n */\n\n\nvar normalizeListenArgs = function normalizeListenArgs(self, args) {\n  // If the number of arguments is less than 3, the target is always the\n  // evented object itself.\n  var isTargetingSelf = args.length < 3 || args[0] === self || args[0] === self.eventBusEl_;\n  var target;\n  var type;\n  var listener;\n\n  if (isTargetingSelf) {\n    target = self.eventBusEl_; // Deal with cases where we got 3 arguments, but we are still listening to\n    // the evented object itself.\n\n    if (args.length >= 3) {\n      args.shift();\n    }\n\n    type = args[0];\n    listener = args[1];\n  } else {\n    target = args[0];\n    type = args[1];\n    listener = args[2];\n  }\n\n  validateTarget(target);\n  validateEventType(type);\n  validateListener(listener);\n  listener = bind(self, listener);\n  return {\n    isTargetingSelf: isTargetingSelf,\n    target: target,\n    type: type,\n    listener: listener\n  };\n};\n/**\n * Adds the listener to the event type(s) on the target, normalizing for\n * the type of target.\n *\n * @private\n * @param  {Element|Object} target\n *         A DOM node or evented object.\n *\n * @param  {string} method\n *         The event binding method to use (\"on\" or \"one\").\n *\n * @param  {string|Array} type\n *         One or more event type(s).\n *\n * @param  {Function} listener\n *         A listener function.\n */\n\n\nvar listen = function listen(target, method, type, listener) {\n  validateTarget(target);\n\n  if (target.nodeName) {\n    Events[method](target, type, listener);\n  } else {\n    target[method](type, listener);\n  }\n};\n/**\n * Contains methods that provide event capabilities to an object which is passed\n * to {@link module:evented|evented}.\n *\n * @mixin EventedMixin\n */\n\n\nvar EventedMixin = {\n  /**\n   * Add a listener to an event (or events) on this object or another evented\n   * object.\n   *\n   * @param  {string|Array|Element|Object} targetOrType\n   *         If this is a string or array, it represents the event type(s)\n   *         that will trigger the listener.\n   *\n   *         Another evented object can be passed here instead, which will\n   *         cause the listener to listen for events on _that_ object.\n   *\n   *         In either case, the listener's `this` value will be bound to\n   *         this object.\n   *\n   * @param  {string|Array|Function} typeOrListener\n   *         If the first argument was a string or array, this should be the\n   *         listener function. Otherwise, this is a string or array of event\n   *         type(s).\n   *\n   * @param  {Function} [listener]\n   *         If the first argument was another evented object, this will be\n   *         the listener function.\n   */\n  on: function on() {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _normalizeListenArgs = normalizeListenArgs(this, args),\n        isTargetingSelf = _normalizeListenArgs.isTargetingSelf,\n        target = _normalizeListenArgs.target,\n        type = _normalizeListenArgs.type,\n        listener = _normalizeListenArgs.listener;\n\n    listen(target, 'on', type, listener); // If this object is listening to another evented object.\n\n    if (!isTargetingSelf) {\n      // If this object is disposed, remove the listener.\n      var removeListenerOnDispose = function removeListenerOnDispose() {\n        return _this.off(target, type, listener);\n      }; // Use the same function ID as the listener so we can remove it later it\n      // using the ID of the original listener.\n\n\n      removeListenerOnDispose.guid = listener.guid; // Add a listener to the target's dispose event as well. This ensures\n      // that if the target is disposed BEFORE this object, we remove the\n      // removal listener that was just added. Otherwise, we create a memory leak.\n\n      var removeRemoverOnTargetDispose = function removeRemoverOnTargetDispose() {\n        return _this.off('dispose', removeListenerOnDispose);\n      }; // Use the same function ID as the listener so we can remove it later\n      // it using the ID of the original listener.\n\n\n      removeRemoverOnTargetDispose.guid = listener.guid;\n      listen(this, 'on', 'dispose', removeListenerOnDispose);\n      listen(target, 'on', 'dispose', removeRemoverOnTargetDispose);\n    }\n  },\n\n  /**\n   * Add a listener to an event (or events) on this object or another evented\n   * object. The listener will be called once per event and then removed.\n   *\n   * @param  {string|Array|Element|Object} targetOrType\n   *         If this is a string or array, it represents the event type(s)\n   *         that will trigger the listener.\n   *\n   *         Another evented object can be passed here instead, which will\n   *         cause the listener to listen for events on _that_ object.\n   *\n   *         In either case, the listener's `this` value will be bound to\n   *         this object.\n   *\n   * @param  {string|Array|Function} typeOrListener\n   *         If the first argument was a string or array, this should be the\n   *         listener function. Otherwise, this is a string or array of event\n   *         type(s).\n   *\n   * @param  {Function} [listener]\n   *         If the first argument was another evented object, this will be\n   *         the listener function.\n   */\n  one: function one() {\n    var _this2 = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var _normalizeListenArgs2 = normalizeListenArgs(this, args),\n        isTargetingSelf = _normalizeListenArgs2.isTargetingSelf,\n        target = _normalizeListenArgs2.target,\n        type = _normalizeListenArgs2.type,\n        listener = _normalizeListenArgs2.listener; // Targeting this evented object.\n\n\n    if (isTargetingSelf) {\n      listen(target, 'one', type, listener); // Targeting another evented object.\n    } else {\n      // TODO: This wrapper is incorrect! It should only\n      //       remove the wrapper for the event type that called it.\n      //       Instead all listners are removed on the first trigger!\n      //       see https://github.com/videojs/video.js/issues/5962\n      var wrapper = function wrapper() {\n        _this2.off(target, type, wrapper);\n\n        for (var _len3 = arguments.length, largs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          largs[_key3] = arguments[_key3];\n        }\n\n        listener.apply(null, largs);\n      }; // Use the same function ID as the listener so we can remove it later\n      // it using the ID of the original listener.\n\n\n      wrapper.guid = listener.guid;\n      listen(target, 'one', type, wrapper);\n    }\n  },\n\n  /**\n   * Add a listener to an event (or events) on this object or another evented\n   * object. The listener will only be called once for the first event that is triggered\n   * then removed.\n   *\n   * @param  {string|Array|Element|Object} targetOrType\n   *         If this is a string or array, it represents the event type(s)\n   *         that will trigger the listener.\n   *\n   *         Another evented object can be passed here instead, which will\n   *         cause the listener to listen for events on _that_ object.\n   *\n   *         In either case, the listener's `this` value will be bound to\n   *         this object.\n   *\n   * @param  {string|Array|Function} typeOrListener\n   *         If the first argument was a string or array, this should be the\n   *         listener function. Otherwise, this is a string or array of event\n   *         type(s).\n   *\n   * @param  {Function} [listener]\n   *         If the first argument was another evented object, this will be\n   *         the listener function.\n   */\n  any: function any() {\n    var _this3 = this;\n\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    var _normalizeListenArgs3 = normalizeListenArgs(this, args),\n        isTargetingSelf = _normalizeListenArgs3.isTargetingSelf,\n        target = _normalizeListenArgs3.target,\n        type = _normalizeListenArgs3.type,\n        listener = _normalizeListenArgs3.listener; // Targeting this evented object.\n\n\n    if (isTargetingSelf) {\n      listen(target, 'any', type, listener); // Targeting another evented object.\n    } else {\n      var wrapper = function wrapper() {\n        _this3.off(target, type, wrapper);\n\n        for (var _len5 = arguments.length, largs = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n          largs[_key5] = arguments[_key5];\n        }\n\n        listener.apply(null, largs);\n      }; // Use the same function ID as the listener so we can remove it later\n      // it using the ID of the original listener.\n\n\n      wrapper.guid = listener.guid;\n      listen(target, 'any', type, wrapper);\n    }\n  },\n\n  /**\n   * Removes listener(s) from event(s) on an evented object.\n   *\n   * @param  {string|Array|Element|Object} [targetOrType]\n   *         If this is a string or array, it represents the event type(s).\n   *\n   *         Another evented object can be passed here instead, in which case\n   *         ALL 3 arguments are _required_.\n   *\n   * @param  {string|Array|Function} [typeOrListener]\n   *         If the first argument was a string or array, this may be the\n   *         listener function. Otherwise, this is a string or array of event\n   *         type(s).\n   *\n   * @param  {Function} [listener]\n   *         If the first argument was another evented object, this will be\n   *         the listener function; otherwise, _all_ listeners bound to the\n   *         event type(s) will be removed.\n   */\n  off: function off$1(targetOrType, typeOrListener, listener) {\n    // Targeting this evented object.\n    if (!targetOrType || isValidEventType(targetOrType)) {\n      off(this.eventBusEl_, targetOrType, typeOrListener); // Targeting another evented object.\n    } else {\n      var target = targetOrType;\n      var type = typeOrListener; // Fail fast and in a meaningful way!\n\n      validateTarget(target);\n      validateEventType(type);\n      validateListener(listener); // Ensure there's at least a guid, even if the function hasn't been used\n\n      listener = bind(this, listener); // Remove the dispose listener on this evented object, which was given\n      // the same guid as the event listener in on().\n\n      this.off('dispose', listener);\n\n      if (target.nodeName) {\n        off(target, type, listener);\n        off(target, 'dispose', listener);\n      } else if (isEvented(target)) {\n        target.off(type, listener);\n        target.off('dispose', listener);\n      }\n    }\n  },\n\n  /**\n   * Fire an event on this evented object, causing its listeners to be called.\n   *\n   * @param   {string|Object} event\n   *          An event type or an object with a type property.\n   *\n   * @param   {Object} [hash]\n   *          An additional object to pass along to listeners.\n   *\n   * @return {boolean}\n   *          Whether or not the default behavior was prevented.\n   */\n  trigger: function trigger$1(event, hash) {\n    return trigger(this.eventBusEl_, event, hash);\n  }\n};\n/**\n * Applies {@link module:evented~EventedMixin|EventedMixin} to a target object.\n *\n * @param  {Object} target\n *         The object to which to add event methods.\n *\n * @param  {Object} [options={}]\n *         Options for customizing the mixin behavior.\n *\n * @param  {string} [options.eventBusKey]\n *         By default, adds a `eventBusEl_` DOM element to the target object,\n *         which is used as an event bus. If the target object already has a\n *         DOM element that should be used, pass its key here.\n *\n * @return {Object}\n *         The target object.\n */\n\nfunction evented(target, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      eventBusKey = _options.eventBusKey; // Set or create the eventBusEl_.\n\n  if (eventBusKey) {\n    if (!target[eventBusKey].nodeName) {\n      throw new Error(\"The eventBusKey \\\"\" + eventBusKey + \"\\\" does not refer to an element.\");\n    }\n\n    target.eventBusEl_ = target[eventBusKey];\n  } else {\n    target.eventBusEl_ = createEl('span', {\n      className: 'vjs-event-bus'\n    });\n  }\n\n  assign(target, EventedMixin);\n\n  if (target.eventedCallbacks) {\n    target.eventedCallbacks.forEach(function (callback) {\n      callback();\n    });\n  } // When any evented object is disposed, it removes all its listeners.\n\n\n  target.on('dispose', function () {\n    target.off();\n    window$1.setTimeout(function () {\n      target.eventBusEl_ = null;\n    }, 0);\n  });\n  return target;\n}\n\n/**\n * @file mixins/stateful.js\n * @module stateful\n */\n/**\n * Contains methods that provide statefulness to an object which is passed\n * to {@link module:stateful}.\n *\n * @mixin StatefulMixin\n */\n\nvar StatefulMixin = {\n  /**\n   * A hash containing arbitrary keys and values representing the state of\n   * the object.\n   *\n   * @type {Object}\n   */\n  state: {},\n\n  /**\n   * Set the state of an object by mutating its\n   * {@link module:stateful~StatefulMixin.state|state} object in place.\n   *\n   * @fires   module:stateful~StatefulMixin#statechanged\n   * @param   {Object|Function} stateUpdates\n   *          A new set of properties to shallow-merge into the plugin state.\n   *          Can be a plain object or a function returning a plain object.\n   *\n   * @return {Object|undefined}\n   *          An object containing changes that occurred. If no changes\n   *          occurred, returns `undefined`.\n   */\n  setState: function setState(stateUpdates) {\n    var _this = this;\n\n    // Support providing the `stateUpdates` state as a function.\n    if (typeof stateUpdates === 'function') {\n      stateUpdates = stateUpdates();\n    }\n\n    var changes;\n    each(stateUpdates, function (value, key) {\n      // Record the change if the value is different from what's in the\n      // current state.\n      if (_this.state[key] !== value) {\n        changes = changes || {};\n        changes[key] = {\n          from: _this.state[key],\n          to: value\n        };\n      }\n\n      _this.state[key] = value;\n    }); // Only trigger \"statechange\" if there were changes AND we have a trigger\n    // function. This allows us to not require that the target object be an\n    // evented object.\n\n    if (changes && isEvented(this)) {\n      /**\n       * An event triggered on an object that is both\n       * {@link module:stateful|stateful} and {@link module:evented|evented}\n       * indicating that its state has changed.\n       *\n       * @event    module:stateful~StatefulMixin#statechanged\n       * @type     {Object}\n       * @property {Object} changes\n       *           A hash containing the properties that were changed and\n       *           the values they were changed `from` and `to`.\n       */\n      this.trigger({\n        changes: changes,\n        type: 'statechanged'\n      });\n    }\n\n    return changes;\n  }\n};\n/**\n * Applies {@link module:stateful~StatefulMixin|StatefulMixin} to a target\n * object.\n *\n * If the target object is {@link module:evented|evented} and has a\n * `handleStateChanged` method, that method will be automatically bound to the\n * `statechanged` event on itself.\n *\n * @param   {Object} target\n *          The object to be made stateful.\n *\n * @param   {Object} [defaultState]\n *          A default set of properties to populate the newly-stateful object's\n *          `state` property.\n *\n * @return {Object}\n *          Returns the `target`.\n */\n\nfunction stateful(target, defaultState) {\n  assign(target, StatefulMixin); // This happens after the mixing-in because we need to replace the `state`\n  // added in that step.\n\n  target.state = assign({}, target.state, defaultState); // Auto-bind the `handleStateChanged` method of the target object if it exists.\n\n  if (typeof target.handleStateChanged === 'function' && isEvented(target)) {\n    target.on('statechanged', target.handleStateChanged);\n  }\n\n  return target;\n}\n\n/**\n * @file string-cases.js\n * @module to-lower-case\n */\n\n/**\n * Lowercase the first letter of a string.\n *\n * @param {string} string\n *        String to be lowercased\n *\n * @return {string}\n *         The string with a lowercased first letter\n */\nvar toLowerCase = function toLowerCase(string) {\n  if (typeof string !== 'string') {\n    return string;\n  }\n\n  return string.replace(/./, function (w) {\n    return w.toLowerCase();\n  });\n};\n/**\n * Uppercase the first letter of a string.\n *\n * @param {string} string\n *        String to be uppercased\n *\n * @return {string}\n *         The string with an uppercased first letter\n */\n\nvar toTitleCase = function toTitleCase(string) {\n  if (typeof string !== 'string') {\n    return string;\n  }\n\n  return string.replace(/./, function (w) {\n    return w.toUpperCase();\n  });\n};\n/**\n * Compares the TitleCase versions of the two strings for equality.\n *\n * @param {string} str1\n *        The first string to compare\n *\n * @param {string} str2\n *        The second string to compare\n *\n * @return {boolean}\n *         Whether the TitleCase versions of the strings are equal\n */\n\nvar titleCaseEquals = function titleCaseEquals(str1, str2) {\n  return toTitleCase(str1) === toTitleCase(str2);\n};\n\n/**\n * @file merge-options.js\n * @module merge-options\n */\n/**\n * Merge two objects recursively.\n *\n * Performs a deep merge like\n * {@link https://lodash.com/docs/4.17.10#merge|lodash.merge}, but only merges\n * plain objects (not arrays, elements, or anything else).\n *\n * Non-plain object values will be copied directly from the right-most\n * argument.\n *\n * @static\n * @param   {Object[]} sources\n *          One or more objects to merge into a new object.\n *\n * @return {Object}\n *          A new object that is the merged result of all sources.\n */\n\nfunction mergeOptions() {\n  var result = {};\n\n  for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n\n  sources.forEach(function (source) {\n    if (!source) {\n      return;\n    }\n\n    each(source, function (value, key) {\n      if (!isPlain(value)) {\n        result[key] = value;\n        return;\n      }\n\n      if (!isPlain(result[key])) {\n        result[key] = {};\n      }\n\n      result[key] = mergeOptions(result[key], value);\n    });\n  });\n  return result;\n}\n\n/**\n * Player Component - Base class for all UI objects\n *\n * @file component.js\n */\n/**\n * Base class for all UI Components.\n * Components are UI objects which represent both a javascript object and an element\n * in the DOM. They can be children of other components, and can have\n * children themselves.\n *\n * Components can also use methods from {@link EventTarget}\n */\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  /**\n   * A callback that is called when a component is ready. Does not have any\n   * paramters and any callback value will be ignored.\n   *\n   * @callback Component~ReadyCallback\n   * @this Component\n   */\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Object[]} [options.children]\n   *        An array of children objects to intialize this component with. Children objects have\n   *        a name property that will be used if more than one component of the same type needs to be\n   *        added.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        Function that gets called when the `Component` is ready.\n   */\n  function Component(player, options, ready) {\n    // The component might be the player itself and we can't pass `this` to super\n    if (!player && this.play) {\n      this.player_ = player = this; // eslint-disable-line\n    } else {\n      this.player_ = player;\n    } // Hold the reference to the parent component via `addChild` method\n\n\n    this.parentComponent_ = null; // Make a copy of prototype.options_ to protect against overriding defaults\n\n    this.options_ = mergeOptions({}, this.options_); // Updated options with supplied options\n\n    options = this.options_ = mergeOptions(this.options_, options); // Get ID from options or options element if one is supplied\n\n    this.id_ = options.id || options.el && options.el.id; // If there was no ID from the options, generate one\n\n    if (!this.id_) {\n      // Don't require the player ID function in the case of mock players\n      var id = player && player.id && player.id() || 'no_player';\n      this.id_ = id + \"_component_\" + newGUID();\n    }\n\n    this.name_ = options.name || null; // Create element if one wasn't provided in options\n\n    if (options.el) {\n      this.el_ = options.el;\n    } else if (options.createEl !== false) {\n      this.el_ = this.createEl();\n    } // if evented is anything except false, we want to mixin in evented\n\n\n    if (options.evented !== false) {\n      // Make this an evented object and use `el_`, if available, as its event bus\n      evented(this, {\n        eventBusKey: this.el_ ? 'el_' : null\n      });\n    }\n\n    stateful(this, this.constructor.defaultState);\n    this.children_ = [];\n    this.childIndex_ = {};\n    this.childNameIndex_ = {};\n    this.setTimeoutIds_ = new Set();\n    this.setIntervalIds_ = new Set();\n    this.rafIds_ = new Set();\n    this.clearingTimersOnDispose_ = false; // Add any child components in options\n\n    if (options.initChildren !== false) {\n      this.initChildren();\n    }\n\n    this.ready(ready); // Don't want to trigger ready here or it will before init is actually\n    // finished for all children that run this constructor\n\n    if (options.reportTouchActivity !== false) {\n      this.enableTouchActivity();\n    }\n  }\n  /**\n   * Dispose of the `Component` and all child components.\n   *\n   * @fires Component#dispose\n   */\n\n\n  var _proto = Component.prototype;\n\n  _proto.dispose = function dispose() {\n    /**\n     * Triggered when a `Component` is disposed.\n     *\n     * @event Component#dispose\n     * @type {EventTarget~Event}\n     *\n     * @property {boolean} [bubbles=false]\n     *           set to false so that the close event does not\n     *           bubble up\n     */\n    this.trigger({\n      type: 'dispose',\n      bubbles: false\n    }); // Dispose all children.\n\n    if (this.children_) {\n      for (var i = this.children_.length - 1; i >= 0; i--) {\n        if (this.children_[i].dispose) {\n          this.children_[i].dispose();\n        }\n      }\n    } // Delete child references\n\n\n    this.children_ = null;\n    this.childIndex_ = null;\n    this.childNameIndex_ = null;\n    this.parentComponent_ = null;\n\n    if (this.el_) {\n      // Remove element from DOM\n      if (this.el_.parentNode) {\n        this.el_.parentNode.removeChild(this.el_);\n      }\n\n      if (DomData.has(this.el_)) {\n        DomData[\"delete\"](this.el_);\n      }\n\n      this.el_ = null;\n    } // remove reference to the player after disposing of the element\n\n\n    this.player_ = null;\n  }\n  /**\n   * Return the {@link Player} that the `Component` has attached to.\n   *\n   * @return {Player}\n   *         The player that this `Component` has attached to.\n   */\n  ;\n\n  _proto.player = function player() {\n    return this.player_;\n  }\n  /**\n   * Deep merge of options objects with new options.\n   * > Note: When both `obj` and `options` contain properties whose values are objects.\n   *         The two properties get merged using {@link module:mergeOptions}\n   *\n   * @param {Object} obj\n   *        The object that contains new options.\n   *\n   * @return {Object}\n   *         A new object of `this.options_` and `obj` merged together.\n   */\n  ;\n\n  _proto.options = function options(obj) {\n    if (!obj) {\n      return this.options_;\n    }\n\n    this.options_ = mergeOptions(this.options_, obj);\n    return this.options_;\n  }\n  /**\n   * Get the `Component`s DOM element\n   *\n   * @return {Element}\n   *         The DOM element for this `Component`.\n   */\n  ;\n\n  _proto.el = function el() {\n    return this.el_;\n  }\n  /**\n   * Create the `Component`s DOM element.\n   *\n   * @param {string} [tagName]\n   *        Element's DOM node type. e.g. 'div'\n   *\n   * @param {Object} [properties]\n   *        An object of properties that should be set.\n   *\n   * @param {Object} [attributes]\n   *        An object of attributes that should be set.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl$1(tagName, properties, attributes) {\n    return createEl(tagName, properties, attributes);\n  }\n  /**\n   * Localize a string given the string in english.\n   *\n   * If tokens are provided, it'll try and run a simple token replacement on the provided string.\n   * The tokens it looks for look like `{1}` with the index being 1-indexed into the tokens array.\n   *\n   * If a `defaultValue` is provided, it'll use that over `string`,\n   * if a value isn't found in provided language files.\n   * This is useful if you want to have a descriptive key for token replacement\n   * but have a succinct localized string and not require `en.json` to be included.\n   *\n   * Currently, it is used for the progress bar timing.\n   * ```js\n   * {\n   *   \"progress bar timing: currentTime={1} duration={2}\": \"{1} of {2}\"\n   * }\n   * ```\n   * It is then used like so:\n   * ```js\n   * this.localize('progress bar timing: currentTime={1} duration{2}',\n   *               [this.player_.currentTime(), this.player_.duration()],\n   *               '{1} of {2}');\n   * ```\n   *\n   * Which outputs something like: `01:23 of 24:56`.\n   *\n   *\n   * @param {string} string\n   *        The string to localize and the key to lookup in the language files.\n   * @param {string[]} [tokens]\n   *        If the current item has token replacements, provide the tokens here.\n   * @param {string} [defaultValue]\n   *        Defaults to `string`. Can be a default value to use for token replacement\n   *        if the lookup key is needed to be separate.\n   *\n   * @return {string}\n   *         The localized string or if no localization exists the english string.\n   */\n  ;\n\n  _proto.localize = function localize(string, tokens, defaultValue) {\n    if (defaultValue === void 0) {\n      defaultValue = string;\n    }\n\n    var code = this.player_.language && this.player_.language();\n    var languages = this.player_.languages && this.player_.languages();\n    var language = languages && languages[code];\n    var primaryCode = code && code.split('-')[0];\n    var primaryLang = languages && languages[primaryCode];\n    var localizedString = defaultValue;\n\n    if (language && language[string]) {\n      localizedString = language[string];\n    } else if (primaryLang && primaryLang[string]) {\n      localizedString = primaryLang[string];\n    }\n\n    if (tokens) {\n      localizedString = localizedString.replace(/\\{(\\d+)\\}/g, function (match, index) {\n        var value = tokens[index - 1];\n        var ret = value;\n\n        if (typeof value === 'undefined') {\n          ret = match;\n        }\n\n        return ret;\n      });\n    }\n\n    return localizedString;\n  }\n  /**\n   * Return the `Component`s DOM element. This is where children get inserted.\n   * This will usually be the the same as the element returned in {@link Component#el}.\n   *\n   * @return {Element}\n   *         The content element for this `Component`.\n   */\n  ;\n\n  _proto.contentEl = function contentEl() {\n    return this.contentEl_ || this.el_;\n  }\n  /**\n   * Get this `Component`s ID\n   *\n   * @return {string}\n   *         The id of this `Component`\n   */\n  ;\n\n  _proto.id = function id() {\n    return this.id_;\n  }\n  /**\n   * Get the `Component`s name. The name gets used to reference the `Component`\n   * and is set during registration.\n   *\n   * @return {string}\n   *         The name of this `Component`.\n   */\n  ;\n\n  _proto.name = function name() {\n    return this.name_;\n  }\n  /**\n   * Get an array of all child components\n   *\n   * @return {Array}\n   *         The children\n   */\n  ;\n\n  _proto.children = function children() {\n    return this.children_;\n  }\n  /**\n   * Returns the child `Component` with the given `id`.\n   *\n   * @param {string} id\n   *        The id of the child `Component` to get.\n   *\n   * @return {Component|undefined}\n   *         The child `Component` with the given `id` or undefined.\n   */\n  ;\n\n  _proto.getChildById = function getChildById(id) {\n    return this.childIndex_[id];\n  }\n  /**\n   * Returns the child `Component` with the given `name`.\n   *\n   * @param {string} name\n   *        The name of the child `Component` to get.\n   *\n   * @return {Component|undefined}\n   *         The child `Component` with the given `name` or undefined.\n   */\n  ;\n\n  _proto.getChild = function getChild(name) {\n    if (!name) {\n      return;\n    }\n\n    return this.childNameIndex_[name];\n  }\n  /**\n   * Add a child `Component` inside the current `Component`.\n   *\n   *\n   * @param {string|Component} child\n   *        The name or instance of a child to add.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of options that will get passed to children of\n   *        the child.\n   *\n   * @param {number} [index=this.children_.length]\n   *        The index to attempt to add a child into.\n   *\n   * @return {Component}\n   *         The `Component` that gets added as a child. When using a string the\n   *         `Component` will get created by this process.\n   */\n  ;\n\n  _proto.addChild = function addChild(child, options, index) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (index === void 0) {\n      index = this.children_.length;\n    }\n\n    var component;\n    var componentName; // If child is a string, create component with options\n\n    if (typeof child === 'string') {\n      componentName = toTitleCase(child);\n      var componentClassName = options.componentClass || componentName; // Set name through options\n\n      options.name = componentName; // Create a new object & element for this controls set\n      // If there's no .player_, this is a player\n\n      var ComponentClass = Component.getComponent(componentClassName);\n\n      if (!ComponentClass) {\n        throw new Error(\"Component \" + componentClassName + \" does not exist\");\n      } // data stored directly on the videojs object may be\n      // misidentified as a component to retain\n      // backwards-compatibility with 4.x. check to make sure the\n      // component class can be instantiated.\n\n\n      if (typeof ComponentClass !== 'function') {\n        return null;\n      }\n\n      component = new ComponentClass(this.player_ || this, options); // child is a component instance\n    } else {\n      component = child;\n    }\n\n    if (component.parentComponent_) {\n      component.parentComponent_.removeChild(component);\n    }\n\n    this.children_.splice(index, 0, component);\n    component.parentComponent_ = this;\n\n    if (typeof component.id === 'function') {\n      this.childIndex_[component.id()] = component;\n    } // If a name wasn't used to create the component, check if we can use the\n    // name function of the component\n\n\n    componentName = componentName || component.name && toTitleCase(component.name());\n\n    if (componentName) {\n      this.childNameIndex_[componentName] = component;\n      this.childNameIndex_[toLowerCase(componentName)] = component;\n    } // Add the UI object's element to the container div (box)\n    // Having an element is not required\n\n\n    if (typeof component.el === 'function' && component.el()) {\n      var childNodes = this.contentEl().children;\n      var refNode = childNodes[index] || null;\n      this.contentEl().insertBefore(component.el(), refNode);\n    } // Return so it can stored on parent object if desired.\n\n\n    return component;\n  }\n  /**\n   * Remove a child `Component` from this `Component`s list of children. Also removes\n   * the child `Component`s element from this `Component`s element.\n   *\n   * @param {Component} component\n   *        The child `Component` to remove.\n   */\n  ;\n\n  _proto.removeChild = function removeChild(component) {\n    if (typeof component === 'string') {\n      component = this.getChild(component);\n    }\n\n    if (!component || !this.children_) {\n      return;\n    }\n\n    var childFound = false;\n\n    for (var i = this.children_.length - 1; i >= 0; i--) {\n      if (this.children_[i] === component) {\n        childFound = true;\n        this.children_.splice(i, 1);\n        break;\n      }\n    }\n\n    if (!childFound) {\n      return;\n    }\n\n    component.parentComponent_ = null;\n    this.childIndex_[component.id()] = null;\n    this.childNameIndex_[toTitleCase(component.name())] = null;\n    this.childNameIndex_[toLowerCase(component.name())] = null;\n    var compEl = component.el();\n\n    if (compEl && compEl.parentNode === this.contentEl()) {\n      this.contentEl().removeChild(component.el());\n    }\n  }\n  /**\n   * Add and initialize default child `Component`s based upon options.\n   */\n  ;\n\n  _proto.initChildren = function initChildren() {\n    var _this = this;\n\n    var children = this.options_.children;\n\n    if (children) {\n      // `this` is `parent`\n      var parentOptions = this.options_;\n\n      var handleAdd = function handleAdd(child) {\n        var name = child.name;\n        var opts = child.opts; // Allow options for children to be set at the parent options\n        // e.g. videojs(id, { controlBar: false });\n        // instead of videojs(id, { children: { controlBar: false });\n\n        if (parentOptions[name] !== undefined) {\n          opts = parentOptions[name];\n        } // Allow for disabling default components\n        // e.g. options['children']['posterImage'] = false\n\n\n        if (opts === false) {\n          return;\n        } // Allow options to be passed as a simple boolean if no configuration\n        // is necessary.\n\n\n        if (opts === true) {\n          opts = {};\n        } // We also want to pass the original player options\n        // to each component as well so they don't need to\n        // reach back into the player for options later.\n\n\n        opts.playerOptions = _this.options_.playerOptions; // Create and add the child component.\n        // Add a direct reference to the child by name on the parent instance.\n        // If two of the same component are used, different names should be supplied\n        // for each\n\n        var newChild = _this.addChild(name, opts);\n\n        if (newChild) {\n          _this[name] = newChild;\n        }\n      }; // Allow for an array of children details to passed in the options\n\n\n      var workingChildren;\n      var Tech = Component.getComponent('Tech');\n\n      if (Array.isArray(children)) {\n        workingChildren = children;\n      } else {\n        workingChildren = Object.keys(children);\n      }\n\n      workingChildren // children that are in this.options_ but also in workingChildren  would\n      // give us extra children we do not want. So, we want to filter them out.\n      .concat(Object.keys(this.options_).filter(function (child) {\n        return !workingChildren.some(function (wchild) {\n          if (typeof wchild === 'string') {\n            return child === wchild;\n          }\n\n          return child === wchild.name;\n        });\n      })).map(function (child) {\n        var name;\n        var opts;\n\n        if (typeof child === 'string') {\n          name = child;\n          opts = children[name] || _this.options_[name] || {};\n        } else {\n          name = child.name;\n          opts = child;\n        }\n\n        return {\n          name: name,\n          opts: opts\n        };\n      }).filter(function (child) {\n        // we have to make sure that child.name isn't in the techOrder since\n        // techs are registerd as Components but can't aren't compatible\n        // See https://github.com/videojs/video.js/issues/2772\n        var c = Component.getComponent(child.opts.componentClass || toTitleCase(child.name));\n        return c && !Tech.isTech(c);\n      }).forEach(handleAdd);\n    }\n  }\n  /**\n   * Builds the default DOM class name. Should be overriden by sub-components.\n   *\n   * @return {string}\n   *         The DOM class name for this object.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    // Child classes can include a function that does:\n    // return 'CLASS NAME' + this._super();\n    return '';\n  }\n  /**\n   * Bind a listener to the component's ready state.\n   * Different from event listeners in that if the ready event has already happened\n   * it will trigger the function immediately.\n   *\n   * @return {Component}\n   *         Returns itself; method can be chained.\n   */\n  ;\n\n  _proto.ready = function ready(fn, sync) {\n    if (sync === void 0) {\n      sync = false;\n    }\n\n    if (!fn) {\n      return;\n    }\n\n    if (!this.isReady_) {\n      this.readyQueue_ = this.readyQueue_ || [];\n      this.readyQueue_.push(fn);\n      return;\n    }\n\n    if (sync) {\n      fn.call(this);\n    } else {\n      // Call the function asynchronously by default for consistency\n      this.setTimeout(fn, 1);\n    }\n  }\n  /**\n   * Trigger all the ready listeners for this `Component`.\n   *\n   * @fires Component#ready\n   */\n  ;\n\n  _proto.triggerReady = function triggerReady() {\n    this.isReady_ = true; // Ensure ready is triggered asynchronously\n\n    this.setTimeout(function () {\n      var readyQueue = this.readyQueue_; // Reset Ready Queue\n\n      this.readyQueue_ = [];\n\n      if (readyQueue && readyQueue.length > 0) {\n        readyQueue.forEach(function (fn) {\n          fn.call(this);\n        }, this);\n      } // Allow for using event listeners also\n\n      /**\n       * Triggered when a `Component` is ready.\n       *\n       * @event Component#ready\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger('ready');\n    }, 1);\n  }\n  /**\n   * Find a single DOM element matching a `selector`. This can be within the `Component`s\n   * `contentEl()` or another custom context.\n   *\n   * @param {string} selector\n   *        A valid CSS selector, which will be passed to `querySelector`.\n   *\n   * @param {Element|string} [context=this.contentEl()]\n   *        A DOM element within which to query. Can also be a selector string in\n   *        which case the first matching element will get used as context. If\n   *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns\n   *        nothing it falls back to `document`.\n   *\n   * @return {Element|null}\n   *         the dom element that was found, or null\n   *\n   * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)\n   */\n  ;\n\n  _proto.$ = function $$1(selector, context) {\n    return $(selector, context || this.contentEl());\n  }\n  /**\n   * Finds all DOM element matching a `selector`. This can be within the `Component`s\n   * `contentEl()` or another custom context.\n   *\n   * @param {string} selector\n   *        A valid CSS selector, which will be passed to `querySelectorAll`.\n   *\n   * @param {Element|string} [context=this.contentEl()]\n   *        A DOM element within which to query. Can also be a selector string in\n   *        which case the first matching element will get used as context. If\n   *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns\n   *        nothing it falls back to `document`.\n   *\n   * @return {NodeList}\n   *         a list of dom elements that were found\n   *\n   * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)\n   */\n  ;\n\n  _proto.$$ = function $$$1(selector, context) {\n    return $$(selector, context || this.contentEl());\n  }\n  /**\n   * Check if a component's element has a CSS class name.\n   *\n   * @param {string} classToCheck\n   *        CSS class name to check.\n   *\n   * @return {boolean}\n   *         - True if the `Component` has the class.\n   *         - False if the `Component` does not have the class`\n   */\n  ;\n\n  _proto.hasClass = function hasClass$1(classToCheck) {\n    return hasClass(this.el_, classToCheck);\n  }\n  /**\n   * Add a CSS class name to the `Component`s element.\n   *\n   * @param {string} classToAdd\n   *        CSS class name to add\n   */\n  ;\n\n  _proto.addClass = function addClass$1(classToAdd) {\n    addClass(this.el_, classToAdd);\n  }\n  /**\n   * Remove a CSS class name from the `Component`s element.\n   *\n   * @param {string} classToRemove\n   *        CSS class name to remove\n   */\n  ;\n\n  _proto.removeClass = function removeClass$1(classToRemove) {\n    removeClass(this.el_, classToRemove);\n  }\n  /**\n   * Add or remove a CSS class name from the component's element.\n   * - `classToToggle` gets added when {@link Component#hasClass} would return false.\n   * - `classToToggle` gets removed when {@link Component#hasClass} would return true.\n   *\n   * @param  {string} classToToggle\n   *         The class to add or remove based on (@link Component#hasClass}\n   *\n   * @param  {boolean|Dom~predicate} [predicate]\n   *         An {@link Dom~predicate} function or a boolean\n   */\n  ;\n\n  _proto.toggleClass = function toggleClass$1(classToToggle, predicate) {\n    toggleClass(this.el_, classToToggle, predicate);\n  }\n  /**\n   * Show the `Component`s element if it is hidden by removing the\n   * 'vjs-hidden' class name from it.\n   */\n  ;\n\n  _proto.show = function show() {\n    this.removeClass('vjs-hidden');\n  }\n  /**\n   * Hide the `Component`s element if it is currently showing by adding the\n   * 'vjs-hidden` class name to it.\n   */\n  ;\n\n  _proto.hide = function hide() {\n    this.addClass('vjs-hidden');\n  }\n  /**\n   * Lock a `Component`s element in its visible state by adding the 'vjs-lock-showing'\n   * class name to it. Used during fadeIn/fadeOut.\n   *\n   * @private\n   */\n  ;\n\n  _proto.lockShowing = function lockShowing() {\n    this.addClass('vjs-lock-showing');\n  }\n  /**\n   * Unlock a `Component`s element from its visible state by removing the 'vjs-lock-showing'\n   * class name from it. Used during fadeIn/fadeOut.\n   *\n   * @private\n   */\n  ;\n\n  _proto.unlockShowing = function unlockShowing() {\n    this.removeClass('vjs-lock-showing');\n  }\n  /**\n   * Get the value of an attribute on the `Component`s element.\n   *\n   * @param {string} attribute\n   *        Name of the attribute to get the value from.\n   *\n   * @return {string|null}\n   *         - The value of the attribute that was asked for.\n   *         - Can be an empty string on some browsers if the attribute does not exist\n   *           or has no value\n   *         - Most browsers will return null if the attibute does not exist or has\n   *           no value.\n   *\n   * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute}\n   */\n  ;\n\n  _proto.getAttribute = function getAttribute$1(attribute) {\n    return getAttribute(this.el_, attribute);\n  }\n  /**\n   * Set the value of an attribute on the `Component`'s element\n   *\n   * @param {string} attribute\n   *        Name of the attribute to set.\n   *\n   * @param {string} value\n   *        Value to set the attribute to.\n   *\n   * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute}\n   */\n  ;\n\n  _proto.setAttribute = function setAttribute$1(attribute, value) {\n    setAttribute(this.el_, attribute, value);\n  }\n  /**\n   * Remove an attribute from the `Component`s element.\n   *\n   * @param {string} attribute\n   *        Name of the attribute to remove.\n   *\n   * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute}\n   */\n  ;\n\n  _proto.removeAttribute = function removeAttribute$1(attribute) {\n    removeAttribute(this.el_, attribute);\n  }\n  /**\n   * Get or set the width of the component based upon the CSS styles.\n   * See {@link Component#dimension} for more detailed information.\n   *\n   * @param {number|string} [num]\n   *        The width that you want to set postfixed with '%', 'px' or nothing.\n   *\n   * @param {boolean} [skipListeners]\n   *        Skip the componentresize event trigger\n   *\n   * @return {number|string}\n   *         The width when getting, zero if there is no width. Can be a string\n   *           postpixed with '%' or 'px'.\n   */\n  ;\n\n  _proto.width = function width(num, skipListeners) {\n    return this.dimension('width', num, skipListeners);\n  }\n  /**\n   * Get or set the height of the component based upon the CSS styles.\n   * See {@link Component#dimension} for more detailed information.\n   *\n   * @param {number|string} [num]\n   *        The height that you want to set postfixed with '%', 'px' or nothing.\n   *\n   * @param {boolean} [skipListeners]\n   *        Skip the componentresize event trigger\n   *\n   * @return {number|string}\n   *         The width when getting, zero if there is no width. Can be a string\n   *         postpixed with '%' or 'px'.\n   */\n  ;\n\n  _proto.height = function height(num, skipListeners) {\n    return this.dimension('height', num, skipListeners);\n  }\n  /**\n   * Set both the width and height of the `Component` element at the same time.\n   *\n   * @param  {number|string} width\n   *         Width to set the `Component`s element to.\n   *\n   * @param  {number|string} height\n   *         Height to set the `Component`s element to.\n   */\n  ;\n\n  _proto.dimensions = function dimensions(width, height) {\n    // Skip componentresize listeners on width for optimization\n    this.width(width, true);\n    this.height(height);\n  }\n  /**\n   * Get or set width or height of the `Component` element. This is the shared code\n   * for the {@link Component#width} and {@link Component#height}.\n   *\n   * Things to know:\n   * - If the width or height in an number this will return the number postfixed with 'px'.\n   * - If the width/height is a percent this will return the percent postfixed with '%'\n   * - Hidden elements have a width of 0 with `window.getComputedStyle`. This function\n   *   defaults to the `Component`s `style.width` and falls back to `window.getComputedStyle`.\n   *   See [this]{@link http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/}\n   *   for more information\n   * - If you want the computed style of the component, use {@link Component#currentWidth}\n   *   and {@link {Component#currentHeight}\n   *\n   * @fires Component#componentresize\n   *\n   * @param {string} widthOrHeight\n   8        'width' or 'height'\n   *\n   * @param  {number|string} [num]\n   8         New dimension\n   *\n   * @param  {boolean} [skipListeners]\n   *         Skip componentresize event trigger\n   *\n   * @return {number}\n   *         The dimension when getting or 0 if unset\n   */\n  ;\n\n  _proto.dimension = function dimension(widthOrHeight, num, skipListeners) {\n    if (num !== undefined) {\n      // Set to zero if null or literally NaN (NaN !== NaN)\n      if (num === null || num !== num) {\n        num = 0;\n      } // Check if using css width/height (% or px) and adjust\n\n\n      if (('' + num).indexOf('%') !== -1 || ('' + num).indexOf('px') !== -1) {\n        this.el_.style[widthOrHeight] = num;\n      } else if (num === 'auto') {\n        this.el_.style[widthOrHeight] = '';\n      } else {\n        this.el_.style[widthOrHeight] = num + 'px';\n      } // skipListeners allows us to avoid triggering the resize event when setting both width and height\n\n\n      if (!skipListeners) {\n        /**\n         * Triggered when a component is resized.\n         *\n         * @event Component#componentresize\n         * @type {EventTarget~Event}\n         */\n        this.trigger('componentresize');\n      }\n\n      return;\n    } // Not setting a value, so getting it\n    // Make sure element exists\n\n\n    if (!this.el_) {\n      return 0;\n    } // Get dimension value from style\n\n\n    var val = this.el_.style[widthOrHeight];\n    var pxIndex = val.indexOf('px');\n\n    if (pxIndex !== -1) {\n      // Return the pixel value with no 'px'\n      return parseInt(val.slice(0, pxIndex), 10);\n    } // No px so using % or no style was set, so falling back to offsetWidth/height\n    // If component has display:none, offset will return 0\n    // TODO: handle display:none and no dimension style using px\n\n\n    return parseInt(this.el_['offset' + toTitleCase(widthOrHeight)], 10);\n  }\n  /**\n   * Get the computed width or the height of the component's element.\n   *\n   * Uses `window.getComputedStyle`.\n   *\n   * @param {string} widthOrHeight\n   *        A string containing 'width' or 'height'. Whichever one you want to get.\n   *\n   * @return {number}\n   *         The dimension that gets asked for or 0 if nothing was set\n   *         for that dimension.\n   */\n  ;\n\n  _proto.currentDimension = function currentDimension(widthOrHeight) {\n    var computedWidthOrHeight = 0;\n\n    if (widthOrHeight !== 'width' && widthOrHeight !== 'height') {\n      throw new Error('currentDimension only accepts width or height value');\n    }\n\n    computedWidthOrHeight = computedStyle(this.el_, widthOrHeight); // remove 'px' from variable and parse as integer\n\n    computedWidthOrHeight = parseFloat(computedWidthOrHeight); // if the computed value is still 0, it's possible that the browser is lying\n    // and we want to check the offset values.\n    // This code also runs wherever getComputedStyle doesn't exist.\n\n    if (computedWidthOrHeight === 0 || isNaN(computedWidthOrHeight)) {\n      var rule = \"offset\" + toTitleCase(widthOrHeight);\n      computedWidthOrHeight = this.el_[rule];\n    }\n\n    return computedWidthOrHeight;\n  }\n  /**\n   * An object that contains width and height values of the `Component`s\n   * computed style. Uses `window.getComputedStyle`.\n   *\n   * @typedef {Object} Component~DimensionObject\n   *\n   * @property {number} width\n   *           The width of the `Component`s computed style.\n   *\n   * @property {number} height\n   *           The height of the `Component`s computed style.\n   */\n\n  /**\n   * Get an object that contains computed width and height values of the\n   * component's element.\n   *\n   * Uses `window.getComputedStyle`.\n   *\n   * @return {Component~DimensionObject}\n   *         The computed dimensions of the component's element.\n   */\n  ;\n\n  _proto.currentDimensions = function currentDimensions() {\n    return {\n      width: this.currentDimension('width'),\n      height: this.currentDimension('height')\n    };\n  }\n  /**\n   * Get the computed width of the component's element.\n   *\n   * Uses `window.getComputedStyle`.\n   *\n   * @return {number}\n   *         The computed width of the component's element.\n   */\n  ;\n\n  _proto.currentWidth = function currentWidth() {\n    return this.currentDimension('width');\n  }\n  /**\n   * Get the computed height of the component's element.\n   *\n   * Uses `window.getComputedStyle`.\n   *\n   * @return {number}\n   *         The computed height of the component's element.\n   */\n  ;\n\n  _proto.currentHeight = function currentHeight() {\n    return this.currentDimension('height');\n  }\n  /**\n   * Set the focus to this component\n   */\n  ;\n\n  _proto.focus = function focus() {\n    this.el_.focus();\n  }\n  /**\n   * Remove the focus from this component\n   */\n  ;\n\n  _proto.blur = function blur() {\n    this.el_.blur();\n  }\n  /**\n   * When this Component receives a `keydown` event which it does not process,\n   *  it passes the event to the Player for handling.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    if (this.player_) {\n      // We only stop propagation here because we want unhandled events to fall\n      // back to the browser.\n      event.stopPropagation();\n      this.player_.handleKeyDown(event);\n    }\n  }\n  /**\n   * Many components used to have a `handleKeyPress` method, which was poorly\n   * named because it listened to a `keydown` event. This method name now\n   * delegates to `handleKeyDown`. This means anyone calling `handleKeyPress`\n   * will not see their method calls stop working.\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to be called.\n   */\n  ;\n\n  _proto.handleKeyPress = function handleKeyPress(event) {\n    this.handleKeyDown(event);\n  }\n  /**\n   * Emit a 'tap' events when touch event support gets detected. This gets used to\n   * support toggling the controls through a tap on the video. They get enabled\n   * because every sub-component would have extra overhead otherwise.\n   *\n   * @private\n   * @fires Component#tap\n   * @listens Component#touchstart\n   * @listens Component#touchmove\n   * @listens Component#touchleave\n   * @listens Component#touchcancel\n   * @listens Component#touchend\n    */\n  ;\n\n  _proto.emitTapEvents = function emitTapEvents() {\n    // Track the start time so we can determine how long the touch lasted\n    var touchStart = 0;\n    var firstTouch = null; // Maximum movement allowed during a touch event to still be considered a tap\n    // Other popular libs use anywhere from 2 (hammer.js) to 15,\n    // so 10 seems like a nice, round number.\n\n    var tapMovementThreshold = 10; // The maximum length a touch can be while still being considered a tap\n\n    var touchTimeThreshold = 200;\n    var couldBeTap;\n    this.on('touchstart', function (event) {\n      // If more than one finger, don't consider treating this as a click\n      if (event.touches.length === 1) {\n        // Copy pageX/pageY from the object\n        firstTouch = {\n          pageX: event.touches[0].pageX,\n          pageY: event.touches[0].pageY\n        }; // Record start time so we can detect a tap vs. \"touch and hold\"\n\n        touchStart = window$1.performance.now(); // Reset couldBeTap tracking\n\n        couldBeTap = true;\n      }\n    });\n    this.on('touchmove', function (event) {\n      // If more than one finger, don't consider treating this as a click\n      if (event.touches.length > 1) {\n        couldBeTap = false;\n      } else if (firstTouch) {\n        // Some devices will throw touchmoves for all but the slightest of taps.\n        // So, if we moved only a small distance, this could still be a tap\n        var xdiff = event.touches[0].pageX - firstTouch.pageX;\n        var ydiff = event.touches[0].pageY - firstTouch.pageY;\n        var touchDistance = Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n\n        if (touchDistance > tapMovementThreshold) {\n          couldBeTap = false;\n        }\n      }\n    });\n\n    var noTap = function noTap() {\n      couldBeTap = false;\n    }; // TODO: Listen to the original target. http://youtu.be/DujfpXOKUp8?t=13m8s\n\n\n    this.on('touchleave', noTap);\n    this.on('touchcancel', noTap); // When the touch ends, measure how long it took and trigger the appropriate\n    // event\n\n    this.on('touchend', function (event) {\n      firstTouch = null; // Proceed only if the touchmove/leave/cancel event didn't happen\n\n      if (couldBeTap === true) {\n        // Measure how long the touch lasted\n        var touchTime = window$1.performance.now() - touchStart; // Make sure the touch was less than the threshold to be considered a tap\n\n        if (touchTime < touchTimeThreshold) {\n          // Don't let browser turn this into a click\n          event.preventDefault();\n          /**\n           * Triggered when a `Component` is tapped.\n           *\n           * @event Component#tap\n           * @type {EventTarget~Event}\n           */\n\n          this.trigger('tap'); // It may be good to copy the touchend event object and change the\n          // type to tap, if the other event properties aren't exact after\n          // Events.fixEvent runs (e.g. event.target)\n        }\n      }\n    });\n  }\n  /**\n   * This function reports user activity whenever touch events happen. This can get\n   * turned off by any sub-components that wants touch events to act another way.\n   *\n   * Report user touch activity when touch events occur. User activity gets used to\n   * determine when controls should show/hide. It is simple when it comes to mouse\n   * events, because any mouse event should show the controls. So we capture mouse\n   * events that bubble up to the player and report activity when that happens.\n   * With touch events it isn't as easy as `touchstart` and `touchend` toggle player\n   * controls. So touch events can't help us at the player level either.\n   *\n   * User activity gets checked asynchronously. So what could happen is a tap event\n   * on the video turns the controls off. Then the `touchend` event bubbles up to\n   * the player. Which, if it reported user activity, would turn the controls right\n   * back on. We also don't want to completely block touch events from bubbling up.\n   * Furthermore a `touchmove` event and anything other than a tap, should not turn\n   * controls back on.\n   *\n   * @listens Component#touchstart\n   * @listens Component#touchmove\n   * @listens Component#touchend\n   * @listens Component#touchcancel\n   */\n  ;\n\n  _proto.enableTouchActivity = function enableTouchActivity() {\n    // Don't continue if the root player doesn't support reporting user activity\n    if (!this.player() || !this.player().reportUserActivity) {\n      return;\n    } // listener for reporting that the user is active\n\n\n    var report = bind(this.player(), this.player().reportUserActivity);\n    var touchHolding;\n    this.on('touchstart', function () {\n      report(); // For as long as the they are touching the device or have their mouse down,\n      // we consider them active even if they're not moving their finger or mouse.\n      // So we want to continue to update that they are active\n\n      this.clearInterval(touchHolding); // report at the same interval as activityCheck\n\n      touchHolding = this.setInterval(report, 250);\n    });\n\n    var touchEnd = function touchEnd(event) {\n      report(); // stop the interval that maintains activity if the touch is holding\n\n      this.clearInterval(touchHolding);\n    };\n\n    this.on('touchmove', report);\n    this.on('touchend', touchEnd);\n    this.on('touchcancel', touchEnd);\n  }\n  /**\n   * A callback that has no parameters and is bound into `Component`s context.\n   *\n   * @callback Component~GenericCallback\n   * @this Component\n   */\n\n  /**\n   * Creates a function that runs after an `x` millisecond timeout. This function is a\n   * wrapper around `window.setTimeout`. There are a few reasons to use this one\n   * instead though:\n   * 1. It gets cleared via  {@link Component#clearTimeout} when\n   *    {@link Component#dispose} gets called.\n   * 2. The function callback will gets turned into a {@link Component~GenericCallback}\n   *\n   * > Note: You can't use `window.clearTimeout` on the id returned by this function. This\n   *         will cause its dispose listener not to get cleaned up! Please use\n   *         {@link Component#clearTimeout} or {@link Component#dispose} instead.\n   *\n   * @param {Component~GenericCallback} fn\n   *        The function that will be run after `timeout`.\n   *\n   * @param {number} timeout\n   *        Timeout in milliseconds to delay before executing the specified function.\n   *\n   * @return {number}\n   *         Returns a timeout ID that gets used to identify the timeout. It can also\n   *         get used in {@link Component#clearTimeout} to clear the timeout that\n   *         was set.\n   *\n   * @listens Component#dispose\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout}\n   */\n  ;\n\n  _proto.setTimeout = function setTimeout(fn, timeout) {\n    var _this2 = this;\n\n    // declare as variables so they are properly available in timeout function\n    // eslint-disable-next-line\n    var timeoutId;\n    fn = bind(this, fn);\n    this.clearTimersOnDispose_();\n    timeoutId = window$1.setTimeout(function () {\n      if (_this2.setTimeoutIds_.has(timeoutId)) {\n        _this2.setTimeoutIds_[\"delete\"](timeoutId);\n      }\n\n      fn();\n    }, timeout);\n    this.setTimeoutIds_.add(timeoutId);\n    return timeoutId;\n  }\n  /**\n   * Clears a timeout that gets created via `window.setTimeout` or\n   * {@link Component#setTimeout}. If you set a timeout via {@link Component#setTimeout}\n   * use this function instead of `window.clearTimout`. If you don't your dispose\n   * listener will not get cleaned up until {@link Component#dispose}!\n   *\n   * @param {number} timeoutId\n   *        The id of the timeout to clear. The return value of\n   *        {@link Component#setTimeout} or `window.setTimeout`.\n   *\n   * @return {number}\n   *         Returns the timeout id that was cleared.\n   *\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearTimeout}\n   */\n  ;\n\n  _proto.clearTimeout = function clearTimeout(timeoutId) {\n    if (this.setTimeoutIds_.has(timeoutId)) {\n      this.setTimeoutIds_[\"delete\"](timeoutId);\n      window$1.clearTimeout(timeoutId);\n    }\n\n    return timeoutId;\n  }\n  /**\n   * Creates a function that gets run every `x` milliseconds. This function is a wrapper\n   * around `window.setInterval`. There are a few reasons to use this one instead though.\n   * 1. It gets cleared via  {@link Component#clearInterval} when\n   *    {@link Component#dispose} gets called.\n   * 2. The function callback will be a {@link Component~GenericCallback}\n   *\n   * @param {Component~GenericCallback} fn\n   *        The function to run every `x` seconds.\n   *\n   * @param {number} interval\n   *        Execute the specified function every `x` milliseconds.\n   *\n   * @return {number}\n   *         Returns an id that can be used to identify the interval. It can also be be used in\n   *         {@link Component#clearInterval} to clear the interval.\n   *\n   * @listens Component#dispose\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval}\n   */\n  ;\n\n  _proto.setInterval = function setInterval(fn, interval) {\n    fn = bind(this, fn);\n    this.clearTimersOnDispose_();\n    var intervalId = window$1.setInterval(fn, interval);\n    this.setIntervalIds_.add(intervalId);\n    return intervalId;\n  }\n  /**\n   * Clears an interval that gets created via `window.setInterval` or\n   * {@link Component#setInterval}. If you set an inteval via {@link Component#setInterval}\n   * use this function instead of `window.clearInterval`. If you don't your dispose\n   * listener will not get cleaned up until {@link Component#dispose}!\n   *\n   * @param {number} intervalId\n   *        The id of the interval to clear. The return value of\n   *        {@link Component#setInterval} or `window.setInterval`.\n   *\n   * @return {number}\n   *         Returns the interval id that was cleared.\n   *\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearInterval}\n   */\n  ;\n\n  _proto.clearInterval = function clearInterval(intervalId) {\n    if (this.setIntervalIds_.has(intervalId)) {\n      this.setIntervalIds_[\"delete\"](intervalId);\n      window$1.clearInterval(intervalId);\n    }\n\n    return intervalId;\n  }\n  /**\n   * Queues up a callback to be passed to requestAnimationFrame (rAF), but\n   * with a few extra bonuses:\n   *\n   * - Supports browsers that do not support rAF by falling back to\n   *   {@link Component#setTimeout}.\n   *\n   * - The callback is turned into a {@link Component~GenericCallback} (i.e.\n   *   bound to the component).\n   *\n   * - Automatic cancellation of the rAF callback is handled if the component\n   *   is disposed before it is called.\n   *\n   * @param  {Component~GenericCallback} fn\n   *         A function that will be bound to this component and executed just\n   *         before the browser's next repaint.\n   *\n   * @return {number}\n   *         Returns an rAF ID that gets used to identify the timeout. It can\n   *         also be used in {@link Component#cancelAnimationFrame} to cancel\n   *         the animation frame callback.\n   *\n   * @listens Component#dispose\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame}\n   */\n  ;\n\n  _proto.requestAnimationFrame = function requestAnimationFrame(fn) {\n    var _this3 = this;\n\n    // Fall back to using a timer.\n    if (!this.supportsRaf_) {\n      return this.setTimeout(fn, 1000 / 60);\n    }\n\n    this.clearTimersOnDispose_(); // declare as variables so they are properly available in rAF function\n    // eslint-disable-next-line\n\n    var id;\n    fn = bind(this, fn);\n    id = window$1.requestAnimationFrame(function () {\n      if (_this3.rafIds_.has(id)) {\n        _this3.rafIds_[\"delete\"](id);\n      }\n\n      fn();\n    });\n    this.rafIds_.add(id);\n    return id;\n  }\n  /**\n   * Cancels a queued callback passed to {@link Component#requestAnimationFrame}\n   * (rAF).\n   *\n   * If you queue an rAF callback via {@link Component#requestAnimationFrame},\n   * use this function instead of `window.cancelAnimationFrame`. If you don't,\n   * your dispose listener will not get cleaned up until {@link Component#dispose}!\n   *\n   * @param {number} id\n   *        The rAF ID to clear. The return value of {@link Component#requestAnimationFrame}.\n   *\n   * @return {number}\n   *         Returns the rAF ID that was cleared.\n   *\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/cancelAnimationFrame}\n   */\n  ;\n\n  _proto.cancelAnimationFrame = function cancelAnimationFrame(id) {\n    // Fall back to using a timer.\n    if (!this.supportsRaf_) {\n      return this.clearTimeout(id);\n    }\n\n    if (this.rafIds_.has(id)) {\n      this.rafIds_[\"delete\"](id);\n      window$1.cancelAnimationFrame(id);\n    }\n\n    return id;\n  }\n  /**\n   * A function to setup `requestAnimationFrame`, `setTimeout`,\n   * and `setInterval`, clearing on dispose.\n   *\n   * > Previously each timer added and removed dispose listeners on it's own.\n   * For better performance it was decided to batch them all, and use `Set`s\n   * to track outstanding timer ids.\n   *\n   * @private\n   */\n  ;\n\n  _proto.clearTimersOnDispose_ = function clearTimersOnDispose_() {\n    var _this4 = this;\n\n    if (this.clearingTimersOnDispose_) {\n      return;\n    }\n\n    this.clearingTimersOnDispose_ = true;\n    this.one('dispose', function () {\n      [['rafIds_', 'cancelAnimationFrame'], ['setTimeoutIds_', 'clearTimeout'], ['setIntervalIds_', 'clearInterval']].forEach(function (_ref) {\n        var idName = _ref[0],\n            cancelName = _ref[1];\n\n        _this4[idName].forEach(_this4[cancelName], _this4);\n      });\n      _this4.clearingTimersOnDispose_ = false;\n    });\n  }\n  /**\n   * Register a `Component` with `videojs` given the name and the component.\n   *\n   * > NOTE: {@link Tech}s should not be registered as a `Component`. {@link Tech}s\n   *         should be registered using {@link Tech.registerTech} or\n   *         {@link videojs:videojs.registerTech}.\n   *\n   * > NOTE: This function can also be seen on videojs as\n   *         {@link videojs:videojs.registerComponent}.\n   *\n   * @param {string} name\n   *        The name of the `Component` to register.\n   *\n   * @param {Component} ComponentToRegister\n   *        The `Component` class to register.\n   *\n   * @return {Component}\n   *         The `Component` that was registered.\n   */\n  ;\n\n  Component.registerComponent = function registerComponent(name, ComponentToRegister) {\n    if (typeof name !== 'string' || !name) {\n      throw new Error(\"Illegal component name, \\\"\" + name + \"\\\"; must be a non-empty string.\");\n    }\n\n    var Tech = Component.getComponent('Tech'); // We need to make sure this check is only done if Tech has been registered.\n\n    var isTech = Tech && Tech.isTech(ComponentToRegister);\n    var isComp = Component === ComponentToRegister || Component.prototype.isPrototypeOf(ComponentToRegister.prototype);\n\n    if (isTech || !isComp) {\n      var reason;\n\n      if (isTech) {\n        reason = 'techs must be registered using Tech.registerTech()';\n      } else {\n        reason = 'must be a Component subclass';\n      }\n\n      throw new Error(\"Illegal component, \\\"\" + name + \"\\\"; \" + reason + \".\");\n    }\n\n    name = toTitleCase(name);\n\n    if (!Component.components_) {\n      Component.components_ = {};\n    }\n\n    var Player = Component.getComponent('Player');\n\n    if (name === 'Player' && Player && Player.players) {\n      var players = Player.players;\n      var playerNames = Object.keys(players); // If we have players that were disposed, then their name will still be\n      // in Players.players. So, we must loop through and verify that the value\n      // for each item is not null. This allows registration of the Player component\n      // after all players have been disposed or before any were created.\n\n      if (players && playerNames.length > 0 && playerNames.map(function (pname) {\n        return players[pname];\n      }).every(Boolean)) {\n        throw new Error('Can not register Player component after player has been created.');\n      }\n    }\n\n    Component.components_[name] = ComponentToRegister;\n    Component.components_[toLowerCase(name)] = ComponentToRegister;\n    return ComponentToRegister;\n  }\n  /**\n   * Get a `Component` based on the name it was registered with.\n   *\n   * @param {string} name\n   *        The Name of the component to get.\n   *\n   * @return {Component}\n   *         The `Component` that got registered under the given name.\n   *\n   * @deprecated In `videojs` 6 this will not return `Component`s that were not\n   *             registered using {@link Component.registerComponent}. Currently we\n   *             check the global `videojs` object for a `Component` name and\n   *             return that if it exists.\n   */\n  ;\n\n  Component.getComponent = function getComponent(name) {\n    if (!name || !Component.components_) {\n      return;\n    }\n\n    return Component.components_[name];\n  };\n\n  return Component;\n}();\n/**\n * Whether or not this component supports `requestAnimationFrame`.\n *\n * This is exposed primarily for testing purposes.\n *\n * @private\n * @type {Boolean}\n */\n\n\nComponent.prototype.supportsRaf_ = typeof window$1.requestAnimationFrame === 'function' && typeof window$1.cancelAnimationFrame === 'function';\nComponent.registerComponent('Component', Component);\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\n/**\n * @file browser.js\n * @module browser\n */\nvar USER_AGENT = window$1.navigator && window$1.navigator.userAgent || '';\nvar webkitVersionMap = /AppleWebKit\\/([\\d.]+)/i.exec(USER_AGENT);\nvar appleWebkitVersion = webkitVersionMap ? parseFloat(webkitVersionMap.pop()) : null;\n/**\n * Whether or not this device is an iPad.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_IPAD = /iPad/i.test(USER_AGENT);\n/**\n * Whether or not this device is an iPhone.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n// The Facebook app's UIWebView identifies as both an iPhone and iPad, so\n// to identify iPhones, we need to exclude iPads.\n// http://artsy.github.io/blog/2012/10/18/the-perils-of-ios-user-agent-sniffing/\n\nvar IS_IPHONE = /iPhone/i.test(USER_AGENT) && !IS_IPAD;\n/**\n * Whether or not this device is an iPod.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_IPOD = /iPod/i.test(USER_AGENT);\n/**\n * Whether or not this is an iOS device.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD;\n/**\n * The detected iOS version - or `null`.\n *\n * @static\n * @const\n * @type {string|null}\n */\n\nvar IOS_VERSION = function () {\n  var match = USER_AGENT.match(/OS (\\d+)_/i);\n\n  if (match && match[1]) {\n    return match[1];\n  }\n\n  return null;\n}();\n/**\n * Whether or not this is an Android device.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_ANDROID = /Android/i.test(USER_AGENT);\n/**\n * The detected Android version - or `null`.\n *\n * @static\n * @const\n * @type {number|string|null}\n */\n\nvar ANDROID_VERSION = function () {\n  // This matches Android Major.Minor.Patch versions\n  // ANDROID_VERSION is Major.Minor as a Number, if Minor isn't available, then only Major is returned\n  var match = USER_AGENT.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i);\n\n  if (!match) {\n    return null;\n  }\n\n  var major = match[1] && parseFloat(match[1]);\n  var minor = match[2] && parseFloat(match[2]);\n\n  if (major && minor) {\n    return parseFloat(match[1] + '.' + match[2]);\n  } else if (major) {\n    return major;\n  }\n\n  return null;\n}();\n/**\n * Whether or not this is a native Android browser.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_NATIVE_ANDROID = IS_ANDROID && ANDROID_VERSION < 5 && appleWebkitVersion < 537;\n/**\n * Whether or not this is Mozilla Firefox.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_FIREFOX = /Firefox/i.test(USER_AGENT);\n/**\n * Whether or not this is Microsoft Edge.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_EDGE = /Edge/i.test(USER_AGENT);\n/**\n * Whether or not this is Google Chrome.\n *\n * This will also be `true` for Chrome on iOS, which will have different support\n * as it is actually Safari under the hood.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_CHROME = !IS_EDGE && (/Chrome/i.test(USER_AGENT) || /CriOS/i.test(USER_AGENT));\n/**\n * The detected Google Chrome version - or `null`.\n *\n * @static\n * @const\n * @type {number|null}\n */\n\nvar CHROME_VERSION = function () {\n  var match = USER_AGENT.match(/(Chrome|CriOS)\\/(\\d+)/);\n\n  if (match && match[2]) {\n    return parseFloat(match[2]);\n  }\n\n  return null;\n}();\n/**\n * The detected Internet Explorer version - or `null`.\n *\n * @static\n * @const\n * @type {number|null}\n */\n\nvar IE_VERSION = function () {\n  var result = /MSIE\\s(\\d+)\\.\\d/.exec(USER_AGENT);\n  var version = result && parseFloat(result[1]);\n\n  if (!version && /Trident\\/7.0/i.test(USER_AGENT) && /rv:11.0/.test(USER_AGENT)) {\n    // IE 11 has a different user agent string than other IE versions\n    version = 11.0;\n  }\n\n  return version;\n}();\n/**\n * Whether or not this is desktop Safari.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_SAFARI = /Safari/i.test(USER_AGENT) && !IS_CHROME && !IS_ANDROID && !IS_EDGE;\n/**\n * Whether or not this is any flavor of Safari - including iOS.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_ANY_SAFARI = (IS_SAFARI || IS_IOS) && !IS_CHROME;\n/**\n * Whether or not this is a Windows machine.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_WINDOWS = /Windows/i.test(USER_AGENT);\n/**\n * Whether or not this device is touch-enabled.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar TOUCH_ENABLED = isReal() && ('ontouchstart' in window$1 || window$1.navigator.maxTouchPoints || window$1.DocumentTouch && window$1.document instanceof window$1.DocumentTouch);\n\nvar browser = /*#__PURE__*/Object.freeze({\n  IS_IPAD: IS_IPAD,\n  IS_IPHONE: IS_IPHONE,\n  IS_IPOD: IS_IPOD,\n  IS_IOS: IS_IOS,\n  IOS_VERSION: IOS_VERSION,\n  IS_ANDROID: IS_ANDROID,\n  ANDROID_VERSION: ANDROID_VERSION,\n  IS_NATIVE_ANDROID: IS_NATIVE_ANDROID,\n  IS_FIREFOX: IS_FIREFOX,\n  IS_EDGE: IS_EDGE,\n  IS_CHROME: IS_CHROME,\n  CHROME_VERSION: CHROME_VERSION,\n  IE_VERSION: IE_VERSION,\n  IS_SAFARI: IS_SAFARI,\n  IS_ANY_SAFARI: IS_ANY_SAFARI,\n  IS_WINDOWS: IS_WINDOWS,\n  TOUCH_ENABLED: TOUCH_ENABLED\n});\n\n/**\n * @file time-ranges.js\n * @module time-ranges\n */\n\n/**\n * Returns the time for the specified index at the start or end\n * of a TimeRange object.\n *\n * @typedef    {Function} TimeRangeIndex\n *\n * @param      {number} [index=0]\n *             The range number to return the time for.\n *\n * @return     {number}\n *             The time offset at the specified index.\n *\n * @deprecated The index argument must be provided.\n *             In the future, leaving it out will throw an error.\n */\n\n/**\n * An object that contains ranges of time.\n *\n * @typedef  {Object} TimeRange\n *\n * @property {number} length\n *           The number of time ranges represented by this object.\n *\n * @property {module:time-ranges~TimeRangeIndex} start\n *           Returns the time offset at which a specified time range begins.\n *\n * @property {module:time-ranges~TimeRangeIndex} end\n *           Returns the time offset at which a specified time range ends.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges\n */\n\n/**\n * Check if any of the time ranges are over the maximum index.\n *\n * @private\n * @param   {string} fnName\n *          The function name to use for logging\n *\n * @param   {number} index\n *          The index to check\n *\n * @param   {number} maxIndex\n *          The maximum possible index\n *\n * @throws  {Error} if the timeRanges provided are over the maxIndex\n */\nfunction rangeCheck(fnName, index, maxIndex) {\n  if (typeof index !== 'number' || index < 0 || index > maxIndex) {\n    throw new Error(\"Failed to execute '\" + fnName + \"' on 'TimeRanges': The index provided (\" + index + \") is non-numeric or out of bounds (0-\" + maxIndex + \").\");\n  }\n}\n/**\n * Get the time for the specified index at the start or end\n * of a TimeRange object.\n *\n * @private\n * @param      {string} fnName\n *             The function name to use for logging\n *\n * @param      {string} valueIndex\n *             The property that should be used to get the time. should be\n *             'start' or 'end'\n *\n * @param      {Array} ranges\n *             An array of time ranges\n *\n * @param      {Array} [rangeIndex=0]\n *             The index to start the search at\n *\n * @return     {number}\n *             The time that offset at the specified index.\n *\n * @deprecated rangeIndex must be set to a value, in the future this will throw an error.\n * @throws     {Error} if rangeIndex is more than the length of ranges\n */\n\n\nfunction getRange(fnName, valueIndex, ranges, rangeIndex) {\n  rangeCheck(fnName, rangeIndex, ranges.length - 1);\n  return ranges[rangeIndex][valueIndex];\n}\n/**\n * Create a time range object given ranges of time.\n *\n * @private\n * @param   {Array} [ranges]\n *          An array of time ranges.\n */\n\n\nfunction createTimeRangesObj(ranges) {\n  if (ranges === undefined || ranges.length === 0) {\n    return {\n      length: 0,\n      start: function start() {\n        throw new Error('This TimeRanges object is empty');\n      },\n      end: function end() {\n        throw new Error('This TimeRanges object is empty');\n      }\n    };\n  }\n\n  return {\n    length: ranges.length,\n    start: getRange.bind(null, 'start', 0, ranges),\n    end: getRange.bind(null, 'end', 1, ranges)\n  };\n}\n/**\n * Create a `TimeRange` object which mimics an\n * {@link https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges|HTML5 TimeRanges instance}.\n *\n * @param {number|Array[]} start\n *        The start of a single range (a number) or an array of ranges (an\n *        array of arrays of two numbers each).\n *\n * @param {number} end\n *        The end of a single range. Cannot be used with the array form of\n *        the `start` argument.\n */\n\n\nfunction createTimeRanges(start, end) {\n  if (Array.isArray(start)) {\n    return createTimeRangesObj(start);\n  } else if (start === undefined || end === undefined) {\n    return createTimeRangesObj();\n  }\n\n  return createTimeRangesObj([[start, end]]);\n}\n\n/**\n * @file buffer.js\n * @module buffer\n */\n/**\n * Compute the percentage of the media that has been buffered.\n *\n * @param {TimeRange} buffered\n *        The current `TimeRange` object representing buffered time ranges\n *\n * @param {number} duration\n *        Total duration of the media\n *\n * @return {number}\n *         Percent buffered of the total duration in decimal form.\n */\n\nfunction bufferedPercent(buffered, duration) {\n  var bufferedDuration = 0;\n  var start;\n  var end;\n\n  if (!duration) {\n    return 0;\n  }\n\n  if (!buffered || !buffered.length) {\n    buffered = createTimeRanges(0, 0);\n  }\n\n  for (var i = 0; i < buffered.length; i++) {\n    start = buffered.start(i);\n    end = buffered.end(i); // buffered end can be bigger than duration by a very small fraction\n\n    if (end > duration) {\n      end = duration;\n    }\n\n    bufferedDuration += end - start;\n  }\n\n  return bufferedDuration / duration;\n}\n\n/**\n * @file fullscreen-api.js\n * @module fullscreen-api\n * @private\n */\n/**\n * Store the browser-specific methods for the fullscreen API.\n *\n * @type {Object}\n * @see [Specification]{@link https://fullscreen.spec.whatwg.org}\n * @see [Map Approach From Screenfull.js]{@link https://github.com/sindresorhus/screenfull.js}\n */\n\nvar FullscreenApi = {\n  prefixed: true\n}; // browser API methods\n\nvar apiMap = [['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror', 'fullscreen'], // WebKit\n['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror', '-webkit-full-screen'], // Mozilla\n['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror', '-moz-full-screen'], // Microsoft\n['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError', '-ms-fullscreen']];\nvar specApi = apiMap[0];\nvar browserApi; // determine the supported set of functions\n\nfor (var i = 0; i < apiMap.length; i++) {\n  // check for exitFullscreen function\n  if (apiMap[i][1] in document) {\n    browserApi = apiMap[i];\n    break;\n  }\n} // map the browser API names to the spec API names\n\n\nif (browserApi) {\n  for (var _i = 0; _i < browserApi.length; _i++) {\n    FullscreenApi[specApi[_i]] = browserApi[_i];\n  }\n\n  FullscreenApi.prefixed = browserApi[0] !== specApi[0];\n}\n\n/**\n * @file media-error.js\n */\n/**\n * A Custom `MediaError` class which mimics the standard HTML5 `MediaError` class.\n *\n * @param {number|string|Object|MediaError} value\n *        This can be of multiple types:\n *        - number: should be a standard error code\n *        - string: an error message (the code will be 0)\n *        - Object: arbitrary properties\n *        - `MediaError` (native): used to populate a video.js `MediaError` object\n *        - `MediaError` (video.js): will return itself if it's already a\n *          video.js `MediaError` object.\n *\n * @see [MediaError Spec]{@link https://dev.w3.org/html5/spec-author-view/video.html#mediaerror}\n * @see [Encrypted MediaError Spec]{@link https://www.w3.org/TR/2013/WD-encrypted-media-20130510/#error-codes}\n *\n * @class MediaError\n */\n\nfunction MediaError(value) {\n  // Allow redundant calls to this constructor to avoid having `instanceof`\n  // checks peppered around the code.\n  if (value instanceof MediaError) {\n    return value;\n  }\n\n  if (typeof value === 'number') {\n    this.code = value;\n  } else if (typeof value === 'string') {\n    // default code is zero, so this is a custom error\n    this.message = value;\n  } else if (isObject(value)) {\n    // We assign the `code` property manually because native `MediaError` objects\n    // do not expose it as an own/enumerable property of the object.\n    if (typeof value.code === 'number') {\n      this.code = value.code;\n    }\n\n    assign(this, value);\n  }\n\n  if (!this.message) {\n    this.message = MediaError.defaultMessages[this.code] || '';\n  }\n}\n/**\n * The error code that refers two one of the defined `MediaError` types\n *\n * @type {Number}\n */\n\n\nMediaError.prototype.code = 0;\n/**\n * An optional message that to show with the error. Message is not part of the HTML5\n * video spec but allows for more informative custom errors.\n *\n * @type {String}\n */\n\nMediaError.prototype.message = '';\n/**\n * An optional status code that can be set by plugins to allow even more detail about\n * the error. For example a plugin might provide a specific HTTP status code and an\n * error message for that code. Then when the plugin gets that error this class will\n * know how to display an error message for it. This allows a custom message to show\n * up on the `Player` error overlay.\n *\n * @type {Array}\n */\n\nMediaError.prototype.status = null;\n/**\n * Errors indexed by the W3C standard. The order **CANNOT CHANGE**! See the\n * specification listed under {@link MediaError} for more information.\n *\n * @enum {array}\n * @readonly\n * @property {string} 0 - MEDIA_ERR_CUSTOM\n * @property {string} 1 - MEDIA_ERR_ABORTED\n * @property {string} 2 - MEDIA_ERR_NETWORK\n * @property {string} 3 - MEDIA_ERR_DECODE\n * @property {string} 4 - MEDIA_ERR_SRC_NOT_SUPPORTED\n * @property {string} 5 - MEDIA_ERR_ENCRYPTED\n */\n\nMediaError.errorTypes = ['MEDIA_ERR_CUSTOM', 'MEDIA_ERR_ABORTED', 'MEDIA_ERR_NETWORK', 'MEDIA_ERR_DECODE', 'MEDIA_ERR_SRC_NOT_SUPPORTED', 'MEDIA_ERR_ENCRYPTED'];\n/**\n * The default `MediaError` messages based on the {@link MediaError.errorTypes}.\n *\n * @type {Array}\n * @constant\n */\n\nMediaError.defaultMessages = {\n  1: 'You aborted the media playback',\n  2: 'A network error caused the media download to fail part-way.',\n  3: 'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.',\n  4: 'The media could not be loaded, either because the server or network failed or because the format is not supported.',\n  5: 'The media is encrypted and we do not have the keys to decrypt it.'\n}; // Add types as properties on MediaError\n// e.g. MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED = 4;\n\nfor (var errNum = 0; errNum < MediaError.errorTypes.length; errNum++) {\n  MediaError[MediaError.errorTypes[errNum]] = errNum; // values should be accessible on both the class and instance\n\n  MediaError.prototype[MediaError.errorTypes[errNum]] = errNum;\n} // jsdocs for instance/static members added above\n\n/**\n * Returns whether an object is `Promise`-like (i.e. has a `then` method).\n *\n * @param  {Object}  value\n *         An object that may or may not be `Promise`-like.\n *\n * @return {boolean}\n *         Whether or not the object is `Promise`-like.\n */\nfunction isPromise(value) {\n  return value !== undefined && value !== null && typeof value.then === 'function';\n}\n/**\n * Silence a Promise-like object.\n *\n * This is useful for avoiding non-harmful, but potentially confusing \"uncaught\n * play promise\" rejection error messages.\n *\n * @param  {Object} value\n *         An object that may or may not be `Promise`-like.\n */\n\nfunction silencePromise(value) {\n  if (isPromise(value)) {\n    value.then(null, function (e) {});\n  }\n}\n\n/**\n * @file text-track-list-converter.js Utilities for capturing text track state and\n * re-creating tracks based on a capture.\n *\n * @module text-track-list-converter\n */\n\n/**\n * Examine a single {@link TextTrack} and return a JSON-compatible javascript object that\n * represents the {@link TextTrack}'s state.\n *\n * @param {TextTrack} track\n *        The text track to query.\n *\n * @return {Object}\n *         A serializable javascript representation of the TextTrack.\n * @private\n */\nvar trackToJson_ = function trackToJson_(track) {\n  var ret = ['kind', 'label', 'language', 'id', 'inBandMetadataTrackDispatchType', 'mode', 'src'].reduce(function (acc, prop, i) {\n    if (track[prop]) {\n      acc[prop] = track[prop];\n    }\n\n    return acc;\n  }, {\n    cues: track.cues && Array.prototype.map.call(track.cues, function (cue) {\n      return {\n        startTime: cue.startTime,\n        endTime: cue.endTime,\n        text: cue.text,\n        id: cue.id\n      };\n    })\n  });\n  return ret;\n};\n/**\n * Examine a {@link Tech} and return a JSON-compatible javascript array that represents the\n * state of all {@link TextTrack}s currently configured. The return array is compatible with\n * {@link text-track-list-converter:jsonToTextTracks}.\n *\n * @param {Tech} tech\n *        The tech object to query\n *\n * @return {Array}\n *         A serializable javascript representation of the {@link Tech}s\n *         {@link TextTrackList}.\n */\n\n\nvar textTracksToJson = function textTracksToJson(tech) {\n  var trackEls = tech.$$('track');\n  var trackObjs = Array.prototype.map.call(trackEls, function (t) {\n    return t.track;\n  });\n  var tracks = Array.prototype.map.call(trackEls, function (trackEl) {\n    var json = trackToJson_(trackEl.track);\n\n    if (trackEl.src) {\n      json.src = trackEl.src;\n    }\n\n    return json;\n  });\n  return tracks.concat(Array.prototype.filter.call(tech.textTracks(), function (track) {\n    return trackObjs.indexOf(track) === -1;\n  }).map(trackToJson_));\n};\n/**\n * Create a set of remote {@link TextTrack}s on a {@link Tech} based on an array of javascript\n * object {@link TextTrack} representations.\n *\n * @param {Array} json\n *        An array of `TextTrack` representation objects, like those that would be\n *        produced by `textTracksToJson`.\n *\n * @param {Tech} tech\n *        The `Tech` to create the `TextTrack`s on.\n */\n\n\nvar jsonToTextTracks = function jsonToTextTracks(json, tech) {\n  json.forEach(function (track) {\n    var addedTrack = tech.addRemoteTextTrack(track).track;\n\n    if (!track.src && track.cues) {\n      track.cues.forEach(function (cue) {\n        return addedTrack.addCue(cue);\n      });\n    }\n  });\n  return tech.textTracks();\n};\n\nvar textTrackConverter = {\n  textTracksToJson: textTracksToJson,\n  jsonToTextTracks: jsonToTextTracks,\n  trackToJson_: trackToJson_\n};\n\nvar MODAL_CLASS_NAME = 'vjs-modal-dialog';\n/**\n * The `ModalDialog` displays over the video and its controls, which blocks\n * interaction with the player until it is closed.\n *\n * Modal dialogs include a \"Close\" button and will close when that button\n * is activated - or when ESC is pressed anywhere.\n *\n * @extends Component\n */\n\nvar ModalDialog =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ModalDialog, _Component);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Mixed} [options.content=undefined]\n   *        Provide customized content for this modal.\n   *\n   * @param {string} [options.description]\n   *        A text description for the modal, primarily for accessibility.\n   *\n   * @param {boolean} [options.fillAlways=false]\n   *        Normally, modals are automatically filled only the first time\n   *        they open. This tells the modal to refresh its content\n   *        every time it opens.\n   *\n   * @param {string} [options.label]\n   *        A text label for the modal, primarily for accessibility.\n   *\n   * @param {boolean} [options.pauseOnOpen=true]\n   *        If `true`, playback will will be paused if playing when\n   *        the modal opens, and resumed when it closes.\n   *\n   * @param {boolean} [options.temporary=true]\n   *        If `true`, the modal can only be opened once; it will be\n   *        disposed as soon as it's closed.\n   *\n   * @param {boolean} [options.uncloseable=false]\n   *        If `true`, the user will not be able to close the modal\n   *        through the UI in the normal ways. Programmatic closing is\n   *        still possible.\n   */\n  function ModalDialog(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.opened_ = _this.hasBeenOpened_ = _this.hasBeenFilled_ = false;\n\n    _this.closeable(!_this.options_.uncloseable);\n\n    _this.content(_this.options_.content); // Make sure the contentEl is defined AFTER any children are initialized\n    // because we only want the contents of the modal in the contentEl\n    // (not the UI elements like the close button).\n\n\n    _this.contentEl_ = createEl('div', {\n      className: MODAL_CLASS_NAME + \"-content\"\n    }, {\n      role: 'document'\n    });\n    _this.descEl_ = createEl('p', {\n      className: MODAL_CLASS_NAME + \"-description vjs-control-text\",\n      id: _this.el().getAttribute('aria-describedby')\n    });\n    textContent(_this.descEl_, _this.description());\n\n    _this.el_.appendChild(_this.descEl_);\n\n    _this.el_.appendChild(_this.contentEl_);\n\n    return _this;\n  }\n  /**\n   * Create the `ModalDialog`'s DOM element\n   *\n   * @return {Element}\n   *         The DOM element that gets created.\n   */\n\n\n  var _proto = ModalDialog.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: this.buildCSSClass(),\n      tabIndex: -1\n    }, {\n      'aria-describedby': this.id() + \"_description\",\n      'aria-hidden': 'true',\n      'aria-label': this.label(),\n      'role': 'dialog'\n    });\n  };\n\n  _proto.dispose = function dispose() {\n    this.contentEl_ = null;\n    this.descEl_ = null;\n    this.previouslyActiveEl_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return MODAL_CLASS_NAME + \" vjs-hidden \" + _Component.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Returns the label string for this modal. Primarily used for accessibility.\n   *\n   * @return {string}\n   *         the localized or raw label of this modal.\n   */\n  ;\n\n  _proto.label = function label() {\n    return this.localize(this.options_.label || 'Modal Window');\n  }\n  /**\n   * Returns the description string for this modal. Primarily used for\n   * accessibility.\n   *\n   * @return {string}\n   *         The localized or raw description of this modal.\n   */\n  ;\n\n  _proto.description = function description() {\n    var desc = this.options_.description || this.localize('This is a modal window.'); // Append a universal closeability message if the modal is closeable.\n\n    if (this.closeable()) {\n      desc += ' ' + this.localize('This modal can be closed by pressing the Escape key or activating the close button.');\n    }\n\n    return desc;\n  }\n  /**\n   * Opens the modal.\n   *\n   * @fires ModalDialog#beforemodalopen\n   * @fires ModalDialog#modalopen\n   */\n  ;\n\n  _proto.open = function open() {\n    if (!this.opened_) {\n      var player = this.player();\n      /**\n        * Fired just before a `ModalDialog` is opened.\n        *\n        * @event ModalDialog#beforemodalopen\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('beforemodalopen');\n      this.opened_ = true; // Fill content if the modal has never opened before and\n      // never been filled.\n\n      if (this.options_.fillAlways || !this.hasBeenOpened_ && !this.hasBeenFilled_) {\n        this.fill();\n      } // If the player was playing, pause it and take note of its previously\n      // playing state.\n\n\n      this.wasPlaying_ = !player.paused();\n\n      if (this.options_.pauseOnOpen && this.wasPlaying_) {\n        player.pause();\n      }\n\n      this.on('keydown', this.handleKeyDown); // Hide controls and note if they were enabled.\n\n      this.hadControls_ = player.controls();\n      player.controls(false);\n      this.show();\n      this.conditionalFocus_();\n      this.el().setAttribute('aria-hidden', 'false');\n      /**\n        * Fired just after a `ModalDialog` is opened.\n        *\n        * @event ModalDialog#modalopen\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('modalopen');\n      this.hasBeenOpened_ = true;\n    }\n  }\n  /**\n   * If the `ModalDialog` is currently open or closed.\n   *\n   * @param  {boolean} [value]\n   *         If given, it will open (`true`) or close (`false`) the modal.\n   *\n   * @return {boolean}\n   *         the current open state of the modaldialog\n   */\n  ;\n\n  _proto.opened = function opened(value) {\n    if (typeof value === 'boolean') {\n      this[value ? 'open' : 'close']();\n    }\n\n    return this.opened_;\n  }\n  /**\n   * Closes the modal, does nothing if the `ModalDialog` is\n   * not open.\n   *\n   * @fires ModalDialog#beforemodalclose\n   * @fires ModalDialog#modalclose\n   */\n  ;\n\n  _proto.close = function close() {\n    if (!this.opened_) {\n      return;\n    }\n\n    var player = this.player();\n    /**\n      * Fired just before a `ModalDialog` is closed.\n      *\n      * @event ModalDialog#beforemodalclose\n      * @type {EventTarget~Event}\n      */\n\n    this.trigger('beforemodalclose');\n    this.opened_ = false;\n\n    if (this.wasPlaying_ && this.options_.pauseOnOpen) {\n      player.play();\n    }\n\n    this.off('keydown', this.handleKeyDown);\n\n    if (this.hadControls_) {\n      player.controls(true);\n    }\n\n    this.hide();\n    this.el().setAttribute('aria-hidden', 'true');\n    /**\n      * Fired just after a `ModalDialog` is closed.\n      *\n      * @event ModalDialog#modalclose\n      * @type {EventTarget~Event}\n      */\n\n    this.trigger('modalclose');\n    this.conditionalBlur_();\n\n    if (this.options_.temporary) {\n      this.dispose();\n    }\n  }\n  /**\n   * Check to see if the `ModalDialog` is closeable via the UI.\n   *\n   * @param  {boolean} [value]\n   *         If given as a boolean, it will set the `closeable` option.\n   *\n   * @return {boolean}\n   *         Returns the final value of the closable option.\n   */\n  ;\n\n  _proto.closeable = function closeable(value) {\n    if (typeof value === 'boolean') {\n      var closeable = this.closeable_ = !!value;\n      var close = this.getChild('closeButton'); // If this is being made closeable and has no close button, add one.\n\n      if (closeable && !close) {\n        // The close button should be a child of the modal - not its\n        // content element, so temporarily change the content element.\n        var temp = this.contentEl_;\n        this.contentEl_ = this.el_;\n        close = this.addChild('closeButton', {\n          controlText: 'Close Modal Dialog'\n        });\n        this.contentEl_ = temp;\n        this.on(close, 'close', this.close);\n      } // If this is being made uncloseable and has a close button, remove it.\n\n\n      if (!closeable && close) {\n        this.off(close, 'close', this.close);\n        this.removeChild(close);\n        close.dispose();\n      }\n    }\n\n    return this.closeable_;\n  }\n  /**\n   * Fill the modal's content element with the modal's \"content\" option.\n   * The content element will be emptied before this change takes place.\n   */\n  ;\n\n  _proto.fill = function fill() {\n    this.fillWith(this.content());\n  }\n  /**\n   * Fill the modal's content element with arbitrary content.\n   * The content element will be emptied before this change takes place.\n   *\n   * @fires ModalDialog#beforemodalfill\n   * @fires ModalDialog#modalfill\n   *\n   * @param {Mixed} [content]\n   *        The same rules apply to this as apply to the `content` option.\n   */\n  ;\n\n  _proto.fillWith = function fillWith(content) {\n    var contentEl = this.contentEl();\n    var parentEl = contentEl.parentNode;\n    var nextSiblingEl = contentEl.nextSibling;\n    /**\n      * Fired just before a `ModalDialog` is filled with content.\n      *\n      * @event ModalDialog#beforemodalfill\n      * @type {EventTarget~Event}\n      */\n\n    this.trigger('beforemodalfill');\n    this.hasBeenFilled_ = true; // Detach the content element from the DOM before performing\n    // manipulation to avoid modifying the live DOM multiple times.\n\n    parentEl.removeChild(contentEl);\n    this.empty();\n    insertContent(contentEl, content);\n    /**\n     * Fired just after a `ModalDialog` is filled with content.\n     *\n     * @event ModalDialog#modalfill\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('modalfill'); // Re-inject the re-filled content element.\n\n    if (nextSiblingEl) {\n      parentEl.insertBefore(contentEl, nextSiblingEl);\n    } else {\n      parentEl.appendChild(contentEl);\n    } // make sure that the close button is last in the dialog DOM\n\n\n    var closeButton = this.getChild('closeButton');\n\n    if (closeButton) {\n      parentEl.appendChild(closeButton.el_);\n    }\n  }\n  /**\n   * Empties the content element. This happens anytime the modal is filled.\n   *\n   * @fires ModalDialog#beforemodalempty\n   * @fires ModalDialog#modalempty\n   */\n  ;\n\n  _proto.empty = function empty() {\n    /**\n    * Fired just before a `ModalDialog` is emptied.\n    *\n    * @event ModalDialog#beforemodalempty\n    * @type {EventTarget~Event}\n    */\n    this.trigger('beforemodalempty');\n    emptyEl(this.contentEl());\n    /**\n    * Fired just after a `ModalDialog` is emptied.\n    *\n    * @event ModalDialog#modalempty\n    * @type {EventTarget~Event}\n    */\n\n    this.trigger('modalempty');\n  }\n  /**\n   * Gets or sets the modal content, which gets normalized before being\n   * rendered into the DOM.\n   *\n   * This does not update the DOM or fill the modal, but it is called during\n   * that process.\n   *\n   * @param  {Mixed} [value]\n   *         If defined, sets the internal content value to be used on the\n   *         next call(s) to `fill`. This value is normalized before being\n   *         inserted. To \"clear\" the internal content value, pass `null`.\n   *\n   * @return {Mixed}\n   *         The current content of the modal dialog\n   */\n  ;\n\n  _proto.content = function content(value) {\n    if (typeof value !== 'undefined') {\n      this.content_ = value;\n    }\n\n    return this.content_;\n  }\n  /**\n   * conditionally focus the modal dialog if focus was previously on the player.\n   *\n   * @private\n   */\n  ;\n\n  _proto.conditionalFocus_ = function conditionalFocus_() {\n    var activeEl = document.activeElement;\n    var playerEl = this.player_.el_;\n    this.previouslyActiveEl_ = null;\n\n    if (playerEl.contains(activeEl) || playerEl === activeEl) {\n      this.previouslyActiveEl_ = activeEl;\n      this.focus();\n    }\n  }\n  /**\n   * conditionally blur the element and refocus the last focused element\n   *\n   * @private\n   */\n  ;\n\n  _proto.conditionalBlur_ = function conditionalBlur_() {\n    if (this.previouslyActiveEl_) {\n      this.previouslyActiveEl_.focus();\n      this.previouslyActiveEl_ = null;\n    }\n  }\n  /**\n   * Keydown handler. Attached when modal is focused.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Do not allow keydowns to reach out of the modal dialog.\n    event.stopPropagation();\n\n    if (keycode.isEventKey(event, 'Escape') && this.closeable()) {\n      event.preventDefault();\n      this.close();\n      return;\n    } // exit early if it isn't a tab key\n\n\n    if (!keycode.isEventKey(event, 'Tab')) {\n      return;\n    }\n\n    var focusableEls = this.focusableEls_();\n    var activeEl = this.el_.querySelector(':focus');\n    var focusIndex;\n\n    for (var i = 0; i < focusableEls.length; i++) {\n      if (activeEl === focusableEls[i]) {\n        focusIndex = i;\n        break;\n      }\n    }\n\n    if (document.activeElement === this.el_) {\n      focusIndex = 0;\n    }\n\n    if (event.shiftKey && focusIndex === 0) {\n      focusableEls[focusableEls.length - 1].focus();\n      event.preventDefault();\n    } else if (!event.shiftKey && focusIndex === focusableEls.length - 1) {\n      focusableEls[0].focus();\n      event.preventDefault();\n    }\n  }\n  /**\n   * get all focusable elements\n   *\n   * @private\n   */\n  ;\n\n  _proto.focusableEls_ = function focusableEls_() {\n    var allChildren = this.el_.querySelectorAll('*');\n    return Array.prototype.filter.call(allChildren, function (child) {\n      return (child instanceof window$1.HTMLAnchorElement || child instanceof window$1.HTMLAreaElement) && child.hasAttribute('href') || (child instanceof window$1.HTMLInputElement || child instanceof window$1.HTMLSelectElement || child instanceof window$1.HTMLTextAreaElement || child instanceof window$1.HTMLButtonElement) && !child.hasAttribute('disabled') || child instanceof window$1.HTMLIFrameElement || child instanceof window$1.HTMLObjectElement || child instanceof window$1.HTMLEmbedElement || child.hasAttribute('tabindex') && child.getAttribute('tabindex') !== -1 || child.hasAttribute('contenteditable');\n    });\n  };\n\n  return ModalDialog;\n}(Component);\n/**\n * Default options for `ModalDialog` default options.\n *\n * @type {Object}\n * @private\n */\n\n\nModalDialog.prototype.options_ = {\n  pauseOnOpen: true,\n  temporary: true\n};\nComponent.registerComponent('ModalDialog', ModalDialog);\n\n/**\n * Common functionaliy between {@link TextTrackList}, {@link AudioTrackList}, and\n * {@link VideoTrackList}\n *\n * @extends EventTarget\n */\n\nvar TrackList =\n/*#__PURE__*/\nfunction (_EventTarget) {\n  _inheritsLoose(TrackList, _EventTarget);\n\n  /**\n   * Create an instance of this class\n   *\n   * @param {Track[]} tracks\n   *        A list of tracks to initialize the list with.\n   *\n   * @abstract\n   */\n  function TrackList(tracks) {\n    var _this;\n\n    if (tracks === void 0) {\n      tracks = [];\n    }\n\n    _this = _EventTarget.call(this) || this;\n    _this.tracks_ = [];\n    /**\n     * @memberof TrackList\n     * @member {number} length\n     *         The current number of `Track`s in the this Trackist.\n     * @instance\n     */\n\n    Object.defineProperty(_assertThisInitialized(_this), 'length', {\n      get: function get() {\n        return this.tracks_.length;\n      }\n    });\n\n    for (var i = 0; i < tracks.length; i++) {\n      _this.addTrack(tracks[i]);\n    }\n\n    return _this;\n  }\n  /**\n   * Add a {@link Track} to the `TrackList`\n   *\n   * @param {Track} track\n   *        The audio, video, or text track to add to the list.\n   *\n   * @fires TrackList#addtrack\n   */\n\n\n  var _proto = TrackList.prototype;\n\n  _proto.addTrack = function addTrack(track) {\n    var index = this.tracks_.length;\n\n    if (!('' + index in this)) {\n      Object.defineProperty(this, index, {\n        get: function get() {\n          return this.tracks_[index];\n        }\n      });\n    } // Do not add duplicate tracks\n\n\n    if (this.tracks_.indexOf(track) === -1) {\n      this.tracks_.push(track);\n      /**\n       * Triggered when a track is added to a track list.\n       *\n       * @event TrackList#addtrack\n       * @type {EventTarget~Event}\n       * @property {Track} track\n       *           A reference to track that was added.\n       */\n\n      this.trigger({\n        track: track,\n        type: 'addtrack',\n        target: this\n      });\n    }\n  }\n  /**\n   * Remove a {@link Track} from the `TrackList`\n   *\n   * @param {Track} rtrack\n   *        The audio, video, or text track to remove from the list.\n   *\n   * @fires TrackList#removetrack\n   */\n  ;\n\n  _proto.removeTrack = function removeTrack(rtrack) {\n    var track;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n      if (this[i] === rtrack) {\n        track = this[i];\n\n        if (track.off) {\n          track.off();\n        }\n\n        this.tracks_.splice(i, 1);\n        break;\n      }\n    }\n\n    if (!track) {\n      return;\n    }\n    /**\n     * Triggered when a track is removed from track list.\n     *\n     * @event TrackList#removetrack\n     * @type {EventTarget~Event}\n     * @property {Track} track\n     *           A reference to track that was removed.\n     */\n\n\n    this.trigger({\n      track: track,\n      type: 'removetrack',\n      target: this\n    });\n  }\n  /**\n   * Get a Track from the TrackList by a tracks id\n   *\n   * @param {string} id - the id of the track to get\n   * @method getTrackById\n   * @return {Track}\n   * @private\n   */\n  ;\n\n  _proto.getTrackById = function getTrackById(id) {\n    var result = null;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n      var track = this[i];\n\n      if (track.id === id) {\n        result = track;\n        break;\n      }\n    }\n\n    return result;\n  };\n\n  return TrackList;\n}(EventTarget);\n/**\n * Triggered when a different track is selected/enabled.\n *\n * @event TrackList#change\n * @type {EventTarget~Event}\n */\n\n/**\n * Events that can be called with on + eventName. See {@link EventHandler}.\n *\n * @property {Object} TrackList#allowedEvents_\n * @private\n */\n\n\nTrackList.prototype.allowedEvents_ = {\n  change: 'change',\n  addtrack: 'addtrack',\n  removetrack: 'removetrack'\n}; // emulate attribute EventHandler support to allow for feature detection\n\nfor (var event in TrackList.prototype.allowedEvents_) {\n  TrackList.prototype['on' + event] = null;\n}\n\n/**\n * Anywhere we call this function we diverge from the spec\n * as we only support one enabled audiotrack at a time\n *\n * @param {AudioTrackList} list\n *        list to work on\n *\n * @param {AudioTrack} track\n *        The track to skip\n *\n * @private\n */\n\nvar disableOthers = function disableOthers(list, track) {\n  for (var i = 0; i < list.length; i++) {\n    if (!Object.keys(list[i]).length || track.id === list[i].id) {\n      continue;\n    } // another audio track is enabled, disable it\n\n\n    list[i].enabled = false;\n  }\n};\n/**\n * The current list of {@link AudioTrack} for a media file.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist}\n * @extends TrackList\n */\n\n\nvar AudioTrackList =\n/*#__PURE__*/\nfunction (_TrackList) {\n  _inheritsLoose(AudioTrackList, _TrackList);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {AudioTrack[]} [tracks=[]]\n   *        A list of `AudioTrack` to instantiate the list with.\n   */\n  function AudioTrackList(tracks) {\n    var _this;\n\n    if (tracks === void 0) {\n      tracks = [];\n    }\n\n    // make sure only 1 track is enabled\n    // sorted from last index to first index\n    for (var i = tracks.length - 1; i >= 0; i--) {\n      if (tracks[i].enabled) {\n        disableOthers(tracks, tracks[i]);\n        break;\n      }\n    }\n\n    _this = _TrackList.call(this, tracks) || this;\n    _this.changing_ = false;\n    return _this;\n  }\n  /**\n   * Add an {@link AudioTrack} to the `AudioTrackList`.\n   *\n   * @param {AudioTrack} track\n   *        The AudioTrack to add to the list\n   *\n   * @fires TrackList#addtrack\n   */\n\n\n  var _proto = AudioTrackList.prototype;\n\n  _proto.addTrack = function addTrack(track) {\n    var _this2 = this;\n\n    if (track.enabled) {\n      disableOthers(this, track);\n    }\n\n    _TrackList.prototype.addTrack.call(this, track); // native tracks don't have this\n\n\n    if (!track.addEventListener) {\n      return;\n    }\n\n    track.enabledChange_ = function () {\n      // when we are disabling other tracks (since we don't support\n      // more than one track at a time) we will set changing_\n      // to true so that we don't trigger additional change events\n      if (_this2.changing_) {\n        return;\n      }\n\n      _this2.changing_ = true;\n      disableOthers(_this2, track);\n      _this2.changing_ = false;\n\n      _this2.trigger('change');\n    };\n    /**\n     * @listens AudioTrack#enabledchange\n     * @fires TrackList#change\n     */\n\n\n    track.addEventListener('enabledchange', track.enabledChange_);\n  };\n\n  _proto.removeTrack = function removeTrack(rtrack) {\n    _TrackList.prototype.removeTrack.call(this, rtrack);\n\n    if (rtrack.removeEventListener && rtrack.enabledChange_) {\n      rtrack.removeEventListener('enabledchange', rtrack.enabledChange_);\n      rtrack.enabledChange_ = null;\n    }\n  };\n\n  return AudioTrackList;\n}(TrackList);\n\n/**\n * Un-select all other {@link VideoTrack}s that are selected.\n *\n * @param {VideoTrackList} list\n *        list to work on\n *\n * @param {VideoTrack} track\n *        The track to skip\n *\n * @private\n */\n\nvar disableOthers$1 = function disableOthers(list, track) {\n  for (var i = 0; i < list.length; i++) {\n    if (!Object.keys(list[i]).length || track.id === list[i].id) {\n      continue;\n    } // another video track is enabled, disable it\n\n\n    list[i].selected = false;\n  }\n};\n/**\n * The current list of {@link VideoTrack} for a video.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist}\n * @extends TrackList\n */\n\n\nvar VideoTrackList =\n/*#__PURE__*/\nfunction (_TrackList) {\n  _inheritsLoose(VideoTrackList, _TrackList);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {VideoTrack[]} [tracks=[]]\n   *        A list of `VideoTrack` to instantiate the list with.\n   */\n  function VideoTrackList(tracks) {\n    var _this;\n\n    if (tracks === void 0) {\n      tracks = [];\n    }\n\n    // make sure only 1 track is enabled\n    // sorted from last index to first index\n    for (var i = tracks.length - 1; i >= 0; i--) {\n      if (tracks[i].selected) {\n        disableOthers$1(tracks, tracks[i]);\n        break;\n      }\n    }\n\n    _this = _TrackList.call(this, tracks) || this;\n    _this.changing_ = false;\n    /**\n     * @member {number} VideoTrackList#selectedIndex\n     *         The current index of the selected {@link VideoTrack`}.\n     */\n\n    Object.defineProperty(_assertThisInitialized(_this), 'selectedIndex', {\n      get: function get() {\n        for (var _i = 0; _i < this.length; _i++) {\n          if (this[_i].selected) {\n            return _i;\n          }\n        }\n\n        return -1;\n      },\n      set: function set() {}\n    });\n    return _this;\n  }\n  /**\n   * Add a {@link VideoTrack} to the `VideoTrackList`.\n   *\n   * @param {VideoTrack} track\n   *        The VideoTrack to add to the list\n   *\n   * @fires TrackList#addtrack\n   */\n\n\n  var _proto = VideoTrackList.prototype;\n\n  _proto.addTrack = function addTrack(track) {\n    var _this2 = this;\n\n    if (track.selected) {\n      disableOthers$1(this, track);\n    }\n\n    _TrackList.prototype.addTrack.call(this, track); // native tracks don't have this\n\n\n    if (!track.addEventListener) {\n      return;\n    }\n\n    track.selectedChange_ = function () {\n      if (_this2.changing_) {\n        return;\n      }\n\n      _this2.changing_ = true;\n      disableOthers$1(_this2, track);\n      _this2.changing_ = false;\n\n      _this2.trigger('change');\n    };\n    /**\n     * @listens VideoTrack#selectedchange\n     * @fires TrackList#change\n     */\n\n\n    track.addEventListener('selectedchange', track.selectedChange_);\n  };\n\n  _proto.removeTrack = function removeTrack(rtrack) {\n    _TrackList.prototype.removeTrack.call(this, rtrack);\n\n    if (rtrack.removeEventListener && rtrack.selectedChange_) {\n      rtrack.removeEventListener('selectedchange', rtrack.selectedChange_);\n      rtrack.selectedChange_ = null;\n    }\n  };\n\n  return VideoTrackList;\n}(TrackList);\n\n/**\n * The current list of {@link TextTrack} for a media file.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttracklist}\n * @extends TrackList\n */\n\nvar TextTrackList =\n/*#__PURE__*/\nfunction (_TrackList) {\n  _inheritsLoose(TextTrackList, _TrackList);\n\n  function TextTrackList() {\n    return _TrackList.apply(this, arguments) || this;\n  }\n\n  var _proto = TextTrackList.prototype;\n\n  /**\n   * Add a {@link TextTrack} to the `TextTrackList`\n   *\n   * @param {TextTrack} track\n   *        The text track to add to the list.\n   *\n   * @fires TrackList#addtrack\n   */\n  _proto.addTrack = function addTrack(track) {\n    var _this = this;\n\n    _TrackList.prototype.addTrack.call(this, track);\n\n    if (!this.queueChange_) {\n      this.queueChange_ = function () {\n        return _this.queueTrigger('change');\n      };\n    }\n\n    if (!this.triggerSelectedlanguagechange) {\n      this.triggerSelectedlanguagechange_ = function () {\n        return _this.trigger('selectedlanguagechange');\n      };\n    }\n    /**\n     * @listens TextTrack#modechange\n     * @fires TrackList#change\n     */\n\n\n    track.addEventListener('modechange', this.queueChange_);\n    var nonLanguageTextTrackKind = ['metadata', 'chapters'];\n\n    if (nonLanguageTextTrackKind.indexOf(track.kind) === -1) {\n      track.addEventListener('modechange', this.triggerSelectedlanguagechange_);\n    }\n  };\n\n  _proto.removeTrack = function removeTrack(rtrack) {\n    _TrackList.prototype.removeTrack.call(this, rtrack); // manually remove the event handlers we added\n\n\n    if (rtrack.removeEventListener) {\n      if (this.queueChange_) {\n        rtrack.removeEventListener('modechange', this.queueChange_);\n      }\n\n      if (this.selectedlanguagechange_) {\n        rtrack.removeEventListener('modechange', this.triggerSelectedlanguagechange_);\n      }\n    }\n  };\n\n  return TextTrackList;\n}(TrackList);\n\n/**\n * @file html-track-element-list.js\n */\n\n/**\n * The current list of {@link HtmlTrackElement}s.\n */\nvar HtmlTrackElementList =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create an instance of this class.\n   *\n   * @param {HtmlTrackElement[]} [tracks=[]]\n   *        A list of `HtmlTrackElement` to instantiate the list with.\n   */\n  function HtmlTrackElementList(trackElements) {\n    if (trackElements === void 0) {\n      trackElements = [];\n    }\n\n    this.trackElements_ = [];\n    /**\n     * @memberof HtmlTrackElementList\n     * @member {number} length\n     *         The current number of `Track`s in the this Trackist.\n     * @instance\n     */\n\n    Object.defineProperty(this, 'length', {\n      get: function get() {\n        return this.trackElements_.length;\n      }\n    });\n\n    for (var i = 0, length = trackElements.length; i < length; i++) {\n      this.addTrackElement_(trackElements[i]);\n    }\n  }\n  /**\n   * Add an {@link HtmlTrackElement} to the `HtmlTrackElementList`\n   *\n   * @param {HtmlTrackElement} trackElement\n   *        The track element to add to the list.\n   *\n   * @private\n   */\n\n\n  var _proto = HtmlTrackElementList.prototype;\n\n  _proto.addTrackElement_ = function addTrackElement_(trackElement) {\n    var index = this.trackElements_.length;\n\n    if (!('' + index in this)) {\n      Object.defineProperty(this, index, {\n        get: function get() {\n          return this.trackElements_[index];\n        }\n      });\n    } // Do not add duplicate elements\n\n\n    if (this.trackElements_.indexOf(trackElement) === -1) {\n      this.trackElements_.push(trackElement);\n    }\n  }\n  /**\n   * Get an {@link HtmlTrackElement} from the `HtmlTrackElementList` given an\n   * {@link TextTrack}.\n   *\n   * @param {TextTrack} track\n   *        The track associated with a track element.\n   *\n   * @return {HtmlTrackElement|undefined}\n   *         The track element that was found or undefined.\n   *\n   * @private\n   */\n  ;\n\n  _proto.getTrackElementByTrack_ = function getTrackElementByTrack_(track) {\n    var trackElement_;\n\n    for (var i = 0, length = this.trackElements_.length; i < length; i++) {\n      if (track === this.trackElements_[i].track) {\n        trackElement_ = this.trackElements_[i];\n        break;\n      }\n    }\n\n    return trackElement_;\n  }\n  /**\n   * Remove a {@link HtmlTrackElement} from the `HtmlTrackElementList`\n   *\n   * @param {HtmlTrackElement} trackElement\n   *        The track element to remove from the list.\n   *\n   * @private\n   */\n  ;\n\n  _proto.removeTrackElement_ = function removeTrackElement_(trackElement) {\n    for (var i = 0, length = this.trackElements_.length; i < length; i++) {\n      if (trackElement === this.trackElements_[i]) {\n        if (this.trackElements_[i].track && typeof this.trackElements_[i].track.off === 'function') {\n          this.trackElements_[i].track.off();\n        }\n\n        if (typeof this.trackElements_[i].off === 'function') {\n          this.trackElements_[i].off();\n        }\n\n        this.trackElements_.splice(i, 1);\n        break;\n      }\n    }\n  };\n\n  return HtmlTrackElementList;\n}();\n\n/**\n * @file text-track-cue-list.js\n */\n\n/**\n * @typedef {Object} TextTrackCueList~TextTrackCue\n *\n * @property {string} id\n *           The unique id for this text track cue\n *\n * @property {number} startTime\n *           The start time for this text track cue\n *\n * @property {number} endTime\n *           The end time for this text track cue\n *\n * @property {boolean} pauseOnExit\n *           Pause when the end time is reached if true.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcue}\n */\n\n/**\n * A List of TextTrackCues.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcuelist}\n */\nvar TextTrackCueList =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create an instance of this class..\n   *\n   * @param {Array} cues\n   *        A list of cues to be initialized with\n   */\n  function TextTrackCueList(cues) {\n    TextTrackCueList.prototype.setCues_.call(this, cues);\n    /**\n     * @memberof TextTrackCueList\n     * @member {number} length\n     *         The current number of `TextTrackCue`s in the TextTrackCueList.\n     * @instance\n     */\n\n    Object.defineProperty(this, 'length', {\n      get: function get() {\n        return this.length_;\n      }\n    });\n  }\n  /**\n   * A setter for cues in this list. Creates getters\n   * an an index for the cues.\n   *\n   * @param {Array} cues\n   *        An array of cues to set\n   *\n   * @private\n   */\n\n\n  var _proto = TextTrackCueList.prototype;\n\n  _proto.setCues_ = function setCues_(cues) {\n    var oldLength = this.length || 0;\n    var i = 0;\n    var l = cues.length;\n    this.cues_ = cues;\n    this.length_ = cues.length;\n\n    var defineProp = function defineProp(index) {\n      if (!('' + index in this)) {\n        Object.defineProperty(this, '' + index, {\n          get: function get() {\n            return this.cues_[index];\n          }\n        });\n      }\n    };\n\n    if (oldLength < l) {\n      i = oldLength;\n\n      for (; i < l; i++) {\n        defineProp.call(this, i);\n      }\n    }\n  }\n  /**\n   * Get a `TextTrackCue` that is currently in the `TextTrackCueList` by id.\n   *\n   * @param {string} id\n   *        The id of the cue that should be searched for.\n   *\n   * @return {TextTrackCueList~TextTrackCue|null}\n   *         A single cue or null if none was found.\n   */\n  ;\n\n  _proto.getCueById = function getCueById(id) {\n    var result = null;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n      var cue = this[i];\n\n      if (cue.id === id) {\n        result = cue;\n        break;\n      }\n    }\n\n    return result;\n  };\n\n  return TextTrackCueList;\n}();\n\n/**\n * @file track-kinds.js\n */\n\n/**\n * All possible `VideoTrackKind`s\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-videotrack-kind\n * @typedef VideoTrack~Kind\n * @enum\n */\nvar VideoTrackKind = {\n  alternative: 'alternative',\n  captions: 'captions',\n  main: 'main',\n  sign: 'sign',\n  subtitles: 'subtitles',\n  commentary: 'commentary'\n};\n/**\n * All possible `AudioTrackKind`s\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-audiotrack-kind\n * @typedef AudioTrack~Kind\n * @enum\n */\n\nvar AudioTrackKind = {\n  'alternative': 'alternative',\n  'descriptions': 'descriptions',\n  'main': 'main',\n  'main-desc': 'main-desc',\n  'translation': 'translation',\n  'commentary': 'commentary'\n};\n/**\n * All possible `TextTrackKind`s\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-texttrack-kind\n * @typedef TextTrack~Kind\n * @enum\n */\n\nvar TextTrackKind = {\n  subtitles: 'subtitles',\n  captions: 'captions',\n  descriptions: 'descriptions',\n  chapters: 'chapters',\n  metadata: 'metadata'\n};\n/**\n * All possible `TextTrackMode`s\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackmode\n * @typedef TextTrack~Mode\n * @enum\n */\n\nvar TextTrackMode = {\n  disabled: 'disabled',\n  hidden: 'hidden',\n  showing: 'showing'\n};\n\n/**\n * A Track class that contains all of the common functionality for {@link AudioTrack},\n * {@link VideoTrack}, and {@link TextTrack}.\n *\n * > Note: This class should not be used directly\n *\n * @see {@link https://html.spec.whatwg.org/multipage/embedded-content.html}\n * @extends EventTarget\n * @abstract\n */\n\nvar Track =\n/*#__PURE__*/\nfunction (_EventTarget) {\n  _inheritsLoose(Track, _EventTarget);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Object} [options={}]\n   *        Object of option names and values\n   *\n   * @param {string} [options.kind='']\n   *        A valid kind for the track type you are creating.\n   *\n   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n   *        A unique id for this AudioTrack.\n   *\n   * @param {string} [options.label='']\n   *        The menu label for this track.\n   *\n   * @param {string} [options.language='']\n   *        A valid two character language code.\n   *\n   * @abstract\n   */\n  function Track(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _EventTarget.call(this) || this;\n    var trackProps = {\n      id: options.id || 'vjs_track_' + newGUID(),\n      kind: options.kind || '',\n      label: options.label || '',\n      language: options.language || ''\n    };\n    /**\n     * @memberof Track\n     * @member {string} id\n     *         The id of this track. Cannot be changed after creation.\n     * @instance\n     *\n     * @readonly\n     */\n\n    /**\n     * @memberof Track\n     * @member {string} kind\n     *         The kind of track that this is. Cannot be changed after creation.\n     * @instance\n     *\n     * @readonly\n     */\n\n    /**\n     * @memberof Track\n     * @member {string} label\n     *         The label of this track. Cannot be changed after creation.\n     * @instance\n     *\n     * @readonly\n     */\n\n    /**\n     * @memberof Track\n     * @member {string} language\n     *         The two letter language code for this track. Cannot be changed after\n     *         creation.\n     * @instance\n     *\n     * @readonly\n     */\n\n    var _loop = function _loop(key) {\n      Object.defineProperty(_assertThisInitialized(_this), key, {\n        get: function get() {\n          return trackProps[key];\n        },\n        set: function set() {}\n      });\n    };\n\n    for (var key in trackProps) {\n      _loop(key);\n    }\n\n    return _this;\n  }\n\n  return Track;\n}(EventTarget);\n\n/**\n * @file url.js\n * @module url\n */\n/**\n * @typedef {Object} url:URLObject\n *\n * @property {string} protocol\n *           The protocol of the url that was parsed.\n *\n * @property {string} hostname\n *           The hostname of the url that was parsed.\n *\n * @property {string} port\n *           The port of the url that was parsed.\n *\n * @property {string} pathname\n *           The pathname of the url that was parsed.\n *\n * @property {string} search\n *           The search query of the url that was parsed.\n *\n * @property {string} hash\n *           The hash of the url that was parsed.\n *\n * @property {string} host\n *           The host of the url that was parsed.\n */\n\n/**\n * Resolve and parse the elements of a URL.\n *\n * @function\n * @param    {String} url\n *           The url to parse\n *\n * @return   {url:URLObject}\n *           An object of url details\n */\n\nvar parseUrl = function parseUrl(url) {\n  var props = ['protocol', 'hostname', 'port', 'pathname', 'search', 'hash', 'host']; // add the url to an anchor and let the browser parse the URL\n\n  var a = document.createElement('a');\n  a.href = url; // IE8 (and 9?) Fix\n  // ie8 doesn't parse the URL correctly until the anchor is actually\n  // added to the body, and an innerHTML is needed to trigger the parsing\n\n  var addToBody = a.host === '' && a.protocol !== 'file:';\n  var div;\n\n  if (addToBody) {\n    div = document.createElement('div');\n    div.innerHTML = \"<a href=\\\"\" + url + \"\\\"></a>\";\n    a = div.firstChild; // prevent the div from affecting layout\n\n    div.setAttribute('style', 'display:none; position:absolute;');\n    document.body.appendChild(div);\n  } // Copy the specific URL properties to a new object\n  // This is also needed for IE8 because the anchor loses its\n  // properties when it's removed from the dom\n\n\n  var details = {};\n\n  for (var i = 0; i < props.length; i++) {\n    details[props[i]] = a[props[i]];\n  } // IE9 adds the port to the host property unlike everyone else. If\n  // a port identifier is added for standard ports, strip it.\n\n\n  if (details.protocol === 'http:') {\n    details.host = details.host.replace(/:80$/, '');\n  }\n\n  if (details.protocol === 'https:') {\n    details.host = details.host.replace(/:443$/, '');\n  }\n\n  if (!details.protocol) {\n    details.protocol = window$1.location.protocol;\n  }\n\n  if (addToBody) {\n    document.body.removeChild(div);\n  }\n\n  return details;\n};\n/**\n * Get absolute version of relative URL. Used to tell Flash the correct URL.\n *\n * @function\n * @param    {string} url\n *           URL to make absolute\n *\n * @return   {string}\n *           Absolute URL\n *\n * @see      http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n */\n\nvar getAbsoluteURL = function getAbsoluteURL(url) {\n  // Check if absolute URL\n  if (!url.match(/^https?:\\/\\//)) {\n    // Convert to absolute URL. Flash hosted off-site needs an absolute URL.\n    var div = document.createElement('div');\n    div.innerHTML = \"<a href=\\\"\" + url + \"\\\">x</a>\";\n    url = div.firstChild.href;\n  }\n\n  return url;\n};\n/**\n * Returns the extension of the passed file name. It will return an empty string\n * if passed an invalid path.\n *\n * @function\n * @param    {string} path\n *           The fileName path like '/path/to/file.mp4'\n *\n * @return  {string}\n *           The extension in lower case or an empty string if no\n *           extension could be found.\n */\n\nvar getFileExtension = function getFileExtension(path) {\n  if (typeof path === 'string') {\n    var splitPathRe = /^(\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?)(\\.([^\\.\\/\\?]+)))(?:[\\/]*|[\\?].*)$/;\n    var pathParts = splitPathRe.exec(path);\n\n    if (pathParts) {\n      return pathParts.pop().toLowerCase();\n    }\n  }\n\n  return '';\n};\n/**\n * Returns whether the url passed is a cross domain request or not.\n *\n * @function\n * @param    {string} url\n *           The url to check.\n *\n * @return   {boolean}\n *           Whether it is a cross domain request or not.\n */\n\nvar isCrossOrigin = function isCrossOrigin(url) {\n  var winLoc = window$1.location;\n  var urlInfo = parseUrl(url); // IE8 protocol relative urls will return ':' for protocol\n\n  var srcProtocol = urlInfo.protocol === ':' ? winLoc.protocol : urlInfo.protocol; // Check if url is for another domain/origin\n  // IE8 doesn't know location.origin, so we won't rely on it here\n\n  var crossOrigin = srcProtocol + urlInfo.host !== winLoc.protocol + winLoc.host;\n  return crossOrigin;\n};\n\nvar Url = /*#__PURE__*/Object.freeze({\n  parseUrl: parseUrl,\n  getAbsoluteURL: getAbsoluteURL,\n  getFileExtension: getFileExtension,\n  isCrossOrigin: isCrossOrigin\n});\n\n/**\n * Takes a webvtt file contents and parses it into cues\n *\n * @param {string} srcContent\n *        webVTT file contents\n *\n * @param {TextTrack} track\n *        TextTrack to add cues to. Cues come from the srcContent.\n *\n * @private\n */\n\nvar parseCues = function parseCues(srcContent, track) {\n  var parser = new window$1.WebVTT.Parser(window$1, window$1.vttjs, window$1.WebVTT.StringDecoder());\n  var errors = [];\n\n  parser.oncue = function (cue) {\n    track.addCue(cue);\n  };\n\n  parser.onparsingerror = function (error) {\n    errors.push(error);\n  };\n\n  parser.onflush = function () {\n    track.trigger({\n      type: 'loadeddata',\n      target: track\n    });\n  };\n\n  parser.parse(srcContent);\n\n  if (errors.length > 0) {\n    if (window$1.console && window$1.console.groupCollapsed) {\n      window$1.console.groupCollapsed(\"Text Track parsing errors for \" + track.src);\n    }\n\n    errors.forEach(function (error) {\n      return log.error(error);\n    });\n\n    if (window$1.console && window$1.console.groupEnd) {\n      window$1.console.groupEnd();\n    }\n  }\n\n  parser.flush();\n};\n/**\n * Load a `TextTrack` from a specified url.\n *\n * @param {string} src\n *        Url to load track from.\n *\n * @param {TextTrack} track\n *        Track to add cues to. Comes from the content at the end of `url`.\n *\n * @private\n */\n\n\nvar loadTrack = function loadTrack(src, track) {\n  var opts = {\n    uri: src\n  };\n  var crossOrigin = isCrossOrigin(src);\n\n  if (crossOrigin) {\n    opts.cors = crossOrigin;\n  }\n\n  XHR(opts, bind(this, function (err, response, responseBody) {\n    if (err) {\n      return log.error(err, response);\n    }\n\n    track.loaded_ = true; // Make sure that vttjs has loaded, otherwise, wait till it finished loading\n    // NOTE: this is only used for the alt/video.novtt.js build\n\n    if (typeof window$1.WebVTT !== 'function') {\n      if (track.tech_) {\n        // to prevent use before define eslint error, we define loadHandler\n        // as a let here\n        track.tech_.any(['vttjsloaded', 'vttjserror'], function (event) {\n          if (event.type === 'vttjserror') {\n            log.error(\"vttjs failed to load, stopping trying to process \" + track.src);\n            return;\n          }\n\n          return parseCues(responseBody, track);\n        });\n      }\n    } else {\n      parseCues(responseBody, track);\n    }\n  }));\n};\n/**\n * A representation of a single `TextTrack`.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrack}\n * @extends Track\n */\n\n\nvar TextTrack =\n/*#__PURE__*/\nfunction (_Track) {\n  _inheritsLoose(TextTrack, _Track);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Object} options={}\n   *        Object of option names and values\n   *\n   * @param {Tech} options.tech\n   *        A reference to the tech that owns this TextTrack.\n   *\n   * @param {TextTrack~Kind} [options.kind='subtitles']\n   *        A valid text track kind.\n   *\n   * @param {TextTrack~Mode} [options.mode='disabled']\n   *        A valid text track mode.\n   *\n   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n   *        A unique id for this TextTrack.\n   *\n   * @param {string} [options.label='']\n   *        The menu label for this track.\n   *\n   * @param {string} [options.language='']\n   *        A valid two character language code.\n   *\n   * @param {string} [options.srclang='']\n   *        A valid two character language code. An alternative, but deprioritized\n   *        version of `options.language`\n   *\n   * @param {string} [options.src]\n   *        A url to TextTrack cues.\n   *\n   * @param {boolean} [options.default]\n   *        If this track should default to on or off.\n   */\n  function TextTrack(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (!options.tech) {\n      throw new Error('A tech was not provided.');\n    }\n\n    var settings = mergeOptions(options, {\n      kind: TextTrackKind[options.kind] || 'subtitles',\n      language: options.language || options.srclang || ''\n    });\n    var mode = TextTrackMode[settings.mode] || 'disabled';\n    var default_ = settings[\"default\"];\n\n    if (settings.kind === 'metadata' || settings.kind === 'chapters') {\n      mode = 'hidden';\n    }\n\n    _this = _Track.call(this, settings) || this;\n    _this.tech_ = settings.tech;\n    _this.cues_ = [];\n    _this.activeCues_ = [];\n    var cues = new TextTrackCueList(_this.cues_);\n    var activeCues = new TextTrackCueList(_this.activeCues_);\n    var changed = false;\n    var timeupdateHandler = bind(_assertThisInitialized(_this), function () {\n      // Accessing this.activeCues for the side-effects of updating itself\n      // due to its nature as a getter function. Do not remove or cues will\n      // stop updating!\n      // Use the setter to prevent deletion from uglify (pure_getters rule)\n      this.activeCues = this.activeCues;\n\n      if (changed) {\n        this.trigger('cuechange');\n        changed = false;\n      }\n    });\n\n    if (mode !== 'disabled') {\n      _this.tech_.ready(function () {\n        _this.tech_.on('timeupdate', timeupdateHandler);\n      }, true);\n    }\n\n    Object.defineProperties(_assertThisInitialized(_this), {\n      /**\n       * @memberof TextTrack\n       * @member {boolean} default\n       *         If this track was set to be on or off by default. Cannot be changed after\n       *         creation.\n       * @instance\n       *\n       * @readonly\n       */\n      \"default\": {\n        get: function get() {\n          return default_;\n        },\n        set: function set() {}\n      },\n\n      /**\n       * @memberof TextTrack\n       * @member {string} mode\n       *         Set the mode of this TextTrack to a valid {@link TextTrack~Mode}. Will\n       *         not be set if setting to an invalid mode.\n       * @instance\n       *\n       * @fires TextTrack#modechange\n       */\n      mode: {\n        get: function get() {\n          return mode;\n        },\n        set: function set(newMode) {\n          var _this2 = this;\n\n          if (!TextTrackMode[newMode]) {\n            return;\n          }\n\n          mode = newMode;\n\n          if (mode !== 'disabled') {\n            this.tech_.ready(function () {\n              _this2.tech_.on('timeupdate', timeupdateHandler);\n            }, true);\n          } else {\n            this.tech_.off('timeupdate', timeupdateHandler);\n          }\n          /**\n           * An event that fires when mode changes on this track. This allows\n           * the TextTrackList that holds this track to act accordingly.\n           *\n           * > Note: This is not part of the spec!\n           *\n           * @event TextTrack#modechange\n           * @type {EventTarget~Event}\n           */\n\n\n          this.trigger('modechange');\n        }\n      },\n\n      /**\n       * @memberof TextTrack\n       * @member {TextTrackCueList} cues\n       *         The text track cue list for this TextTrack.\n       * @instance\n       */\n      cues: {\n        get: function get() {\n          if (!this.loaded_) {\n            return null;\n          }\n\n          return cues;\n        },\n        set: function set() {}\n      },\n\n      /**\n       * @memberof TextTrack\n       * @member {TextTrackCueList} activeCues\n       *         The list text track cues that are currently active for this TextTrack.\n       * @instance\n       */\n      activeCues: {\n        get: function get() {\n          if (!this.loaded_) {\n            return null;\n          } // nothing to do\n\n\n          if (this.cues.length === 0) {\n            return activeCues;\n          }\n\n          var ct = this.tech_.currentTime();\n          var active = [];\n\n          for (var i = 0, l = this.cues.length; i < l; i++) {\n            var cue = this.cues[i];\n\n            if (cue.startTime <= ct && cue.endTime >= ct) {\n              active.push(cue);\n            } else if (cue.startTime === cue.endTime && cue.startTime <= ct && cue.startTime + 0.5 >= ct) {\n              active.push(cue);\n            }\n          }\n\n          changed = false;\n\n          if (active.length !== this.activeCues_.length) {\n            changed = true;\n          } else {\n            for (var _i = 0; _i < active.length; _i++) {\n              if (this.activeCues_.indexOf(active[_i]) === -1) {\n                changed = true;\n              }\n            }\n          }\n\n          this.activeCues_ = active;\n          activeCues.setCues_(this.activeCues_);\n          return activeCues;\n        },\n        // /!\\ Keep this setter empty (see the timeupdate handler above)\n        set: function set() {}\n      }\n    });\n\n    if (settings.src) {\n      _this.src = settings.src;\n      loadTrack(settings.src, _assertThisInitialized(_this));\n    } else {\n      _this.loaded_ = true;\n    }\n\n    return _this;\n  }\n  /**\n   * Add a cue to the internal list of cues.\n   *\n   * @param {TextTrack~Cue} cue\n   *        The cue to add to our internal list\n   */\n\n\n  var _proto = TextTrack.prototype;\n\n  _proto.addCue = function addCue(originalCue) {\n    var cue = originalCue;\n\n    if (window$1.vttjs && !(originalCue instanceof window$1.vttjs.VTTCue)) {\n      cue = new window$1.vttjs.VTTCue(originalCue.startTime, originalCue.endTime, originalCue.text);\n\n      for (var prop in originalCue) {\n        if (!(prop in cue)) {\n          cue[prop] = originalCue[prop];\n        }\n      } // make sure that `id` is copied over\n\n\n      cue.id = originalCue.id;\n      cue.originalCue_ = originalCue;\n    }\n\n    var tracks = this.tech_.textTracks();\n\n    for (var i = 0; i < tracks.length; i++) {\n      if (tracks[i] !== this) {\n        tracks[i].removeCue(cue);\n      }\n    }\n\n    this.cues_.push(cue);\n    this.cues.setCues_(this.cues_);\n  }\n  /**\n   * Remove a cue from our internal list\n   *\n   * @param {TextTrack~Cue} removeCue\n   *        The cue to remove from our internal list\n   */\n  ;\n\n  _proto.removeCue = function removeCue(_removeCue) {\n    var i = this.cues_.length;\n\n    while (i--) {\n      var cue = this.cues_[i];\n\n      if (cue === _removeCue || cue.originalCue_ && cue.originalCue_ === _removeCue) {\n        this.cues_.splice(i, 1);\n        this.cues.setCues_(this.cues_);\n        break;\n      }\n    }\n  };\n\n  return TextTrack;\n}(Track);\n/**\n * cuechange - One or more cues in the track have become active or stopped being active.\n */\n\n\nTextTrack.prototype.allowedEvents_ = {\n  cuechange: 'cuechange'\n};\n\n/**\n * A representation of a single `AudioTrack`. If it is part of an {@link AudioTrackList}\n * only one `AudioTrack` in the list will be enabled at a time.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotrack}\n * @extends Track\n */\n\nvar AudioTrack =\n/*#__PURE__*/\nfunction (_Track) {\n  _inheritsLoose(AudioTrack, _Track);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Object} [options={}]\n   *        Object of option names and values\n   *\n   * @param {AudioTrack~Kind} [options.kind='']\n   *        A valid audio track kind\n   *\n   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n   *        A unique id for this AudioTrack.\n   *\n   * @param {string} [options.label='']\n   *        The menu label for this track.\n   *\n   * @param {string} [options.language='']\n   *        A valid two character language code.\n   *\n   * @param {boolean} [options.enabled]\n   *        If this track is the one that is currently playing. If this track is part of\n   *        an {@link AudioTrackList}, only one {@link AudioTrack} will be enabled.\n   */\n  function AudioTrack(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var settings = mergeOptions(options, {\n      kind: AudioTrackKind[options.kind] || ''\n    });\n    _this = _Track.call(this, settings) || this;\n    var enabled = false;\n    /**\n     * @memberof AudioTrack\n     * @member {boolean} enabled\n     *         If this `AudioTrack` is enabled or not. When setting this will\n     *         fire {@link AudioTrack#enabledchange} if the state of enabled is changed.\n     * @instance\n     *\n     * @fires VideoTrack#selectedchange\n     */\n\n    Object.defineProperty(_assertThisInitialized(_this), 'enabled', {\n      get: function get() {\n        return enabled;\n      },\n      set: function set(newEnabled) {\n        // an invalid or unchanged value\n        if (typeof newEnabled !== 'boolean' || newEnabled === enabled) {\n          return;\n        }\n\n        enabled = newEnabled;\n        /**\n         * An event that fires when enabled changes on this track. This allows\n         * the AudioTrackList that holds this track to act accordingly.\n         *\n         * > Note: This is not part of the spec! Native tracks will do\n         *         this internally without an event.\n         *\n         * @event AudioTrack#enabledchange\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('enabledchange');\n      }\n    }); // if the user sets this track to selected then\n    // set selected to that true value otherwise\n    // we keep it false\n\n    if (settings.enabled) {\n      _this.enabled = settings.enabled;\n    }\n\n    _this.loaded_ = true;\n    return _this;\n  }\n\n  return AudioTrack;\n}(Track);\n\n/**\n * A representation of a single `VideoTrack`.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotrack}\n * @extends Track\n */\n\nvar VideoTrack =\n/*#__PURE__*/\nfunction (_Track) {\n  _inheritsLoose(VideoTrack, _Track);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Object} [options={}]\n   *        Object of option names and values\n   *\n   * @param {string} [options.kind='']\n   *        A valid {@link VideoTrack~Kind}\n   *\n   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n   *        A unique id for this AudioTrack.\n   *\n   * @param {string} [options.label='']\n   *        The menu label for this track.\n   *\n   * @param {string} [options.language='']\n   *        A valid two character language code.\n   *\n   * @param {boolean} [options.selected]\n   *        If this track is the one that is currently playing.\n   */\n  function VideoTrack(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var settings = mergeOptions(options, {\n      kind: VideoTrackKind[options.kind] || ''\n    });\n    _this = _Track.call(this, settings) || this;\n    var selected = false;\n    /**\n     * @memberof VideoTrack\n     * @member {boolean} selected\n     *         If this `VideoTrack` is selected or not. When setting this will\n     *         fire {@link VideoTrack#selectedchange} if the state of selected changed.\n     * @instance\n     *\n     * @fires VideoTrack#selectedchange\n     */\n\n    Object.defineProperty(_assertThisInitialized(_this), 'selected', {\n      get: function get() {\n        return selected;\n      },\n      set: function set(newSelected) {\n        // an invalid or unchanged value\n        if (typeof newSelected !== 'boolean' || newSelected === selected) {\n          return;\n        }\n\n        selected = newSelected;\n        /**\n         * An event that fires when selected changes on this track. This allows\n         * the VideoTrackList that holds this track to act accordingly.\n         *\n         * > Note: This is not part of the spec! Native tracks will do\n         *         this internally without an event.\n         *\n         * @event VideoTrack#selectedchange\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('selectedchange');\n      }\n    }); // if the user sets this track to selected then\n    // set selected to that true value otherwise\n    // we keep it false\n\n    if (settings.selected) {\n      _this.selected = settings.selected;\n    }\n\n    return _this;\n  }\n\n  return VideoTrack;\n}(Track);\n\n/**\n * @memberof HTMLTrackElement\n * @typedef {HTMLTrackElement~ReadyState}\n * @enum {number}\n */\n\nvar NONE = 0;\nvar LOADING = 1;\nvar LOADED = 2;\nvar ERROR = 3;\n/**\n * A single track represented in the DOM.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#htmltrackelement}\n * @extends EventTarget\n */\n\nvar HTMLTrackElement =\n/*#__PURE__*/\nfunction (_EventTarget) {\n  _inheritsLoose(HTMLTrackElement, _EventTarget);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Object} options={}\n   *        Object of option names and values\n   *\n   * @param {Tech} options.tech\n   *        A reference to the tech that owns this HTMLTrackElement.\n   *\n   * @param {TextTrack~Kind} [options.kind='subtitles']\n   *        A valid text track kind.\n   *\n   * @param {TextTrack~Mode} [options.mode='disabled']\n   *        A valid text track mode.\n   *\n   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n   *        A unique id for this TextTrack.\n   *\n   * @param {string} [options.label='']\n   *        The menu label for this track.\n   *\n   * @param {string} [options.language='']\n   *        A valid two character language code.\n   *\n   * @param {string} [options.srclang='']\n   *        A valid two character language code. An alternative, but deprioritized\n   *        vesion of `options.language`\n   *\n   * @param {string} [options.src]\n   *        A url to TextTrack cues.\n   *\n   * @param {boolean} [options.default]\n   *        If this track should default to on or off.\n   */\n  function HTMLTrackElement(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _EventTarget.call(this) || this;\n    var readyState;\n    var track = new TextTrack(options);\n    _this.kind = track.kind;\n    _this.src = track.src;\n    _this.srclang = track.language;\n    _this.label = track.label;\n    _this[\"default\"] = track[\"default\"];\n    Object.defineProperties(_assertThisInitialized(_this), {\n      /**\n       * @memberof HTMLTrackElement\n       * @member {HTMLTrackElement~ReadyState} readyState\n       *         The current ready state of the track element.\n       * @instance\n       */\n      readyState: {\n        get: function get() {\n          return readyState;\n        }\n      },\n\n      /**\n       * @memberof HTMLTrackElement\n       * @member {TextTrack} track\n       *         The underlying TextTrack object.\n       * @instance\n       *\n       */\n      track: {\n        get: function get() {\n          return track;\n        }\n      }\n    });\n    readyState = NONE;\n    /**\n     * @listens TextTrack#loadeddata\n     * @fires HTMLTrackElement#load\n     */\n\n    track.addEventListener('loadeddata', function () {\n      readyState = LOADED;\n\n      _this.trigger({\n        type: 'load',\n        target: _assertThisInitialized(_this)\n      });\n    });\n    return _this;\n  }\n\n  return HTMLTrackElement;\n}(EventTarget);\n\nHTMLTrackElement.prototype.allowedEvents_ = {\n  load: 'load'\n};\nHTMLTrackElement.NONE = NONE;\nHTMLTrackElement.LOADING = LOADING;\nHTMLTrackElement.LOADED = LOADED;\nHTMLTrackElement.ERROR = ERROR;\n\n/*\n * This file contains all track properties that are used in\n * player.js, tech.js, html5.js and possibly other techs in the future.\n */\n\nvar NORMAL = {\n  audio: {\n    ListClass: AudioTrackList,\n    TrackClass: AudioTrack,\n    capitalName: 'Audio'\n  },\n  video: {\n    ListClass: VideoTrackList,\n    TrackClass: VideoTrack,\n    capitalName: 'Video'\n  },\n  text: {\n    ListClass: TextTrackList,\n    TrackClass: TextTrack,\n    capitalName: 'Text'\n  }\n};\nObject.keys(NORMAL).forEach(function (type) {\n  NORMAL[type].getterName = type + \"Tracks\";\n  NORMAL[type].privateName = type + \"Tracks_\";\n});\nvar REMOTE = {\n  remoteText: {\n    ListClass: TextTrackList,\n    TrackClass: TextTrack,\n    capitalName: 'RemoteText',\n    getterName: 'remoteTextTracks',\n    privateName: 'remoteTextTracks_'\n  },\n  remoteTextEl: {\n    ListClass: HtmlTrackElementList,\n    TrackClass: HTMLTrackElement,\n    capitalName: 'RemoteTextTrackEls',\n    getterName: 'remoteTextTrackEls',\n    privateName: 'remoteTextTrackEls_'\n  }\n};\nvar ALL = mergeOptions(NORMAL, REMOTE);\nREMOTE.names = Object.keys(REMOTE);\nNORMAL.names = Object.keys(NORMAL);\nALL.names = [].concat(REMOTE.names).concat(NORMAL.names);\n\n/**\n * An Object containing a structure like: `{src: 'url', type: 'mimetype'}` or string\n * that just contains the src url alone.\n * * `var SourceObject = {src: 'http://ex.com/video.mp4', type: 'video/mp4'};`\n   * `var SourceString = 'http://example.com/some-video.mp4';`\n *\n * @typedef {Object|string} Tech~SourceObject\n *\n * @property {string} src\n *           The url to the source\n *\n * @property {string} type\n *           The mime type of the source\n */\n\n/**\n * A function used by {@link Tech} to create a new {@link TextTrack}.\n *\n * @private\n *\n * @param {Tech} self\n *        An instance of the Tech class.\n *\n * @param {string} kind\n *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n *\n * @param {string} [label]\n *        Label to identify the text track\n *\n * @param {string} [language]\n *        Two letter language abbreviation\n *\n * @param {Object} [options={}]\n *        An object with additional text track options\n *\n * @return {TextTrack}\n *          The text track that was created.\n */\n\nfunction createTrackHelper(self, kind, label, language, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var tracks = self.textTracks();\n  options.kind = kind;\n\n  if (label) {\n    options.label = label;\n  }\n\n  if (language) {\n    options.language = language;\n  }\n\n  options.tech = self;\n  var track = new ALL.text.TrackClass(options);\n  tracks.addTrack(track);\n  return track;\n}\n/**\n * This is the base class for media playback technology controllers, such as\n * {@link Flash} and {@link HTML5}\n *\n * @extends Component\n */\n\n\nvar Tech =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Tech, _Component);\n\n  /**\n  * Create an instance of this Tech.\n  *\n  * @param {Object} [options]\n  *        The key/value store of player options.\n  *\n  * @param {Component~ReadyCallback} ready\n  *        Callback function to call when the `HTML5` Tech is ready.\n  */\n  function Tech(options, ready) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (ready === void 0) {\n      ready = function ready() {};\n    }\n\n    // we don't want the tech to report user activity automatically.\n    // This is done manually in addControlsListeners\n    options.reportTouchActivity = false;\n    _this = _Component.call(this, null, options, ready) || this; // keep track of whether the current source has played at all to\n    // implement a very limited played()\n\n    _this.hasStarted_ = false;\n\n    _this.on('playing', function () {\n      this.hasStarted_ = true;\n    });\n\n    _this.on('loadstart', function () {\n      this.hasStarted_ = false;\n    });\n\n    ALL.names.forEach(function (name) {\n      var props = ALL[name];\n\n      if (options && options[props.getterName]) {\n        _this[props.privateName] = options[props.getterName];\n      }\n    }); // Manually track progress in cases where the browser/flash player doesn't report it.\n\n    if (!_this.featuresProgressEvents) {\n      _this.manualProgressOn();\n    } // Manually track timeupdates in cases where the browser/flash player doesn't report it.\n\n\n    if (!_this.featuresTimeupdateEvents) {\n      _this.manualTimeUpdatesOn();\n    }\n\n    ['Text', 'Audio', 'Video'].forEach(function (track) {\n      if (options[\"native\" + track + \"Tracks\"] === false) {\n        _this[\"featuresNative\" + track + \"Tracks\"] = false;\n      }\n    });\n\n    if (options.nativeCaptions === false || options.nativeTextTracks === false) {\n      _this.featuresNativeTextTracks = false;\n    } else if (options.nativeCaptions === true || options.nativeTextTracks === true) {\n      _this.featuresNativeTextTracks = true;\n    }\n\n    if (!_this.featuresNativeTextTracks) {\n      _this.emulateTextTracks();\n    }\n\n    _this.autoRemoteTextTracks_ = new ALL.text.ListClass();\n\n    _this.initTrackListeners(); // Turn on component tap events only if not using native controls\n\n\n    if (!options.nativeControlsForTouch) {\n      _this.emitTapEvents();\n    }\n\n    if (_this.constructor) {\n      _this.name_ = _this.constructor.name || 'Unknown Tech';\n    }\n\n    return _this;\n  }\n  /**\n   * A special function to trigger source set in a way that will allow player\n   * to re-trigger if the player or tech are not ready yet.\n   *\n   * @fires Tech#sourceset\n   * @param {string} src The source string at the time of the source changing.\n   */\n\n\n  var _proto = Tech.prototype;\n\n  _proto.triggerSourceset = function triggerSourceset(src) {\n    var _this2 = this;\n\n    if (!this.isReady_) {\n      // on initial ready we have to trigger source set\n      // 1ms after ready so that player can watch for it.\n      this.one('ready', function () {\n        return _this2.setTimeout(function () {\n          return _this2.triggerSourceset(src);\n        }, 1);\n      });\n    }\n    /**\n     * Fired when the source is set on the tech causing the media element\n     * to reload.\n     *\n     * @see {@link Player#event:sourceset}\n     * @event Tech#sourceset\n     * @type {EventTarget~Event}\n     */\n\n\n    this.trigger({\n      src: src,\n      type: 'sourceset'\n    });\n  }\n  /* Fallbacks for unsupported event types\n  ================================================================================ */\n\n  /**\n   * Polyfill the `progress` event for browsers that don't support it natively.\n   *\n   * @see {@link Tech#trackProgress}\n   */\n  ;\n\n  _proto.manualProgressOn = function manualProgressOn() {\n    this.on('durationchange', this.onDurationChange);\n    this.manualProgress = true; // Trigger progress watching when a source begins loading\n\n    this.one('ready', this.trackProgress);\n  }\n  /**\n   * Turn off the polyfill for `progress` events that was created in\n   * {@link Tech#manualProgressOn}\n   */\n  ;\n\n  _proto.manualProgressOff = function manualProgressOff() {\n    this.manualProgress = false;\n    this.stopTrackingProgress();\n    this.off('durationchange', this.onDurationChange);\n  }\n  /**\n   * This is used to trigger a `progress` event when the buffered percent changes. It\n   * sets an interval function that will be called every 500 milliseconds to check if the\n   * buffer end percent has changed.\n   *\n   * > This function is called by {@link Tech#manualProgressOn}\n   *\n   * @param {EventTarget~Event} event\n   *        The `ready` event that caused this to run.\n   *\n   * @listens Tech#ready\n   * @fires Tech#progress\n   */\n  ;\n\n  _proto.trackProgress = function trackProgress(event) {\n    this.stopTrackingProgress();\n    this.progressInterval = this.setInterval(bind(this, function () {\n      // Don't trigger unless buffered amount is greater than last time\n      var numBufferedPercent = this.bufferedPercent();\n\n      if (this.bufferedPercent_ !== numBufferedPercent) {\n        /**\n         * See {@link Player#progress}\n         *\n         * @event Tech#progress\n         * @type {EventTarget~Event}\n         */\n        this.trigger('progress');\n      }\n\n      this.bufferedPercent_ = numBufferedPercent;\n\n      if (numBufferedPercent === 1) {\n        this.stopTrackingProgress();\n      }\n    }), 500);\n  }\n  /**\n   * Update our internal duration on a `durationchange` event by calling\n   * {@link Tech#duration}.\n   *\n   * @param {EventTarget~Event} event\n   *        The `durationchange` event that caused this to run.\n   *\n   * @listens Tech#durationchange\n   */\n  ;\n\n  _proto.onDurationChange = function onDurationChange(event) {\n    this.duration_ = this.duration();\n  }\n  /**\n   * Get and create a `TimeRange` object for buffering.\n   *\n   * @return {TimeRange}\n   *         The time range object that was created.\n   */\n  ;\n\n  _proto.buffered = function buffered() {\n    return createTimeRanges(0, 0);\n  }\n  /**\n   * Get the percentage of the current video that is currently buffered.\n   *\n   * @return {number}\n   *         A number from 0 to 1 that represents the decimal percentage of the\n   *         video that is buffered.\n   *\n   */\n  ;\n\n  _proto.bufferedPercent = function bufferedPercent$1() {\n    return bufferedPercent(this.buffered(), this.duration_);\n  }\n  /**\n   * Turn off the polyfill for `progress` events that was created in\n   * {@link Tech#manualProgressOn}\n   * Stop manually tracking progress events by clearing the interval that was set in\n   * {@link Tech#trackProgress}.\n   */\n  ;\n\n  _proto.stopTrackingProgress = function stopTrackingProgress() {\n    this.clearInterval(this.progressInterval);\n  }\n  /**\n   * Polyfill the `timeupdate` event for browsers that don't support it.\n   *\n   * @see {@link Tech#trackCurrentTime}\n   */\n  ;\n\n  _proto.manualTimeUpdatesOn = function manualTimeUpdatesOn() {\n    this.manualTimeUpdates = true;\n    this.on('play', this.trackCurrentTime);\n    this.on('pause', this.stopTrackingCurrentTime);\n  }\n  /**\n   * Turn off the polyfill for `timeupdate` events that was created in\n   * {@link Tech#manualTimeUpdatesOn}\n   */\n  ;\n\n  _proto.manualTimeUpdatesOff = function manualTimeUpdatesOff() {\n    this.manualTimeUpdates = false;\n    this.stopTrackingCurrentTime();\n    this.off('play', this.trackCurrentTime);\n    this.off('pause', this.stopTrackingCurrentTime);\n  }\n  /**\n   * Sets up an interval function to track current time and trigger `timeupdate` every\n   * 250 milliseconds.\n   *\n   * @listens Tech#play\n   * @triggers Tech#timeupdate\n   */\n  ;\n\n  _proto.trackCurrentTime = function trackCurrentTime() {\n    if (this.currentTimeInterval) {\n      this.stopTrackingCurrentTime();\n    }\n\n    this.currentTimeInterval = this.setInterval(function () {\n      /**\n       * Triggered at an interval of 250ms to indicated that time is passing in the video.\n       *\n       * @event Tech#timeupdate\n       * @type {EventTarget~Event}\n       */\n      this.trigger({\n        type: 'timeupdate',\n        target: this,\n        manuallyTriggered: true\n      }); // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n    }, 250);\n  }\n  /**\n   * Stop the interval function created in {@link Tech#trackCurrentTime} so that the\n   * `timeupdate` event is no longer triggered.\n   *\n   * @listens {Tech#pause}\n   */\n  ;\n\n  _proto.stopTrackingCurrentTime = function stopTrackingCurrentTime() {\n    this.clearInterval(this.currentTimeInterval); // #1002 - if the video ends right before the next timeupdate would happen,\n    // the progress bar won't make it all the way to the end\n\n    this.trigger({\n      type: 'timeupdate',\n      target: this,\n      manuallyTriggered: true\n    });\n  }\n  /**\n   * Turn off all event polyfills, clear the `Tech`s {@link AudioTrackList},\n   * {@link VideoTrackList}, and {@link TextTrackList}, and dispose of this Tech.\n   *\n   * @fires Component#dispose\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    // clear out all tracks because we can't reuse them between techs\n    this.clearTracks(NORMAL.names); // Turn off any manual progress or timeupdate tracking\n\n    if (this.manualProgress) {\n      this.manualProgressOff();\n    }\n\n    if (this.manualTimeUpdates) {\n      this.manualTimeUpdatesOff();\n    }\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Clear out a single `TrackList` or an array of `TrackLists` given their names.\n   *\n   * > Note: Techs without source handlers should call this between sources for `video`\n   *         & `audio` tracks. You don't want to use them between tracks!\n   *\n   * @param {string[]|string} types\n   *        TrackList names to clear, valid names are `video`, `audio`, and\n   *        `text`.\n   */\n  ;\n\n  _proto.clearTracks = function clearTracks(types) {\n    var _this3 = this;\n\n    types = [].concat(types); // clear out all tracks because we can't reuse them between techs\n\n    types.forEach(function (type) {\n      var list = _this3[type + \"Tracks\"]() || [];\n      var i = list.length;\n\n      while (i--) {\n        var track = list[i];\n\n        if (type === 'text') {\n          _this3.removeRemoteTextTrack(track);\n        }\n\n        list.removeTrack(track);\n      }\n    });\n  }\n  /**\n   * Remove any TextTracks added via addRemoteTextTrack that are\n   * flagged for automatic garbage collection\n   */\n  ;\n\n  _proto.cleanupAutoTextTracks = function cleanupAutoTextTracks() {\n    var list = this.autoRemoteTextTracks_ || [];\n    var i = list.length;\n\n    while (i--) {\n      var track = list[i];\n      this.removeRemoteTextTrack(track);\n    }\n  }\n  /**\n   * Reset the tech, which will removes all sources and reset the internal readyState.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.reset = function reset() {}\n  /**\n   * Get or set an error on the Tech.\n   *\n   * @param {MediaError} [err]\n   *        Error to set on the Tech\n   *\n   * @return {MediaError|null}\n   *         The current error object on the tech, or null if there isn't one.\n   */\n  ;\n\n  _proto.error = function error(err) {\n    if (err !== undefined) {\n      this.error_ = new MediaError(err);\n      this.trigger('error');\n    }\n\n    return this.error_;\n  }\n  /**\n   * Returns the `TimeRange`s that have been played through for the current source.\n   *\n   * > NOTE: This implementation is incomplete. It does not track the played `TimeRange`.\n   *         It only checks whether the source has played at all or not.\n   *\n   * @return {TimeRange}\n   *         - A single time range if this video has played\n   *         - An empty set of ranges if not.\n   */\n  ;\n\n  _proto.played = function played() {\n    if (this.hasStarted_) {\n      return createTimeRanges(0, 0);\n    }\n\n    return createTimeRanges();\n  }\n  /**\n   * Causes a manual time update to occur if {@link Tech#manualTimeUpdatesOn} was\n   * previously called.\n   *\n   * @fires Tech#timeupdate\n   */\n  ;\n\n  _proto.setCurrentTime = function setCurrentTime() {\n    // improve the accuracy of manual timeupdates\n    if (this.manualTimeUpdates) {\n      /**\n       * A manual `timeupdate` event.\n       *\n       * @event Tech#timeupdate\n       * @type {EventTarget~Event}\n       */\n      this.trigger({\n        type: 'timeupdate',\n        target: this,\n        manuallyTriggered: true\n      });\n    }\n  }\n  /**\n   * Turn on listeners for {@link VideoTrackList}, {@link {AudioTrackList}, and\n   * {@link TextTrackList} events.\n   *\n   * This adds {@link EventTarget~EventListeners} for `addtrack`, and  `removetrack`.\n   *\n   * @fires Tech#audiotrackchange\n   * @fires Tech#videotrackchange\n   * @fires Tech#texttrackchange\n   */\n  ;\n\n  _proto.initTrackListeners = function initTrackListeners() {\n    var _this4 = this;\n\n    /**\n      * Triggered when tracks are added or removed on the Tech {@link AudioTrackList}\n      *\n      * @event Tech#audiotrackchange\n      * @type {EventTarget~Event}\n      */\n\n    /**\n      * Triggered when tracks are added or removed on the Tech {@link VideoTrackList}\n      *\n      * @event Tech#videotrackchange\n      * @type {EventTarget~Event}\n      */\n\n    /**\n      * Triggered when tracks are added or removed on the Tech {@link TextTrackList}\n      *\n      * @event Tech#texttrackchange\n      * @type {EventTarget~Event}\n      */\n    NORMAL.names.forEach(function (name) {\n      var props = NORMAL[name];\n\n      var trackListChanges = function trackListChanges() {\n        _this4.trigger(name + \"trackchange\");\n      };\n\n      var tracks = _this4[props.getterName]();\n\n      tracks.addEventListener('removetrack', trackListChanges);\n      tracks.addEventListener('addtrack', trackListChanges);\n\n      _this4.on('dispose', function () {\n        tracks.removeEventListener('removetrack', trackListChanges);\n        tracks.removeEventListener('addtrack', trackListChanges);\n      });\n    });\n  }\n  /**\n   * Emulate TextTracks using vtt.js if necessary\n   *\n   * @fires Tech#vttjsloaded\n   * @fires Tech#vttjserror\n   */\n  ;\n\n  _proto.addWebVttScript_ = function addWebVttScript_() {\n    var _this5 = this;\n\n    if (window$1.WebVTT) {\n      return;\n    } // Initially, Tech.el_ is a child of a dummy-div wait until the Component system\n    // signals that the Tech is ready at which point Tech.el_ is part of the DOM\n    // before inserting the WebVTT script\n\n\n    if (document.body.contains(this.el())) {\n      // load via require if available and vtt.js script location was not passed in\n      // as an option. novtt builds will turn the above require call into an empty object\n      // which will cause this if check to always fail.\n      if (!this.options_['vtt.js'] && isPlain(vtt) && Object.keys(vtt).length > 0) {\n        this.trigger('vttjsloaded');\n        return;\n      } // load vtt.js via the script location option or the cdn of no location was\n      // passed in\n\n\n      var script = document.createElement('script');\n      script.src = this.options_['vtt.js'] || 'https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js';\n\n      script.onload = function () {\n        /**\n         * Fired when vtt.js is loaded.\n         *\n         * @event Tech#vttjsloaded\n         * @type {EventTarget~Event}\n         */\n        _this5.trigger('vttjsloaded');\n      };\n\n      script.onerror = function () {\n        /**\n         * Fired when vtt.js was not loaded due to an error\n         *\n         * @event Tech#vttjsloaded\n         * @type {EventTarget~Event}\n         */\n        _this5.trigger('vttjserror');\n      };\n\n      this.on('dispose', function () {\n        script.onload = null;\n        script.onerror = null;\n      }); // but have not loaded yet and we set it to true before the inject so that\n      // we don't overwrite the injected window.WebVTT if it loads right away\n\n      window$1.WebVTT = true;\n      this.el().parentNode.appendChild(script);\n    } else {\n      this.ready(this.addWebVttScript_);\n    }\n  }\n  /**\n   * Emulate texttracks\n   *\n   */\n  ;\n\n  _proto.emulateTextTracks = function emulateTextTracks() {\n    var _this6 = this;\n\n    var tracks = this.textTracks();\n    var remoteTracks = this.remoteTextTracks();\n\n    var handleAddTrack = function handleAddTrack(e) {\n      return tracks.addTrack(e.track);\n    };\n\n    var handleRemoveTrack = function handleRemoveTrack(e) {\n      return tracks.removeTrack(e.track);\n    };\n\n    remoteTracks.on('addtrack', handleAddTrack);\n    remoteTracks.on('removetrack', handleRemoveTrack);\n    this.addWebVttScript_();\n\n    var updateDisplay = function updateDisplay() {\n      return _this6.trigger('texttrackchange');\n    };\n\n    var textTracksChanges = function textTracksChanges() {\n      updateDisplay();\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n        track.removeEventListener('cuechange', updateDisplay);\n\n        if (track.mode === 'showing') {\n          track.addEventListener('cuechange', updateDisplay);\n        }\n      }\n    };\n\n    textTracksChanges();\n    tracks.addEventListener('change', textTracksChanges);\n    tracks.addEventListener('addtrack', textTracksChanges);\n    tracks.addEventListener('removetrack', textTracksChanges);\n    this.on('dispose', function () {\n      remoteTracks.off('addtrack', handleAddTrack);\n      remoteTracks.off('removetrack', handleRemoveTrack);\n      tracks.removeEventListener('change', textTracksChanges);\n      tracks.removeEventListener('addtrack', textTracksChanges);\n      tracks.removeEventListener('removetrack', textTracksChanges);\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n        track.removeEventListener('cuechange', updateDisplay);\n      }\n    });\n  }\n  /**\n   * Create and returns a remote {@link TextTrack} object.\n   *\n   * @param {string} kind\n   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n   *\n   * @param {string} [label]\n   *        Label to identify the text track\n   *\n   * @param {string} [language]\n   *        Two letter language abbreviation\n   *\n   * @return {TextTrack}\n   *         The TextTrack that gets created.\n   */\n  ;\n\n  _proto.addTextTrack = function addTextTrack(kind, label, language) {\n    if (!kind) {\n      throw new Error('TextTrack kind is required but was not provided');\n    }\n\n    return createTrackHelper(this, kind, label, language);\n  }\n  /**\n   * Create an emulated TextTrack for use by addRemoteTextTrack\n   *\n   * This is intended to be overridden by classes that inherit from\n   * Tech in order to create native or custom TextTracks.\n   *\n   * @param {Object} options\n   *        The object should contain the options to initialize the TextTrack with.\n   *\n   * @param {string} [options.kind]\n   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).\n   *\n   * @param {string} [options.label].\n   *        Label to identify the text track\n   *\n   * @param {string} [options.language]\n   *        Two letter language abbreviation.\n   *\n   * @return {HTMLTrackElement}\n   *         The track element that gets created.\n   */\n  ;\n\n  _proto.createRemoteTextTrack = function createRemoteTextTrack(options) {\n    var track = mergeOptions(options, {\n      tech: this\n    });\n    return new REMOTE.remoteTextEl.TrackClass(track);\n  }\n  /**\n   * Creates a remote text track object and returns an html track element.\n   *\n   * > Note: This can be an emulated {@link HTMLTrackElement} or a native one.\n   *\n   * @param {Object} options\n   *        See {@link Tech#createRemoteTextTrack} for more detailed properties.\n   *\n   * @param {boolean} [manualCleanup=true]\n   *        - When false: the TextTrack will be automatically removed from the video\n   *          element whenever the source changes\n   *        - When True: The TextTrack will have to be cleaned up manually\n   *\n   * @return {HTMLTrackElement}\n   *         An Html Track Element.\n   *\n   * @deprecated The default functionality for this function will be equivalent\n   *             to \"manualCleanup=false\" in the future. The manualCleanup parameter will\n   *             also be removed.\n   */\n  ;\n\n  _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n    var _this7 = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var htmlTrackElement = this.createRemoteTextTrack(options);\n\n    if (manualCleanup !== true && manualCleanup !== false) {\n      // deprecation warning\n      log.warn('Calling addRemoteTextTrack without explicitly setting the \"manualCleanup\" parameter to `true` is deprecated and default to `false` in future version of video.js');\n      manualCleanup = true;\n    } // store HTMLTrackElement and TextTrack to remote list\n\n\n    this.remoteTextTrackEls().addTrackElement_(htmlTrackElement);\n    this.remoteTextTracks().addTrack(htmlTrackElement.track);\n\n    if (manualCleanup !== true) {\n      // create the TextTrackList if it doesn't exist\n      this.ready(function () {\n        return _this7.autoRemoteTextTracks_.addTrack(htmlTrackElement.track);\n      });\n    }\n\n    return htmlTrackElement;\n  }\n  /**\n   * Remove a remote text track from the remote `TextTrackList`.\n   *\n   * @param {TextTrack} track\n   *        `TextTrack` to remove from the `TextTrackList`\n   */\n  ;\n\n  _proto.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n    var trackElement = this.remoteTextTrackEls().getTrackElementByTrack_(track); // remove HTMLTrackElement and TextTrack from remote list\n\n    this.remoteTextTrackEls().removeTrackElement_(trackElement);\n    this.remoteTextTracks().removeTrack(track);\n    this.autoRemoteTextTracks_.removeTrack(track);\n  }\n  /**\n   * Gets available media playback quality metrics as specified by the W3C's Media\n   * Playback Quality API.\n   *\n   * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n   *\n   * @return {Object}\n   *         An object with supported media playback quality metrics\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n    return {};\n  }\n  /**\n   * Attempt to create a floating video window always on top of other windows\n   * so that users may continue consuming media while they interact with other\n   * content sites, or applications on their device.\n   *\n   * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n   *\n   * @return {Promise|undefined}\n   *         A promise with a Picture-in-Picture window if the browser supports\n   *         Promises (or one was passed in as an option). It returns undefined\n   *         otherwise.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.requestPictureInPicture = function requestPictureInPicture() {\n    var PromiseClass = this.options_.Promise || window$1.Promise;\n\n    if (PromiseClass) {\n      return PromiseClass.reject();\n    }\n  }\n  /**\n   * A method to set a poster from a `Tech`.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.setPoster = function setPoster() {}\n  /**\n   * A method to check for the presence of the 'playsinline' <video> attribute.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.playsinline = function playsinline() {}\n  /**\n   * A method to set or unset the 'playsinline' <video> attribute.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.setPlaysinline = function setPlaysinline() {}\n  /**\n   * Attempt to force override of native audio tracks.\n   *\n   * @param {boolean} override - If set to true native audio will be overridden,\n   * otherwise native audio will potentially be used.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.overrideNativeAudioTracks = function overrideNativeAudioTracks() {}\n  /**\n   * Attempt to force override of native video tracks.\n   *\n   * @param {boolean} override - If set to true native video will be overridden,\n   * otherwise native video will potentially be used.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.overrideNativeVideoTracks = function overrideNativeVideoTracks() {}\n  /*\n   * Check if the tech can support the given mime-type.\n   *\n   * The base tech does not support any type, but source handlers might\n   * overwrite this.\n   *\n   * @param  {string} type\n   *         The mimetype to check for support\n   *\n   * @return {string}\n   *         'probably', 'maybe', or empty string\n   *\n   * @see [Spec]{@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/canPlayType}\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.canPlayType = function canPlayType() {\n    return '';\n  }\n  /**\n   * Check if the type is supported by this tech.\n   *\n   * The base tech does not support any type, but source handlers might\n   * overwrite this.\n   *\n   * @param {string} type\n   *        The media type to check\n   * @return {string} Returns the native video element's response\n   */\n  ;\n\n  Tech.canPlayType = function canPlayType() {\n    return '';\n  }\n  /**\n   * Check if the tech can support the given source\n   *\n   * @param {Object} srcObj\n   *        The source object\n   * @param {Object} options\n   *        The options passed to the tech\n   * @return {string} 'probably', 'maybe', or '' (empty string)\n   */\n  ;\n\n  Tech.canPlaySource = function canPlaySource(srcObj, options) {\n    return Tech.canPlayType(srcObj.type);\n  }\n  /*\n   * Return whether the argument is a Tech or not.\n   * Can be passed either a Class like `Html5` or a instance like `player.tech_`\n   *\n   * @param {Object} component\n   *        The item to check\n   *\n   * @return {boolean}\n   *         Whether it is a tech or not\n   *         - True if it is a tech\n   *         - False if it is not\n   */\n  ;\n\n  Tech.isTech = function isTech(component) {\n    return component.prototype instanceof Tech || component instanceof Tech || component === Tech;\n  }\n  /**\n   * Registers a `Tech` into a shared list for videojs.\n   *\n   * @param {string} name\n   *        Name of the `Tech` to register.\n   *\n   * @param {Object} tech\n   *        The `Tech` class to register.\n   */\n  ;\n\n  Tech.registerTech = function registerTech(name, tech) {\n    if (!Tech.techs_) {\n      Tech.techs_ = {};\n    }\n\n    if (!Tech.isTech(tech)) {\n      throw new Error(\"Tech \" + name + \" must be a Tech\");\n    }\n\n    if (!Tech.canPlayType) {\n      throw new Error('Techs must have a static canPlayType method on them');\n    }\n\n    if (!Tech.canPlaySource) {\n      throw new Error('Techs must have a static canPlaySource method on them');\n    }\n\n    name = toTitleCase(name);\n    Tech.techs_[name] = tech;\n    Tech.techs_[toLowerCase(name)] = tech;\n\n    if (name !== 'Tech') {\n      // camel case the techName for use in techOrder\n      Tech.defaultTechOrder_.push(name);\n    }\n\n    return tech;\n  }\n  /**\n   * Get a `Tech` from the shared list by name.\n   *\n   * @param {string} name\n   *        `camelCase` or `TitleCase` name of the Tech to get\n   *\n   * @return {Tech|undefined}\n   *         The `Tech` or undefined if there was no tech with the name requested.\n   */\n  ;\n\n  Tech.getTech = function getTech(name) {\n    if (!name) {\n      return;\n    }\n\n    if (Tech.techs_ && Tech.techs_[name]) {\n      return Tech.techs_[name];\n    }\n\n    name = toTitleCase(name);\n\n    if (window$1 && window$1.videojs && window$1.videojs[name]) {\n      log.warn(\"The \" + name + \" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)\");\n      return window$1.videojs[name];\n    }\n  };\n\n  return Tech;\n}(Component);\n/**\n * Get the {@link VideoTrackList}\n *\n * @returns {VideoTrackList}\n * @method Tech.prototype.videoTracks\n */\n\n/**\n * Get the {@link AudioTrackList}\n *\n * @returns {AudioTrackList}\n * @method Tech.prototype.audioTracks\n */\n\n/**\n * Get the {@link TextTrackList}\n *\n * @returns {TextTrackList}\n * @method Tech.prototype.textTracks\n */\n\n/**\n * Get the remote element {@link TextTrackList}\n *\n * @returns {TextTrackList}\n * @method Tech.prototype.remoteTextTracks\n */\n\n/**\n * Get the remote element {@link HtmlTrackElementList}\n *\n * @returns {HtmlTrackElementList}\n * @method Tech.prototype.remoteTextTrackEls\n */\n\n\nALL.names.forEach(function (name) {\n  var props = ALL[name];\n\n  Tech.prototype[props.getterName] = function () {\n    this[props.privateName] = this[props.privateName] || new props.ListClass();\n    return this[props.privateName];\n  };\n});\n/**\n * List of associated text tracks\n *\n * @type {TextTrackList}\n * @private\n * @property Tech#textTracks_\n */\n\n/**\n * List of associated audio tracks.\n *\n * @type {AudioTrackList}\n * @private\n * @property Tech#audioTracks_\n */\n\n/**\n * List of associated video tracks.\n *\n * @type {VideoTrackList}\n * @private\n * @property Tech#videoTracks_\n */\n\n/**\n * Boolean indicating whether the `Tech` supports volume control.\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresVolumeControl = true;\n/**\n * Boolean indicating whether the `Tech` supports muting volume.\n *\n * @type {bolean}\n * @default\n */\n\nTech.prototype.featuresMuteControl = true;\n/**\n * Boolean indicating whether the `Tech` supports fullscreen resize control.\n * Resizing plugins using request fullscreen reloads the plugin\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresFullscreenResize = false;\n/**\n * Boolean indicating whether the `Tech` supports changing the speed at which the video\n * plays. Examples:\n *   - Set player to play 2x (twice) as fast\n *   - Set player to play 0.5x (half) as fast\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresPlaybackRate = false;\n/**\n * Boolean indicating whether the `Tech` supports the `progress` event. This is currently\n * not triggered by video-js-swf. This will be used to determine if\n * {@link Tech#manualProgressOn} should be called.\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresProgressEvents = false;\n/**\n * Boolean indicating whether the `Tech` supports the `sourceset` event.\n *\n * A tech should set this to `true` and then use {@link Tech#triggerSourceset}\n * to trigger a {@link Tech#event:sourceset} at the earliest time after getting\n * a new source.\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresSourceset = false;\n/**\n * Boolean indicating whether the `Tech` supports the `timeupdate` event. This is currently\n * not triggered by video-js-swf. This will be used to determine if\n * {@link Tech#manualTimeUpdates} should be called.\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresTimeupdateEvents = false;\n/**\n * Boolean indicating whether the `Tech` supports the native `TextTrack`s.\n * This will help us integrate with native `TextTrack`s if the browser supports them.\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresNativeTextTracks = false;\n/**\n * A functional mixin for techs that want to use the Source Handler pattern.\n * Source handlers are scripts for handling specific formats.\n * The source handler pattern is used for adaptive formats (HLS, DASH) that\n * manually load video data and feed it into a Source Buffer (Media Source Extensions)\n * Example: `Tech.withSourceHandlers.call(MyTech);`\n *\n * @param {Tech} _Tech\n *        The tech to add source handler functions to.\n *\n * @mixes Tech~SourceHandlerAdditions\n */\n\nTech.withSourceHandlers = function (_Tech) {\n  /**\n   * Register a source handler\n   *\n   * @param {Function} handler\n   *        The source handler class\n   *\n   * @param {number} [index]\n   *        Register it at the following index\n   */\n  _Tech.registerSourceHandler = function (handler, index) {\n    var handlers = _Tech.sourceHandlers;\n\n    if (!handlers) {\n      handlers = _Tech.sourceHandlers = [];\n    }\n\n    if (index === undefined) {\n      // add to the end of the list\n      index = handlers.length;\n    }\n\n    handlers.splice(index, 0, handler);\n  };\n  /**\n   * Check if the tech can support the given type. Also checks the\n   * Techs sourceHandlers.\n   *\n   * @param {string} type\n   *         The mimetype to check.\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string)\n   */\n\n\n  _Tech.canPlayType = function (type) {\n    var handlers = _Tech.sourceHandlers || [];\n    var can;\n\n    for (var i = 0; i < handlers.length; i++) {\n      can = handlers[i].canPlayType(type);\n\n      if (can) {\n        return can;\n      }\n    }\n\n    return '';\n  };\n  /**\n   * Returns the first source handler that supports the source.\n   *\n   * TODO: Answer question: should 'probably' be prioritized over 'maybe'\n   *\n   * @param {Tech~SourceObject} source\n   *        The source object\n   *\n   * @param {Object} options\n   *        The options passed to the tech\n   *\n   * @return {SourceHandler|null}\n   *          The first source handler that supports the source or null if\n   *          no SourceHandler supports the source\n   */\n\n\n  _Tech.selectSourceHandler = function (source, options) {\n    var handlers = _Tech.sourceHandlers || [];\n    var can;\n\n    for (var i = 0; i < handlers.length; i++) {\n      can = handlers[i].canHandleSource(source, options);\n\n      if (can) {\n        return handlers[i];\n      }\n    }\n\n    return null;\n  };\n  /**\n   * Check if the tech can support the given source.\n   *\n   * @param {Tech~SourceObject} srcObj\n   *        The source object\n   *\n   * @param {Object} options\n   *        The options passed to the tech\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string)\n   */\n\n\n  _Tech.canPlaySource = function (srcObj, options) {\n    var sh = _Tech.selectSourceHandler(srcObj, options);\n\n    if (sh) {\n      return sh.canHandleSource(srcObj, options);\n    }\n\n    return '';\n  };\n  /**\n   * When using a source handler, prefer its implementation of\n   * any function normally provided by the tech.\n   */\n\n\n  var deferrable = ['seekable', 'seeking', 'duration'];\n  /**\n   * A wrapper around {@link Tech#seekable} that will call a `SourceHandler`s seekable\n   * function if it exists, with a fallback to the Techs seekable function.\n   *\n   * @method _Tech.seekable\n   */\n\n  /**\n   * A wrapper around {@link Tech#duration} that will call a `SourceHandler`s duration\n   * function if it exists, otherwise it will fallback to the techs duration function.\n   *\n   * @method _Tech.duration\n   */\n\n  deferrable.forEach(function (fnName) {\n    var originalFn = this[fnName];\n\n    if (typeof originalFn !== 'function') {\n      return;\n    }\n\n    this[fnName] = function () {\n      if (this.sourceHandler_ && this.sourceHandler_[fnName]) {\n        return this.sourceHandler_[fnName].apply(this.sourceHandler_, arguments);\n      }\n\n      return originalFn.apply(this, arguments);\n    };\n  }, _Tech.prototype);\n  /**\n   * Create a function for setting the source using a source object\n   * and source handlers.\n   * Should never be called unless a source handler was found.\n   *\n   * @param {Tech~SourceObject} source\n   *        A source object with src and type keys\n   */\n\n  _Tech.prototype.setSource = function (source) {\n    var sh = _Tech.selectSourceHandler(source, this.options_);\n\n    if (!sh) {\n      // Fall back to a native source hander when unsupported sources are\n      // deliberately set\n      if (_Tech.nativeSourceHandler) {\n        sh = _Tech.nativeSourceHandler;\n      } else {\n        log.error('No source handler found for the current source.');\n      }\n    } // Dispose any existing source handler\n\n\n    this.disposeSourceHandler();\n    this.off('dispose', this.disposeSourceHandler);\n\n    if (sh !== _Tech.nativeSourceHandler) {\n      this.currentSource_ = source;\n    }\n\n    this.sourceHandler_ = sh.handleSource(source, this, this.options_);\n    this.one('dispose', this.disposeSourceHandler);\n  };\n  /**\n   * Clean up any existing SourceHandlers and listeners when the Tech is disposed.\n   *\n   * @listens Tech#dispose\n   */\n\n\n  _Tech.prototype.disposeSourceHandler = function () {\n    // if we have a source and get another one\n    // then we are loading something new\n    // than clear all of our current tracks\n    if (this.currentSource_) {\n      this.clearTracks(['audio', 'video']);\n      this.currentSource_ = null;\n    } // always clean up auto-text tracks\n\n\n    this.cleanupAutoTextTracks();\n\n    if (this.sourceHandler_) {\n      if (this.sourceHandler_.dispose) {\n        this.sourceHandler_.dispose();\n      }\n\n      this.sourceHandler_ = null;\n    }\n  };\n}; // The base Tech class needs to be registered as a Component. It is the only\n// Tech that can be registered as a Component.\n\n\nComponent.registerComponent('Tech', Tech);\nTech.registerTech('Tech', Tech);\n/**\n * A list of techs that should be added to techOrder on Players\n *\n * @private\n */\n\nTech.defaultTechOrder_ = [];\n\n/**\n * @file middleware.js\n * @module middleware\n */\nvar middlewares = {};\nvar middlewareInstances = {};\nvar TERMINATOR = {};\n/**\n * A middleware object is a plain JavaScript object that has methods that\n * match the {@link Tech} methods found in the lists of allowed\n * {@link module:middleware.allowedGetters|getters},\n * {@link module:middleware.allowedSetters|setters}, and\n * {@link module:middleware.allowedMediators|mediators}.\n *\n * @typedef {Object} MiddlewareObject\n */\n\n/**\n * A middleware factory function that should return a\n * {@link module:middleware~MiddlewareObject|MiddlewareObject}.\n *\n * This factory will be called for each player when needed, with the player\n * passed in as an argument.\n *\n * @callback MiddlewareFactory\n * @param {Player} player\n *        A Video.js player.\n */\n\n/**\n * Define a middleware that the player should use by way of a factory function\n * that returns a middleware object.\n *\n * @param  {string} type\n *         The MIME type to match or `\"*\"` for all MIME types.\n *\n * @param  {MiddlewareFactory} middleware\n *         A middleware factory function that will be executed for\n *         matching types.\n */\n\nfunction use(type, middleware) {\n  middlewares[type] = middlewares[type] || [];\n  middlewares[type].push(middleware);\n}\n/**\n * Asynchronously sets a source using middleware by recursing through any\n * matching middlewares and calling `setSource` on each, passing along the\n * previous returned value each time.\n *\n * @param  {Player} player\n *         A {@link Player} instance.\n *\n * @param  {Tech~SourceObject} src\n *         A source object.\n *\n * @param  {Function}\n *         The next middleware to run.\n */\n\nfunction setSource(player, src, next) {\n  player.setTimeout(function () {\n    return setSourceHelper(src, middlewares[src.type], next, player);\n  }, 1);\n}\n/**\n * When the tech is set, passes the tech to each middleware's `setTech` method.\n *\n * @param {Object[]} middleware\n *        An array of middleware instances.\n *\n * @param {Tech} tech\n *        A Video.js tech.\n */\n\nfunction setTech(middleware, tech) {\n  middleware.forEach(function (mw) {\n    return mw.setTech && mw.setTech(tech);\n  });\n}\n/**\n * Calls a getter on the tech first, through each middleware\n * from right to left to the player.\n *\n * @param  {Object[]} middleware\n *         An array of middleware instances.\n *\n * @param  {Tech} tech\n *         The current tech.\n *\n * @param  {string} method\n *         A method name.\n *\n * @return {Mixed}\n *         The final value from the tech after middleware has intercepted it.\n */\n\nfunction get(middleware, tech, method) {\n  return middleware.reduceRight(middlewareIterator(method), tech[method]());\n}\n/**\n * Takes the argument given to the player and calls the setter method on each\n * middleware from left to right to the tech.\n *\n * @param  {Object[]} middleware\n *         An array of middleware instances.\n *\n * @param  {Tech} tech\n *         The current tech.\n *\n * @param  {string} method\n *         A method name.\n *\n * @param  {Mixed} arg\n *         The value to set on the tech.\n *\n * @return {Mixed}\n *         The return value of the `method` of the `tech`.\n */\n\nfunction set(middleware, tech, method, arg) {\n  return tech[method](middleware.reduce(middlewareIterator(method), arg));\n}\n/**\n * Takes the argument given to the player and calls the `call` version of the\n * method on each middleware from left to right.\n *\n * Then, call the passed in method on the tech and return the result unchanged\n * back to the player, through middleware, this time from right to left.\n *\n * @param  {Object[]} middleware\n *         An array of middleware instances.\n *\n * @param  {Tech} tech\n *         The current tech.\n *\n * @param  {string} method\n *         A method name.\n *\n * @param  {Mixed} arg\n *         The value to set on the tech.\n *\n * @return {Mixed}\n *         The return value of the `method` of the `tech`, regardless of the\n *         return values of middlewares.\n */\n\nfunction mediate(middleware, tech, method, arg) {\n  if (arg === void 0) {\n    arg = null;\n  }\n\n  var callMethod = 'call' + toTitleCase(method);\n  var middlewareValue = middleware.reduce(middlewareIterator(callMethod), arg);\n  var terminated = middlewareValue === TERMINATOR; // deprecated. The `null` return value should instead return TERMINATOR to\n  // prevent confusion if a techs method actually returns null.\n\n  var returnValue = terminated ? null : tech[method](middlewareValue);\n  executeRight(middleware, method, returnValue, terminated);\n  return returnValue;\n}\n/**\n * Enumeration of allowed getters where the keys are method names.\n *\n * @type {Object}\n */\n\nvar allowedGetters = {\n  buffered: 1,\n  currentTime: 1,\n  duration: 1,\n  seekable: 1,\n  played: 1,\n  paused: 1,\n  volume: 1\n};\n/**\n * Enumeration of allowed setters where the keys are method names.\n *\n * @type {Object}\n */\n\nvar allowedSetters = {\n  setCurrentTime: 1,\n  setVolume: 1\n};\n/**\n * Enumeration of allowed mediators where the keys are method names.\n *\n * @type {Object}\n */\n\nvar allowedMediators = {\n  play: 1,\n  pause: 1\n};\n\nfunction middlewareIterator(method) {\n  return function (value, mw) {\n    // if the previous middleware terminated, pass along the termination\n    if (value === TERMINATOR) {\n      return TERMINATOR;\n    }\n\n    if (mw[method]) {\n      return mw[method](value);\n    }\n\n    return value;\n  };\n}\n\nfunction executeRight(mws, method, value, terminated) {\n  for (var i = mws.length - 1; i >= 0; i--) {\n    var mw = mws[i];\n\n    if (mw[method]) {\n      mw[method](terminated, value);\n    }\n  }\n}\n/**\n * Clear the middleware cache for a player.\n *\n * @param  {Player} player\n *         A {@link Player} instance.\n */\n\n\nfunction clearCacheForPlayer(player) {\n  middlewareInstances[player.id()] = null;\n}\n/**\n * {\n *  [playerId]: [[mwFactory, mwInstance], ...]\n * }\n *\n * @private\n */\n\nfunction getOrCreateFactory(player, mwFactory) {\n  var mws = middlewareInstances[player.id()];\n  var mw = null;\n\n  if (mws === undefined || mws === null) {\n    mw = mwFactory(player);\n    middlewareInstances[player.id()] = [[mwFactory, mw]];\n    return mw;\n  }\n\n  for (var i = 0; i < mws.length; i++) {\n    var _mws$i = mws[i],\n        mwf = _mws$i[0],\n        mwi = _mws$i[1];\n\n    if (mwf !== mwFactory) {\n      continue;\n    }\n\n    mw = mwi;\n  }\n\n  if (mw === null) {\n    mw = mwFactory(player);\n    mws.push([mwFactory, mw]);\n  }\n\n  return mw;\n}\n\nfunction setSourceHelper(src, middleware, next, player, acc, lastRun) {\n  if (src === void 0) {\n    src = {};\n  }\n\n  if (middleware === void 0) {\n    middleware = [];\n  }\n\n  if (acc === void 0) {\n    acc = [];\n  }\n\n  if (lastRun === void 0) {\n    lastRun = false;\n  }\n\n  var _middleware = middleware,\n      mwFactory = _middleware[0],\n      mwrest = _middleware.slice(1); // if mwFactory is a string, then we're at a fork in the road\n\n\n  if (typeof mwFactory === 'string') {\n    setSourceHelper(src, middlewares[mwFactory], next, player, acc, lastRun); // if we have an mwFactory, call it with the player to get the mw,\n    // then call the mw's setSource method\n  } else if (mwFactory) {\n    var mw = getOrCreateFactory(player, mwFactory); // if setSource isn't present, implicitly select this middleware\n\n    if (!mw.setSource) {\n      acc.push(mw);\n      return setSourceHelper(src, mwrest, next, player, acc, lastRun);\n    }\n\n    mw.setSource(assign({}, src), function (err, _src) {\n      // something happened, try the next middleware on the current level\n      // make sure to use the old src\n      if (err) {\n        return setSourceHelper(src, mwrest, next, player, acc, lastRun);\n      } // we've succeeded, now we need to go deeper\n\n\n      acc.push(mw); // if it's the same type, continue down the current chain\n      // otherwise, we want to go down the new chain\n\n      setSourceHelper(_src, src.type === _src.type ? mwrest : middlewares[_src.type], next, player, acc, lastRun);\n    });\n  } else if (mwrest.length) {\n    setSourceHelper(src, mwrest, next, player, acc, lastRun);\n  } else if (lastRun) {\n    next(src, acc);\n  } else {\n    setSourceHelper(src, middlewares['*'], next, player, acc, true);\n  }\n}\n\n/**\n * Mimetypes\n *\n * @see http://hul.harvard.edu/ois/////systems/wax/wax-public-help/mimetypes.htm\n * @typedef Mimetypes~Kind\n * @enum\n */\n\nvar MimetypesKind = {\n  opus: 'video/ogg',\n  ogv: 'video/ogg',\n  mp4: 'video/mp4',\n  mov: 'video/mp4',\n  m4v: 'video/mp4',\n  mkv: 'video/x-matroska',\n  m4a: 'audio/mp4',\n  mp3: 'audio/mpeg',\n  aac: 'audio/aac',\n  oga: 'audio/ogg',\n  m3u8: 'application/x-mpegURL',\n  jpg: 'image/jpeg',\n  jpeg: 'image/jpeg',\n  gif: 'image/gif',\n  png: 'image/png',\n  svg: 'image/svg+xml',\n  webp: 'image/webp'\n};\n/**\n * Get the mimetype of a given src url if possible\n *\n * @param {string} src\n *        The url to the src\n *\n * @return {string}\n *         return the mimetype if it was known or empty string otherwise\n */\n\nvar getMimetype = function getMimetype(src) {\n  if (src === void 0) {\n    src = '';\n  }\n\n  var ext = getFileExtension(src);\n  var mimetype = MimetypesKind[ext.toLowerCase()];\n  return mimetype || '';\n};\n/**\n * Find the mime type of a given source string if possible. Uses the player\n * source cache.\n *\n * @param {Player} player\n *        The player object\n *\n * @param {string} src\n *        The source string\n *\n * @return {string}\n *         The type that was found\n */\n\nvar findMimetype = function findMimetype(player, src) {\n  if (!src) {\n    return '';\n  } // 1. check for the type in the `source` cache\n\n\n  if (player.cache_.source.src === src && player.cache_.source.type) {\n    return player.cache_.source.type;\n  } // 2. see if we have this source in our `currentSources` cache\n\n\n  var matchingSources = player.cache_.sources.filter(function (s) {\n    return s.src === src;\n  });\n\n  if (matchingSources.length) {\n    return matchingSources[0].type;\n  } // 3. look for the src url in source elements and use the type there\n\n\n  var sources = player.$$('source');\n\n  for (var i = 0; i < sources.length; i++) {\n    var s = sources[i];\n\n    if (s.type && s.src && s.src === src) {\n      return s.type;\n    }\n  } // 4. finally fallback to our list of mime types based on src url extension\n\n\n  return getMimetype(src);\n};\n\n/**\n * @module filter-source\n */\n/**\n * Filter out single bad source objects or multiple source objects in an\n * array. Also flattens nested source object arrays into a 1 dimensional\n * array of source objects.\n *\n * @param {Tech~SourceObject|Tech~SourceObject[]} src\n *        The src object to filter\n *\n * @return {Tech~SourceObject[]}\n *         An array of sourceobjects containing only valid sources\n *\n * @private\n */\n\nvar filterSource = function filterSource(src) {\n  // traverse array\n  if (Array.isArray(src)) {\n    var newsrc = [];\n    src.forEach(function (srcobj) {\n      srcobj = filterSource(srcobj);\n\n      if (Array.isArray(srcobj)) {\n        newsrc = newsrc.concat(srcobj);\n      } else if (isObject(srcobj)) {\n        newsrc.push(srcobj);\n      }\n    });\n    src = newsrc;\n  } else if (typeof src === 'string' && src.trim()) {\n    // convert string into object\n    src = [fixSource({\n      src: src\n    })];\n  } else if (isObject(src) && typeof src.src === 'string' && src.src && src.src.trim()) {\n    // src is already valid\n    src = [fixSource(src)];\n  } else {\n    // invalid source, turn it into an empty array\n    src = [];\n  }\n\n  return src;\n};\n/**\n * Checks src mimetype, adding it when possible\n *\n * @param {Tech~SourceObject} src\n *        The src object to check\n * @return {Tech~SourceObject}\n *        src Object with known type\n */\n\n\nfunction fixSource(src) {\n  if (!src.type) {\n    var mimetype = getMimetype(src.src);\n\n    if (mimetype) {\n      src.type = mimetype;\n    }\n  }\n\n  return src;\n}\n\n/**\n * The `MediaLoader` is the `Component` that decides which playback technology to load\n * when a player is initialized.\n *\n * @extends Component\n */\n\nvar MediaLoader =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(MediaLoader, _Component);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should attach to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function that is run when this component is ready.\n   */\n  function MediaLoader(player, options, ready) {\n    var _this;\n\n    // MediaLoader has no element\n    var options_ = mergeOptions({\n      createEl: false\n    }, options);\n    _this = _Component.call(this, player, options_, ready) || this; // If there are no sources when the player is initialized,\n    // load the first supported playback technology.\n\n    if (!options.playerOptions.sources || options.playerOptions.sources.length === 0) {\n      for (var i = 0, j = options.playerOptions.techOrder; i < j.length; i++) {\n        var techName = toTitleCase(j[i]);\n        var tech = Tech.getTech(techName); // Support old behavior of techs being registered as components.\n        // Remove once that deprecated behavior is removed.\n\n        if (!techName) {\n          tech = Component.getComponent(techName);\n        } // Check if the browser supports this technology\n\n\n        if (tech && tech.isSupported()) {\n          player.loadTech_(techName);\n          break;\n        }\n      }\n    } else {\n      // Loop through playback technologies (HTML5, Flash) and check for support.\n      // Then load the best source.\n      // A few assumptions here:\n      //   All playback technologies respect preload false.\n      player.src(options.playerOptions.sources);\n    }\n\n    return _this;\n  }\n\n  return MediaLoader;\n}(Component);\n\nComponent.registerComponent('MediaLoader', MediaLoader);\n\n/**\n * Component which is clickable or keyboard actionable, but is not a\n * native HTML button.\n *\n * @extends Component\n */\n\nvar ClickableComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ClickableComponent, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param  {Player} player\n   *         The `Player` that this class should be attached to.\n   *\n   * @param  {Object} [options]\n   *         The key/value store of player options.\n   */\n  function ClickableComponent(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n\n    _this.emitTapEvents();\n\n    _this.enable();\n\n    return _this;\n  }\n  /**\n   * Create the `ClickableComponent`s DOM element.\n   *\n   * @param {string} [tag=div]\n   *        The element's node type.\n   *\n   * @param {Object} [props={}]\n   *        An object of properties that should be set on the element.\n   *\n   * @param {Object} [attributes={}]\n   *        An object of attributes that should be set on the element.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n\n\n  var _proto = ClickableComponent.prototype;\n\n  _proto.createEl = function createEl(tag, props, attributes) {\n    if (tag === void 0) {\n      tag = 'div';\n    }\n\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (attributes === void 0) {\n      attributes = {};\n    }\n\n    props = assign({\n      innerHTML: '<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>',\n      className: this.buildCSSClass(),\n      tabIndex: 0\n    }, props);\n\n    if (tag === 'button') {\n      log.error(\"Creating a ClickableComponent with an HTML element of \" + tag + \" is not supported; use a Button instead.\");\n    } // Add ARIA attributes for clickable element which is not a native HTML button\n\n\n    attributes = assign({\n      role: 'button'\n    }, attributes);\n    this.tabIndex_ = props.tabIndex;\n\n    var el = _Component.prototype.createEl.call(this, tag, props, attributes);\n\n    this.createControlTextEl(el);\n    return el;\n  };\n\n  _proto.dispose = function dispose() {\n    // remove controlTextEl_ on dispose\n    this.controlTextEl_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Create a control text element on this `ClickableComponent`\n   *\n   * @param {Element} [el]\n   *        Parent element for the control text.\n   *\n   * @return {Element}\n   *         The control text element that gets created.\n   */\n  ;\n\n  _proto.createControlTextEl = function createControlTextEl(el) {\n    this.controlTextEl_ = createEl('span', {\n      className: 'vjs-control-text'\n    }, {\n      // let the screen reader user know that the text of the element may change\n      'aria-live': 'polite'\n    });\n\n    if (el) {\n      el.appendChild(this.controlTextEl_);\n    }\n\n    this.controlText(this.controlText_, el);\n    return this.controlTextEl_;\n  }\n  /**\n   * Get or set the localize text to use for the controls on the `ClickableComponent`.\n   *\n   * @param {string} [text]\n   *        Control text for element.\n   *\n   * @param {Element} [el=this.el()]\n   *        Element to set the title on.\n   *\n   * @return {string}\n   *         - The control text when getting\n   */\n  ;\n\n  _proto.controlText = function controlText(text, el) {\n    if (el === void 0) {\n      el = this.el();\n    }\n\n    if (text === undefined) {\n      return this.controlText_ || 'Need Text';\n    }\n\n    var localizedText = this.localize(text);\n    this.controlText_ = text;\n    textContent(this.controlTextEl_, localizedText);\n\n    if (!this.nonIconControl) {\n      // Set title attribute if only an icon is shown\n      el.setAttribute('title', localizedText);\n    }\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-control vjs-button \" + _Component.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Enable this `ClickableComponent`\n   */\n  ;\n\n  _proto.enable = function enable() {\n    if (!this.enabled_) {\n      this.enabled_ = true;\n      this.removeClass('vjs-disabled');\n      this.el_.setAttribute('aria-disabled', 'false');\n\n      if (typeof this.tabIndex_ !== 'undefined') {\n        this.el_.setAttribute('tabIndex', this.tabIndex_);\n      }\n\n      this.on(['tap', 'click'], this.handleClick);\n      this.on('keydown', this.handleKeyDown);\n    }\n  }\n  /**\n   * Disable this `ClickableComponent`\n   */\n  ;\n\n  _proto.disable = function disable() {\n    this.enabled_ = false;\n    this.addClass('vjs-disabled');\n    this.el_.setAttribute('aria-disabled', 'true');\n\n    if (typeof this.tabIndex_ !== 'undefined') {\n      this.el_.removeAttribute('tabIndex');\n    }\n\n    this.off('mouseover', this.handleMouseOver);\n    this.off('mouseout', this.handleMouseOut);\n    this.off(['tap', 'click'], this.handleClick);\n    this.off('keydown', this.handleKeyDown);\n  }\n  /**\n   * Event handler that is called when a `ClickableComponent` receives a\n   * `click` or `tap` event.\n   *\n   * @param {EventTarget~Event} event\n   *        The `tap` or `click` event that caused this function to be called.\n   *\n   * @listens tap\n   * @listens click\n   * @abstract\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {}\n  /**\n   * Event handler that is called when a `ClickableComponent` receives a\n   * `keydown` event.\n   *\n   * By default, if the key is Space or Enter, it will trigger a `click` event.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Support Space or Enter key operation to fire a click event. Also,\n    // prevent the event from propagating through the DOM and triggering\n    // Player hotkeys.\n    if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.trigger('click');\n    } else {\n      // Pass keypress handling up for unsupported keys\n      _Component.prototype.handleKeyDown.call(this, event);\n    }\n  };\n\n  return ClickableComponent;\n}(Component);\n\nComponent.registerComponent('ClickableComponent', ClickableComponent);\n\n/**\n * A `ClickableComponent` that handles showing the poster image for the player.\n *\n * @extends ClickableComponent\n */\n\nvar PosterImage =\n/*#__PURE__*/\nfunction (_ClickableComponent) {\n  _inheritsLoose(PosterImage, _ClickableComponent);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should attach to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function PosterImage(player, options) {\n    var _this;\n\n    _this = _ClickableComponent.call(this, player, options) || this;\n\n    _this.update();\n\n    player.on('posterchange', bind(_assertThisInitialized(_this), _this.update));\n    return _this;\n  }\n  /**\n   * Clean up and dispose of the `PosterImage`.\n   */\n\n\n  var _proto = PosterImage.prototype;\n\n  _proto.dispose = function dispose() {\n    this.player().off('posterchange', this.update);\n\n    _ClickableComponent.prototype.dispose.call(this);\n  }\n  /**\n   * Create the `PosterImage`s DOM element.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl$1() {\n    var el = createEl('div', {\n      className: 'vjs-poster',\n      // Don't want poster to be tabbable.\n      tabIndex: -1\n    });\n    return el;\n  }\n  /**\n   * An {@link EventTarget~EventListener} for {@link Player#posterchange} events.\n   *\n   * @listens Player#posterchange\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `Player#posterchange` event that triggered this function.\n   */\n  ;\n\n  _proto.update = function update(event) {\n    var url = this.player().poster();\n    this.setSrc(url); // If there's no poster source we should display:none on this component\n    // so it's not still clickable or right-clickable\n\n    if (url) {\n      this.show();\n    } else {\n      this.hide();\n    }\n  }\n  /**\n   * Set the source of the `PosterImage` depending on the display method.\n   *\n   * @param {string} url\n   *        The URL to the source for the `PosterImage`.\n   */\n  ;\n\n  _proto.setSrc = function setSrc(url) {\n    var backgroundImage = ''; // Any falsy value should stay as an empty string, otherwise\n    // this will throw an extra error\n\n    if (url) {\n      backgroundImage = \"url(\\\"\" + url + \"\\\")\";\n    }\n\n    this.el_.style.backgroundImage = backgroundImage;\n  }\n  /**\n   * An {@link EventTarget~EventListener} for clicks on the `PosterImage`. See\n   * {@link ClickableComponent#handleClick} for instances where this will be triggered.\n   *\n   * @listens tap\n   * @listens click\n   * @listens keydown\n   *\n   * @param {EventTarget~Event} event\n   +        The `click`, `tap` or `keydown` event that caused this function to be called.\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    // We don't want a click to trigger playback when controls are disabled\n    if (!this.player_.controls()) {\n      return;\n    }\n\n    if (this.player_.tech(true)) {\n      this.player_.tech(true).focus();\n    }\n\n    if (this.player_.paused()) {\n      silencePromise(this.player_.play());\n    } else {\n      this.player_.pause();\n    }\n  };\n\n  return PosterImage;\n}(ClickableComponent);\n\nComponent.registerComponent('PosterImage', PosterImage);\n\nvar darkGray = '#222';\nvar lightGray = '#ccc';\nvar fontMap = {\n  monospace: 'monospace',\n  sansSerif: 'sans-serif',\n  serif: 'serif',\n  monospaceSansSerif: '\"Andale Mono\", \"Lucida Console\", monospace',\n  monospaceSerif: '\"Courier New\", monospace',\n  proportionalSansSerif: 'sans-serif',\n  proportionalSerif: 'serif',\n  casual: '\"Comic Sans MS\", Impact, fantasy',\n  script: '\"Monotype Corsiva\", cursive',\n  smallcaps: '\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'\n};\n/**\n * Construct an rgba color from a given hex color code.\n *\n * @param {number} color\n *        Hex number for color, like #f0e or #f604e2.\n *\n * @param {number} opacity\n *        Value for opacity, 0.0 - 1.0.\n *\n * @return {string}\n *         The rgba color that was created, like 'rgba(255, 0, 0, 0.3)'.\n */\n\nfunction constructColor(color, opacity) {\n  var hex;\n\n  if (color.length === 4) {\n    // color looks like \"#f0e\"\n    hex = color[1] + color[1] + color[2] + color[2] + color[3] + color[3];\n  } else if (color.length === 7) {\n    // color looks like \"#f604e2\"\n    hex = color.slice(1);\n  } else {\n    throw new Error('Invalid color code provided, ' + color + '; must be formatted as e.g. #f0e or #f604e2.');\n  }\n\n  return 'rgba(' + parseInt(hex.slice(0, 2), 16) + ',' + parseInt(hex.slice(2, 4), 16) + ',' + parseInt(hex.slice(4, 6), 16) + ',' + opacity + ')';\n}\n/**\n * Try to update the style of a DOM element. Some style changes will throw an error,\n * particularly in IE8. Those should be noops.\n *\n * @param {Element} el\n *        The DOM element to be styled.\n *\n * @param {string} style\n *        The CSS property on the element that should be styled.\n *\n * @param {string} rule\n *        The style rule that should be applied to the property.\n *\n * @private\n */\n\nfunction tryUpdateStyle(el, style, rule) {\n  try {\n    el.style[style] = rule;\n  } catch (e) {\n    // Satisfies linter.\n    return;\n  }\n}\n/**\n * The component for displaying text track cues.\n *\n * @extends Component\n */\n\n\nvar TextTrackDisplay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(TextTrackDisplay, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when `TextTrackDisplay` is ready.\n   */\n  function TextTrackDisplay(player, options, ready) {\n    var _this;\n\n    _this = _Component.call(this, player, options, ready) || this;\n    var updateDisplayHandler = bind(_assertThisInitialized(_this), _this.updateDisplay);\n    player.on('loadstart', bind(_assertThisInitialized(_this), _this.toggleDisplay));\n    player.on('texttrackchange', updateDisplayHandler);\n    player.on('loadedmetadata', bind(_assertThisInitialized(_this), _this.preselectTrack)); // This used to be called during player init, but was causing an error\n    // if a track should show by default and the display hadn't loaded yet.\n    // Should probably be moved to an external track loader when we support\n    // tracks that don't need a display.\n\n    player.ready(bind(_assertThisInitialized(_this), function () {\n      if (player.tech_ && player.tech_.featuresNativeTextTracks) {\n        this.hide();\n        return;\n      }\n\n      player.on('fullscreenchange', updateDisplayHandler);\n      player.on('playerresize', updateDisplayHandler);\n      window$1.addEventListener('orientationchange', updateDisplayHandler);\n      player.on('dispose', function () {\n        return window$1.removeEventListener('orientationchange', updateDisplayHandler);\n      });\n      var tracks = this.options_.playerOptions.tracks || [];\n\n      for (var i = 0; i < tracks.length; i++) {\n        this.player_.addRemoteTextTrack(tracks[i], true);\n      }\n\n      this.preselectTrack();\n    }));\n    return _this;\n  }\n  /**\n  * Preselect a track following this precedence:\n  * - matches the previously selected {@link TextTrack}'s language and kind\n  * - matches the previously selected {@link TextTrack}'s language only\n  * - is the first default captions track\n  * - is the first default descriptions track\n  *\n  * @listens Player#loadstart\n  */\n\n\n  var _proto = TextTrackDisplay.prototype;\n\n  _proto.preselectTrack = function preselectTrack() {\n    var modes = {\n      captions: 1,\n      subtitles: 1\n    };\n    var trackList = this.player_.textTracks();\n    var userPref = this.player_.cache_.selectedLanguage;\n    var firstDesc;\n    var firstCaptions;\n    var preferredTrack;\n\n    for (var i = 0; i < trackList.length; i++) {\n      var track = trackList[i];\n\n      if (userPref && userPref.enabled && userPref.language && userPref.language === track.language && track.kind in modes) {\n        // Always choose the track that matches both language and kind\n        if (track.kind === userPref.kind) {\n          preferredTrack = track; // or choose the first track that matches language\n        } else if (!preferredTrack) {\n          preferredTrack = track;\n        } // clear everything if offTextTrackMenuItem was clicked\n\n      } else if (userPref && !userPref.enabled) {\n        preferredTrack = null;\n        firstDesc = null;\n        firstCaptions = null;\n      } else if (track[\"default\"]) {\n        if (track.kind === 'descriptions' && !firstDesc) {\n          firstDesc = track;\n        } else if (track.kind in modes && !firstCaptions) {\n          firstCaptions = track;\n        }\n      }\n    } // The preferredTrack matches the user preference and takes\n    // precedence over all the other tracks.\n    // So, display the preferredTrack before the first default track\n    // and the subtitles/captions track before the descriptions track\n\n\n    if (preferredTrack) {\n      preferredTrack.mode = 'showing';\n    } else if (firstCaptions) {\n      firstCaptions.mode = 'showing';\n    } else if (firstDesc) {\n      firstDesc.mode = 'showing';\n    }\n  }\n  /**\n   * Turn display of {@link TextTrack}'s from the current state into the other state.\n   * There are only two states:\n   * - 'shown'\n   * - 'hidden'\n   *\n   * @listens Player#loadstart\n   */\n  ;\n\n  _proto.toggleDisplay = function toggleDisplay() {\n    if (this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n  /**\n   * Create the {@link Component}'s DOM element.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-text-track-display'\n    }, {\n      'aria-live': 'off',\n      'aria-atomic': 'true'\n    });\n  }\n  /**\n   * Clear all displayed {@link TextTrack}s.\n   */\n  ;\n\n  _proto.clearDisplay = function clearDisplay() {\n    if (typeof window$1.WebVTT === 'function') {\n      window$1.WebVTT.processCues(window$1, [], this.el_);\n    }\n  }\n  /**\n   * Update the displayed TextTrack when a either a {@link Player#texttrackchange} or\n   * a {@link Player#fullscreenchange} is fired.\n   *\n   * @listens Player#texttrackchange\n   * @listens Player#fullscreenchange\n   */\n  ;\n\n  _proto.updateDisplay = function updateDisplay() {\n    var tracks = this.player_.textTracks();\n    var allowMultipleShowingTracks = this.options_.allowMultipleShowingTracks;\n    this.clearDisplay();\n\n    if (allowMultipleShowingTracks) {\n      var showingTracks = [];\n\n      for (var _i = 0; _i < tracks.length; ++_i) {\n        var track = tracks[_i];\n\n        if (track.mode !== 'showing') {\n          continue;\n        }\n\n        showingTracks.push(track);\n      }\n\n      this.updateForTrack(showingTracks);\n      return;\n    } //  Track display prioritization model: if multiple tracks are 'showing',\n    //  display the first 'subtitles' or 'captions' track which is 'showing',\n    //  otherwise display the first 'descriptions' track which is 'showing'\n\n\n    var descriptionsTrack = null;\n    var captionsSubtitlesTrack = null;\n    var i = tracks.length;\n\n    while (i--) {\n      var _track = tracks[i];\n\n      if (_track.mode === 'showing') {\n        if (_track.kind === 'descriptions') {\n          descriptionsTrack = _track;\n        } else {\n          captionsSubtitlesTrack = _track;\n        }\n      }\n    }\n\n    if (captionsSubtitlesTrack) {\n      if (this.getAttribute('aria-live') !== 'off') {\n        this.setAttribute('aria-live', 'off');\n      }\n\n      this.updateForTrack(captionsSubtitlesTrack);\n    } else if (descriptionsTrack) {\n      if (this.getAttribute('aria-live') !== 'assertive') {\n        this.setAttribute('aria-live', 'assertive');\n      }\n\n      this.updateForTrack(descriptionsTrack);\n    }\n  }\n  /**\n   * Style {@Link TextTrack} activeCues according to {@Link TextTrackSettings}.\n   *\n   * @param {TextTrack} track\n   *        Text track object containing active cues to style.\n   */\n  ;\n\n  _proto.updateDisplayState = function updateDisplayState(track) {\n    var overrides = this.player_.textTrackSettings.getValues();\n    var cues = track.activeCues;\n    var i = cues.length;\n\n    while (i--) {\n      var cue = cues[i];\n\n      if (!cue) {\n        continue;\n      }\n\n      var cueDiv = cue.displayState;\n\n      if (overrides.color) {\n        cueDiv.firstChild.style.color = overrides.color;\n      }\n\n      if (overrides.textOpacity) {\n        tryUpdateStyle(cueDiv.firstChild, 'color', constructColor(overrides.color || '#fff', overrides.textOpacity));\n      }\n\n      if (overrides.backgroundColor) {\n        cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor;\n      }\n\n      if (overrides.backgroundOpacity) {\n        tryUpdateStyle(cueDiv.firstChild, 'backgroundColor', constructColor(overrides.backgroundColor || '#000', overrides.backgroundOpacity));\n      }\n\n      if (overrides.windowColor) {\n        if (overrides.windowOpacity) {\n          tryUpdateStyle(cueDiv, 'backgroundColor', constructColor(overrides.windowColor, overrides.windowOpacity));\n        } else {\n          cueDiv.style.backgroundColor = overrides.windowColor;\n        }\n      }\n\n      if (overrides.edgeStyle) {\n        if (overrides.edgeStyle === 'dropshadow') {\n          cueDiv.firstChild.style.textShadow = \"2px 2px 3px \" + darkGray + \", 2px 2px 4px \" + darkGray + \", 2px 2px 5px \" + darkGray;\n        } else if (overrides.edgeStyle === 'raised') {\n          cueDiv.firstChild.style.textShadow = \"1px 1px \" + darkGray + \", 2px 2px \" + darkGray + \", 3px 3px \" + darkGray;\n        } else if (overrides.edgeStyle === 'depressed') {\n          cueDiv.firstChild.style.textShadow = \"1px 1px \" + lightGray + \", 0 1px \" + lightGray + \", -1px -1px \" + darkGray + \", 0 -1px \" + darkGray;\n        } else if (overrides.edgeStyle === 'uniform') {\n          cueDiv.firstChild.style.textShadow = \"0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray;\n        }\n      }\n\n      if (overrides.fontPercent && overrides.fontPercent !== 1) {\n        var fontSize = window$1.parseFloat(cueDiv.style.fontSize);\n        cueDiv.style.fontSize = fontSize * overrides.fontPercent + 'px';\n        cueDiv.style.height = 'auto';\n        cueDiv.style.top = 'auto';\n        cueDiv.style.bottom = '2px';\n      }\n\n      if (overrides.fontFamily && overrides.fontFamily !== 'default') {\n        if (overrides.fontFamily === 'small-caps') {\n          cueDiv.firstChild.style.fontVariant = 'small-caps';\n        } else {\n          cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily];\n        }\n      }\n    }\n  }\n  /**\n   * Add an {@link TextTrack} to to the {@link Tech}s {@link TextTrackList}.\n   *\n   * @param {TextTrack|TextTrack[]} tracks\n   *        Text track object or text track array to be added to the list.\n   */\n  ;\n\n  _proto.updateForTrack = function updateForTrack(tracks) {\n    if (!Array.isArray(tracks)) {\n      tracks = [tracks];\n    }\n\n    if (typeof window$1.WebVTT !== 'function' || tracks.every(function (track) {\n      return !track.activeCues;\n    })) {\n      return;\n    }\n\n    var cues = []; // push all active track cues\n\n    for (var i = 0; i < tracks.length; ++i) {\n      var track = tracks[i];\n\n      for (var j = 0; j < track.activeCues.length; ++j) {\n        cues.push(track.activeCues[j]);\n      }\n    } // removes all cues before it processes new ones\n\n\n    window$1.WebVTT.processCues(window$1, cues, this.el_); // add unique class to each language text track & add settings styling if necessary\n\n    for (var _i2 = 0; _i2 < tracks.length; ++_i2) {\n      var _track2 = tracks[_i2];\n\n      for (var _j = 0; _j < _track2.activeCues.length; ++_j) {\n        var cueEl = _track2.activeCues[_j].displayState;\n        addClass(cueEl, 'vjs-text-track-cue');\n        addClass(cueEl, 'vjs-text-track-cue-' + (_track2.language ? _track2.language : _i2));\n      }\n\n      if (this.player_.textTrackSettings) {\n        this.updateDisplayState(_track2);\n      }\n    }\n  };\n\n  return TextTrackDisplay;\n}(Component);\n\nComponent.registerComponent('TextTrackDisplay', TextTrackDisplay);\n\n/**\n * A loading spinner for use during waiting/loading events.\n *\n * @extends Component\n */\n\nvar LoadingSpinner =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(LoadingSpinner, _Component);\n\n  function LoadingSpinner() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = LoadingSpinner.prototype;\n\n  /**\n   * Create the `LoadingSpinner`s DOM element.\n   *\n   * @return {Element}\n   *         The dom element that gets created.\n   */\n  _proto.createEl = function createEl$1() {\n    var isAudio = this.player_.isAudio();\n    var playerType = this.localize(isAudio ? 'Audio Player' : 'Video Player');\n    var controlText = createEl('span', {\n      className: 'vjs-control-text',\n      innerHTML: this.localize('{1} is loading.', [playerType])\n    });\n\n    var el = _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-loading-spinner',\n      dir: 'ltr'\n    });\n\n    el.appendChild(controlText);\n    return el;\n  };\n\n  return LoadingSpinner;\n}(Component);\n\nComponent.registerComponent('LoadingSpinner', LoadingSpinner);\n\n/**\n * Base class for all buttons.\n *\n * @extends ClickableComponent\n */\n\nvar Button =\n/*#__PURE__*/\nfunction (_ClickableComponent) {\n  _inheritsLoose(Button, _ClickableComponent);\n\n  function Button() {\n    return _ClickableComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = Button.prototype;\n\n  /**\n   * Create the `Button`s DOM element.\n   *\n   * @param {string} [tag=\"button\"]\n   *        The element's node type. This argument is IGNORED: no matter what\n   *        is passed, it will always create a `button` element.\n   *\n   * @param {Object} [props={}]\n   *        An object of properties that should be set on the element.\n   *\n   * @param {Object} [attributes={}]\n   *        An object of attributes that should be set on the element.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n  _proto.createEl = function createEl(tag, props, attributes) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (attributes === void 0) {\n      attributes = {};\n    }\n\n    tag = 'button';\n    props = assign({\n      innerHTML: '<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>',\n      className: this.buildCSSClass()\n    }, props); // Add attributes for button element\n\n    attributes = assign({\n      // Necessary since the default button type is \"submit\"\n      type: 'button'\n    }, attributes);\n    var el = Component.prototype.createEl.call(this, tag, props, attributes);\n    this.createControlTextEl(el);\n    return el;\n  }\n  /**\n   * Add a child `Component` inside of this `Button`.\n   *\n   * @param {string|Component} child\n   *        The name or instance of a child to add.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of options that will get passed to children of\n   *        the child.\n   *\n   * @return {Component}\n   *         The `Component` that gets added as a child. When using a string the\n   *         `Component` will get created by this process.\n   *\n   * @deprecated since version 5\n   */\n  ;\n\n  _proto.addChild = function addChild(child, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var className = this.constructor.name;\n    log.warn(\"Adding an actionable (user controllable) child to a Button (\" + className + \") is not supported; use a ClickableComponent instead.\"); // Avoid the error message generated by ClickableComponent's addChild method\n\n    return Component.prototype.addChild.call(this, child, options);\n  }\n  /**\n   * Enable the `Button` element so that it can be activated or clicked. Use this with\n   * {@link Button#disable}.\n   */\n  ;\n\n  _proto.enable = function enable() {\n    _ClickableComponent.prototype.enable.call(this);\n\n    this.el_.removeAttribute('disabled');\n  }\n  /**\n   * Disable the `Button` element so that it cannot be activated or clicked. Use this with\n   * {@link Button#enable}.\n   */\n  ;\n\n  _proto.disable = function disable() {\n    _ClickableComponent.prototype.disable.call(this);\n\n    this.el_.setAttribute('disabled', 'disabled');\n  }\n  /**\n   * This gets called when a `Button` has focus and `keydown` is triggered via a key\n   * press.\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to get called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Ignore Space or Enter key operation, which is handled by the browser for\n    // a button - though not for its super class, ClickableComponent. Also,\n    // prevent the event from propagating through the DOM and triggering Player\n    // hotkeys. We do not preventDefault here because we _want_ the browser to\n    // handle it.\n    if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n      event.stopPropagation();\n      return;\n    } // Pass keypress handling up for unsupported keys\n\n\n    _ClickableComponent.prototype.handleKeyDown.call(this, event);\n  };\n\n  return Button;\n}(ClickableComponent);\n\nComponent.registerComponent('Button', Button);\n\n/**\n * The initial play button that shows before the video has played. The hiding of the\n * `BigPlayButton` get done via CSS and `Player` states.\n *\n * @extends Button\n */\n\nvar BigPlayButton =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(BigPlayButton, _Button);\n\n  function BigPlayButton(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this;\n    _this.mouseused_ = false;\n\n    _this.on('mousedown', _this.handleMouseDown);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object. Always returns 'vjs-big-play-button'.\n   */\n\n\n  var _proto = BigPlayButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return 'vjs-big-play-button';\n  }\n  /**\n   * This gets called when a `BigPlayButton` \"clicked\". See {@link ClickableComponent}\n   * for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    var playPromise = this.player_.play(); // exit early if clicked via the mouse\n\n    if (this.mouseused_ && event.clientX && event.clientY) {\n      silencePromise(playPromise);\n\n      if (this.player_.tech(true)) {\n        this.player_.tech(true).focus();\n      }\n\n      return;\n    }\n\n    var cb = this.player_.getChild('controlBar');\n    var playToggle = cb && cb.getChild('playToggle');\n\n    if (!playToggle) {\n      this.player_.tech(true).focus();\n      return;\n    }\n\n    var playFocus = function playFocus() {\n      return playToggle.focus();\n    };\n\n    if (isPromise(playPromise)) {\n      playPromise.then(playFocus, function () {});\n    } else {\n      this.setTimeout(playFocus, 1);\n    }\n  };\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    this.mouseused_ = false;\n\n    _Button.prototype.handleKeyDown.call(this, event);\n  };\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    this.mouseused_ = true;\n  };\n\n  return BigPlayButton;\n}(Button);\n/**\n * The text that should display over the `BigPlayButton`s controls. Added to for localization.\n *\n * @type {string}\n * @private\n */\n\n\nBigPlayButton.prototype.controlText_ = 'Play Video';\nComponent.registerComponent('BigPlayButton', BigPlayButton);\n\n/**\n * The `CloseButton` is a `{@link Button}` that fires a `close` event when\n * it gets clicked.\n *\n * @extends Button\n */\n\nvar CloseButton =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(CloseButton, _Button);\n\n  /**\n  * Creates an instance of the this class.\n  *\n  * @param  {Player} player\n  *         The `Player` that this class should be attached to.\n  *\n  * @param  {Object} [options]\n  *         The key/value store of player options.\n  */\n  function CloseButton(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this;\n\n    _this.controlText(options && options.controlText || _this.localize('Close'));\n\n    return _this;\n  }\n  /**\n  * Builds the default DOM `className`.\n  *\n  * @return {string}\n  *         The DOM `className` for this object.\n  */\n\n\n  var _proto = CloseButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-close-button \" + _Button.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * This gets called when a `CloseButton` gets clicked. See\n   * {@link ClickableComponent#handleClick} for more information on when\n   * this will be triggered\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   * @fires CloseButton#close\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    /**\n     * Triggered when the a `CloseButton` is clicked.\n     *\n     * @event CloseButton#close\n     * @type {EventTarget~Event}\n     *\n     * @property {boolean} [bubbles=false]\n     *           set to false so that the close event does not\n     *           bubble up to parents if there is no listener\n     */\n    this.trigger({\n      type: 'close',\n      bubbles: false\n    });\n  }\n  /**\n   * Event handler that is called when a `CloseButton` receives a\n   * `keydown` event.\n   *\n   * By default, if the key is Esc, it will trigger a `click` event.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Esc button will trigger `click` event\n    if (keycode.isEventKey(event, 'Esc')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.trigger('click');\n    } else {\n      // Pass keypress handling up for unsupported keys\n      _Button.prototype.handleKeyDown.call(this, event);\n    }\n  };\n\n  return CloseButton;\n}(Button);\n\nComponent.registerComponent('CloseButton', CloseButton);\n\n/**\n * Button to toggle between play and pause.\n *\n * @extends Button\n */\n\nvar PlayToggle =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(PlayToggle, _Button);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n  function PlayToggle(player, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _Button.call(this, player, options) || this; // show or hide replay icon\n\n    options.replay = options.replay === undefined || options.replay;\n\n    _this.on(player, 'play', _this.handlePlay);\n\n    _this.on(player, 'pause', _this.handlePause);\n\n    if (options.replay) {\n      _this.on(player, 'ended', _this.handleEnded);\n    }\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = PlayToggle.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-play-control \" + _Button.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * This gets called when an `PlayToggle` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    if (this.player_.paused()) {\n      this.player_.play();\n    } else {\n      this.player_.pause();\n    }\n  }\n  /**\n   * This gets called once after the video has ended and the user seeks so that\n   * we can change the replay button back to a play button.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#seeked\n   */\n  ;\n\n  _proto.handleSeeked = function handleSeeked(event) {\n    this.removeClass('vjs-ended');\n\n    if (this.player_.paused()) {\n      this.handlePause(event);\n    } else {\n      this.handlePlay(event);\n    }\n  }\n  /**\n   * Add the vjs-playing class to the element so it can change appearance.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#play\n   */\n  ;\n\n  _proto.handlePlay = function handlePlay(event) {\n    this.removeClass('vjs-ended');\n    this.removeClass('vjs-paused');\n    this.addClass('vjs-playing'); // change the button text to \"Pause\"\n\n    this.controlText('Pause');\n  }\n  /**\n   * Add the vjs-paused class to the element so it can change appearance.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#pause\n   */\n  ;\n\n  _proto.handlePause = function handlePause(event) {\n    this.removeClass('vjs-playing');\n    this.addClass('vjs-paused'); // change the button text to \"Play\"\n\n    this.controlText('Play');\n  }\n  /**\n   * Add the vjs-ended class to the element so it can change appearance\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#ended\n   */\n  ;\n\n  _proto.handleEnded = function handleEnded(event) {\n    this.removeClass('vjs-playing');\n    this.addClass('vjs-ended'); // change the button text to \"Replay\"\n\n    this.controlText('Replay'); // on the next seek remove the replay button\n\n    this.one(this.player_, 'seeked', this.handleSeeked);\n  };\n\n  return PlayToggle;\n}(Button);\n/**\n * The text that should display over the `PlayToggle`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nPlayToggle.prototype.controlText_ = 'Play';\nComponent.registerComponent('PlayToggle', PlayToggle);\n\n/**\n * @file format-time.js\n * @module format-time\n */\n\n/**\n * Format seconds as a time string, H:MM:SS or M:SS. Supplying a guide (in\n * seconds) will force a number of leading zeros to cover the length of the\n * guide.\n *\n * @private\n * @param  {number} seconds\n *         Number of seconds to be turned into a string\n *\n * @param  {number} guide\n *         Number (in seconds) to model the string after\n *\n * @return {string}\n *         Time formatted as H:MM:SS or M:SS\n */\nvar defaultImplementation = function defaultImplementation(seconds, guide) {\n  seconds = seconds < 0 ? 0 : seconds;\n  var s = Math.floor(seconds % 60);\n  var m = Math.floor(seconds / 60 % 60);\n  var h = Math.floor(seconds / 3600);\n  var gm = Math.floor(guide / 60 % 60);\n  var gh = Math.floor(guide / 3600); // handle invalid times\n\n  if (isNaN(seconds) || seconds === Infinity) {\n    // '-' is false for all relational operators (e.g. <, >=) so this setting\n    // will add the minimum number of fields specified by the guide\n    h = m = s = '-';\n  } // Check if we need to show hours\n\n\n  h = h > 0 || gh > 0 ? h + ':' : ''; // If hours are showing, we may need to add a leading zero.\n  // Always show at least one digit of minutes.\n\n  m = ((h || gm >= 10) && m < 10 ? '0' + m : m) + ':'; // Check if leading zero is need for seconds\n\n  s = s < 10 ? '0' + s : s;\n  return h + m + s;\n}; // Internal pointer to the current implementation.\n\n\nvar implementation = defaultImplementation;\n/**\n * Replaces the default formatTime implementation with a custom implementation.\n *\n * @param {Function} customImplementation\n *        A function which will be used in place of the default formatTime\n *        implementation. Will receive the current time in seconds and the\n *        guide (in seconds) as arguments.\n */\n\nfunction setFormatTime(customImplementation) {\n  implementation = customImplementation;\n}\n/**\n * Resets formatTime to the default implementation.\n */\n\nfunction resetFormatTime() {\n  implementation = defaultImplementation;\n}\n/**\n * Delegates to either the default time formatting function or a custom\n * function supplied via `setFormatTime`.\n *\n * Formats seconds as a time string (H:MM:SS or M:SS). Supplying a\n * guide (in seconds) will force a number of leading zeros to cover the\n * length of the guide.\n *\n * @static\n * @example  formatTime(125, 600) === \"02:05\"\n * @param    {number} seconds\n *           Number of seconds to be turned into a string\n *\n * @param    {number} guide\n *           Number (in seconds) to model the string after\n *\n * @return   {string}\n *           Time formatted as H:MM:SS or M:SS\n */\n\nfunction formatTime(seconds, guide) {\n  if (guide === void 0) {\n    guide = seconds;\n  }\n\n  return implementation(seconds, guide);\n}\n\n/**\n * Displays time information about the video\n *\n * @extends Component\n */\n\nvar TimeDisplay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(TimeDisplay, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function TimeDisplay(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.throttledUpdateContent = throttle(bind(_assertThisInitialized(_this), _this.updateContent), UPDATE_REFRESH_INTERVAL);\n\n    _this.on(player, 'timeupdate', _this.throttledUpdateContent);\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = TimeDisplay.prototype;\n\n  _proto.createEl = function createEl$1() {\n    var className = this.buildCSSClass();\n\n    var el = _Component.prototype.createEl.call(this, 'div', {\n      className: className + \" vjs-time-control vjs-control\",\n      innerHTML: \"<span class=\\\"vjs-control-text\\\" role=\\\"presentation\\\">\" + this.localize(this.labelText_) + \"\\xA0</span>\"\n    });\n\n    this.contentEl_ = createEl('span', {\n      className: className + \"-display\"\n    }, {\n      // tell screen readers not to automatically read the time as it changes\n      'aria-live': 'off',\n      // span elements have no implicit role, but some screen readers (notably VoiceOver)\n      // treat them as a break between items in the DOM when using arrow keys\n      // (or left-to-right swipes on iOS) to read contents of a page. Using\n      // role='presentation' causes VoiceOver to NOT treat this span as a break.\n      'role': 'presentation'\n    });\n    this.updateTextNode_();\n    el.appendChild(this.contentEl_);\n    return el;\n  };\n\n  _proto.dispose = function dispose() {\n    this.contentEl_ = null;\n    this.textNode_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Updates the \"remaining time\" text node with new content using the\n   * contents of the `formattedTime_` property.\n   *\n   * @private\n   */\n  ;\n\n  _proto.updateTextNode_ = function updateTextNode_() {\n    if (!this.contentEl_) {\n      return;\n    }\n\n    while (this.contentEl_.firstChild) {\n      this.contentEl_.removeChild(this.contentEl_.firstChild);\n    }\n\n    this.textNode_ = document.createTextNode(this.formattedTime_ || this.formatTime_(0));\n    this.contentEl_.appendChild(this.textNode_);\n  }\n  /**\n   * Generates a formatted time for this component to use in display.\n   *\n   * @param  {number} time\n   *         A numeric time, in seconds.\n   *\n   * @return {string}\n   *         A formatted time\n   *\n   * @private\n   */\n  ;\n\n  _proto.formatTime_ = function formatTime_(time) {\n    return formatTime(time);\n  }\n  /**\n   * Updates the time display text node if it has what was passed in changed\n   * the formatted time.\n   *\n   * @param {number} time\n   *        The time to update to\n   *\n   * @private\n   */\n  ;\n\n  _proto.updateFormattedTime_ = function updateFormattedTime_(time) {\n    var formattedTime = this.formatTime_(time);\n\n    if (formattedTime === this.formattedTime_) {\n      return;\n    }\n\n    this.formattedTime_ = formattedTime;\n    this.requestAnimationFrame(this.updateTextNode_);\n  }\n  /**\n   * To be filled out in the child class, should update the displayed time\n   * in accordance with the fact that the current time has changed.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `timeupdate`  event that caused this to run.\n   *\n   * @listens Player#timeupdate\n   */\n  ;\n\n  _proto.updateContent = function updateContent(event) {};\n\n  return TimeDisplay;\n}(Component);\n/**\n * The text that is added to the `TimeDisplay` for screen reader users.\n *\n * @type {string}\n * @private\n */\n\n\nTimeDisplay.prototype.labelText_ = 'Time';\n/**\n * The text that should display over the `TimeDisplay`s controls. Added to for localization.\n *\n * @type {string}\n * @private\n *\n * @deprecated in v7; controlText_ is not used in non-active display Components\n */\n\nTimeDisplay.prototype.controlText_ = 'Time';\nComponent.registerComponent('TimeDisplay', TimeDisplay);\n\n/**\n * Displays the current time\n *\n * @extends Component\n */\n\nvar CurrentTimeDisplay =\n/*#__PURE__*/\nfunction (_TimeDisplay) {\n  _inheritsLoose(CurrentTimeDisplay, _TimeDisplay);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function CurrentTimeDisplay(player, options) {\n    var _this;\n\n    _this = _TimeDisplay.call(this, player, options) || this;\n\n    _this.on(player, 'ended', _this.handleEnded);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = CurrentTimeDisplay.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return 'vjs-current-time';\n  }\n  /**\n   * Update current time display\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `timeupdate` event that caused this function to run.\n   *\n   * @listens Player#timeupdate\n   */\n  ;\n\n  _proto.updateContent = function updateContent(event) {\n    // Allows for smooth scrubbing, when player can't keep up.\n    var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n    this.updateFormattedTime_(time);\n  }\n  /**\n   * When the player fires ended there should be no time left. Sadly\n   * this is not always the case, lets make it seem like that is the case\n   * for users.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `ended` event that caused this to run.\n   *\n   * @listens Player#ended\n   */\n  ;\n\n  _proto.handleEnded = function handleEnded(event) {\n    if (!this.player_.duration()) {\n      return;\n    }\n\n    this.updateFormattedTime_(this.player_.duration());\n  };\n\n  return CurrentTimeDisplay;\n}(TimeDisplay);\n/**\n * The text that is added to the `CurrentTimeDisplay` for screen reader users.\n *\n * @type {string}\n * @private\n */\n\n\nCurrentTimeDisplay.prototype.labelText_ = 'Current Time';\n/**\n * The text that should display over the `CurrentTimeDisplay`s controls. Added to for localization.\n *\n * @type {string}\n * @private\n *\n * @deprecated in v7; controlText_ is not used in non-active display Components\n */\n\nCurrentTimeDisplay.prototype.controlText_ = 'Current Time';\nComponent.registerComponent('CurrentTimeDisplay', CurrentTimeDisplay);\n\n/**\n * Displays the duration\n *\n * @extends Component\n */\n\nvar DurationDisplay =\n/*#__PURE__*/\nfunction (_TimeDisplay) {\n  _inheritsLoose(DurationDisplay, _TimeDisplay);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function DurationDisplay(player, options) {\n    var _this;\n\n    _this = _TimeDisplay.call(this, player, options) || this; // we do not want to/need to throttle duration changes,\n    // as they should always display the changed duration as\n    // it has changed\n\n    _this.on(player, 'durationchange', _this.updateContent); // Listen to loadstart because the player duration is reset when a new media element is loaded,\n    // but the durationchange on the user agent will not fire.\n    // @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}\n\n\n    _this.on(player, 'loadstart', _this.updateContent); // Also listen for timeupdate (in the parent) and loadedmetadata because removing those\n    // listeners could have broken dependent applications/libraries. These\n    // can likely be removed for 7.0.\n\n\n    _this.on(player, 'loadedmetadata', _this.throttledUpdateContent);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = DurationDisplay.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return 'vjs-duration';\n  }\n  /**\n   * Update duration time display.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `durationchange`, `timeupdate`, or `loadedmetadata` event that caused\n   *        this function to be called.\n   *\n   * @listens Player#durationchange\n   * @listens Player#timeupdate\n   * @listens Player#loadedmetadata\n   */\n  ;\n\n  _proto.updateContent = function updateContent(event) {\n    var duration = this.player_.duration();\n\n    if (this.duration_ !== duration) {\n      this.duration_ = duration;\n      this.updateFormattedTime_(duration);\n    }\n  };\n\n  return DurationDisplay;\n}(TimeDisplay);\n/**\n * The text that is added to the `DurationDisplay` for screen reader users.\n *\n * @type {string}\n * @private\n */\n\n\nDurationDisplay.prototype.labelText_ = 'Duration';\n/**\n * The text that should display over the `DurationDisplay`s controls. Added to for localization.\n *\n * @type {string}\n * @private\n *\n * @deprecated in v7; controlText_ is not used in non-active display Components\n */\n\nDurationDisplay.prototype.controlText_ = 'Duration';\nComponent.registerComponent('DurationDisplay', DurationDisplay);\n\n/**\n * The separator between the current time and duration.\n * Can be hidden if it's not needed in the design.\n *\n * @extends Component\n */\n\nvar TimeDivider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(TimeDivider, _Component);\n\n  function TimeDivider() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TimeDivider.prototype;\n\n  /**\n   * Create the component's DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-time-control vjs-time-divider',\n      innerHTML: '<div><span>/</span></div>'\n    }, {\n      // this element and its contents can be hidden from assistive techs since\n      // it is made extraneous by the announcement of the control text\n      // for the current time and duration displays\n      'aria-hidden': true\n    });\n  };\n\n  return TimeDivider;\n}(Component);\n\nComponent.registerComponent('TimeDivider', TimeDivider);\n\n/**\n * Displays the time left in the video\n *\n * @extends Component\n */\n\nvar RemainingTimeDisplay =\n/*#__PURE__*/\nfunction (_TimeDisplay) {\n  _inheritsLoose(RemainingTimeDisplay, _TimeDisplay);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function RemainingTimeDisplay(player, options) {\n    var _this;\n\n    _this = _TimeDisplay.call(this, player, options) || this;\n\n    _this.on(player, 'durationchange', _this.throttledUpdateContent);\n\n    _this.on(player, 'ended', _this.handleEnded);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = RemainingTimeDisplay.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return 'vjs-remaining-time';\n  }\n  /**\n   * Create the `Component`'s DOM element with the \"minus\" characted prepend to the time\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl$1() {\n    var el = _TimeDisplay.prototype.createEl.call(this);\n\n    el.insertBefore(createEl('span', {}, {\n      'aria-hidden': true\n    }, '-'), this.contentEl_);\n    return el;\n  }\n  /**\n   * Update remaining time display.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `timeupdate` or `durationchange` event that caused this to run.\n   *\n   * @listens Player#timeupdate\n   * @listens Player#durationchange\n   */\n  ;\n\n  _proto.updateContent = function updateContent(event) {\n    if (typeof this.player_.duration() !== 'number') {\n      return;\n    } // @deprecated We should only use remainingTimeDisplay\n    // as of video.js 7\n\n\n    if (this.player_.remainingTimeDisplay) {\n      this.updateFormattedTime_(this.player_.remainingTimeDisplay());\n    } else {\n      this.updateFormattedTime_(this.player_.remainingTime());\n    }\n  }\n  /**\n   * When the player fires ended there should be no time left. Sadly\n   * this is not always the case, lets make it seem like that is the case\n   * for users.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `ended` event that caused this to run.\n   *\n   * @listens Player#ended\n   */\n  ;\n\n  _proto.handleEnded = function handleEnded(event) {\n    if (!this.player_.duration()) {\n      return;\n    }\n\n    this.updateFormattedTime_(0);\n  };\n\n  return RemainingTimeDisplay;\n}(TimeDisplay);\n/**\n * The text that is added to the `RemainingTimeDisplay` for screen reader users.\n *\n * @type {string}\n * @private\n */\n\n\nRemainingTimeDisplay.prototype.labelText_ = 'Remaining Time';\n/**\n * The text that should display over the `RemainingTimeDisplay`s controls. Added to for localization.\n *\n * @type {string}\n * @private\n *\n * @deprecated in v7; controlText_ is not used in non-active display Components\n */\n\nRemainingTimeDisplay.prototype.controlText_ = 'Remaining Time';\nComponent.registerComponent('RemainingTimeDisplay', RemainingTimeDisplay);\n\n/**\n * Displays the live indicator when duration is Infinity.\n *\n * @extends Component\n */\n\nvar LiveDisplay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(LiveDisplay, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function LiveDisplay(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n\n    _this.updateShowing();\n\n    _this.on(_this.player(), 'durationchange', _this.updateShowing);\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = LiveDisplay.prototype;\n\n  _proto.createEl = function createEl$1() {\n    var el = _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-live-control vjs-control'\n    });\n\n    this.contentEl_ = createEl('div', {\n      className: 'vjs-live-display',\n      innerHTML: \"<span class=\\\"vjs-control-text\\\">\" + this.localize('Stream Type') + \"\\xA0</span>\" + this.localize('LIVE')\n    }, {\n      'aria-live': 'off'\n    });\n    el.appendChild(this.contentEl_);\n    return el;\n  };\n\n  _proto.dispose = function dispose() {\n    this.contentEl_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Check the duration to see if the LiveDisplay should be showing or not. Then show/hide\n   * it accordingly\n   *\n   * @param {EventTarget~Event} [event]\n   *        The {@link Player#durationchange} event that caused this function to run.\n   *\n   * @listens Player#durationchange\n   */\n  ;\n\n  _proto.updateShowing = function updateShowing(event) {\n    if (this.player().duration() === Infinity) {\n      this.show();\n    } else {\n      this.hide();\n    }\n  };\n\n  return LiveDisplay;\n}(Component);\n\nComponent.registerComponent('LiveDisplay', LiveDisplay);\n\n/**\n * Displays the live indicator when duration is Infinity.\n *\n * @extends Component\n */\n\nvar SeekToLive =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(SeekToLive, _Button);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function SeekToLive(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this;\n\n    _this.updateLiveEdgeStatus();\n\n    if (_this.player_.liveTracker) {\n      _this.on(_this.player_.liveTracker, 'liveedgechange', _this.updateLiveEdgeStatus);\n    }\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = SeekToLive.prototype;\n\n  _proto.createEl = function createEl$1() {\n    var el = _Button.prototype.createEl.call(this, 'button', {\n      className: 'vjs-seek-to-live-control vjs-control'\n    });\n\n    this.textEl_ = createEl('span', {\n      className: 'vjs-seek-to-live-text',\n      innerHTML: this.localize('LIVE')\n    }, {\n      'aria-hidden': 'true'\n    });\n    el.appendChild(this.textEl_);\n    return el;\n  }\n  /**\n   * Update the state of this button if we are at the live edge\n   * or not\n   */\n  ;\n\n  _proto.updateLiveEdgeStatus = function updateLiveEdgeStatus(e) {\n    // default to live edge\n    if (!this.player_.liveTracker || this.player_.liveTracker.atLiveEdge()) {\n      this.setAttribute('aria-disabled', true);\n      this.addClass('vjs-at-live-edge');\n      this.controlText('Seek to live, currently playing live');\n    } else {\n      this.setAttribute('aria-disabled', false);\n      this.removeClass('vjs-at-live-edge');\n      this.controlText('Seek to live, currently behind live');\n    }\n  }\n  /**\n   * On click bring us as near to the live point as possible.\n   * This requires that we wait for the next `live-seekable-change`\n   * event which will happen every segment length seconds.\n   */\n  ;\n\n  _proto.handleClick = function handleClick() {\n    this.player_.liveTracker.seekToLiveEdge();\n  }\n  /**\n   * Dispose of the element and stop tracking\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    if (this.player_.liveTracker) {\n      this.off(this.player_.liveTracker, 'liveedgechange', this.updateLiveEdgeStatus);\n    }\n\n    this.textEl_ = null;\n\n    _Button.prototype.dispose.call(this);\n  };\n\n  return SeekToLive;\n}(Button);\n\nSeekToLive.prototype.controlText_ = 'Seek to live, currently playing live';\nComponent.registerComponent('SeekToLive', SeekToLive);\n\n/**\n * The base functionality for a slider. Can be vertical or horizontal.\n * For instance the volume bar or the seek bar on a video is a slider.\n *\n * @extends Component\n */\n\nvar Slider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Slider, _Component);\n\n  /**\n  * Create an instance of this class\n  *\n  * @param {Player} player\n  *        The `Player` that this class should be attached to.\n  *\n  * @param {Object} [options]\n  *        The key/value store of player options.\n  */\n  function Slider(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this; // Set property names to bar to match with the child Slider class is looking for\n\n    _this.bar = _this.getChild(_this.options_.barName); // Set a horizontal or vertical class on the slider depending on the slider type\n\n    _this.vertical(!!_this.options_.vertical);\n\n    _this.enable();\n\n    return _this;\n  }\n  /**\n   * Are controls are currently enabled for this slider or not.\n   *\n   * @return {boolean}\n   *         true if controls are enabled, false otherwise\n   */\n\n\n  var _proto = Slider.prototype;\n\n  _proto.enabled = function enabled() {\n    return this.enabled_;\n  }\n  /**\n   * Enable controls for this slider if they are disabled\n   */\n  ;\n\n  _proto.enable = function enable() {\n    if (this.enabled()) {\n      return;\n    }\n\n    this.on('mousedown', this.handleMouseDown);\n    this.on('touchstart', this.handleMouseDown);\n    this.on('keydown', this.handleKeyDown);\n    this.on('click', this.handleClick); // TODO: deprecated, controlsvisible does not seem to be fired\n\n    this.on(this.player_, 'controlsvisible', this.update);\n\n    if (this.playerEvent) {\n      this.on(this.player_, this.playerEvent, this.update);\n    }\n\n    this.removeClass('disabled');\n    this.setAttribute('tabindex', 0);\n    this.enabled_ = true;\n  }\n  /**\n   * Disable controls for this slider if they are enabled\n   */\n  ;\n\n  _proto.disable = function disable() {\n    if (!this.enabled()) {\n      return;\n    }\n\n    var doc = this.bar.el_.ownerDocument;\n    this.off('mousedown', this.handleMouseDown);\n    this.off('touchstart', this.handleMouseDown);\n    this.off('keydown', this.handleKeyDown);\n    this.off('click', this.handleClick);\n    this.off(this.player_, 'controlsvisible', this.update);\n    this.off(doc, 'mousemove', this.handleMouseMove);\n    this.off(doc, 'mouseup', this.handleMouseUp);\n    this.off(doc, 'touchmove', this.handleMouseMove);\n    this.off(doc, 'touchend', this.handleMouseUp);\n    this.removeAttribute('tabindex');\n    this.addClass('disabled');\n\n    if (this.playerEvent) {\n      this.off(this.player_, this.playerEvent, this.update);\n    }\n\n    this.enabled_ = false;\n  }\n  /**\n   * Create the `Slider`s DOM element.\n   *\n   * @param {string} type\n   *        Type of element to create.\n   *\n   * @param {Object} [props={}]\n   *        List of properties in Object form.\n   *\n   * @param {Object} [attributes={}]\n   *        list of attributes in Object form.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl(type, props, attributes) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (attributes === void 0) {\n      attributes = {};\n    }\n\n    // Add the slider element class to all sub classes\n    props.className = props.className + ' vjs-slider';\n    props = assign({\n      tabIndex: 0\n    }, props);\n    attributes = assign({\n      'role': 'slider',\n      'aria-valuenow': 0,\n      'aria-valuemin': 0,\n      'aria-valuemax': 100,\n      'tabIndex': 0\n    }, attributes);\n    return _Component.prototype.createEl.call(this, type, props, attributes);\n  }\n  /**\n   * Handle `mousedown` or `touchstart` events on the `Slider`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown` or `touchstart` event that triggered this function\n   *\n   * @listens mousedown\n   * @listens touchstart\n   * @fires Slider#slideractive\n   */\n  ;\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    var doc = this.bar.el_.ownerDocument;\n\n    if (event.type === 'mousedown') {\n      event.preventDefault();\n    } // Do not call preventDefault() on touchstart in Chrome\n    // to avoid console warnings. Use a 'touch-action: none' style\n    // instead to prevent unintented scrolling.\n    // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n\n    if (event.type === 'touchstart' && !IS_CHROME) {\n      event.preventDefault();\n    }\n\n    blockTextSelection();\n    this.addClass('vjs-sliding');\n    /**\n     * Triggered when the slider is in an active state\n     *\n     * @event Slider#slideractive\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('slideractive');\n    this.on(doc, 'mousemove', this.handleMouseMove);\n    this.on(doc, 'mouseup', this.handleMouseUp);\n    this.on(doc, 'touchmove', this.handleMouseMove);\n    this.on(doc, 'touchend', this.handleMouseUp);\n    this.handleMouseMove(event);\n  }\n  /**\n   * Handle the `mousemove`, `touchmove`, and `mousedown` events on this `Slider`.\n   * The `mousemove` and `touchmove` events will only only trigger this function during\n   * `mousedown` and `touchstart`. This is due to {@link Slider#handleMouseDown} and\n   * {@link Slider#handleMouseUp}.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown`, `mousemove`, `touchstart`, or `touchmove` event that triggered\n   *        this function\n   *\n   * @listens mousemove\n   * @listens touchmove\n   */\n  ;\n\n  _proto.handleMouseMove = function handleMouseMove(event) {}\n  /**\n   * Handle `mouseup` or `touchend` events on the `Slider`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mouseup` or `touchend` event that triggered this function.\n   *\n   * @listens touchend\n   * @listens mouseup\n   * @fires Slider#sliderinactive\n   */\n  ;\n\n  _proto.handleMouseUp = function handleMouseUp() {\n    var doc = this.bar.el_.ownerDocument;\n    unblockTextSelection();\n    this.removeClass('vjs-sliding');\n    /**\n     * Triggered when the slider is no longer in an active state.\n     *\n     * @event Slider#sliderinactive\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('sliderinactive');\n    this.off(doc, 'mousemove', this.handleMouseMove);\n    this.off(doc, 'mouseup', this.handleMouseUp);\n    this.off(doc, 'touchmove', this.handleMouseMove);\n    this.off(doc, 'touchend', this.handleMouseUp);\n    this.update();\n  }\n  /**\n   * Update the progress bar of the `Slider`.\n   *\n   * @return {number}\n   *          The percentage of progress the progress bar represents as a\n   *          number from 0 to 1.\n   */\n  ;\n\n  _proto.update = function update() {\n    // In VolumeBar init we have a setTimeout for update that pops and update\n    // to the end of the execution stack. The player is destroyed before then\n    // update will cause an error\n    if (!this.el_) {\n      return;\n    } // If scrubbing, we could use a cached value to make the handle keep up\n    // with the user's mouse. On HTML5 browsers scrubbing is really smooth, but\n    // some flash players are slow, so we might want to utilize this later.\n    // var progress =  (this.player_.scrubbing()) ? this.player_.getCache().currentTime / this.player_.duration() : this.player_.currentTime() / this.player_.duration();\n\n\n    var progress = this.getPercent();\n    var bar = this.bar; // If there's no bar...\n\n    if (!bar) {\n      return;\n    } // Protect against no duration and other division issues\n\n\n    if (typeof progress !== 'number' || progress !== progress || progress < 0 || progress === Infinity) {\n      progress = 0;\n    } // Convert to a percentage for setting\n\n\n    var percentage = (progress * 100).toFixed(2) + '%';\n    var style = bar.el().style; // Set the new bar width or height\n\n    var sizeKey = this.vertical() ? 'height' : 'width';\n\n    if (style[sizeKey] !== percentage) {\n      style[sizeKey] = percentage;\n    }\n\n    return progress;\n  }\n  /**\n   * Calculate distance for slider\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to run.\n   *\n   * @return {number}\n   *         The current position of the Slider.\n   *         - position.x for vertical `Slider`s\n   *         - position.y for horizontal `Slider`s\n   */\n  ;\n\n  _proto.calculateDistance = function calculateDistance(event) {\n    var position = getPointerPosition(this.el_, event);\n\n    if (this.vertical()) {\n      return position.y;\n    }\n\n    return position.x;\n  }\n  /**\n   * Handle a `keydown` event on the `Slider`. Watches for left, rigth, up, and down\n   * arrow keys. This function will only be called when the slider has focus. See\n   * {@link Slider#handleFocus} and {@link Slider#handleBlur}.\n   *\n   * @param {EventTarget~Event} event\n   *        the `keydown` event that caused this function to run.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Left and Down Arrows\n    if (keycode.isEventKey(event, 'Left') || keycode.isEventKey(event, 'Down')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepBack(); // Up and Right Arrows\n    } else if (keycode.isEventKey(event, 'Right') || keycode.isEventKey(event, 'Up')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepForward();\n    } else {\n      // Pass keydown handling up for unsupported keys\n      _Component.prototype.handleKeyDown.call(this, event);\n    }\n  }\n  /**\n   * Listener for click events on slider, used to prevent clicks\n   *   from bubbling up to parent elements like button menus.\n   *\n   * @param {Object} event\n   *        Event that caused this object to run\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  /**\n   * Get/set if slider is horizontal for vertical\n   *\n   * @param {boolean} [bool]\n   *        - true if slider is vertical,\n   *        - false is horizontal\n   *\n   * @return {boolean}\n   *         - true if slider is vertical, and getting\n   *         - false if the slider is horizontal, and getting\n   */\n  ;\n\n  _proto.vertical = function vertical(bool) {\n    if (bool === undefined) {\n      return this.vertical_ || false;\n    }\n\n    this.vertical_ = !!bool;\n\n    if (this.vertical_) {\n      this.addClass('vjs-slider-vertical');\n    } else {\n      this.addClass('vjs-slider-horizontal');\n    }\n  };\n\n  return Slider;\n}(Component);\n\nComponent.registerComponent('Slider', Slider);\n\n/**\n * Shows loading progress\n *\n * @extends Component\n */\n\nvar LoadProgressBar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(LoadProgressBar, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function LoadProgressBar(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.partEls_ = [];\n\n    _this.on(player, 'progress', _this.update);\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = LoadProgressBar.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-load-progress',\n      innerHTML: \"<span class=\\\"vjs-control-text\\\"><span>\" + this.localize('Loaded') + \"</span>: <span class=\\\"vjs-control-text-loaded-percentage\\\">0%</span></span>\"\n    });\n  };\n\n  _proto.dispose = function dispose() {\n    this.partEls_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Update progress bar\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `progress` event that caused this function to run.\n   *\n   * @listens Player#progress\n   */\n  ;\n\n  _proto.update = function update(event) {\n    var liveTracker = this.player_.liveTracker;\n    var buffered = this.player_.buffered();\n    var duration = liveTracker && liveTracker.isLive() ? liveTracker.seekableEnd() : this.player_.duration();\n    var bufferedEnd = this.player_.bufferedEnd();\n    var children = this.partEls_;\n    var controlTextPercentage = this.$('.vjs-control-text-loaded-percentage'); // get the percent width of a time compared to the total end\n\n    var percentify = function percentify(time, end, rounded) {\n      // no NaN\n      var percent = time / end || 0;\n      percent = (percent >= 1 ? 1 : percent) * 100;\n\n      if (rounded) {\n        percent = percent.toFixed(2);\n      }\n\n      return percent + '%';\n    }; // update the width of the progress bar\n\n\n    this.el_.style.width = percentify(bufferedEnd, duration); // update the control-text\n\n    textContent(controlTextPercentage, percentify(bufferedEnd, duration, true)); // add child elements to represent the individual buffered time ranges\n\n    for (var i = 0; i < buffered.length; i++) {\n      var start = buffered.start(i);\n      var end = buffered.end(i);\n      var part = children[i];\n\n      if (!part) {\n        part = this.el_.appendChild(createEl());\n        children[i] = part;\n      } // set the percent based on the width of the progress bar (bufferedEnd)\n\n\n      part.style.left = percentify(start, bufferedEnd);\n      part.style.width = percentify(end - start, bufferedEnd);\n    } // remove unused buffered range elements\n\n\n    for (var _i = children.length; _i > buffered.length; _i--) {\n      this.el_.removeChild(children[_i - 1]);\n    }\n\n    children.length = buffered.length;\n  };\n\n  return LoadProgressBar;\n}(Component);\n\nComponent.registerComponent('LoadProgressBar', LoadProgressBar);\n\n/**\n * Time tooltips display a time above the progress bar.\n *\n * @extends Component\n */\n\nvar TimeTooltip =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(TimeTooltip, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The {@link Player} that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function TimeTooltip(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.update = throttle(bind(_assertThisInitialized(_this), _this.update), UPDATE_REFRESH_INTERVAL);\n    return _this;\n  }\n  /**\n   * Create the time tooltip DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = TimeTooltip.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-time-tooltip'\n    }, {\n      'aria-hidden': 'true'\n    });\n  }\n  /**\n   * Updates the position of the time tooltip relative to the `SeekBar`.\n   *\n   * @param {Object} seekBarRect\n   *        The `ClientRect` for the {@link SeekBar} element.\n   *\n   * @param {number} seekBarPoint\n   *        A number from 0 to 1, representing a horizontal reference point\n   *        from the left edge of the {@link SeekBar}\n   */\n  ;\n\n  _proto.update = function update(seekBarRect, seekBarPoint, content) {\n    var tooltipRect = getBoundingClientRect(this.el_);\n    var playerRect = getBoundingClientRect(this.player_.el());\n    var seekBarPointPx = seekBarRect.width * seekBarPoint; // do nothing if either rect isn't available\n    // for example, if the player isn't in the DOM for testing\n\n    if (!playerRect || !tooltipRect) {\n      return;\n    } // This is the space left of the `seekBarPoint` available within the bounds\n    // of the player. We calculate any gap between the left edge of the player\n    // and the left edge of the `SeekBar` and add the number of pixels in the\n    // `SeekBar` before hitting the `seekBarPoint`\n\n\n    var spaceLeftOfPoint = seekBarRect.left - playerRect.left + seekBarPointPx; // This is the space right of the `seekBarPoint` available within the bounds\n    // of the player. We calculate the number of pixels from the `seekBarPoint`\n    // to the right edge of the `SeekBar` and add to that any gap between the\n    // right edge of the `SeekBar` and the player.\n\n    var spaceRightOfPoint = seekBarRect.width - seekBarPointPx + (playerRect.right - seekBarRect.right); // This is the number of pixels by which the tooltip will need to be pulled\n    // further to the right to center it over the `seekBarPoint`.\n\n    var pullTooltipBy = tooltipRect.width / 2; // Adjust the `pullTooltipBy` distance to the left or right depending on\n    // the results of the space calculations above.\n\n    if (spaceLeftOfPoint < pullTooltipBy) {\n      pullTooltipBy += pullTooltipBy - spaceLeftOfPoint;\n    } else if (spaceRightOfPoint < pullTooltipBy) {\n      pullTooltipBy = spaceRightOfPoint;\n    } // Due to the imprecision of decimal/ratio based calculations and varying\n    // rounding behaviors, there are cases where the spacing adjustment is off\n    // by a pixel or two. This adds insurance to these calculations.\n\n\n    if (pullTooltipBy < 0) {\n      pullTooltipBy = 0;\n    } else if (pullTooltipBy > tooltipRect.width) {\n      pullTooltipBy = tooltipRect.width;\n    }\n\n    this.el_.style.right = \"-\" + pullTooltipBy + \"px\";\n    this.write(content);\n  }\n  /**\n   * Write the time to the tooltip DOM element.\n   *\n   * @param {string} content\n   *        The formatted time for the tooltip.\n   */\n  ;\n\n  _proto.write = function write(content) {\n    textContent(this.el_, content);\n  }\n  /**\n   * Updates the position of the time tooltip relative to the `SeekBar`.\n   *\n   * @param {Object} seekBarRect\n   *        The `ClientRect` for the {@link SeekBar} element.\n   *\n   * @param {number} seekBarPoint\n   *        A number from 0 to 1, representing a horizontal reference point\n   *        from the left edge of the {@link SeekBar}\n   *\n   * @param {number} time\n   *        The time to update the tooltip to, not used during live playback\n   *\n   * @param {Function} cb\n   *        A function that will be called during the request animation frame\n   *        for tooltips that need to do additional animations from the default\n   */\n  ;\n\n  _proto.updateTime = function updateTime(seekBarRect, seekBarPoint, time, cb) {\n    var _this2 = this;\n\n    // If there is an existing rAF ID, cancel it so we don't over-queue.\n    if (this.rafId_) {\n      this.cancelAnimationFrame(this.rafId_);\n    }\n\n    this.rafId_ = this.requestAnimationFrame(function () {\n      var content;\n\n      var duration = _this2.player_.duration();\n\n      if (_this2.player_.liveTracker && _this2.player_.liveTracker.isLive()) {\n        var liveWindow = _this2.player_.liveTracker.liveWindow();\n\n        var secondsBehind = liveWindow - seekBarPoint * liveWindow;\n        content = (secondsBehind < 1 ? '' : '-') + formatTime(secondsBehind, liveWindow);\n      } else {\n        content = formatTime(time, duration);\n      }\n\n      _this2.update(seekBarRect, seekBarPoint, content);\n\n      if (cb) {\n        cb();\n      }\n    });\n  };\n\n  return TimeTooltip;\n}(Component);\n\nComponent.registerComponent('TimeTooltip', TimeTooltip);\n\n/**\n * Used by {@link SeekBar} to display media playback progress as part of the\n * {@link ProgressControl}.\n *\n * @extends Component\n */\n\nvar PlayProgressBar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(PlayProgressBar, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The {@link Player} that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function PlayProgressBar(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.update = throttle(bind(_assertThisInitialized(_this), _this.update), UPDATE_REFRESH_INTERVAL);\n    return _this;\n  }\n  /**\n   * Create the the DOM element for this class.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = PlayProgressBar.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-play-progress vjs-slider-bar'\n    }, {\n      'aria-hidden': 'true'\n    });\n  }\n  /**\n   * Enqueues updates to its own DOM as well as the DOM of its\n   * {@link TimeTooltip} child.\n   *\n   * @param {Object} seekBarRect\n   *        The `ClientRect` for the {@link SeekBar} element.\n   *\n   * @param {number} seekBarPoint\n   *        A number from 0 to 1, representing a horizontal reference point\n   *        from the left edge of the {@link SeekBar}\n   */\n  ;\n\n  _proto.update = function update(seekBarRect, seekBarPoint) {\n    var timeTooltip = this.getChild('timeTooltip');\n\n    if (!timeTooltip) {\n      return;\n    }\n\n    var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n    timeTooltip.updateTime(seekBarRect, seekBarPoint, time);\n  };\n\n  return PlayProgressBar;\n}(Component);\n/**\n * Default options for {@link PlayProgressBar}.\n *\n * @type {Object}\n * @private\n */\n\n\nPlayProgressBar.prototype.options_ = {\n  children: []\n}; // Time tooltips should not be added to a player on mobile devices\n\nif (!IS_IOS && !IS_ANDROID) {\n  PlayProgressBar.prototype.options_.children.push('timeTooltip');\n}\n\nComponent.registerComponent('PlayProgressBar', PlayProgressBar);\n\n/**\n * The {@link MouseTimeDisplay} component tracks mouse movement over the\n * {@link ProgressControl}. It displays an indicator and a {@link TimeTooltip}\n * indicating the time which is represented by a given point in the\n * {@link ProgressControl}.\n *\n * @extends Component\n */\n\nvar MouseTimeDisplay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(MouseTimeDisplay, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The {@link Player} that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function MouseTimeDisplay(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.update = throttle(bind(_assertThisInitialized(_this), _this.update), UPDATE_REFRESH_INTERVAL);\n    return _this;\n  }\n  /**\n   * Create the DOM element for this class.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = MouseTimeDisplay.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-mouse-display'\n    });\n  }\n  /**\n   * Enqueues updates to its own DOM as well as the DOM of its\n   * {@link TimeTooltip} child.\n   *\n   * @param {Object} seekBarRect\n   *        The `ClientRect` for the {@link SeekBar} element.\n   *\n   * @param {number} seekBarPoint\n   *        A number from 0 to 1, representing a horizontal reference point\n   *        from the left edge of the {@link SeekBar}\n   */\n  ;\n\n  _proto.update = function update(seekBarRect, seekBarPoint) {\n    var _this2 = this;\n\n    var time = seekBarPoint * this.player_.duration();\n    this.getChild('timeTooltip').updateTime(seekBarRect, seekBarPoint, time, function () {\n      _this2.el_.style.left = seekBarRect.width * seekBarPoint + \"px\";\n    });\n  };\n\n  return MouseTimeDisplay;\n}(Component);\n/**\n * Default options for `MouseTimeDisplay`\n *\n * @type {Object}\n * @private\n */\n\n\nMouseTimeDisplay.prototype.options_ = {\n  children: ['timeTooltip']\n};\nComponent.registerComponent('MouseTimeDisplay', MouseTimeDisplay);\n\nvar STEP_SECONDS = 5; // The multiplier of STEP_SECONDS that PgUp/PgDown move the timeline.\n\nvar PAGE_KEY_MULTIPLIER = 12; // The interval at which the bar should update as it progresses.\n\nvar UPDATE_REFRESH_INTERVAL$1 = 30;\n/**\n * Seek bar and container for the progress bars. Uses {@link PlayProgressBar}\n * as its `bar`.\n *\n * @extends Slider\n */\n\nvar SeekBar =\n/*#__PURE__*/\nfunction (_Slider) {\n  _inheritsLoose(SeekBar, _Slider);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function SeekBar(player, options) {\n    var _this;\n\n    _this = _Slider.call(this, player, options) || this;\n\n    _this.setEventHandlers_();\n\n    return _this;\n  }\n  /**\n   * Sets the event handlers\n   *\n   * @private\n   */\n\n\n  var _proto = SeekBar.prototype;\n\n  _proto.setEventHandlers_ = function setEventHandlers_() {\n    this.update = throttle(bind(this, this.update), UPDATE_REFRESH_INTERVAL$1);\n    this.on(this.player_, 'timeupdate', this.update);\n    this.on(this.player_, 'ended', this.handleEnded);\n    this.on(this.player_, 'durationchange', this.update);\n\n    if (this.player_.liveTracker) {\n      this.on(this.player_.liveTracker, 'liveedgechange', this.update);\n    } // when playing, let's ensure we smoothly update the play progress bar\n    // via an interval\n\n\n    this.updateInterval = null;\n    this.on(this.player_, ['playing'], this.enableInterval_);\n    this.on(this.player_, ['ended', 'pause', 'waiting'], this.disableInterval_); // we don't need to update the play progress if the document is hidden,\n    // also, this causes the CPU to spike and eventually crash the page on IE11.\n\n    if ('hidden' in document && 'visibilityState' in document) {\n      this.on(document, 'visibilitychange', this.toggleVisibility_);\n    }\n  };\n\n  _proto.toggleVisibility_ = function toggleVisibility_(e) {\n    if (document.hidden) {\n      this.disableInterval_(e);\n    } else {\n      this.enableInterval_(); // we just switched back to the page and someone may be looking, so, update ASAP\n\n      this.requestAnimationFrame(this.update);\n    }\n  };\n\n  _proto.enableInterval_ = function enableInterval_() {\n    var _this2 = this;\n\n    this.clearInterval(this.updateInterval);\n    this.updateInterval = this.setInterval(function () {\n      _this2.requestAnimationFrame(_this2.update);\n    }, UPDATE_REFRESH_INTERVAL$1);\n  };\n\n  _proto.disableInterval_ = function disableInterval_(e) {\n    if (this.player_.liveTracker && this.player_.liveTracker.isLive() && e.type !== 'ended') {\n      return;\n    }\n\n    this.clearInterval(this.updateInterval);\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    return _Slider.prototype.createEl.call(this, 'div', {\n      className: 'vjs-progress-holder'\n    }, {\n      'aria-label': this.localize('Progress Bar')\n    });\n  }\n  /**\n   * This function updates the play progress bar and accessibility\n   * attributes to whatever is passed in.\n   *\n   * @param {number} currentTime\n   *        The currentTime value that should be used for accessibility\n   *\n   * @param {number} percent\n   *        The percentage as a decimal that the bar should be filled from 0-1.\n   *\n   * @private\n   */\n  ;\n\n  _proto.update_ = function update_(currentTime, percent) {\n    var liveTracker = this.player_.liveTracker;\n    var duration = this.player_.duration();\n\n    if (liveTracker && liveTracker.isLive()) {\n      duration = this.player_.liveTracker.liveCurrentTime();\n    } // machine readable value of progress bar (percentage complete)\n\n\n    this.el_.setAttribute('aria-valuenow', (percent * 100).toFixed(2)); // human readable value of progress bar (time complete)\n\n    this.el_.setAttribute('aria-valuetext', this.localize('progress bar timing: currentTime={1} duration={2}', [formatTime(currentTime, duration), formatTime(duration, duration)], '{1} of {2}')); // Update the `PlayProgressBar`.\n\n    if (this.bar) {\n      this.bar.update(getBoundingClientRect(this.el_), percent);\n    }\n  }\n  /**\n   * Update the seek bar's UI.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `timeupdate` or `ended` event that caused this to run.\n   *\n   * @listens Player#timeupdate\n   *\n   * @return {number}\n   *          The current percent at a number from 0-1\n   */\n  ;\n\n  _proto.update = function update(event) {\n    // if the offsetParent is null, then this element is hidden, in which case\n    // we don't need to update it.\n    if (this.el().offsetParent === null) {\n      return;\n    }\n\n    var percent = _Slider.prototype.update.call(this);\n\n    this.update_(this.getCurrentTime_(), percent);\n    return percent;\n  }\n  /**\n   * Get the value of current time but allows for smooth scrubbing,\n   * when player can't keep up.\n   *\n   * @return {number}\n   *         The current time value to display\n   *\n   * @private\n   */\n  ;\n\n  _proto.getCurrentTime_ = function getCurrentTime_() {\n    return this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n  }\n  /**\n   * We want the seek bar to be full on ended\n   * no matter what the actual internal values are. so we force it.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `timeupdate` or `ended` event that caused this to run.\n   *\n   * @listens Player#ended\n   */\n  ;\n\n  _proto.handleEnded = function handleEnded(event) {\n    this.update_(this.player_.duration(), 1);\n  }\n  /**\n   * Get the percentage of media played so far.\n   *\n   * @return {number}\n   *         The percentage of media played so far (0 to 1).\n   */\n  ;\n\n  _proto.getPercent = function getPercent() {\n    var currentTime = this.getCurrentTime_();\n    var percent;\n    var liveTracker = this.player_.liveTracker;\n\n    if (liveTracker && liveTracker.isLive()) {\n      percent = (currentTime - liveTracker.seekableStart()) / liveTracker.liveWindow(); // prevent the percent from changing at the live edge\n\n      if (liveTracker.atLiveEdge()) {\n        percent = 1;\n      }\n    } else {\n      percent = currentTime / this.player_.duration();\n    }\n\n    return percent >= 1 ? 1 : percent || 0;\n  }\n  /**\n   * Handle mouse down on seek bar\n   *\n   * @param {EventTarget~Event} event\n   *        The `mousedown` event that caused this to run.\n   *\n   * @listens mousedown\n   */\n  ;\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    if (!isSingleLeftClick(event)) {\n      return;\n    } // Stop event propagation to prevent double fire in progress-control.js\n\n\n    event.stopPropagation();\n    this.player_.scrubbing(true);\n    this.videoWasPlaying = !this.player_.paused();\n    this.player_.pause();\n\n    _Slider.prototype.handleMouseDown.call(this, event);\n  }\n  /**\n   * Handle mouse move on seek bar\n   *\n   * @param {EventTarget~Event} event\n   *        The `mousemove` event that caused this to run.\n   *\n   * @listens mousemove\n   */\n  ;\n\n  _proto.handleMouseMove = function handleMouseMove(event) {\n    if (!isSingleLeftClick(event)) {\n      return;\n    }\n\n    var newTime;\n    var distance = this.calculateDistance(event);\n    var liveTracker = this.player_.liveTracker;\n\n    if (!liveTracker || !liveTracker.isLive()) {\n      newTime = distance * this.player_.duration(); // Don't let video end while scrubbing.\n\n      if (newTime === this.player_.duration()) {\n        newTime = newTime - 0.1;\n      }\n    } else {\n      var seekableStart = liveTracker.seekableStart();\n      var seekableEnd = liveTracker.liveCurrentTime();\n      newTime = seekableStart + distance * liveTracker.liveWindow(); // Don't let video end while scrubbing.\n\n      if (newTime >= seekableEnd) {\n        newTime = seekableEnd;\n      } // Compensate for precision differences so that currentTime is not less\n      // than seekable start\n\n\n      if (newTime <= seekableStart) {\n        newTime = seekableStart + 0.1;\n      } // On android seekableEnd can be Infinity sometimes,\n      // this will cause newTime to be Infinity, which is\n      // not a valid currentTime.\n\n\n      if (newTime === Infinity) {\n        return;\n      }\n    } // Set new time (tell player to seek to new time)\n\n\n    this.player_.currentTime(newTime);\n  };\n\n  _proto.enable = function enable() {\n    _Slider.prototype.enable.call(this);\n\n    var mouseTimeDisplay = this.getChild('mouseTimeDisplay');\n\n    if (!mouseTimeDisplay) {\n      return;\n    }\n\n    mouseTimeDisplay.show();\n  };\n\n  _proto.disable = function disable() {\n    _Slider.prototype.disable.call(this);\n\n    var mouseTimeDisplay = this.getChild('mouseTimeDisplay');\n\n    if (!mouseTimeDisplay) {\n      return;\n    }\n\n    mouseTimeDisplay.hide();\n  }\n  /**\n   * Handle mouse up on seek bar\n   *\n   * @param {EventTarget~Event} event\n   *        The `mouseup` event that caused this to run.\n   *\n   * @listens mouseup\n   */\n  ;\n\n  _proto.handleMouseUp = function handleMouseUp(event) {\n    _Slider.prototype.handleMouseUp.call(this, event); // Stop event propagation to prevent double fire in progress-control.js\n\n\n    if (event) {\n      event.stopPropagation();\n    }\n\n    this.player_.scrubbing(false);\n    /**\n     * Trigger timeupdate because we're done seeking and the time has changed.\n     * This is particularly useful for if the player is paused to time the time displays.\n     *\n     * @event Tech#timeupdate\n     * @type {EventTarget~Event}\n     */\n\n    this.player_.trigger({\n      type: 'timeupdate',\n      target: this,\n      manuallyTriggered: true\n    });\n\n    if (this.videoWasPlaying) {\n      silencePromise(this.player_.play());\n    }\n  }\n  /**\n   * Move more quickly fast forward for keyboard-only users\n   */\n  ;\n\n  _proto.stepForward = function stepForward() {\n    this.player_.currentTime(this.player_.currentTime() + STEP_SECONDS);\n  }\n  /**\n   * Move more quickly rewind for keyboard-only users\n   */\n  ;\n\n  _proto.stepBack = function stepBack() {\n    this.player_.currentTime(this.player_.currentTime() - STEP_SECONDS);\n  }\n  /**\n   * Toggles the playback state of the player\n   * This gets called when enter or space is used on the seekbar\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called\n   *\n   */\n  ;\n\n  _proto.handleAction = function handleAction(event) {\n    if (this.player_.paused()) {\n      this.player_.play();\n    } else {\n      this.player_.pause();\n    }\n  }\n  /**\n   * Called when this SeekBar has focus and a key gets pressed down.\n   * Supports the following keys:\n   *\n   *   Space or Enter key fire a click event\n   *   Home key moves to start of the timeline\n   *   End key moves to end of the timeline\n   *   Digit \"0\" through \"9\" keys move to 0%, 10% ... 80%, 90% of the timeline\n   *   PageDown key moves back a larger step than ArrowDown\n   *   PageUp key moves forward a large step\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.handleAction(event);\n    } else if (keycode.isEventKey(event, 'Home')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.player_.currentTime(0);\n    } else if (keycode.isEventKey(event, 'End')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.player_.currentTime(this.player_.duration());\n    } else if (/^[0-9]$/.test(keycode(event))) {\n      event.preventDefault();\n      event.stopPropagation();\n      var gotoFraction = (keycode.codes[keycode(event)] - keycode.codes['0']) * 10.0 / 100.0;\n      this.player_.currentTime(this.player_.duration() * gotoFraction);\n    } else if (keycode.isEventKey(event, 'PgDn')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.player_.currentTime(this.player_.currentTime() - STEP_SECONDS * PAGE_KEY_MULTIPLIER);\n    } else if (keycode.isEventKey(event, 'PgUp')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.player_.currentTime(this.player_.currentTime() + STEP_SECONDS * PAGE_KEY_MULTIPLIER);\n    } else {\n      // Pass keydown handling up for unsupported keys\n      _Slider.prototype.handleKeyDown.call(this, event);\n    }\n  };\n\n  return SeekBar;\n}(Slider);\n/**\n * Default options for the `SeekBar`\n *\n * @type {Object}\n * @private\n */\n\n\nSeekBar.prototype.options_ = {\n  children: ['loadProgressBar', 'playProgressBar'],\n  barName: 'playProgressBar'\n}; // MouseTimeDisplay tooltips should not be added to a player on mobile devices\n\nif (!IS_IOS && !IS_ANDROID) {\n  SeekBar.prototype.options_.children.splice(1, 0, 'mouseTimeDisplay');\n}\n\nComponent.registerComponent('SeekBar', SeekBar);\n\n/**\n * The Progress Control component contains the seek bar, load progress,\n * and play progress.\n *\n * @extends Component\n */\n\nvar ProgressControl =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ProgressControl, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function ProgressControl(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.handleMouseMove = throttle(bind(_assertThisInitialized(_this), _this.handleMouseMove), UPDATE_REFRESH_INTERVAL);\n    _this.throttledHandleMouseSeek = throttle(bind(_assertThisInitialized(_this), _this.handleMouseSeek), UPDATE_REFRESH_INTERVAL);\n\n    _this.enable();\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = ProgressControl.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-progress-control vjs-control'\n    });\n  }\n  /**\n   * When the mouse moves over the `ProgressControl`, the pointer position\n   * gets passed down to the `MouseTimeDisplay` component.\n   *\n   * @param {EventTarget~Event} event\n   *        The `mousemove` event that caused this function to run.\n   *\n   * @listen mousemove\n   */\n  ;\n\n  _proto.handleMouseMove = function handleMouseMove(event) {\n    var seekBar = this.getChild('seekBar');\n\n    if (seekBar) {\n      var mouseTimeDisplay = seekBar.getChild('mouseTimeDisplay');\n      var seekBarEl = seekBar.el();\n      var seekBarRect = getBoundingClientRect(seekBarEl);\n      var seekBarPoint = getPointerPosition(seekBarEl, event).x; // The default skin has a gap on either side of the `SeekBar`. This means\n      // that it's possible to trigger this behavior outside the boundaries of\n      // the `SeekBar`. This ensures we stay within it at all times.\n\n      if (seekBarPoint > 1) {\n        seekBarPoint = 1;\n      } else if (seekBarPoint < 0) {\n        seekBarPoint = 0;\n      }\n\n      if (mouseTimeDisplay) {\n        mouseTimeDisplay.update(seekBarRect, seekBarPoint);\n      }\n    }\n  }\n  /**\n   * A throttled version of the {@link ProgressControl#handleMouseSeek} listener.\n   *\n   * @method ProgressControl#throttledHandleMouseSeek\n   * @param {EventTarget~Event} event\n   *        The `mousemove` event that caused this function to run.\n   *\n   * @listen mousemove\n   * @listen touchmove\n   */\n\n  /**\n   * Handle `mousemove` or `touchmove` events on the `ProgressControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown` or `touchstart` event that triggered this function\n   *\n   * @listens mousemove\n   * @listens touchmove\n   */\n  ;\n\n  _proto.handleMouseSeek = function handleMouseSeek(event) {\n    var seekBar = this.getChild('seekBar');\n\n    if (seekBar) {\n      seekBar.handleMouseMove(event);\n    }\n  }\n  /**\n   * Are controls are currently enabled for this progress control.\n   *\n   * @return {boolean}\n   *         true if controls are enabled, false otherwise\n   */\n  ;\n\n  _proto.enabled = function enabled() {\n    return this.enabled_;\n  }\n  /**\n   * Disable all controls on the progress control and its children\n   */\n  ;\n\n  _proto.disable = function disable() {\n    this.children().forEach(function (child) {\n      return child.disable && child.disable();\n    });\n\n    if (!this.enabled()) {\n      return;\n    }\n\n    this.off(['mousedown', 'touchstart'], this.handleMouseDown);\n    this.off(this.el_, 'mousemove', this.handleMouseMove);\n    this.handleMouseUp();\n    this.addClass('disabled');\n    this.enabled_ = false;\n  }\n  /**\n   * Enable all controls on the progress control and its children\n   */\n  ;\n\n  _proto.enable = function enable() {\n    this.children().forEach(function (child) {\n      return child.enable && child.enable();\n    });\n\n    if (this.enabled()) {\n      return;\n    }\n\n    this.on(['mousedown', 'touchstart'], this.handleMouseDown);\n    this.on(this.el_, 'mousemove', this.handleMouseMove);\n    this.removeClass('disabled');\n    this.enabled_ = true;\n  }\n  /**\n   * Handle `mousedown` or `touchstart` events on the `ProgressControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown` or `touchstart` event that triggered this function\n   *\n   * @listens mousedown\n   * @listens touchstart\n   */\n  ;\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    var doc = this.el_.ownerDocument;\n    var seekBar = this.getChild('seekBar');\n\n    if (seekBar) {\n      seekBar.handleMouseDown(event);\n    }\n\n    this.on(doc, 'mousemove', this.throttledHandleMouseSeek);\n    this.on(doc, 'touchmove', this.throttledHandleMouseSeek);\n    this.on(doc, 'mouseup', this.handleMouseUp);\n    this.on(doc, 'touchend', this.handleMouseUp);\n  }\n  /**\n   * Handle `mouseup` or `touchend` events on the `ProgressControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mouseup` or `touchend` event that triggered this function.\n   *\n   * @listens touchend\n   * @listens mouseup\n   */\n  ;\n\n  _proto.handleMouseUp = function handleMouseUp(event) {\n    var doc = this.el_.ownerDocument;\n    var seekBar = this.getChild('seekBar');\n\n    if (seekBar) {\n      seekBar.handleMouseUp(event);\n    }\n\n    this.off(doc, 'mousemove', this.throttledHandleMouseSeek);\n    this.off(doc, 'touchmove', this.throttledHandleMouseSeek);\n    this.off(doc, 'mouseup', this.handleMouseUp);\n    this.off(doc, 'touchend', this.handleMouseUp);\n  };\n\n  return ProgressControl;\n}(Component);\n/**\n * Default options for `ProgressControl`\n *\n * @type {Object}\n * @private\n */\n\n\nProgressControl.prototype.options_ = {\n  children: ['seekBar']\n};\nComponent.registerComponent('ProgressControl', ProgressControl);\n\n/**\n * Toggle Picture-in-Picture mode\n *\n * @extends Button\n */\n\nvar PictureInPictureToggle =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(PictureInPictureToggle, _Button);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @listens Player#enterpictureinpicture\n   * @listens Player#leavepictureinpicture\n   */\n  function PictureInPictureToggle(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this;\n\n    _this.on(player, ['enterpictureinpicture', 'leavepictureinpicture'], _this.handlePictureInPictureChange); // TODO: Activate button on player loadedmetadata event.\n    // TODO: Deactivate button on player emptied event.\n    // TODO: Deactivate button if disablepictureinpicture attribute is present.\n\n\n    if (!document.pictureInPictureEnabled) {\n      _this.disable();\n    }\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = PictureInPictureToggle.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-picture-in-picture-control \" + _Button.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Handles enterpictureinpicture and leavepictureinpicture on the player and change control text accordingly.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The {@link Player#enterpictureinpicture} or {@link Player#leavepictureinpicture} event that caused this function to be\n   *        called.\n   *\n   * @listens Player#enterpictureinpicture\n   * @listens Player#leavepictureinpicture\n   */\n  ;\n\n  _proto.handlePictureInPictureChange = function handlePictureInPictureChange(event) {\n    if (this.player_.isInPictureInPicture()) {\n      this.controlText('Exit Picture-in-Picture');\n    } else {\n      this.controlText('Picture-in-Picture');\n    }\n  }\n  /**\n   * This gets called when an `PictureInPictureToggle` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    if (!this.player_.isInPictureInPicture()) {\n      this.player_.requestPictureInPicture();\n    } else {\n      this.player_.exitPictureInPicture();\n    }\n  };\n\n  return PictureInPictureToggle;\n}(Button);\n/**\n * The text that should display over the `PictureInPictureToggle`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nPictureInPictureToggle.prototype.controlText_ = 'Picture-in-Picture';\nComponent.registerComponent('PictureInPictureToggle', PictureInPictureToggle);\n\n/**\n * Toggle fullscreen video\n *\n * @extends Button\n */\n\nvar FullscreenToggle =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(FullscreenToggle, _Button);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function FullscreenToggle(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this;\n\n    _this.on(player, 'fullscreenchange', _this.handleFullscreenChange);\n\n    if (document[player.fsApi_.fullscreenEnabled] === false) {\n      _this.disable();\n    }\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = FullscreenToggle.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-fullscreen-control \" + _Button.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Handles fullscreenchange on the player and change control text accordingly.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The {@link Player#fullscreenchange} event that caused this function to be\n   *        called.\n   *\n   * @listens Player#fullscreenchange\n   */\n  ;\n\n  _proto.handleFullscreenChange = function handleFullscreenChange(event) {\n    if (this.player_.isFullscreen()) {\n      this.controlText('Non-Fullscreen');\n    } else {\n      this.controlText('Fullscreen');\n    }\n  }\n  /**\n   * This gets called when an `FullscreenToggle` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    if (!this.player_.isFullscreen()) {\n      this.player_.requestFullscreen();\n    } else {\n      this.player_.exitFullscreen();\n    }\n  };\n\n  return FullscreenToggle;\n}(Button);\n/**\n * The text that should display over the `FullscreenToggle`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nFullscreenToggle.prototype.controlText_ = 'Fullscreen';\nComponent.registerComponent('FullscreenToggle', FullscreenToggle);\n\n/**\n * Check if volume control is supported and if it isn't hide the\n * `Component` that was passed  using the `vjs-hidden` class.\n *\n * @param {Component} self\n *        The component that should be hidden if volume is unsupported\n *\n * @param {Player} player\n *        A reference to the player\n *\n * @private\n */\nvar checkVolumeSupport = function checkVolumeSupport(self, player) {\n  // hide volume controls when they're not supported by the current tech\n  if (player.tech_ && !player.tech_.featuresVolumeControl) {\n    self.addClass('vjs-hidden');\n  }\n\n  self.on(player, 'loadstart', function () {\n    if (!player.tech_.featuresVolumeControl) {\n      self.addClass('vjs-hidden');\n    } else {\n      self.removeClass('vjs-hidden');\n    }\n  });\n};\n\n/**\n * Shows volume level\n *\n * @extends Component\n */\n\nvar VolumeLevel =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(VolumeLevel, _Component);\n\n  function VolumeLevel() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = VolumeLevel.prototype;\n\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-volume-level',\n      innerHTML: '<span class=\"vjs-control-text\"></span>'\n    });\n  };\n\n  return VolumeLevel;\n}(Component);\n\nComponent.registerComponent('VolumeLevel', VolumeLevel);\n\n/**\n * The bar that contains the volume level and can be clicked on to adjust the level\n *\n * @extends Slider\n */\n\nvar VolumeBar =\n/*#__PURE__*/\nfunction (_Slider) {\n  _inheritsLoose(VolumeBar, _Slider);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function VolumeBar(player, options) {\n    var _this;\n\n    _this = _Slider.call(this, player, options) || this;\n\n    _this.on('slideractive', _this.updateLastVolume_);\n\n    _this.on(player, 'volumechange', _this.updateARIAAttributes);\n\n    player.ready(function () {\n      return _this.updateARIAAttributes();\n    });\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = VolumeBar.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Slider.prototype.createEl.call(this, 'div', {\n      className: 'vjs-volume-bar vjs-slider-bar'\n    }, {\n      'aria-label': this.localize('Volume Level'),\n      'aria-live': 'polite'\n    });\n  }\n  /**\n   * Handle mouse down on volume bar\n   *\n   * @param {EventTarget~Event} event\n   *        The `mousedown` event that caused this to run.\n   *\n   * @listens mousedown\n   */\n  ;\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    if (!isSingleLeftClick(event)) {\n      return;\n    }\n\n    _Slider.prototype.handleMouseDown.call(this, event);\n  }\n  /**\n   * Handle movement events on the {@link VolumeMenuButton}.\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to run.\n   *\n   * @listens mousemove\n   */\n  ;\n\n  _proto.handleMouseMove = function handleMouseMove(event) {\n    if (!isSingleLeftClick(event)) {\n      return;\n    }\n\n    this.checkMuted();\n    this.player_.volume(this.calculateDistance(event));\n  }\n  /**\n   * If the player is muted unmute it.\n   */\n  ;\n\n  _proto.checkMuted = function checkMuted() {\n    if (this.player_.muted()) {\n      this.player_.muted(false);\n    }\n  }\n  /**\n   * Get percent of volume level\n   *\n   * @return {number}\n   *         Volume level percent as a decimal number.\n   */\n  ;\n\n  _proto.getPercent = function getPercent() {\n    if (this.player_.muted()) {\n      return 0;\n    }\n\n    return this.player_.volume();\n  }\n  /**\n   * Increase volume level for keyboard users\n   */\n  ;\n\n  _proto.stepForward = function stepForward() {\n    this.checkMuted();\n    this.player_.volume(this.player_.volume() + 0.1);\n  }\n  /**\n   * Decrease volume level for keyboard users\n   */\n  ;\n\n  _proto.stepBack = function stepBack() {\n    this.checkMuted();\n    this.player_.volume(this.player_.volume() - 0.1);\n  }\n  /**\n   * Update ARIA accessibility attributes\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `volumechange` event that caused this function to run.\n   *\n   * @listens Player#volumechange\n   */\n  ;\n\n  _proto.updateARIAAttributes = function updateARIAAttributes(event) {\n    var ariaValue = this.player_.muted() ? 0 : this.volumeAsPercentage_();\n    this.el_.setAttribute('aria-valuenow', ariaValue);\n    this.el_.setAttribute('aria-valuetext', ariaValue + '%');\n  }\n  /**\n   * Returns the current value of the player volume as a percentage\n   *\n   * @private\n   */\n  ;\n\n  _proto.volumeAsPercentage_ = function volumeAsPercentage_() {\n    return Math.round(this.player_.volume() * 100);\n  }\n  /**\n   * When user starts dragging the VolumeBar, store the volume and listen for\n   * the end of the drag. When the drag ends, if the volume was set to zero,\n   * set lastVolume to the stored volume.\n   *\n   * @listens slideractive\n   * @private\n   */\n  ;\n\n  _proto.updateLastVolume_ = function updateLastVolume_() {\n    var _this2 = this;\n\n    var volumeBeforeDrag = this.player_.volume();\n    this.one('sliderinactive', function () {\n      if (_this2.player_.volume() === 0) {\n        _this2.player_.lastVolume_(volumeBeforeDrag);\n      }\n    });\n  };\n\n  return VolumeBar;\n}(Slider);\n/**\n * Default options for the `VolumeBar`\n *\n * @type {Object}\n * @private\n */\n\n\nVolumeBar.prototype.options_ = {\n  children: ['volumeLevel'],\n  barName: 'volumeLevel'\n};\n/**\n * Call the update event for this Slider when this event happens on the player.\n *\n * @type {string}\n */\n\nVolumeBar.prototype.playerEvent = 'volumechange';\nComponent.registerComponent('VolumeBar', VolumeBar);\n\n/**\n * The component for controlling the volume level\n *\n * @extends Component\n */\n\nvar VolumeControl =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(VolumeControl, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n  function VolumeControl(player, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    options.vertical = options.vertical || false; // Pass the vertical option down to the VolumeBar if\n    // the VolumeBar is turned on.\n\n    if (typeof options.volumeBar === 'undefined' || isPlain(options.volumeBar)) {\n      options.volumeBar = options.volumeBar || {};\n      options.volumeBar.vertical = options.vertical;\n    }\n\n    _this = _Component.call(this, player, options) || this; // hide this control if volume support is missing\n\n    checkVolumeSupport(_assertThisInitialized(_this), player);\n    _this.throttledHandleMouseMove = throttle(bind(_assertThisInitialized(_this), _this.handleMouseMove), UPDATE_REFRESH_INTERVAL);\n\n    _this.on('mousedown', _this.handleMouseDown);\n\n    _this.on('touchstart', _this.handleMouseDown); // while the slider is active (the mouse has been pressed down and\n    // is dragging) or in focus we do not want to hide the VolumeBar\n\n\n    _this.on(_this.volumeBar, ['focus', 'slideractive'], function () {\n      _this.volumeBar.addClass('vjs-slider-active');\n\n      _this.addClass('vjs-slider-active');\n\n      _this.trigger('slideractive');\n    });\n\n    _this.on(_this.volumeBar, ['blur', 'sliderinactive'], function () {\n      _this.volumeBar.removeClass('vjs-slider-active');\n\n      _this.removeClass('vjs-slider-active');\n\n      _this.trigger('sliderinactive');\n    });\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = VolumeControl.prototype;\n\n  _proto.createEl = function createEl() {\n    var orientationClass = 'vjs-volume-horizontal';\n\n    if (this.options_.vertical) {\n      orientationClass = 'vjs-volume-vertical';\n    }\n\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: \"vjs-volume-control vjs-control \" + orientationClass\n    });\n  }\n  /**\n   * Handle `mousedown` or `touchstart` events on the `VolumeControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown` or `touchstart` event that triggered this function\n   *\n   * @listens mousedown\n   * @listens touchstart\n   */\n  ;\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    var doc = this.el_.ownerDocument;\n    this.on(doc, 'mousemove', this.throttledHandleMouseMove);\n    this.on(doc, 'touchmove', this.throttledHandleMouseMove);\n    this.on(doc, 'mouseup', this.handleMouseUp);\n    this.on(doc, 'touchend', this.handleMouseUp);\n  }\n  /**\n   * Handle `mouseup` or `touchend` events on the `VolumeControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mouseup` or `touchend` event that triggered this function.\n   *\n   * @listens touchend\n   * @listens mouseup\n   */\n  ;\n\n  _proto.handleMouseUp = function handleMouseUp(event) {\n    var doc = this.el_.ownerDocument;\n    this.off(doc, 'mousemove', this.throttledHandleMouseMove);\n    this.off(doc, 'touchmove', this.throttledHandleMouseMove);\n    this.off(doc, 'mouseup', this.handleMouseUp);\n    this.off(doc, 'touchend', this.handleMouseUp);\n  }\n  /**\n   * Handle `mousedown` or `touchstart` events on the `VolumeControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown` or `touchstart` event that triggered this function\n   *\n   * @listens mousedown\n   * @listens touchstart\n   */\n  ;\n\n  _proto.handleMouseMove = function handleMouseMove(event) {\n    this.volumeBar.handleMouseMove(event);\n  };\n\n  return VolumeControl;\n}(Component);\n/**\n * Default options for the `VolumeControl`\n *\n * @type {Object}\n * @private\n */\n\n\nVolumeControl.prototype.options_ = {\n  children: ['volumeBar']\n};\nComponent.registerComponent('VolumeControl', VolumeControl);\n\n/**\n * Check if muting volume is supported and if it isn't hide the mute toggle\n * button.\n *\n * @param {Component} self\n *        A reference to the mute toggle button\n *\n * @param {Player} player\n *        A reference to the player\n *\n * @private\n */\nvar checkMuteSupport = function checkMuteSupport(self, player) {\n  // hide mute toggle button if it's not supported by the current tech\n  if (player.tech_ && !player.tech_.featuresMuteControl) {\n    self.addClass('vjs-hidden');\n  }\n\n  self.on(player, 'loadstart', function () {\n    if (!player.tech_.featuresMuteControl) {\n      self.addClass('vjs-hidden');\n    } else {\n      self.removeClass('vjs-hidden');\n    }\n  });\n};\n\n/**\n * A button component for muting the audio.\n *\n * @extends Button\n */\n\nvar MuteToggle =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(MuteToggle, _Button);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function MuteToggle(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this; // hide this control if volume support is missing\n\n    checkMuteSupport(_assertThisInitialized(_this), player);\n\n    _this.on(player, ['loadstart', 'volumechange'], _this.update);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = MuteToggle.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-mute-control \" + _Button.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * This gets called when an `MuteToggle` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    var vol = this.player_.volume();\n    var lastVolume = this.player_.lastVolume_();\n\n    if (vol === 0) {\n      var volumeToSet = lastVolume < 0.1 ? 0.1 : lastVolume;\n      this.player_.volume(volumeToSet);\n      this.player_.muted(false);\n    } else {\n      this.player_.muted(this.player_.muted() ? false : true);\n    }\n  }\n  /**\n   * Update the `MuteToggle` button based on the state of `volume` and `muted`\n   * on the player.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The {@link Player#loadstart} event if this function was called\n   *        through an event.\n   *\n   * @listens Player#loadstart\n   * @listens Player#volumechange\n   */\n  ;\n\n  _proto.update = function update(event) {\n    this.updateIcon_();\n    this.updateControlText_();\n  }\n  /**\n   * Update the appearance of the `MuteToggle` icon.\n   *\n   * Possible states (given `level` variable below):\n   * - 0: crossed out\n   * - 1: zero bars of volume\n   * - 2: one bar of volume\n   * - 3: two bars of volume\n   *\n   * @private\n   */\n  ;\n\n  _proto.updateIcon_ = function updateIcon_() {\n    var vol = this.player_.volume();\n    var level = 3; // in iOS when a player is loaded with muted attribute\n    // and volume is changed with a native mute button\n    // we want to make sure muted state is updated\n\n    if (IS_IOS && this.player_.tech_ && this.player_.tech_.el_) {\n      this.player_.muted(this.player_.tech_.el_.muted);\n    }\n\n    if (vol === 0 || this.player_.muted()) {\n      level = 0;\n    } else if (vol < 0.33) {\n      level = 1;\n    } else if (vol < 0.67) {\n      level = 2;\n    } // TODO improve muted icon classes\n\n\n    for (var i = 0; i < 4; i++) {\n      removeClass(this.el_, \"vjs-vol-\" + i);\n    }\n\n    addClass(this.el_, \"vjs-vol-\" + level);\n  }\n  /**\n   * If `muted` has changed on the player, update the control text\n   * (`title` attribute on `vjs-mute-control` element and content of\n   * `vjs-control-text` element).\n   *\n   * @private\n   */\n  ;\n\n  _proto.updateControlText_ = function updateControlText_() {\n    var soundOff = this.player_.muted() || this.player_.volume() === 0;\n    var text = soundOff ? 'Unmute' : 'Mute';\n\n    if (this.controlText() !== text) {\n      this.controlText(text);\n    }\n  };\n\n  return MuteToggle;\n}(Button);\n/**\n * The text that should display over the `MuteToggle`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nMuteToggle.prototype.controlText_ = 'Mute';\nComponent.registerComponent('MuteToggle', MuteToggle);\n\n/**\n * A Component to contain the MuteToggle and VolumeControl so that\n * they can work together.\n *\n * @extends Component\n */\n\nvar VolumePanel =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(VolumePanel, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n  function VolumePanel(player, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (typeof options.inline !== 'undefined') {\n      options.inline = options.inline;\n    } else {\n      options.inline = true;\n    } // pass the inline option down to the VolumeControl as vertical if\n    // the VolumeControl is on.\n\n\n    if (typeof options.volumeControl === 'undefined' || isPlain(options.volumeControl)) {\n      options.volumeControl = options.volumeControl || {};\n      options.volumeControl.vertical = !options.inline;\n    }\n\n    _this = _Component.call(this, player, options) || this;\n\n    _this.on(player, ['loadstart'], _this.volumePanelState_);\n\n    _this.on(_this.muteToggle, 'keyup', _this.handleKeyPress);\n\n    _this.on(_this.volumeControl, 'keyup', _this.handleVolumeControlKeyUp);\n\n    _this.on('keydown', _this.handleKeyPress);\n\n    _this.on('mouseover', _this.handleMouseOver);\n\n    _this.on('mouseout', _this.handleMouseOut); // while the slider is active (the mouse has been pressed down and\n    // is dragging) we do not want to hide the VolumeBar\n\n\n    _this.on(_this.volumeControl, ['slideractive'], _this.sliderActive_);\n\n    _this.on(_this.volumeControl, ['sliderinactive'], _this.sliderInactive_);\n\n    return _this;\n  }\n  /**\n   * Add vjs-slider-active class to the VolumePanel\n   *\n   * @listens VolumeControl#slideractive\n   * @private\n   */\n\n\n  var _proto = VolumePanel.prototype;\n\n  _proto.sliderActive_ = function sliderActive_() {\n    this.addClass('vjs-slider-active');\n  }\n  /**\n   * Removes vjs-slider-active class to the VolumePanel\n   *\n   * @listens VolumeControl#sliderinactive\n   * @private\n   */\n  ;\n\n  _proto.sliderInactive_ = function sliderInactive_() {\n    this.removeClass('vjs-slider-active');\n  }\n  /**\n   * Adds vjs-hidden or vjs-mute-toggle-only to the VolumePanel\n   * depending on MuteToggle and VolumeControl state\n   *\n   * @listens Player#loadstart\n   * @private\n   */\n  ;\n\n  _proto.volumePanelState_ = function volumePanelState_() {\n    // hide volume panel if neither volume control or mute toggle\n    // are displayed\n    if (this.volumeControl.hasClass('vjs-hidden') && this.muteToggle.hasClass('vjs-hidden')) {\n      this.addClass('vjs-hidden');\n    } // if only mute toggle is visible we don't want\n    // volume panel expanding when hovered or active\n\n\n    if (this.volumeControl.hasClass('vjs-hidden') && !this.muteToggle.hasClass('vjs-hidden')) {\n      this.addClass('vjs-mute-toggle-only');\n    }\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    var orientationClass = 'vjs-volume-panel-horizontal';\n\n    if (!this.options_.inline) {\n      orientationClass = 'vjs-volume-panel-vertical';\n    }\n\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: \"vjs-volume-panel vjs-control \" + orientationClass\n    });\n  }\n  /**\n   * Dispose of the `volume-panel` and all child components.\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    this.handleMouseOut();\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Handles `keyup` events on the `VolumeControl`, looking for ESC, which closes\n   * the volume panel and sets focus on `MuteToggle`.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keyup` event that caused this function to be called.\n   *\n   * @listens keyup\n   */\n  ;\n\n  _proto.handleVolumeControlKeyUp = function handleVolumeControlKeyUp(event) {\n    if (keycode.isEventKey(event, 'Esc')) {\n      this.muteToggle.focus();\n    }\n  }\n  /**\n   * This gets called when a `VolumePanel` gains hover via a `mouseover` event.\n   * Turns on listening for `mouseover` event. When they happen it\n   * calls `this.handleMouseOver`.\n   *\n   * @param {EventTarget~Event} event\n   *        The `mouseover` event that caused this function to be called.\n   *\n   * @listens mouseover\n   */\n  ;\n\n  _proto.handleMouseOver = function handleMouseOver(event) {\n    this.addClass('vjs-hover');\n    on(document, 'keyup', bind(this, this.handleKeyPress));\n  }\n  /**\n   * This gets called when a `VolumePanel` gains hover via a `mouseout` event.\n   * Turns on listening for `mouseout` event. When they happen it\n   * calls `this.handleMouseOut`.\n   *\n   * @param {EventTarget~Event} event\n   *        The `mouseout` event that caused this function to be called.\n   *\n   * @listens mouseout\n   */\n  ;\n\n  _proto.handleMouseOut = function handleMouseOut(event) {\n    this.removeClass('vjs-hover');\n    off(document, 'keyup', bind(this, this.handleKeyPress));\n  }\n  /**\n   * Handles `keyup` event on the document or `keydown` event on the `VolumePanel`,\n   * looking for ESC, which hides the `VolumeControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        The keypress that triggered this event.\n   *\n   * @listens keydown | keyup\n   */\n  ;\n\n  _proto.handleKeyPress = function handleKeyPress(event) {\n    if (keycode.isEventKey(event, 'Esc')) {\n      this.handleMouseOut();\n    }\n  };\n\n  return VolumePanel;\n}(Component);\n/**\n * Default options for the `VolumeControl`\n *\n * @type {Object}\n * @private\n */\n\n\nVolumePanel.prototype.options_ = {\n  children: ['muteToggle', 'volumeControl']\n};\nComponent.registerComponent('VolumePanel', VolumePanel);\n\n/**\n * The Menu component is used to build popup menus, including subtitle and\n * captions selection menus.\n *\n * @extends Component\n */\n\nvar Menu =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Menu, _Component);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Player} player\n   *        the player that this component should attach to\n   *\n   * @param {Object} [options]\n   *        Object of option names and values\n   *\n   */\n  function Menu(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n\n    if (options) {\n      _this.menuButton_ = options.menuButton;\n    }\n\n    _this.focusedChild_ = -1;\n\n    _this.on('keydown', _this.handleKeyDown); // All the menu item instances share the same blur handler provided by the menu container.\n\n\n    _this.boundHandleBlur_ = bind(_assertThisInitialized(_this), _this.handleBlur);\n    _this.boundHandleTapClick_ = bind(_assertThisInitialized(_this), _this.handleTapClick);\n    return _this;\n  }\n  /**\n   * Add event listeners to the {@link MenuItem}.\n   *\n   * @param {Object} component\n   *        The instance of the `MenuItem` to add listeners to.\n   *\n   */\n\n\n  var _proto = Menu.prototype;\n\n  _proto.addEventListenerForItem = function addEventListenerForItem(component) {\n    if (!(component instanceof Component)) {\n      return;\n    }\n\n    this.on(component, 'blur', this.boundHandleBlur_);\n    this.on(component, ['tap', 'click'], this.boundHandleTapClick_);\n  }\n  /**\n   * Remove event listeners from the {@link MenuItem}.\n   *\n   * @param {Object} component\n   *        The instance of the `MenuItem` to remove listeners.\n   *\n   */\n  ;\n\n  _proto.removeEventListenerForItem = function removeEventListenerForItem(component) {\n    if (!(component instanceof Component)) {\n      return;\n    }\n\n    this.off(component, 'blur', this.boundHandleBlur_);\n    this.off(component, ['tap', 'click'], this.boundHandleTapClick_);\n  }\n  /**\n   * This method will be called indirectly when the component has been added\n   * before the component adds to the new menu instance by `addItem`.\n   * In this case, the original menu instance will remove the component\n   * by calling `removeChild`.\n   *\n   * @param {Object} component\n   *        The instance of the `MenuItem`\n   */\n  ;\n\n  _proto.removeChild = function removeChild(component) {\n    if (typeof component === 'string') {\n      component = this.getChild(component);\n    }\n\n    this.removeEventListenerForItem(component);\n\n    _Component.prototype.removeChild.call(this, component);\n  }\n  /**\n   * Add a {@link MenuItem} to the menu.\n   *\n   * @param {Object|string} component\n   *        The name or instance of the `MenuItem` to add.\n   *\n   */\n  ;\n\n  _proto.addItem = function addItem(component) {\n    var childComponent = this.addChild(component);\n\n    if (childComponent) {\n      this.addEventListenerForItem(childComponent);\n    }\n  }\n  /**\n   * Create the `Menu`s DOM element.\n   *\n   * @return {Element}\n   *         the element that was created\n   */\n  ;\n\n  _proto.createEl = function createEl$1() {\n    var contentElType = this.options_.contentElType || 'ul';\n    this.contentEl_ = createEl(contentElType, {\n      className: 'vjs-menu-content'\n    });\n    this.contentEl_.setAttribute('role', 'menu');\n\n    var el = _Component.prototype.createEl.call(this, 'div', {\n      append: this.contentEl_,\n      className: 'vjs-menu'\n    });\n\n    el.appendChild(this.contentEl_); // Prevent clicks from bubbling up. Needed for Menu Buttons,\n    // where a click on the parent is significant\n\n    on(el, 'click', function (event) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    });\n    return el;\n  };\n\n  _proto.dispose = function dispose() {\n    this.contentEl_ = null;\n    this.boundHandleBlur_ = null;\n    this.boundHandleTapClick_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Called when a `MenuItem` loses focus.\n   *\n   * @param {EventTarget~Event} event\n   *        The `blur` event that caused this function to be called.\n   *\n   * @listens blur\n   */\n  ;\n\n  _proto.handleBlur = function handleBlur(event) {\n    var relatedTarget = event.relatedTarget || document.activeElement; // Close menu popup when a user clicks outside the menu\n\n    if (!this.children().some(function (element) {\n      return element.el() === relatedTarget;\n    })) {\n      var btn = this.menuButton_;\n\n      if (btn && btn.buttonPressed_ && relatedTarget !== btn.el().firstChild) {\n        btn.unpressButton();\n      }\n    }\n  }\n  /**\n   * Called when a `MenuItem` gets clicked or tapped.\n   *\n   * @param {EventTarget~Event} event\n   *        The `click` or `tap` event that caused this function to be called.\n   *\n   * @listens click,tap\n   */\n  ;\n\n  _proto.handleTapClick = function handleTapClick(event) {\n    // Unpress the associated MenuButton, and move focus back to it\n    if (this.menuButton_) {\n      this.menuButton_.unpressButton();\n      var childComponents = this.children();\n\n      if (!Array.isArray(childComponents)) {\n        return;\n      }\n\n      var foundComponent = childComponents.filter(function (component) {\n        return component.el() === event.target;\n      })[0];\n\n      if (!foundComponent) {\n        return;\n      } // don't focus menu button if item is a caption settings item\n      // because focus will move elsewhere\n\n\n      if (foundComponent.name() !== 'CaptionSettingsMenuItem') {\n        this.menuButton_.focus();\n      }\n    }\n  }\n  /**\n   * Handle a `keydown` event on this menu. This listener is added in the constructor.\n   *\n   * @param {EventTarget~Event} event\n   *        A `keydown` event that happened on the menu.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Left and Down Arrows\n    if (keycode.isEventKey(event, 'Left') || keycode.isEventKey(event, 'Down')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepForward(); // Up and Right Arrows\n    } else if (keycode.isEventKey(event, 'Right') || keycode.isEventKey(event, 'Up')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepBack();\n    }\n  }\n  /**\n   * Move to next (lower) menu item for keyboard users.\n   */\n  ;\n\n  _proto.stepForward = function stepForward() {\n    var stepChild = 0;\n\n    if (this.focusedChild_ !== undefined) {\n      stepChild = this.focusedChild_ + 1;\n    }\n\n    this.focus(stepChild);\n  }\n  /**\n   * Move to previous (higher) menu item for keyboard users.\n   */\n  ;\n\n  _proto.stepBack = function stepBack() {\n    var stepChild = 0;\n\n    if (this.focusedChild_ !== undefined) {\n      stepChild = this.focusedChild_ - 1;\n    }\n\n    this.focus(stepChild);\n  }\n  /**\n   * Set focus on a {@link MenuItem} in the `Menu`.\n   *\n   * @param {Object|string} [item=0]\n   *        Index of child item set focus on.\n   */\n  ;\n\n  _proto.focus = function focus(item) {\n    if (item === void 0) {\n      item = 0;\n    }\n\n    var children = this.children().slice();\n    var haveTitle = children.length && children[0].className && /vjs-menu-title/.test(children[0].className);\n\n    if (haveTitle) {\n      children.shift();\n    }\n\n    if (children.length > 0) {\n      if (item < 0) {\n        item = 0;\n      } else if (item >= children.length) {\n        item = children.length - 1;\n      }\n\n      this.focusedChild_ = item;\n      children[item].el_.focus();\n    }\n  };\n\n  return Menu;\n}(Component);\n\nComponent.registerComponent('Menu', Menu);\n\n/**\n * A `MenuButton` class for any popup {@link Menu}.\n *\n * @extends Component\n */\n\nvar MenuButton =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(MenuButton, _Component);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n  function MenuButton(player, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _Component.call(this, player, options) || this;\n    _this.menuButton_ = new Button(player, options);\n\n    _this.menuButton_.controlText(_this.controlText_);\n\n    _this.menuButton_.el_.setAttribute('aria-haspopup', 'true'); // Add buildCSSClass values to the button, not the wrapper\n\n\n    var buttonClass = Button.prototype.buildCSSClass();\n    _this.menuButton_.el_.className = _this.buildCSSClass() + ' ' + buttonClass;\n\n    _this.menuButton_.removeClass('vjs-control');\n\n    _this.addChild(_this.menuButton_);\n\n    _this.update();\n\n    _this.enabled_ = true;\n\n    _this.on(_this.menuButton_, 'tap', _this.handleClick);\n\n    _this.on(_this.menuButton_, 'click', _this.handleClick);\n\n    _this.on(_this.menuButton_, 'keydown', _this.handleKeyDown);\n\n    _this.on(_this.menuButton_, 'mouseenter', function () {\n      _this.addClass('vjs-hover');\n\n      _this.menu.show();\n\n      on(document, 'keyup', bind(_assertThisInitialized(_this), _this.handleMenuKeyUp));\n    });\n\n    _this.on('mouseleave', _this.handleMouseLeave);\n\n    _this.on('keydown', _this.handleSubmenuKeyDown);\n\n    return _this;\n  }\n  /**\n   * Update the menu based on the current state of its items.\n   */\n\n\n  var _proto = MenuButton.prototype;\n\n  _proto.update = function update() {\n    var menu = this.createMenu();\n\n    if (this.menu) {\n      this.menu.dispose();\n      this.removeChild(this.menu);\n    }\n\n    this.menu = menu;\n    this.addChild(menu);\n    /**\n     * Track the state of the menu button\n     *\n     * @type {Boolean}\n     * @private\n     */\n\n    this.buttonPressed_ = false;\n    this.menuButton_.el_.setAttribute('aria-expanded', 'false');\n\n    if (this.items && this.items.length <= this.hideThreshold_) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n  /**\n   * Create the menu and add all items to it.\n   *\n   * @return {Menu}\n   *         The constructed menu\n   */\n  ;\n\n  _proto.createMenu = function createMenu() {\n    var menu = new Menu(this.player_, {\n      menuButton: this\n    });\n    /**\n     * Hide the menu if the number of items is less than or equal to this threshold. This defaults\n     * to 0 and whenever we add items which can be hidden to the menu we'll increment it. We list\n     * it here because every time we run `createMenu` we need to reset the value.\n     *\n     * @protected\n     * @type {Number}\n     */\n\n    this.hideThreshold_ = 0; // Add a title list item to the top\n\n    if (this.options_.title) {\n      var titleEl = createEl('li', {\n        className: 'vjs-menu-title',\n        innerHTML: toTitleCase(this.options_.title),\n        tabIndex: -1\n      });\n      this.hideThreshold_ += 1;\n      var titleComponent = new Component(this.player_, {\n        el: titleEl\n      });\n      menu.addItem(titleComponent);\n    }\n\n    this.items = this.createItems();\n\n    if (this.items) {\n      // Add menu items to the menu\n      for (var i = 0; i < this.items.length; i++) {\n        menu.addItem(this.items[i]);\n      }\n    }\n\n    return menu;\n  }\n  /**\n   * Create the list of menu items. Specific to each subclass.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.createItems = function createItems() {}\n  /**\n   * Create the `MenuButtons`s DOM element.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: this.buildWrapperCSSClass()\n    }, {});\n  }\n  /**\n   * Allow sub components to stack CSS class names for the wrapper element\n   *\n   * @return {string}\n   *         The constructed wrapper DOM `className`\n   */\n  ;\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    var menuButtonClass = 'vjs-menu-button'; // If the inline option is passed, we want to use different styles altogether.\n\n    if (this.options_.inline === true) {\n      menuButtonClass += '-inline';\n    } else {\n      menuButtonClass += '-popup';\n    } // TODO: Fix the CSS so that this isn't necessary\n\n\n    var buttonClass = Button.prototype.buildCSSClass();\n    return \"vjs-menu-button \" + menuButtonClass + \" \" + buttonClass + \" \" + _Component.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    var menuButtonClass = 'vjs-menu-button'; // If the inline option is passed, we want to use different styles altogether.\n\n    if (this.options_.inline === true) {\n      menuButtonClass += '-inline';\n    } else {\n      menuButtonClass += '-popup';\n    }\n\n    return \"vjs-menu-button \" + menuButtonClass + \" \" + _Component.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Get or set the localized control text that will be used for accessibility.\n   *\n   * > NOTE: This will come from the internal `menuButton_` element.\n   *\n   * @param {string} [text]\n   *        Control text for element.\n   *\n   * @param {Element} [el=this.menuButton_.el()]\n   *        Element to set the title on.\n   *\n   * @return {string}\n   *         - The control text when getting\n   */\n  ;\n\n  _proto.controlText = function controlText(text, el) {\n    if (el === void 0) {\n      el = this.menuButton_.el();\n    }\n\n    return this.menuButton_.controlText(text, el);\n  }\n  /**\n   * Dispose of the `menu-button` and all child components.\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    this.handleMouseLeave();\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Handle a click on a `MenuButton`.\n   * See {@link ClickableComponent#handleClick} for instances where this is called.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    if (this.buttonPressed_) {\n      this.unpressButton();\n    } else {\n      this.pressButton();\n    }\n  }\n  /**\n   * Handle `mouseleave` for `MenuButton`.\n   *\n   * @param {EventTarget~Event} event\n   *        The `mouseleave` event that caused this function to be called.\n   *\n   * @listens mouseleave\n   */\n  ;\n\n  _proto.handleMouseLeave = function handleMouseLeave(event) {\n    this.removeClass('vjs-hover');\n    off(document, 'keyup', bind(this, this.handleMenuKeyUp));\n  }\n  /**\n   * Set the focus to the actual button, not to this element\n   */\n  ;\n\n  _proto.focus = function focus() {\n    this.menuButton_.focus();\n  }\n  /**\n   * Remove the focus from the actual button, not this element\n   */\n  ;\n\n  _proto.blur = function blur() {\n    this.menuButton_.blur();\n  }\n  /**\n   * Handle tab, escape, down arrow, and up arrow keys for `MenuButton`. See\n   * {@link ClickableComponent#handleKeyDown} for instances where this is called.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Escape or Tab unpress the 'button'\n    if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n      if (this.buttonPressed_) {\n        this.unpressButton();\n      } // Don't preventDefault for Tab key - we still want to lose focus\n\n\n      if (!keycode.isEventKey(event, 'Tab')) {\n        event.preventDefault(); // Set focus back to the menu button's button\n\n        this.menuButton_.focus();\n      } // Up Arrow or Down Arrow also 'press' the button to open the menu\n\n    } else if (keycode.isEventKey(event, 'Up') || keycode.isEventKey(event, 'Down')) {\n      if (!this.buttonPressed_) {\n        event.preventDefault();\n        this.pressButton();\n      }\n    }\n  }\n  /**\n   * Handle a `keyup` event on a `MenuButton`. The listener for this is added in\n   * the constructor.\n   *\n   * @param {EventTarget~Event} event\n   *        Key press event\n   *\n   * @listens keyup\n   */\n  ;\n\n  _proto.handleMenuKeyUp = function handleMenuKeyUp(event) {\n    // Escape hides popup menu\n    if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n      this.removeClass('vjs-hover');\n    }\n  }\n  /**\n   * This method name now delegates to `handleSubmenuKeyDown`. This means\n   * anyone calling `handleSubmenuKeyPress` will not see their method calls\n   * stop working.\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to be called.\n   */\n  ;\n\n  _proto.handleSubmenuKeyPress = function handleSubmenuKeyPress(event) {\n    this.handleSubmenuKeyDown(event);\n  }\n  /**\n   * Handle a `keydown` event on a sub-menu. The listener for this is added in\n   * the constructor.\n   *\n   * @param {EventTarget~Event} event\n   *        Key press event\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleSubmenuKeyDown = function handleSubmenuKeyDown(event) {\n    // Escape or Tab unpress the 'button'\n    if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n      if (this.buttonPressed_) {\n        this.unpressButton();\n      } // Don't preventDefault for Tab key - we still want to lose focus\n\n\n      if (!keycode.isEventKey(event, 'Tab')) {\n        event.preventDefault(); // Set focus back to the menu button's button\n\n        this.menuButton_.focus();\n      }\n    }\n  }\n  /**\n   * Put the current `MenuButton` into a pressed state.\n   */\n  ;\n\n  _proto.pressButton = function pressButton() {\n    if (this.enabled_) {\n      this.buttonPressed_ = true;\n      this.menu.show();\n      this.menu.lockShowing();\n      this.menuButton_.el_.setAttribute('aria-expanded', 'true'); // set the focus into the submenu, except on iOS where it is resulting in\n      // undesired scrolling behavior when the player is in an iframe\n\n      if (IS_IOS && isInFrame()) {\n        // Return early so that the menu isn't focused\n        return;\n      }\n\n      this.menu.focus();\n    }\n  }\n  /**\n   * Take the current `MenuButton` out of a pressed state.\n   */\n  ;\n\n  _proto.unpressButton = function unpressButton() {\n    if (this.enabled_) {\n      this.buttonPressed_ = false;\n      this.menu.unlockShowing();\n      this.menu.hide();\n      this.menuButton_.el_.setAttribute('aria-expanded', 'false');\n    }\n  }\n  /**\n   * Disable the `MenuButton`. Don't allow it to be clicked.\n   */\n  ;\n\n  _proto.disable = function disable() {\n    this.unpressButton();\n    this.enabled_ = false;\n    this.addClass('vjs-disabled');\n    this.menuButton_.disable();\n  }\n  /**\n   * Enable the `MenuButton`. Allow it to be clicked.\n   */\n  ;\n\n  _proto.enable = function enable() {\n    this.enabled_ = true;\n    this.removeClass('vjs-disabled');\n    this.menuButton_.enable();\n  };\n\n  return MenuButton;\n}(Component);\n\nComponent.registerComponent('MenuButton', MenuButton);\n\n/**\n * The base class for buttons that toggle specific  track types (e.g. subtitles).\n *\n * @extends MenuButton\n */\n\nvar TrackButton =\n/*#__PURE__*/\nfunction (_MenuButton) {\n  _inheritsLoose(TrackButton, _MenuButton);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function TrackButton(player, options) {\n    var _this;\n\n    var tracks = options.tracks;\n    _this = _MenuButton.call(this, player, options) || this;\n\n    if (_this.items.length <= 1) {\n      _this.hide();\n    }\n\n    if (!tracks) {\n      return _assertThisInitialized(_this);\n    }\n\n    var updateHandler = bind(_assertThisInitialized(_this), _this.update);\n    tracks.addEventListener('removetrack', updateHandler);\n    tracks.addEventListener('addtrack', updateHandler);\n\n    _this.player_.on('ready', updateHandler);\n\n    _this.player_.on('dispose', function () {\n      tracks.removeEventListener('removetrack', updateHandler);\n      tracks.removeEventListener('addtrack', updateHandler);\n    });\n\n    return _this;\n  }\n\n  return TrackButton;\n}(MenuButton);\n\nComponent.registerComponent('TrackButton', TrackButton);\n\n/**\n * @file menu-keys.js\n */\n\n/**\n  * All keys used for operation of a menu (`MenuButton`, `Menu`, and `MenuItem`)\n  * Note that 'Enter' and 'Space' are not included here (otherwise they would\n  * prevent the `MenuButton` and `MenuItem` from being keyboard-clickable)\n  * @typedef MenuKeys\n  * @array\n  */\nvar MenuKeys = ['Tab', 'Esc', 'Up', 'Down', 'Right', 'Left'];\n\n/**\n * The component for a menu item. `<li>`\n *\n * @extends ClickableComponent\n */\n\nvar MenuItem =\n/*#__PURE__*/\nfunction (_ClickableComponent) {\n  _inheritsLoose(MenuItem, _ClickableComponent);\n\n  /**\n   * Creates an instance of the this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   *\n   */\n  function MenuItem(player, options) {\n    var _this;\n\n    _this = _ClickableComponent.call(this, player, options) || this;\n    _this.selectable = options.selectable;\n    _this.isSelected_ = options.selected || false;\n    _this.multiSelectable = options.multiSelectable;\n\n    _this.selected(_this.isSelected_);\n\n    if (_this.selectable) {\n      if (_this.multiSelectable) {\n        _this.el_.setAttribute('role', 'menuitemcheckbox');\n      } else {\n        _this.el_.setAttribute('role', 'menuitemradio');\n      }\n    } else {\n      _this.el_.setAttribute('role', 'menuitem');\n    }\n\n    return _this;\n  }\n  /**\n   * Create the `MenuItem's DOM element\n   *\n   * @param {string} [type=li]\n   *        Element's node type, not actually used, always set to `li`.\n   *\n   * @param {Object} [props={}]\n   *        An object of properties that should be set on the element\n   *\n   * @param {Object} [attrs={}]\n   *        An object of attributes that should be set on the element\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n\n\n  var _proto = MenuItem.prototype;\n\n  _proto.createEl = function createEl(type, props, attrs) {\n    // The control is textual, not just an icon\n    this.nonIconControl = true;\n    return _ClickableComponent.prototype.createEl.call(this, 'li', assign({\n      className: 'vjs-menu-item',\n      innerHTML: \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label) + \"</span>\",\n      tabIndex: -1\n    }, props), attrs);\n  }\n  /**\n   * Ignore keys which are used by the menu, but pass any other ones up. See\n   * {@link ClickableComponent#handleKeyDown} for instances where this is called.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    if (!MenuKeys.some(function (key) {\n      return keycode.isEventKey(event, key);\n    })) {\n      // Pass keydown handling up for unused keys\n      _ClickableComponent.prototype.handleKeyDown.call(this, event);\n    }\n  }\n  /**\n   * Any click on a `MenuItem` puts it into the selected state.\n   * See {@link ClickableComponent#handleClick} for instances where this is called.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    this.selected(true);\n  }\n  /**\n   * Set the state for this menu item as selected or not.\n   *\n   * @param {boolean} selected\n   *        if the menu item is selected or not\n   */\n  ;\n\n  _proto.selected = function selected(_selected) {\n    if (this.selectable) {\n      if (_selected) {\n        this.addClass('vjs-selected');\n        this.el_.setAttribute('aria-checked', 'true'); // aria-checked isn't fully supported by browsers/screen readers,\n        // so indicate selected state to screen reader in the control text.\n\n        this.controlText(', selected');\n        this.isSelected_ = true;\n      } else {\n        this.removeClass('vjs-selected');\n        this.el_.setAttribute('aria-checked', 'false'); // Indicate un-selected state to screen reader\n\n        this.controlText('');\n        this.isSelected_ = false;\n      }\n    }\n  };\n\n  return MenuItem;\n}(ClickableComponent);\n\nComponent.registerComponent('MenuItem', MenuItem);\n\n/**\n * The specific menu item type for selecting a language within a text track kind\n *\n * @extends MenuItem\n */\n\nvar TextTrackMenuItem =\n/*#__PURE__*/\nfunction (_MenuItem) {\n  _inheritsLoose(TextTrackMenuItem, _MenuItem);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function TextTrackMenuItem(player, options) {\n    var _this;\n\n    var track = options.track;\n    var tracks = player.textTracks(); // Modify options for parent MenuItem class's init.\n\n    options.label = track.label || track.language || 'Unknown';\n    options.selected = track.mode === 'showing';\n    _this = _MenuItem.call(this, player, options) || this;\n    _this.track = track; // Determine the relevant kind(s) of tracks for this component and filter\n    // out empty kinds.\n\n    _this.kinds = (options.kinds || [options.kind || _this.track.kind]).filter(Boolean);\n\n    var changeHandler = function changeHandler() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this.handleTracksChange.apply(_assertThisInitialized(_this), args);\n    };\n\n    var selectedLanguageChangeHandler = function selectedLanguageChangeHandler() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this.handleSelectedLanguageChange.apply(_assertThisInitialized(_this), args);\n    };\n\n    player.on(['loadstart', 'texttrackchange'], changeHandler);\n    tracks.addEventListener('change', changeHandler);\n    tracks.addEventListener('selectedlanguagechange', selectedLanguageChangeHandler);\n\n    _this.on('dispose', function () {\n      player.off(['loadstart', 'texttrackchange'], changeHandler);\n      tracks.removeEventListener('change', changeHandler);\n      tracks.removeEventListener('selectedlanguagechange', selectedLanguageChangeHandler);\n    }); // iOS7 doesn't dispatch change events to TextTrackLists when an\n    // associated track's mode changes. Without something like\n    // Object.observe() (also not present on iOS7), it's not\n    // possible to detect changes to the mode attribute and polyfill\n    // the change event. As a poor substitute, we manually dispatch\n    // change events whenever the controls modify the mode.\n\n\n    if (tracks.onchange === undefined) {\n      var event;\n\n      _this.on(['tap', 'click'], function () {\n        if (typeof window$1.Event !== 'object') {\n          // Android 2.3 throws an Illegal Constructor error for window.Event\n          try {\n            event = new window$1.Event('change');\n          } catch (err) {// continue regardless of error\n          }\n        }\n\n        if (!event) {\n          event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n        }\n\n        tracks.dispatchEvent(event);\n      });\n    } // set the default state based on current tracks\n\n\n    _this.handleTracksChange();\n\n    return _this;\n  }\n  /**\n   * This gets called when an `TextTrackMenuItem` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n\n\n  var _proto = TextTrackMenuItem.prototype;\n\n  _proto.handleClick = function handleClick(event) {\n    var referenceTrack = this.track;\n    var tracks = this.player_.textTracks();\n\n    _MenuItem.prototype.handleClick.call(this, event);\n\n    if (!tracks) {\n      return;\n    }\n\n    for (var i = 0; i < tracks.length; i++) {\n      var track = tracks[i]; // If the track from the text tracks list is not of the right kind,\n      // skip it. We do not want to affect tracks of incompatible kind(s).\n\n      if (this.kinds.indexOf(track.kind) === -1) {\n        continue;\n      } // If this text track is the component's track and it is not showing,\n      // set it to showing.\n\n\n      if (track === referenceTrack) {\n        if (track.mode !== 'showing') {\n          track.mode = 'showing';\n        } // If this text track is not the component's track and it is not\n        // disabled, set it to disabled.\n\n      } else if (track.mode !== 'disabled') {\n        track.mode = 'disabled';\n      }\n    }\n  }\n  /**\n   * Handle text track list change\n   *\n   * @param {EventTarget~Event} event\n   *        The `change` event that caused this function to be called.\n   *\n   * @listens TextTrackList#change\n   */\n  ;\n\n  _proto.handleTracksChange = function handleTracksChange(event) {\n    var shouldBeSelected = this.track.mode === 'showing'; // Prevent redundant selected() calls because they may cause\n    // screen readers to read the appended control text unnecessarily\n\n    if (shouldBeSelected !== this.isSelected_) {\n      this.selected(shouldBeSelected);\n    }\n  };\n\n  _proto.handleSelectedLanguageChange = function handleSelectedLanguageChange(event) {\n    if (this.track.mode === 'showing') {\n      var selectedLanguage = this.player_.cache_.selectedLanguage; // Don't replace the kind of track across the same language\n\n      if (selectedLanguage && selectedLanguage.enabled && selectedLanguage.language === this.track.language && selectedLanguage.kind !== this.track.kind) {\n        return;\n      }\n\n      this.player_.cache_.selectedLanguage = {\n        enabled: true,\n        language: this.track.language,\n        kind: this.track.kind\n      };\n    }\n  };\n\n  _proto.dispose = function dispose() {\n    // remove reference to track object on dispose\n    this.track = null;\n\n    _MenuItem.prototype.dispose.call(this);\n  };\n\n  return TextTrackMenuItem;\n}(MenuItem);\n\nComponent.registerComponent('TextTrackMenuItem', TextTrackMenuItem);\n\n/**\n * A special menu item for turning of a specific type of text track\n *\n * @extends TextTrackMenuItem\n */\n\nvar OffTextTrackMenuItem =\n/*#__PURE__*/\nfunction (_TextTrackMenuItem) {\n  _inheritsLoose(OffTextTrackMenuItem, _TextTrackMenuItem);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function OffTextTrackMenuItem(player, options) {\n    // Create pseudo track info\n    // Requires options['kind']\n    options.track = {\n      player: player,\n      // it is no longer necessary to store `kind` or `kinds` on the track itself\n      // since they are now stored in the `kinds` property of all instances of\n      // TextTrackMenuItem, but this will remain for backwards compatibility\n      kind: options.kind,\n      kinds: options.kinds,\n      \"default\": false,\n      mode: 'disabled'\n    };\n\n    if (!options.kinds) {\n      options.kinds = [options.kind];\n    }\n\n    if (options.label) {\n      options.track.label = options.label;\n    } else {\n      options.track.label = options.kinds.join(' and ') + ' off';\n    } // MenuItem is selectable\n\n\n    options.selectable = true; // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n\n    options.multiSelectable = false;\n    return _TextTrackMenuItem.call(this, player, options) || this;\n  }\n  /**\n   * Handle text track change\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to run\n   */\n\n\n  var _proto = OffTextTrackMenuItem.prototype;\n\n  _proto.handleTracksChange = function handleTracksChange(event) {\n    var tracks = this.player().textTracks();\n    var shouldBeSelected = true;\n\n    for (var i = 0, l = tracks.length; i < l; i++) {\n      var track = tracks[i];\n\n      if (this.options_.kinds.indexOf(track.kind) > -1 && track.mode === 'showing') {\n        shouldBeSelected = false;\n        break;\n      }\n    } // Prevent redundant selected() calls because they may cause\n    // screen readers to read the appended control text unnecessarily\n\n\n    if (shouldBeSelected !== this.isSelected_) {\n      this.selected(shouldBeSelected);\n    }\n  };\n\n  _proto.handleSelectedLanguageChange = function handleSelectedLanguageChange(event) {\n    var tracks = this.player().textTracks();\n    var allHidden = true;\n\n    for (var i = 0, l = tracks.length; i < l; i++) {\n      var track = tracks[i];\n\n      if (['captions', 'descriptions', 'subtitles'].indexOf(track.kind) > -1 && track.mode === 'showing') {\n        allHidden = false;\n        break;\n      }\n    }\n\n    if (allHidden) {\n      this.player_.cache_.selectedLanguage = {\n        enabled: false\n      };\n    }\n  };\n\n  return OffTextTrackMenuItem;\n}(TextTrackMenuItem);\n\nComponent.registerComponent('OffTextTrackMenuItem', OffTextTrackMenuItem);\n\n/**\n * The base class for buttons that toggle specific text track types (e.g. subtitles)\n *\n * @extends MenuButton\n */\n\nvar TextTrackButton =\n/*#__PURE__*/\nfunction (_TrackButton) {\n  _inheritsLoose(TextTrackButton, _TrackButton);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n  function TextTrackButton(player, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    options.tracks = player.textTracks();\n    return _TrackButton.call(this, player, options) || this;\n  }\n  /**\n   * Create a menu item for each text track\n   *\n   * @param {TextTrackMenuItem[]} [items=[]]\n   *        Existing array of items to use during creation\n   *\n   * @return {TextTrackMenuItem[]}\n   *         Array of menu items that were created\n   */\n\n\n  var _proto = TextTrackButton.prototype;\n\n  _proto.createItems = function createItems(items, TrackMenuItem) {\n    if (items === void 0) {\n      items = [];\n    }\n\n    if (TrackMenuItem === void 0) {\n      TrackMenuItem = TextTrackMenuItem;\n    }\n\n    // Label is an override for the [track] off label\n    // USed to localise captions/subtitles\n    var label;\n\n    if (this.label_) {\n      label = this.label_ + \" off\";\n    } // Add an OFF menu item to turn all tracks off\n\n\n    items.push(new OffTextTrackMenuItem(this.player_, {\n      kinds: this.kinds_,\n      kind: this.kind_,\n      label: label\n    }));\n    this.hideThreshold_ += 1;\n    var tracks = this.player_.textTracks();\n\n    if (!Array.isArray(this.kinds_)) {\n      this.kinds_ = [this.kind_];\n    }\n\n    for (var i = 0; i < tracks.length; i++) {\n      var track = tracks[i]; // only add tracks that are of an appropriate kind and have a label\n\n      if (this.kinds_.indexOf(track.kind) > -1) {\n        var item = new TrackMenuItem(this.player_, {\n          track: track,\n          kinds: this.kinds_,\n          kind: this.kind_,\n          // MenuItem is selectable\n          selectable: true,\n          // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n          multiSelectable: false\n        });\n        item.addClass(\"vjs-\" + track.kind + \"-menu-item\");\n        items.push(item);\n      }\n    }\n\n    return items;\n  };\n\n  return TextTrackButton;\n}(TrackButton);\n\nComponent.registerComponent('TextTrackButton', TextTrackButton);\n\n/**\n * The chapter track menu item\n *\n * @extends MenuItem\n */\n\nvar ChaptersTrackMenuItem =\n/*#__PURE__*/\nfunction (_MenuItem) {\n  _inheritsLoose(ChaptersTrackMenuItem, _MenuItem);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function ChaptersTrackMenuItem(player, options) {\n    var _this;\n\n    var track = options.track;\n    var cue = options.cue;\n    var currentTime = player.currentTime(); // Modify options for parent MenuItem class's init.\n\n    options.selectable = true;\n    options.multiSelectable = false;\n    options.label = cue.text;\n    options.selected = cue.startTime <= currentTime && currentTime < cue.endTime;\n    _this = _MenuItem.call(this, player, options) || this;\n    _this.track = track;\n    _this.cue = cue;\n    track.addEventListener('cuechange', bind(_assertThisInitialized(_this), _this.update));\n    return _this;\n  }\n  /**\n   * This gets called when an `ChaptersTrackMenuItem` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n\n\n  var _proto = ChaptersTrackMenuItem.prototype;\n\n  _proto.handleClick = function handleClick(event) {\n    _MenuItem.prototype.handleClick.call(this);\n\n    this.player_.currentTime(this.cue.startTime);\n    this.update(this.cue.startTime);\n  }\n  /**\n   * Update chapter menu item\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `cuechange` event that caused this function to run.\n   *\n   * @listens TextTrack#cuechange\n   */\n  ;\n\n  _proto.update = function update(event) {\n    var cue = this.cue;\n    var currentTime = this.player_.currentTime(); // vjs.log(currentTime, cue.startTime);\n\n    this.selected(cue.startTime <= currentTime && currentTime < cue.endTime);\n  };\n\n  return ChaptersTrackMenuItem;\n}(MenuItem);\n\nComponent.registerComponent('ChaptersTrackMenuItem', ChaptersTrackMenuItem);\n\n/**\n * The button component for toggling and selecting chapters\n * Chapters act much differently than other text tracks\n * Cues are navigation vs. other tracks of alternative languages\n *\n * @extends TextTrackButton\n */\n\nvar ChaptersButton =\n/*#__PURE__*/\nfunction (_TextTrackButton) {\n  _inheritsLoose(ChaptersButton, _TextTrackButton);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when this function is ready.\n   */\n  function ChaptersButton(player, options, ready) {\n    return _TextTrackButton.call(this, player, options, ready) || this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = ChaptersButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-chapters-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-chapters-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n  }\n  /**\n   * Update the menu based on the current state of its items.\n   *\n   * @param {EventTarget~Event} [event]\n   *        An event that triggered this function to run.\n   *\n   * @listens TextTrackList#addtrack\n   * @listens TextTrackList#removetrack\n   * @listens TextTrackList#change\n   */\n  ;\n\n  _proto.update = function update(event) {\n    if (!this.track_ || event && (event.type === 'addtrack' || event.type === 'removetrack')) {\n      this.setTrack(this.findChaptersTrack());\n    }\n\n    _TextTrackButton.prototype.update.call(this);\n  }\n  /**\n   * Set the currently selected track for the chapters button.\n   *\n   * @param {TextTrack} track\n   *        The new track to select. Nothing will change if this is the currently selected\n   *        track.\n   */\n  ;\n\n  _proto.setTrack = function setTrack(track) {\n    if (this.track_ === track) {\n      return;\n    }\n\n    if (!this.updateHandler_) {\n      this.updateHandler_ = this.update.bind(this);\n    } // here this.track_ refers to the old track instance\n\n\n    if (this.track_) {\n      var remoteTextTrackEl = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);\n\n      if (remoteTextTrackEl) {\n        remoteTextTrackEl.removeEventListener('load', this.updateHandler_);\n      }\n\n      this.track_ = null;\n    }\n\n    this.track_ = track; // here this.track_ refers to the new track instance\n\n    if (this.track_) {\n      this.track_.mode = 'hidden';\n\n      var _remoteTextTrackEl = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);\n\n      if (_remoteTextTrackEl) {\n        _remoteTextTrackEl.addEventListener('load', this.updateHandler_);\n      }\n    }\n  }\n  /**\n   * Find the track object that is currently in use by this ChaptersButton\n   *\n   * @return {TextTrack|undefined}\n   *         The current track or undefined if none was found.\n   */\n  ;\n\n  _proto.findChaptersTrack = function findChaptersTrack() {\n    var tracks = this.player_.textTracks() || [];\n\n    for (var i = tracks.length - 1; i >= 0; i--) {\n      // We will always choose the last track as our chaptersTrack\n      var track = tracks[i];\n\n      if (track.kind === this.kind_) {\n        return track;\n      }\n    }\n  }\n  /**\n   * Get the caption for the ChaptersButton based on the track label. This will also\n   * use the current tracks localized kind as a fallback if a label does not exist.\n   *\n   * @return {string}\n   *         The tracks current label or the localized track kind.\n   */\n  ;\n\n  _proto.getMenuCaption = function getMenuCaption() {\n    if (this.track_ && this.track_.label) {\n      return this.track_.label;\n    }\n\n    return this.localize(toTitleCase(this.kind_));\n  }\n  /**\n   * Create menu from chapter track\n   *\n   * @return {Menu}\n   *         New menu for the chapter buttons\n   */\n  ;\n\n  _proto.createMenu = function createMenu() {\n    this.options_.title = this.getMenuCaption();\n    return _TextTrackButton.prototype.createMenu.call(this);\n  }\n  /**\n   * Create a menu item for each text track\n   *\n   * @return {TextTrackMenuItem[]}\n   *         Array of menu items\n   */\n  ;\n\n  _proto.createItems = function createItems() {\n    var items = [];\n\n    if (!this.track_) {\n      return items;\n    }\n\n    var cues = this.track_.cues;\n\n    if (!cues) {\n      return items;\n    }\n\n    for (var i = 0, l = cues.length; i < l; i++) {\n      var cue = cues[i];\n      var mi = new ChaptersTrackMenuItem(this.player_, {\n        track: this.track_,\n        cue: cue\n      });\n      items.push(mi);\n    }\n\n    return items;\n  };\n\n  return ChaptersButton;\n}(TextTrackButton);\n/**\n * `kind` of TextTrack to look for to associate it with this menu.\n *\n * @type {string}\n * @private\n */\n\n\nChaptersButton.prototype.kind_ = 'chapters';\n/**\n * The text that should display over the `ChaptersButton`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\nChaptersButton.prototype.controlText_ = 'Chapters';\nComponent.registerComponent('ChaptersButton', ChaptersButton);\n\n/**\n * The button component for toggling and selecting descriptions\n *\n * @extends TextTrackButton\n */\n\nvar DescriptionsButton =\n/*#__PURE__*/\nfunction (_TextTrackButton) {\n  _inheritsLoose(DescriptionsButton, _TextTrackButton);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when this component is ready.\n   */\n  function DescriptionsButton(player, options, ready) {\n    var _this;\n\n    _this = _TextTrackButton.call(this, player, options, ready) || this;\n    var tracks = player.textTracks();\n    var changeHandler = bind(_assertThisInitialized(_this), _this.handleTracksChange);\n    tracks.addEventListener('change', changeHandler);\n\n    _this.on('dispose', function () {\n      tracks.removeEventListener('change', changeHandler);\n    });\n\n    return _this;\n  }\n  /**\n   * Handle text track change\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to run\n   *\n   * @listens TextTrackList#change\n   */\n\n\n  var _proto = DescriptionsButton.prototype;\n\n  _proto.handleTracksChange = function handleTracksChange(event) {\n    var tracks = this.player().textTracks();\n    var disabled = false; // Check whether a track of a different kind is showing\n\n    for (var i = 0, l = tracks.length; i < l; i++) {\n      var track = tracks[i];\n\n      if (track.kind !== this.kind_ && track.mode === 'showing') {\n        disabled = true;\n        break;\n      }\n    } // If another track is showing, disable this menu button\n\n\n    if (disabled) {\n      this.disable();\n    } else {\n      this.enable();\n    }\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-descriptions-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-descriptions-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n  };\n\n  return DescriptionsButton;\n}(TextTrackButton);\n/**\n * `kind` of TextTrack to look for to associate it with this menu.\n *\n * @type {string}\n * @private\n */\n\n\nDescriptionsButton.prototype.kind_ = 'descriptions';\n/**\n * The text that should display over the `DescriptionsButton`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\nDescriptionsButton.prototype.controlText_ = 'Descriptions';\nComponent.registerComponent('DescriptionsButton', DescriptionsButton);\n\n/**\n * The button component for toggling and selecting subtitles\n *\n * @extends TextTrackButton\n */\n\nvar SubtitlesButton =\n/*#__PURE__*/\nfunction (_TextTrackButton) {\n  _inheritsLoose(SubtitlesButton, _TextTrackButton);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when this component is ready.\n   */\n  function SubtitlesButton(player, options, ready) {\n    return _TextTrackButton.call(this, player, options, ready) || this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = SubtitlesButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-subtitles-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-subtitles-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n  };\n\n  return SubtitlesButton;\n}(TextTrackButton);\n/**\n * `kind` of TextTrack to look for to associate it with this menu.\n *\n * @type {string}\n * @private\n */\n\n\nSubtitlesButton.prototype.kind_ = 'subtitles';\n/**\n * The text that should display over the `SubtitlesButton`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\nSubtitlesButton.prototype.controlText_ = 'Subtitles';\nComponent.registerComponent('SubtitlesButton', SubtitlesButton);\n\n/**\n * The menu item for caption track settings menu\n *\n * @extends TextTrackMenuItem\n */\n\nvar CaptionSettingsMenuItem =\n/*#__PURE__*/\nfunction (_TextTrackMenuItem) {\n  _inheritsLoose(CaptionSettingsMenuItem, _TextTrackMenuItem);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function CaptionSettingsMenuItem(player, options) {\n    var _this;\n\n    options.track = {\n      player: player,\n      kind: options.kind,\n      label: options.kind + ' settings',\n      selectable: false,\n      \"default\": false,\n      mode: 'disabled'\n    }; // CaptionSettingsMenuItem has no concept of 'selected'\n\n    options.selectable = false;\n    options.name = 'CaptionSettingsMenuItem';\n    _this = _TextTrackMenuItem.call(this, player, options) || this;\n\n    _this.addClass('vjs-texttrack-settings');\n\n    _this.controlText(', opens ' + options.kind + ' settings dialog');\n\n    return _this;\n  }\n  /**\n   * This gets called when an `CaptionSettingsMenuItem` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n\n\n  var _proto = CaptionSettingsMenuItem.prototype;\n\n  _proto.handleClick = function handleClick(event) {\n    this.player().getChild('textTrackSettings').open();\n  };\n\n  return CaptionSettingsMenuItem;\n}(TextTrackMenuItem);\n\nComponent.registerComponent('CaptionSettingsMenuItem', CaptionSettingsMenuItem);\n\n/**\n * The button component for toggling and selecting captions\n *\n * @extends TextTrackButton\n */\n\nvar CaptionsButton =\n/*#__PURE__*/\nfunction (_TextTrackButton) {\n  _inheritsLoose(CaptionsButton, _TextTrackButton);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when this component is ready.\n   */\n  function CaptionsButton(player, options, ready) {\n    return _TextTrackButton.call(this, player, options, ready) || this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = CaptionsButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-captions-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-captions-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n  }\n  /**\n   * Create caption menu items\n   *\n   * @return {CaptionSettingsMenuItem[]}\n   *         The array of current menu items.\n   */\n  ;\n\n  _proto.createItems = function createItems() {\n    var items = [];\n\n    if (!(this.player().tech_ && this.player().tech_.featuresNativeTextTracks) && this.player().getChild('textTrackSettings')) {\n      items.push(new CaptionSettingsMenuItem(this.player_, {\n        kind: this.kind_\n      }));\n      this.hideThreshold_ += 1;\n    }\n\n    return _TextTrackButton.prototype.createItems.call(this, items);\n  };\n\n  return CaptionsButton;\n}(TextTrackButton);\n/**\n * `kind` of TextTrack to look for to associate it with this menu.\n *\n * @type {string}\n * @private\n */\n\n\nCaptionsButton.prototype.kind_ = 'captions';\n/**\n * The text that should display over the `CaptionsButton`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\nCaptionsButton.prototype.controlText_ = 'Captions';\nComponent.registerComponent('CaptionsButton', CaptionsButton);\n\n/**\n * SubsCapsMenuItem has an [cc] icon to distinguish captions from subtitles\n * in the SubsCapsMenu.\n *\n * @extends TextTrackMenuItem\n */\n\nvar SubsCapsMenuItem =\n/*#__PURE__*/\nfunction (_TextTrackMenuItem) {\n  _inheritsLoose(SubsCapsMenuItem, _TextTrackMenuItem);\n\n  function SubsCapsMenuItem() {\n    return _TextTrackMenuItem.apply(this, arguments) || this;\n  }\n\n  var _proto = SubsCapsMenuItem.prototype;\n\n  _proto.createEl = function createEl(type, props, attrs) {\n    var innerHTML = \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label);\n\n    if (this.options_.track.kind === 'captions') {\n      innerHTML += \"\\n        <span aria-hidden=\\\"true\\\" class=\\\"vjs-icon-placeholder\\\"></span>\\n        <span class=\\\"vjs-control-text\\\"> \" + this.localize('Captions') + \"</span>\\n      \";\n    }\n\n    innerHTML += '</span>';\n\n    var el = _TextTrackMenuItem.prototype.createEl.call(this, type, assign({\n      innerHTML: innerHTML\n    }, props), attrs);\n\n    return el;\n  };\n\n  return SubsCapsMenuItem;\n}(TextTrackMenuItem);\n\nComponent.registerComponent('SubsCapsMenuItem', SubsCapsMenuItem);\n\n/**\n * The button component for toggling and selecting captions and/or subtitles\n *\n * @extends TextTrackButton\n */\n\nvar SubsCapsButton =\n/*#__PURE__*/\nfunction (_TextTrackButton) {\n  _inheritsLoose(SubsCapsButton, _TextTrackButton);\n\n  function SubsCapsButton(player, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _TextTrackButton.call(this, player, options) || this; // Although North America uses \"captions\" in most cases for\n    // \"captions and subtitles\" other locales use \"subtitles\"\n\n    _this.label_ = 'subtitles';\n\n    if (['en', 'en-us', 'en-ca', 'fr-ca'].indexOf(_this.player_.language_) > -1) {\n      _this.label_ = 'captions';\n    }\n\n    _this.menuButton_.controlText(toTitleCase(_this.label_));\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = SubsCapsButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-subs-caps-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-subs-caps-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n  }\n  /**\n   * Create caption/subtitles menu items\n   *\n   * @return {CaptionSettingsMenuItem[]}\n   *         The array of current menu items.\n   */\n  ;\n\n  _proto.createItems = function createItems() {\n    var items = [];\n\n    if (!(this.player().tech_ && this.player().tech_.featuresNativeTextTracks) && this.player().getChild('textTrackSettings')) {\n      items.push(new CaptionSettingsMenuItem(this.player_, {\n        kind: this.label_\n      }));\n      this.hideThreshold_ += 1;\n    }\n\n    items = _TextTrackButton.prototype.createItems.call(this, items, SubsCapsMenuItem);\n    return items;\n  };\n\n  return SubsCapsButton;\n}(TextTrackButton);\n/**\n * `kind`s of TextTrack to look for to associate it with this menu.\n *\n * @type {array}\n * @private\n */\n\n\nSubsCapsButton.prototype.kinds_ = ['captions', 'subtitles'];\n/**\n * The text that should display over the `SubsCapsButton`s controls.\n *\n *\n * @type {string}\n * @private\n */\n\nSubsCapsButton.prototype.controlText_ = 'Subtitles';\nComponent.registerComponent('SubsCapsButton', SubsCapsButton);\n\n/**\n * An {@link AudioTrack} {@link MenuItem}\n *\n * @extends MenuItem\n */\n\nvar AudioTrackMenuItem =\n/*#__PURE__*/\nfunction (_MenuItem) {\n  _inheritsLoose(AudioTrackMenuItem, _MenuItem);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function AudioTrackMenuItem(player, options) {\n    var _this;\n\n    var track = options.track;\n    var tracks = player.audioTracks(); // Modify options for parent MenuItem class's init.\n\n    options.label = track.label || track.language || 'Unknown';\n    options.selected = track.enabled;\n    _this = _MenuItem.call(this, player, options) || this;\n    _this.track = track;\n\n    _this.addClass(\"vjs-\" + track.kind + \"-menu-item\");\n\n    var changeHandler = function changeHandler() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this.handleTracksChange.apply(_assertThisInitialized(_this), args);\n    };\n\n    tracks.addEventListener('change', changeHandler);\n\n    _this.on('dispose', function () {\n      tracks.removeEventListener('change', changeHandler);\n    });\n\n    return _this;\n  }\n\n  var _proto = AudioTrackMenuItem.prototype;\n\n  _proto.createEl = function createEl(type, props, attrs) {\n    var innerHTML = \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label);\n\n    if (this.options_.track.kind === 'main-desc') {\n      innerHTML += \"\\n        <span aria-hidden=\\\"true\\\" class=\\\"vjs-icon-placeholder\\\"></span>\\n        <span class=\\\"vjs-control-text\\\"> \" + this.localize('Descriptions') + \"</span>\\n      \";\n    }\n\n    innerHTML += '</span>';\n\n    var el = _MenuItem.prototype.createEl.call(this, type, assign({\n      innerHTML: innerHTML\n    }, props), attrs);\n\n    return el;\n  }\n  /**\n   * This gets called when an `AudioTrackMenuItem is \"clicked\". See {@link ClickableComponent}\n   * for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    var tracks = this.player_.audioTracks();\n\n    _MenuItem.prototype.handleClick.call(this, event);\n\n    for (var i = 0; i < tracks.length; i++) {\n      var track = tracks[i];\n      track.enabled = track === this.track;\n    }\n  }\n  /**\n   * Handle any {@link AudioTrack} change.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The {@link AudioTrackList#change} event that caused this to run.\n   *\n   * @listens AudioTrackList#change\n   */\n  ;\n\n  _proto.handleTracksChange = function handleTracksChange(event) {\n    this.selected(this.track.enabled);\n  };\n\n  return AudioTrackMenuItem;\n}(MenuItem);\n\nComponent.registerComponent('AudioTrackMenuItem', AudioTrackMenuItem);\n\n/**\n * The base class for buttons that toggle specific {@link AudioTrack} types.\n *\n * @extends TrackButton\n */\n\nvar AudioTrackButton =\n/*#__PURE__*/\nfunction (_TrackButton) {\n  _inheritsLoose(AudioTrackButton, _TrackButton);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n  function AudioTrackButton(player, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    options.tracks = player.audioTracks();\n    return _TrackButton.call(this, player, options) || this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = AudioTrackButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-audio-button \" + _TrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-audio-button \" + _TrackButton.prototype.buildWrapperCSSClass.call(this);\n  }\n  /**\n   * Create a menu item for each audio track\n   *\n   * @param {AudioTrackMenuItem[]} [items=[]]\n   *        An array of existing menu items to use.\n   *\n   * @return {AudioTrackMenuItem[]}\n   *         An array of menu items\n   */\n  ;\n\n  _proto.createItems = function createItems(items) {\n    if (items === void 0) {\n      items = [];\n    }\n\n    // if there's only one audio track, there no point in showing it\n    this.hideThreshold_ = 1;\n    var tracks = this.player_.audioTracks();\n\n    for (var i = 0; i < tracks.length; i++) {\n      var track = tracks[i];\n      items.push(new AudioTrackMenuItem(this.player_, {\n        track: track,\n        // MenuItem is selectable\n        selectable: true,\n        // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n        multiSelectable: false\n      }));\n    }\n\n    return items;\n  };\n\n  return AudioTrackButton;\n}(TrackButton);\n/**\n * The text that should display over the `AudioTrackButton`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nAudioTrackButton.prototype.controlText_ = 'Audio Track';\nComponent.registerComponent('AudioTrackButton', AudioTrackButton);\n\n/**\n * The specific menu item type for selecting a playback rate.\n *\n * @extends MenuItem\n */\n\nvar PlaybackRateMenuItem =\n/*#__PURE__*/\nfunction (_MenuItem) {\n  _inheritsLoose(PlaybackRateMenuItem, _MenuItem);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function PlaybackRateMenuItem(player, options) {\n    var _this;\n\n    var label = options.rate;\n    var rate = parseFloat(label, 10); // Modify options for parent MenuItem class's init.\n\n    options.label = label;\n    options.selected = rate === 1;\n    options.selectable = true;\n    options.multiSelectable = false;\n    _this = _MenuItem.call(this, player, options) || this;\n    _this.label = label;\n    _this.rate = rate;\n\n    _this.on(player, 'ratechange', _this.update);\n\n    return _this;\n  }\n  /**\n   * This gets called when an `PlaybackRateMenuItem` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n\n\n  var _proto = PlaybackRateMenuItem.prototype;\n\n  _proto.handleClick = function handleClick(event) {\n    _MenuItem.prototype.handleClick.call(this);\n\n    this.player().playbackRate(this.rate);\n  }\n  /**\n   * Update the PlaybackRateMenuItem when the playbackrate changes.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `ratechange` event that caused this function to run.\n   *\n   * @listens Player#ratechange\n   */\n  ;\n\n  _proto.update = function update(event) {\n    this.selected(this.player().playbackRate() === this.rate);\n  };\n\n  return PlaybackRateMenuItem;\n}(MenuItem);\n/**\n * The text that should display over the `PlaybackRateMenuItem`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nPlaybackRateMenuItem.prototype.contentElType = 'button';\nComponent.registerComponent('PlaybackRateMenuItem', PlaybackRateMenuItem);\n\n/**\n * The component for controlling the playback rate.\n *\n * @extends MenuButton\n */\n\nvar PlaybackRateMenuButton =\n/*#__PURE__*/\nfunction (_MenuButton) {\n  _inheritsLoose(PlaybackRateMenuButton, _MenuButton);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n  function PlaybackRateMenuButton(player, options) {\n    var _this;\n\n    _this = _MenuButton.call(this, player, options) || this;\n\n    _this.updateVisibility();\n\n    _this.updateLabel();\n\n    _this.on(player, 'loadstart', _this.updateVisibility);\n\n    _this.on(player, 'ratechange', _this.updateLabel);\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = PlaybackRateMenuButton.prototype;\n\n  _proto.createEl = function createEl$1() {\n    var el = _MenuButton.prototype.createEl.call(this);\n\n    this.labelEl_ = createEl('div', {\n      className: 'vjs-playback-rate-value',\n      innerHTML: '1x'\n    });\n    el.appendChild(this.labelEl_);\n    return el;\n  };\n\n  _proto.dispose = function dispose() {\n    this.labelEl_ = null;\n\n    _MenuButton.prototype.dispose.call(this);\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-playback-rate \" + _MenuButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-playback-rate \" + _MenuButton.prototype.buildWrapperCSSClass.call(this);\n  }\n  /**\n   * Create the playback rate menu\n   *\n   * @return {Menu}\n   *         Menu object populated with {@link PlaybackRateMenuItem}s\n   */\n  ;\n\n  _proto.createMenu = function createMenu() {\n    var menu = new Menu(this.player());\n    var rates = this.playbackRates();\n\n    if (rates) {\n      for (var i = rates.length - 1; i >= 0; i--) {\n        menu.addChild(new PlaybackRateMenuItem(this.player(), {\n          rate: rates[i] + 'x'\n        }));\n      }\n    }\n\n    return menu;\n  }\n  /**\n   * Updates ARIA accessibility attributes\n   */\n  ;\n\n  _proto.updateARIAAttributes = function updateARIAAttributes() {\n    // Current playback rate\n    this.el().setAttribute('aria-valuenow', this.player().playbackRate());\n  }\n  /**\n   * This gets called when an `PlaybackRateMenuButton` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    // select next rate option\n    var currentRate = this.player().playbackRate();\n    var rates = this.playbackRates(); // this will select first one if the last one currently selected\n\n    var newRate = rates[0];\n\n    for (var i = 0; i < rates.length; i++) {\n      if (rates[i] > currentRate) {\n        newRate = rates[i];\n        break;\n      }\n    }\n\n    this.player().playbackRate(newRate);\n  }\n  /**\n   * Get possible playback rates\n   *\n   * @return {Array}\n   *         All possible playback rates\n   */\n  ;\n\n  _proto.playbackRates = function playbackRates() {\n    return this.options_.playbackRates || this.options_.playerOptions && this.options_.playerOptions.playbackRates;\n  }\n  /**\n   * Get whether playback rates is supported by the tech\n   * and an array of playback rates exists\n   *\n   * @return {boolean}\n   *         Whether changing playback rate is supported\n   */\n  ;\n\n  _proto.playbackRateSupported = function playbackRateSupported() {\n    return this.player().tech_ && this.player().tech_.featuresPlaybackRate && this.playbackRates() && this.playbackRates().length > 0;\n  }\n  /**\n   * Hide playback rate controls when they're no playback rate options to select\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#loadstart\n   */\n  ;\n\n  _proto.updateVisibility = function updateVisibility(event) {\n    if (this.playbackRateSupported()) {\n      this.removeClass('vjs-hidden');\n    } else {\n      this.addClass('vjs-hidden');\n    }\n  }\n  /**\n   * Update button label when rate changed\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#ratechange\n   */\n  ;\n\n  _proto.updateLabel = function updateLabel(event) {\n    if (this.playbackRateSupported()) {\n      this.labelEl_.innerHTML = this.player().playbackRate() + 'x';\n    }\n  };\n\n  return PlaybackRateMenuButton;\n}(MenuButton);\n/**\n * The text that should display over the `FullscreenToggle`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nPlaybackRateMenuButton.prototype.controlText_ = 'Playback Rate';\nComponent.registerComponent('PlaybackRateMenuButton', PlaybackRateMenuButton);\n\n/**\n * Just an empty spacer element that can be used as an append point for plugins, etc.\n * Also can be used to create space between elements when necessary.\n *\n * @extends Component\n */\n\nvar Spacer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Spacer, _Component);\n\n  function Spacer() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Spacer.prototype;\n\n  /**\n  * Builds the default DOM `className`.\n  *\n  * @return {string}\n  *         The DOM `className` for this object.\n  */\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-spacer \" + _Component.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: this.buildCSSClass()\n    });\n  };\n\n  return Spacer;\n}(Component);\n\nComponent.registerComponent('Spacer', Spacer);\n\n/**\n * Spacer specifically meant to be used as an insertion point for new plugins, etc.\n *\n * @extends Spacer\n */\n\nvar CustomControlSpacer =\n/*#__PURE__*/\nfunction (_Spacer) {\n  _inheritsLoose(CustomControlSpacer, _Spacer);\n\n  function CustomControlSpacer() {\n    return _Spacer.apply(this, arguments) || this;\n  }\n\n  var _proto = CustomControlSpacer.prototype;\n\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-custom-control-spacer \" + _Spacer.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    var el = _Spacer.prototype.createEl.call(this, {\n      className: this.buildCSSClass()\n    }); // No-flex/table-cell mode requires there be some content\n    // in the cell to fill the remaining space of the table.\n\n\n    el.innerHTML = \"\\xA0\";\n    return el;\n  };\n\n  return CustomControlSpacer;\n}(Spacer);\n\nComponent.registerComponent('CustomControlSpacer', CustomControlSpacer);\n\n/**\n * Container of main controls.\n *\n * @extends Component\n */\n\nvar ControlBar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ControlBar, _Component);\n\n  function ControlBar() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = ControlBar.prototype;\n\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-control-bar',\n      dir: 'ltr'\n    });\n  };\n\n  return ControlBar;\n}(Component);\n/**\n * Default options for `ControlBar`\n *\n * @type {Object}\n * @private\n */\n\n\nControlBar.prototype.options_ = {\n  children: ['playToggle', 'volumePanel', 'currentTimeDisplay', 'timeDivider', 'durationDisplay', 'progressControl', 'liveDisplay', 'seekToLive', 'remainingTimeDisplay', 'customControlSpacer', 'playbackRateMenuButton', 'chaptersButton', 'descriptionsButton', 'subsCapsButton', 'audioTrackButton', 'fullscreenToggle']\n};\n\nif ('exitPictureInPicture' in document) {\n  ControlBar.prototype.options_.children.splice(ControlBar.prototype.options_.children.length - 1, 0, 'pictureInPictureToggle');\n}\n\nComponent.registerComponent('ControlBar', ControlBar);\n\n/**\n * A display that indicates an error has occurred. This means that the video\n * is unplayable.\n *\n * @extends ModalDialog\n */\n\nvar ErrorDisplay =\n/*#__PURE__*/\nfunction (_ModalDialog) {\n  _inheritsLoose(ErrorDisplay, _ModalDialog);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param  {Player} player\n   *         The `Player` that this class should be attached to.\n   *\n   * @param  {Object} [options]\n   *         The key/value store of player options.\n   */\n  function ErrorDisplay(player, options) {\n    var _this;\n\n    _this = _ModalDialog.call(this, player, options) || this;\n\n    _this.on(player, 'error', _this.open);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   *\n   * @deprecated Since version 5.\n   */\n\n\n  var _proto = ErrorDisplay.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-error-display \" + _ModalDialog.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Gets the localized error message based on the `Player`s error.\n   *\n   * @return {string}\n   *         The `Player`s error message localized or an empty string.\n   */\n  ;\n\n  _proto.content = function content() {\n    var error = this.player().error();\n    return error ? this.localize(error.message) : '';\n  };\n\n  return ErrorDisplay;\n}(ModalDialog);\n/**\n * The default options for an `ErrorDisplay`.\n *\n * @private\n */\n\n\nErrorDisplay.prototype.options_ = mergeOptions(ModalDialog.prototype.options_, {\n  pauseOnOpen: false,\n  fillAlways: true,\n  temporary: false,\n  uncloseable: true\n});\nComponent.registerComponent('ErrorDisplay', ErrorDisplay);\n\nvar LOCAL_STORAGE_KEY = 'vjs-text-track-settings';\nvar COLOR_BLACK = ['#000', 'Black'];\nvar COLOR_BLUE = ['#00F', 'Blue'];\nvar COLOR_CYAN = ['#0FF', 'Cyan'];\nvar COLOR_GREEN = ['#0F0', 'Green'];\nvar COLOR_MAGENTA = ['#F0F', 'Magenta'];\nvar COLOR_RED = ['#F00', 'Red'];\nvar COLOR_WHITE = ['#FFF', 'White'];\nvar COLOR_YELLOW = ['#FF0', 'Yellow'];\nvar OPACITY_OPAQUE = ['1', 'Opaque'];\nvar OPACITY_SEMI = ['0.5', 'Semi-Transparent'];\nvar OPACITY_TRANS = ['0', 'Transparent']; // Configuration for the various <select> elements in the DOM of this component.\n//\n// Possible keys include:\n//\n// `default`:\n//   The default option index. Only needs to be provided if not zero.\n// `parser`:\n//   A function which is used to parse the value from the selected option in\n//   a customized way.\n// `selector`:\n//   The selector used to find the associated <select> element.\n\nvar selectConfigs = {\n  backgroundColor: {\n    selector: '.vjs-bg-color > select',\n    id: 'captions-background-color-%s',\n    label: 'Color',\n    options: [COLOR_BLACK, COLOR_WHITE, COLOR_RED, COLOR_GREEN, COLOR_BLUE, COLOR_YELLOW, COLOR_MAGENTA, COLOR_CYAN]\n  },\n  backgroundOpacity: {\n    selector: '.vjs-bg-opacity > select',\n    id: 'captions-background-opacity-%s',\n    label: 'Transparency',\n    options: [OPACITY_OPAQUE, OPACITY_SEMI, OPACITY_TRANS]\n  },\n  color: {\n    selector: '.vjs-fg-color > select',\n    id: 'captions-foreground-color-%s',\n    label: 'Color',\n    options: [COLOR_WHITE, COLOR_BLACK, COLOR_RED, COLOR_GREEN, COLOR_BLUE, COLOR_YELLOW, COLOR_MAGENTA, COLOR_CYAN]\n  },\n  edgeStyle: {\n    selector: '.vjs-edge-style > select',\n    id: '%s',\n    label: 'Text Edge Style',\n    options: [['none', 'None'], ['raised', 'Raised'], ['depressed', 'Depressed'], ['uniform', 'Uniform'], ['dropshadow', 'Dropshadow']]\n  },\n  fontFamily: {\n    selector: '.vjs-font-family > select',\n    id: 'captions-font-family-%s',\n    label: 'Font Family',\n    options: [['proportionalSansSerif', 'Proportional Sans-Serif'], ['monospaceSansSerif', 'Monospace Sans-Serif'], ['proportionalSerif', 'Proportional Serif'], ['monospaceSerif', 'Monospace Serif'], ['casual', 'Casual'], ['script', 'Script'], ['small-caps', 'Small Caps']]\n  },\n  fontPercent: {\n    selector: '.vjs-font-percent > select',\n    id: 'captions-font-size-%s',\n    label: 'Font Size',\n    options: [['0.50', '50%'], ['0.75', '75%'], ['1.00', '100%'], ['1.25', '125%'], ['1.50', '150%'], ['1.75', '175%'], ['2.00', '200%'], ['3.00', '300%'], ['4.00', '400%']],\n    \"default\": 2,\n    parser: function parser(v) {\n      return v === '1.00' ? null : Number(v);\n    }\n  },\n  textOpacity: {\n    selector: '.vjs-text-opacity > select',\n    id: 'captions-foreground-opacity-%s',\n    label: 'Transparency',\n    options: [OPACITY_OPAQUE, OPACITY_SEMI]\n  },\n  // Options for this object are defined below.\n  windowColor: {\n    selector: '.vjs-window-color > select',\n    id: 'captions-window-color-%s',\n    label: 'Color'\n  },\n  // Options for this object are defined below.\n  windowOpacity: {\n    selector: '.vjs-window-opacity > select',\n    id: 'captions-window-opacity-%s',\n    label: 'Transparency',\n    options: [OPACITY_TRANS, OPACITY_SEMI, OPACITY_OPAQUE]\n  }\n};\nselectConfigs.windowColor.options = selectConfigs.backgroundColor.options;\n/**\n * Get the actual value of an option.\n *\n * @param  {string} value\n *         The value to get\n *\n * @param  {Function} [parser]\n *         Optional function to adjust the value.\n *\n * @return {Mixed}\n *         - Will be `undefined` if no value exists\n *         - Will be `undefined` if the given value is \"none\".\n *         - Will be the actual value otherwise.\n *\n * @private\n */\n\nfunction parseOptionValue(value, parser) {\n  if (parser) {\n    value = parser(value);\n  }\n\n  if (value && value !== 'none') {\n    return value;\n  }\n}\n/**\n * Gets the value of the selected <option> element within a <select> element.\n *\n * @param  {Element} el\n *         the element to look in\n *\n * @param  {Function} [parser]\n *         Optional function to adjust the value.\n *\n * @return {Mixed}\n *         - Will be `undefined` if no value exists\n *         - Will be `undefined` if the given value is \"none\".\n *         - Will be the actual value otherwise.\n *\n * @private\n */\n\n\nfunction getSelectedOptionValue(el, parser) {\n  var value = el.options[el.options.selectedIndex].value;\n  return parseOptionValue(value, parser);\n}\n/**\n * Sets the selected <option> element within a <select> element based on a\n * given value.\n *\n * @param {Element} el\n *        The element to look in.\n *\n * @param {string} value\n *        the property to look on.\n *\n * @param {Function} [parser]\n *        Optional function to adjust the value before comparing.\n *\n * @private\n */\n\n\nfunction setSelectedOption(el, value, parser) {\n  if (!value) {\n    return;\n  }\n\n  for (var i = 0; i < el.options.length; i++) {\n    if (parseOptionValue(el.options[i].value, parser) === value) {\n      el.selectedIndex = i;\n      break;\n    }\n  }\n}\n/**\n * Manipulate Text Tracks settings.\n *\n * @extends ModalDialog\n */\n\n\nvar TextTrackSettings =\n/*#__PURE__*/\nfunction (_ModalDialog) {\n  _inheritsLoose(TextTrackSettings, _ModalDialog);\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *         The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *         The key/value store of player options.\n   */\n  function TextTrackSettings(player, options) {\n    var _this;\n\n    options.temporary = false;\n    _this = _ModalDialog.call(this, player, options) || this;\n    _this.updateDisplay = bind(_assertThisInitialized(_this), _this.updateDisplay); // fill the modal and pretend we have opened it\n\n    _this.fill();\n\n    _this.hasBeenOpened_ = _this.hasBeenFilled_ = true;\n    _this.endDialog = createEl('p', {\n      className: 'vjs-control-text',\n      textContent: _this.localize('End of dialog window.')\n    });\n\n    _this.el().appendChild(_this.endDialog);\n\n    _this.setDefaults(); // Grab `persistTextTrackSettings` from the player options if not passed in child options\n\n\n    if (options.persistTextTrackSettings === undefined) {\n      _this.options_.persistTextTrackSettings = _this.options_.playerOptions.persistTextTrackSettings;\n    }\n\n    _this.on(_this.$('.vjs-done-button'), 'click', function () {\n      _this.saveSettings();\n\n      _this.close();\n    });\n\n    _this.on(_this.$('.vjs-default-button'), 'click', function () {\n      _this.setDefaults();\n\n      _this.updateDisplay();\n    });\n\n    each(selectConfigs, function (config) {\n      _this.on(_this.$(config.selector), 'change', _this.updateDisplay);\n    });\n\n    if (_this.options_.persistTextTrackSettings) {\n      _this.restoreSettings();\n    }\n\n    return _this;\n  }\n\n  var _proto = TextTrackSettings.prototype;\n\n  _proto.dispose = function dispose() {\n    this.endDialog = null;\n\n    _ModalDialog.prototype.dispose.call(this);\n  }\n  /**\n   * Create a <select> element with configured options.\n   *\n   * @param {string} key\n   *        Configuration key to use during creation.\n   *\n   * @return {string}\n   *         An HTML string.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElSelect_ = function createElSelect_(key, legendId, type) {\n    var _this2 = this;\n\n    if (legendId === void 0) {\n      legendId = '';\n    }\n\n    if (type === void 0) {\n      type = 'label';\n    }\n\n    var config = selectConfigs[key];\n    var id = config.id.replace('%s', this.id_);\n    var selectLabelledbyIds = [legendId, id].join(' ').trim();\n    return [\"<\" + type + \" id=\\\"\" + id + \"\\\" class=\\\"\" + (type === 'label' ? 'vjs-label' : '') + \"\\\">\", this.localize(config.label), \"</\" + type + \">\", \"<select aria-labelledby=\\\"\" + selectLabelledbyIds + \"\\\">\"].concat(config.options.map(function (o) {\n      var optionId = id + '-' + o[1].replace(/\\W+/g, '');\n      return [\"<option id=\\\"\" + optionId + \"\\\" value=\\\"\" + o[0] + \"\\\" \", \"aria-labelledby=\\\"\" + selectLabelledbyIds + \" \" + optionId + \"\\\">\", _this2.localize(o[1]), '</option>'].join('');\n    })).concat('</select>').join('');\n  }\n  /**\n   * Create foreground color element for the component\n   *\n   * @return {string}\n   *         An HTML string.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElFgColor_ = function createElFgColor_() {\n    var legendId = \"captions-text-legend-\" + this.id_;\n    return ['<fieldset class=\"vjs-fg-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Text'), '</legend>', this.createElSelect_('color', legendId), '<span class=\"vjs-text-opacity vjs-opacity\">', this.createElSelect_('textOpacity', legendId), '</span>', '</fieldset>'].join('');\n  }\n  /**\n   * Create background color element for the component\n   *\n   * @return {string}\n   *         An HTML string.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElBgColor_ = function createElBgColor_() {\n    var legendId = \"captions-background-\" + this.id_;\n    return ['<fieldset class=\"vjs-bg-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Background'), '</legend>', this.createElSelect_('backgroundColor', legendId), '<span class=\"vjs-bg-opacity vjs-opacity\">', this.createElSelect_('backgroundOpacity', legendId), '</span>', '</fieldset>'].join('');\n  }\n  /**\n   * Create window color element for the component\n   *\n   * @return {string}\n   *         An HTML string.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElWinColor_ = function createElWinColor_() {\n    var legendId = \"captions-window-\" + this.id_;\n    return ['<fieldset class=\"vjs-window-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Window'), '</legend>', this.createElSelect_('windowColor', legendId), '<span class=\"vjs-window-opacity vjs-opacity\">', this.createElSelect_('windowOpacity', legendId), '</span>', '</fieldset>'].join('');\n  }\n  /**\n   * Create color elements for the component\n   *\n   * @return {Element}\n   *         The element that was created\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElColors_ = function createElColors_() {\n    return createEl('div', {\n      className: 'vjs-track-settings-colors',\n      innerHTML: [this.createElFgColor_(), this.createElBgColor_(), this.createElWinColor_()].join('')\n    });\n  }\n  /**\n   * Create font elements for the component\n   *\n   * @return {Element}\n   *         The element that was created.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElFont_ = function createElFont_() {\n    return createEl('div', {\n      className: 'vjs-track-settings-font',\n      innerHTML: ['<fieldset class=\"vjs-font-percent vjs-track-setting\">', this.createElSelect_('fontPercent', '', 'legend'), '</fieldset>', '<fieldset class=\"vjs-edge-style vjs-track-setting\">', this.createElSelect_('edgeStyle', '', 'legend'), '</fieldset>', '<fieldset class=\"vjs-font-family vjs-track-setting\">', this.createElSelect_('fontFamily', '', 'legend'), '</fieldset>'].join('')\n    });\n  }\n  /**\n   * Create controls for the component\n   *\n   * @return {Element}\n   *         The element that was created.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElControls_ = function createElControls_() {\n    var defaultsDescription = this.localize('restore all settings to the default values');\n    return createEl('div', {\n      className: 'vjs-track-settings-controls',\n      innerHTML: [\"<button type=\\\"button\\\" class=\\\"vjs-default-button\\\" title=\\\"\" + defaultsDescription + \"\\\">\", this.localize('Reset'), \"<span class=\\\"vjs-control-text\\\"> \" + defaultsDescription + \"</span>\", '</button>', \"<button type=\\\"button\\\" class=\\\"vjs-done-button\\\">\" + this.localize('Done') + \"</button>\"].join('')\n    });\n  };\n\n  _proto.content = function content() {\n    return [this.createElColors_(), this.createElFont_(), this.createElControls_()];\n  };\n\n  _proto.label = function label() {\n    return this.localize('Caption Settings Dialog');\n  };\n\n  _proto.description = function description() {\n    return this.localize('Beginning of dialog window. Escape will cancel and close the window.');\n  };\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return _ModalDialog.prototype.buildCSSClass.call(this) + ' vjs-text-track-settings';\n  }\n  /**\n   * Gets an object of text track settings (or null).\n   *\n   * @return {Object}\n   *         An object with config values parsed from the DOM or localStorage.\n   */\n  ;\n\n  _proto.getValues = function getValues() {\n    var _this3 = this;\n\n    return reduce(selectConfigs, function (accum, config, key) {\n      var value = getSelectedOptionValue(_this3.$(config.selector), config.parser);\n\n      if (value !== undefined) {\n        accum[key] = value;\n      }\n\n      return accum;\n    }, {});\n  }\n  /**\n   * Sets text track settings from an object of values.\n   *\n   * @param {Object} values\n   *        An object with config values parsed from the DOM or localStorage.\n   */\n  ;\n\n  _proto.setValues = function setValues(values) {\n    var _this4 = this;\n\n    each(selectConfigs, function (config, key) {\n      setSelectedOption(_this4.$(config.selector), values[key], config.parser);\n    });\n  }\n  /**\n   * Sets all `<select>` elements to their default values.\n   */\n  ;\n\n  _proto.setDefaults = function setDefaults() {\n    var _this5 = this;\n\n    each(selectConfigs, function (config) {\n      var index = config.hasOwnProperty('default') ? config[\"default\"] : 0;\n      _this5.$(config.selector).selectedIndex = index;\n    });\n  }\n  /**\n   * Restore texttrack settings from localStorage\n   */\n  ;\n\n  _proto.restoreSettings = function restoreSettings() {\n    var values;\n\n    try {\n      values = JSON.parse(window$1.localStorage.getItem(LOCAL_STORAGE_KEY));\n    } catch (err) {\n      log.warn(err);\n    }\n\n    if (values) {\n      this.setValues(values);\n    }\n  }\n  /**\n   * Save text track settings to localStorage\n   */\n  ;\n\n  _proto.saveSettings = function saveSettings() {\n    if (!this.options_.persistTextTrackSettings) {\n      return;\n    }\n\n    var values = this.getValues();\n\n    try {\n      if (Object.keys(values).length) {\n        window$1.localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(values));\n      } else {\n        window$1.localStorage.removeItem(LOCAL_STORAGE_KEY);\n      }\n    } catch (err) {\n      log.warn(err);\n    }\n  }\n  /**\n   * Update display of text track settings\n   */\n  ;\n\n  _proto.updateDisplay = function updateDisplay() {\n    var ttDisplay = this.player_.getChild('textTrackDisplay');\n\n    if (ttDisplay) {\n      ttDisplay.updateDisplay();\n    }\n  }\n  /**\n   * conditionally blur the element and refocus the captions button\n   *\n   * @private\n   */\n  ;\n\n  _proto.conditionalBlur_ = function conditionalBlur_() {\n    this.previouslyActiveEl_ = null;\n    var cb = this.player_.controlBar;\n    var subsCapsBtn = cb && cb.subsCapsButton;\n    var ccBtn = cb && cb.captionsButton;\n\n    if (subsCapsBtn) {\n      subsCapsBtn.focus();\n    } else if (ccBtn) {\n      ccBtn.focus();\n    }\n  };\n\n  return TextTrackSettings;\n}(ModalDialog);\n\nComponent.registerComponent('TextTrackSettings', TextTrackSettings);\n\n/**\n * A Resize Manager. It is in charge of triggering `playerresize` on the player in the right conditions.\n *\n * It'll either create an iframe and use a debounced resize handler on it or use the new {@link https://wicg.github.io/ResizeObserver/|ResizeObserver}.\n *\n * If the ResizeObserver is available natively, it will be used. A polyfill can be passed in as an option.\n * If a `playerresize` event is not needed, the ResizeManager component can be removed from the player, see the example below.\n * @example <caption>How to disable the resize manager</caption>\n * const player = videojs('#vid', {\n *   resizeManager: false\n * });\n *\n * @see {@link https://wicg.github.io/ResizeObserver/|ResizeObserver specification}\n *\n * @extends Component\n */\n\nvar ResizeManager =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ResizeManager, _Component);\n\n  /**\n   * Create the ResizeManager.\n   *\n   * @param {Object} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of ResizeManager options.\n   *\n   * @param {Object} [options.ResizeObserver]\n   *        A polyfill for ResizeObserver can be passed in here.\n   *        If this is set to null it will ignore the native ResizeObserver and fall back to the iframe fallback.\n   */\n  function ResizeManager(player, options) {\n    var _this;\n\n    var RESIZE_OBSERVER_AVAILABLE = options.ResizeObserver || window$1.ResizeObserver; // if `null` was passed, we want to disable the ResizeObserver\n\n    if (options.ResizeObserver === null) {\n      RESIZE_OBSERVER_AVAILABLE = false;\n    } // Only create an element when ResizeObserver isn't available\n\n\n    var options_ = mergeOptions({\n      createEl: !RESIZE_OBSERVER_AVAILABLE,\n      reportTouchActivity: false\n    }, options);\n    _this = _Component.call(this, player, options_) || this;\n    _this.ResizeObserver = options.ResizeObserver || window$1.ResizeObserver;\n    _this.loadListener_ = null;\n    _this.resizeObserver_ = null;\n    _this.debouncedHandler_ = debounce(function () {\n      _this.resizeHandler();\n    }, 100, false, _assertThisInitialized(_this));\n\n    if (RESIZE_OBSERVER_AVAILABLE) {\n      _this.resizeObserver_ = new _this.ResizeObserver(_this.debouncedHandler_);\n\n      _this.resizeObserver_.observe(player.el());\n    } else {\n      _this.loadListener_ = function () {\n        if (!_this.el_ || !_this.el_.contentWindow) {\n          return;\n        }\n\n        var debouncedHandler_ = _this.debouncedHandler_;\n\n        var unloadListener_ = _this.unloadListener_ = function () {\n          off(this, 'resize', debouncedHandler_);\n          off(this, 'unload', unloadListener_);\n          unloadListener_ = null;\n        }; // safari and edge can unload the iframe before resizemanager dispose\n        // we have to dispose of event handlers correctly before that happens\n\n\n        on(_this.el_.contentWindow, 'unload', unloadListener_);\n        on(_this.el_.contentWindow, 'resize', debouncedHandler_);\n      };\n\n      _this.one('load', _this.loadListener_);\n    }\n\n    return _this;\n  }\n\n  var _proto = ResizeManager.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'iframe', {\n      className: 'vjs-resize-manager',\n      tabIndex: -1\n    }, {\n      'aria-hidden': 'true'\n    });\n  }\n  /**\n   * Called when a resize is triggered on the iframe or a resize is observed via the ResizeObserver\n   *\n   * @fires Player#playerresize\n   */\n  ;\n\n  _proto.resizeHandler = function resizeHandler() {\n    /**\n     * Called when the player size has changed\n     *\n     * @event Player#playerresize\n     * @type {EventTarget~Event}\n     */\n    // make sure player is still around to trigger\n    // prevents this from causing an error after dispose\n    if (!this.player_ || !this.player_.trigger) {\n      return;\n    }\n\n    this.player_.trigger('playerresize');\n  };\n\n  _proto.dispose = function dispose() {\n    if (this.debouncedHandler_) {\n      this.debouncedHandler_.cancel();\n    }\n\n    if (this.resizeObserver_) {\n      if (this.player_.el()) {\n        this.resizeObserver_.unobserve(this.player_.el());\n      }\n\n      this.resizeObserver_.disconnect();\n    }\n\n    if (this.loadListener_) {\n      this.off('load', this.loadListener_);\n    }\n\n    if (this.el_ && this.el_.contentWindow && this.unloadListener_) {\n      this.unloadListener_.call(this.el_.contentWindow);\n    }\n\n    this.ResizeObserver = null;\n    this.resizeObserver = null;\n    this.debouncedHandler_ = null;\n    this.loadListener_ = null;\n\n    _Component.prototype.dispose.call(this);\n  };\n\n  return ResizeManager;\n}(Component);\n\nComponent.registerComponent('ResizeManager', ResizeManager);\n\n/**\n * Computes the median of an array.\n *\n * @param {number[]} arr\n *        Input array of numbers.\n *\n * @return {number}\n *        Median value.\n */\nvar median = function median(arr) {\n  var mid = Math.floor(arr.length / 2);\n  var sortedList = [].concat(arr).sort(function (a, b) {\n    return a - b;\n  });\n  return arr.length % 2 !== 0 ? sortedList[mid] : (sortedList[mid - 1] + sortedList[mid]) / 2;\n};\n\n/* track when we are at the live edge, and other helpers for live playback */\n\nvar LiveTracker =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(LiveTracker, _Component);\n\n  function LiveTracker(player, options) {\n    var _this;\n\n    // LiveTracker does not need an element\n    var options_ = mergeOptions({\n      createEl: false\n    }, options);\n    _this = _Component.call(this, player, options_) || this;\n\n    _this.reset_();\n\n    _this.on(_this.player_, 'durationchange', _this.handleDurationchange); // we don't need to track live playback if the document is hidden,\n    // also, tracking when the document is hidden can\n    // cause the CPU to spike and eventually crash the page on IE11.\n\n\n    if (IE_VERSION && 'hidden' in document && 'visibilityState' in document) {\n      _this.on(document, 'visibilitychange', _this.handleVisibilityChange);\n    }\n\n    return _this;\n  }\n\n  var _proto = LiveTracker.prototype;\n\n  _proto.handleVisibilityChange = function handleVisibilityChange() {\n    if (this.player_.duration() !== Infinity) {\n      return;\n    }\n\n    if (document.hidden) {\n      this.stopTracking();\n    } else {\n      this.startTracking();\n    }\n  };\n\n  _proto.isBehind_ = function isBehind_() {\n    // don't report that we are behind until a timeupdate has been seen\n    if (!this.timeupdateSeen_) {\n      return false;\n    }\n\n    var liveCurrentTime = this.liveCurrentTime();\n    var currentTime = this.player_.currentTime(); // the live edge window is the amount of seconds away from live\n    // that a player can be, but still be considered live.\n    // we add 0.07 because the live tracking happens every 30ms\n    // and we want some wiggle room for short segment live playback\n\n    var liveEdgeWindow = this.seekableIncrement_ * 2 + 0.07; // on Android liveCurrentTime can bee Infinity, because seekableEnd\n    // can be Infinity, so we handle that case.\n\n    return liveCurrentTime !== Infinity && liveCurrentTime - liveEdgeWindow >= currentTime;\n  } // all the functionality for tracking when seek end changes\n  // and for tracking how far past seek end we should be\n  ;\n\n  _proto.trackLive_ = function trackLive_() {\n    this.pastSeekEnd_ = this.pastSeekEnd_;\n    var seekable = this.player_.seekable(); // skip undefined seekable\n\n    if (!seekable || !seekable.length) {\n      return;\n    }\n\n    var newSeekEnd = this.seekableEnd(); // we can only tell if we are behind live, when seekable changes\n    // once we detect that seekable has changed we check the new seek\n    // end against current time, with a fudge value of half a second.\n\n    if (newSeekEnd !== this.lastSeekEnd_) {\n      if (this.lastSeekEnd_) {\n        // we try to get the best fit value for the seeking increment\n        // variable from the last 12 values.\n        this.seekableIncrementList_ = this.seekableIncrementList_.slice(-11);\n        this.seekableIncrementList_.push(Math.abs(newSeekEnd - this.lastSeekEnd_));\n\n        if (this.seekableIncrementList_.length > 3) {\n          this.seekableIncrement_ = median(this.seekableIncrementList_);\n        }\n      }\n\n      this.pastSeekEnd_ = 0;\n      this.lastSeekEnd_ = newSeekEnd;\n      this.trigger('seekableendchange');\n    }\n\n    this.pastSeekEnd_ = this.pastSeekEnd() + 0.03;\n\n    if (this.isBehind_() !== this.behindLiveEdge()) {\n      this.behindLiveEdge_ = this.isBehind_();\n      this.trigger('liveedgechange');\n    }\n  }\n  /**\n   * handle a durationchange event on the player\n   * and start/stop tracking accordingly.\n   */\n  ;\n\n  _proto.handleDurationchange = function handleDurationchange() {\n    if (this.player_.duration() === Infinity) {\n      this.startTracking();\n    } else {\n      this.stopTracking();\n    }\n  }\n  /**\n   * start tracking live playback\n   */\n  ;\n\n  _proto.startTracking = function startTracking() {\n    var _this2 = this;\n\n    if (this.isTracking()) {\n      return;\n    } // If we haven't seen a timeupdate, we need to check whether playback\n    // began before this component started tracking. This can happen commonly\n    // when using autoplay.\n\n\n    if (!this.timeupdateSeen_) {\n      this.timeupdateSeen_ = this.player_.hasStarted();\n    }\n\n    this.trackingInterval_ = this.setInterval(this.trackLive_, 30);\n    this.trackLive_();\n    this.on(this.player_, 'play', this.trackLive_);\n    this.on(this.player_, 'pause', this.trackLive_); // this is to prevent showing that we are not live\n    // before a video starts to play\n\n    if (!this.timeupdateSeen_) {\n      this.one(this.player_, 'play', this.handlePlay);\n\n      this.handleTimeupdate = function () {\n        _this2.timeupdateSeen_ = true;\n        _this2.handleTimeupdate = null;\n      };\n\n      this.one(this.player_, 'timeupdate', this.handleTimeupdate);\n    }\n  };\n\n  _proto.handlePlay = function handlePlay() {\n    this.one(this.player_, 'timeupdate', this.seekToLiveEdge);\n  }\n  /**\n   * Stop tracking, and set all internal variables to\n   * their initial value.\n   */\n  ;\n\n  _proto.reset_ = function reset_() {\n    this.pastSeekEnd_ = 0;\n    this.lastSeekEnd_ = null;\n    this.behindLiveEdge_ = null;\n    this.timeupdateSeen_ = false;\n    this.clearInterval(this.trackingInterval_);\n    this.trackingInterval_ = null;\n    this.seekableIncrement_ = 12;\n    this.seekableIncrementList_ = [];\n    this.off(this.player_, 'play', this.trackLive_);\n    this.off(this.player_, 'pause', this.trackLive_);\n    this.off(this.player_, 'play', this.handlePlay);\n    this.off(this.player_, 'timeupdate', this.seekToLiveEdge);\n\n    if (this.handleTimeupdate) {\n      this.off(this.player_, 'timeupdate', this.handleTimeupdate);\n      this.handleTimeupdate = null;\n    }\n  }\n  /**\n   * stop tracking live playback\n   */\n  ;\n\n  _proto.stopTracking = function stopTracking() {\n    if (!this.isTracking()) {\n      return;\n    }\n\n    this.reset_();\n  }\n  /**\n   * A helper to get the player seekable end\n   * so that we don't have to null check everywhere\n   */\n  ;\n\n  _proto.seekableEnd = function seekableEnd() {\n    var seekable = this.player_.seekable();\n    var seekableEnds = [];\n    var i = seekable ? seekable.length : 0;\n\n    while (i--) {\n      seekableEnds.push(seekable.end(i));\n    } // grab the furthest seekable end after sorting, or if there are none\n    // default to Infinity\n\n\n    return seekableEnds.length ? seekableEnds.sort()[seekableEnds.length - 1] : Infinity;\n  }\n  /**\n   * A helper to get the player seekable start\n   * so that we don't have to null check everywhere\n   */\n  ;\n\n  _proto.seekableStart = function seekableStart() {\n    var seekable = this.player_.seekable();\n    var seekableStarts = [];\n    var i = seekable ? seekable.length : 0;\n\n    while (i--) {\n      seekableStarts.push(seekable.start(i));\n    } // grab the first seekable start after sorting, or if there are none\n    // default to 0\n\n\n    return seekableStarts.length ? seekableStarts.sort()[0] : 0;\n  }\n  /**\n   * Get the live time window\n   */\n  ;\n\n  _proto.liveWindow = function liveWindow() {\n    var liveCurrentTime = this.liveCurrentTime();\n\n    if (liveCurrentTime === Infinity) {\n      return Infinity;\n    }\n\n    return liveCurrentTime - this.seekableStart();\n  }\n  /**\n   * Determines if the player is live, only checks if this component\n   * is tracking live playback or not\n   */\n  ;\n\n  _proto.isLive = function isLive() {\n    return this.isTracking();\n  }\n  /**\n   * Determines if currentTime is at the live edge and won't fall behind\n   * on each seekableendchange\n   */\n  ;\n\n  _proto.atLiveEdge = function atLiveEdge() {\n    return !this.behindLiveEdge();\n  }\n  /**\n   * get what we expect the live current time to be\n   */\n  ;\n\n  _proto.liveCurrentTime = function liveCurrentTime() {\n    return this.pastSeekEnd() + this.seekableEnd();\n  }\n  /**\n   * Returns how far past seek end we expect current time to be\n   */\n  ;\n\n  _proto.pastSeekEnd = function pastSeekEnd() {\n    return this.pastSeekEnd_;\n  }\n  /**\n   * If we are currently behind the live edge, aka currentTime will be\n   * behind on a seekableendchange\n   */\n  ;\n\n  _proto.behindLiveEdge = function behindLiveEdge() {\n    return this.behindLiveEdge_;\n  };\n\n  _proto.isTracking = function isTracking() {\n    return typeof this.trackingInterval_ === 'number';\n  }\n  /**\n   * Seek to the live edge if we are behind the live edge\n   */\n  ;\n\n  _proto.seekToLiveEdge = function seekToLiveEdge() {\n    if (this.atLiveEdge()) {\n      return;\n    }\n\n    this.player_.currentTime(this.liveCurrentTime());\n\n    if (this.player_.paused()) {\n      this.player_.play();\n    }\n  };\n\n  _proto.dispose = function dispose() {\n    this.stopTracking();\n\n    _Component.prototype.dispose.call(this);\n  };\n\n  return LiveTracker;\n}(Component);\n\nComponent.registerComponent('LiveTracker', LiveTracker);\n\n/**\n * This function is used to fire a sourceset when there is something\n * similar to `mediaEl.load()` being called. It will try to find the source via\n * the `src` attribute and then the `<source>` elements. It will then fire `sourceset`\n * with the source that was found or empty string if we cannot know. If it cannot\n * find a source then `sourceset` will not be fired.\n *\n * @param {Html5} tech\n *        The tech object that sourceset was setup on\n *\n * @return {boolean}\n *         returns false if the sourceset was not fired and true otherwise.\n */\n\nvar sourcesetLoad = function sourcesetLoad(tech) {\n  var el = tech.el(); // if `el.src` is set, that source will be loaded.\n\n  if (el.hasAttribute('src')) {\n    tech.triggerSourceset(el.src);\n    return true;\n  }\n  /**\n   * Since there isn't a src property on the media element, source elements will be used for\n   * implementing the source selection algorithm. This happens asynchronously and\n   * for most cases were there is more than one source we cannot tell what source will\n   * be loaded, without re-implementing the source selection algorithm. At this time we are not\n   * going to do that. There are three special cases that we do handle here though:\n   *\n   * 1. If there are no sources, do not fire `sourceset`.\n   * 2. If there is only one `<source>` with a `src` property/attribute that is our `src`\n   * 3. If there is more than one `<source>` but all of them have the same `src` url.\n   *    That will be our src.\n   */\n\n\n  var sources = tech.$$('source');\n  var srcUrls = [];\n  var src = ''; // if there are no sources, do not fire sourceset\n\n  if (!sources.length) {\n    return false;\n  } // only count valid/non-duplicate source elements\n\n\n  for (var i = 0; i < sources.length; i++) {\n    var url = sources[i].src;\n\n    if (url && srcUrls.indexOf(url) === -1) {\n      srcUrls.push(url);\n    }\n  } // there were no valid sources\n\n\n  if (!srcUrls.length) {\n    return false;\n  } // there is only one valid source element url\n  // use that\n\n\n  if (srcUrls.length === 1) {\n    src = srcUrls[0];\n  }\n\n  tech.triggerSourceset(src);\n  return true;\n};\n/**\n * our implementation of an `innerHTML` descriptor for browsers\n * that do not have one.\n */\n\n\nvar innerHTMLDescriptorPolyfill = Object.defineProperty({}, 'innerHTML', {\n  get: function get() {\n    return this.cloneNode(true).innerHTML;\n  },\n  set: function set(v) {\n    // make a dummy node to use innerHTML on\n    var dummy = document.createElement(this.nodeName.toLowerCase()); // set innerHTML to the value provided\n\n    dummy.innerHTML = v; // make a document fragment to hold the nodes from dummy\n\n    var docFrag = document.createDocumentFragment(); // copy all of the nodes created by the innerHTML on dummy\n    // to the document fragment\n\n    while (dummy.childNodes.length) {\n      docFrag.appendChild(dummy.childNodes[0]);\n    } // remove content\n\n\n    this.innerText = ''; // now we add all of that html in one by appending the\n    // document fragment. This is how innerHTML does it.\n\n    window$1.Element.prototype.appendChild.call(this, docFrag); // then return the result that innerHTML's setter would\n\n    return this.innerHTML;\n  }\n});\n/**\n * Get a property descriptor given a list of priorities and the\n * property to get.\n */\n\nvar getDescriptor = function getDescriptor(priority, prop) {\n  var descriptor = {};\n\n  for (var i = 0; i < priority.length; i++) {\n    descriptor = Object.getOwnPropertyDescriptor(priority[i], prop);\n\n    if (descriptor && descriptor.set && descriptor.get) {\n      break;\n    }\n  }\n\n  descriptor.enumerable = true;\n  descriptor.configurable = true;\n  return descriptor;\n};\n\nvar getInnerHTMLDescriptor = function getInnerHTMLDescriptor(tech) {\n  return getDescriptor([tech.el(), window$1.HTMLMediaElement.prototype, window$1.Element.prototype, innerHTMLDescriptorPolyfill], 'innerHTML');\n};\n/**\n * Patches browser internal functions so that we can tell synchronously\n * if a `<source>` was appended to the media element. For some reason this\n * causes a `sourceset` if the the media element is ready and has no source.\n * This happens when:\n * - The page has just loaded and the media element does not have a source.\n * - The media element was emptied of all sources, then `load()` was called.\n *\n * It does this by patching the following functions/properties when they are supported:\n *\n * - `append()` - can be used to add a `<source>` element to the media element\n * - `appendChild()` - can be used to add a `<source>` element to the media element\n * - `insertAdjacentHTML()` -  can be used to add a `<source>` element to the media element\n * - `innerHTML` -  can be used to add a `<source>` element to the media element\n *\n * @param {Html5} tech\n *        The tech object that sourceset is being setup on.\n */\n\n\nvar firstSourceWatch = function firstSourceWatch(tech) {\n  var el = tech.el(); // make sure firstSourceWatch isn't setup twice.\n\n  if (el.resetSourceWatch_) {\n    return;\n  }\n\n  var old = {};\n  var innerDescriptor = getInnerHTMLDescriptor(tech);\n\n  var appendWrapper = function appendWrapper(appendFn) {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var retval = appendFn.apply(el, args);\n      sourcesetLoad(tech);\n      return retval;\n    };\n  };\n\n  ['append', 'appendChild', 'insertAdjacentHTML'].forEach(function (k) {\n    if (!el[k]) {\n      return;\n    } // store the old function\n\n\n    old[k] = el[k]; // call the old function with a sourceset if a source\n    // was loaded\n\n    el[k] = appendWrapper(old[k]);\n  });\n  Object.defineProperty(el, 'innerHTML', mergeOptions(innerDescriptor, {\n    set: appendWrapper(innerDescriptor.set)\n  }));\n\n  el.resetSourceWatch_ = function () {\n    el.resetSourceWatch_ = null;\n    Object.keys(old).forEach(function (k) {\n      el[k] = old[k];\n    });\n    Object.defineProperty(el, 'innerHTML', innerDescriptor);\n  }; // on the first sourceset, we need to revert our changes\n\n\n  tech.one('sourceset', el.resetSourceWatch_);\n};\n/**\n * our implementation of a `src` descriptor for browsers\n * that do not have one.\n */\n\n\nvar srcDescriptorPolyfill = Object.defineProperty({}, 'src', {\n  get: function get() {\n    if (this.hasAttribute('src')) {\n      return getAbsoluteURL(window$1.Element.prototype.getAttribute.call(this, 'src'));\n    }\n\n    return '';\n  },\n  set: function set(v) {\n    window$1.Element.prototype.setAttribute.call(this, 'src', v);\n    return v;\n  }\n});\n\nvar getSrcDescriptor = function getSrcDescriptor(tech) {\n  return getDescriptor([tech.el(), window$1.HTMLMediaElement.prototype, srcDescriptorPolyfill], 'src');\n};\n/**\n * setup `sourceset` handling on the `Html5` tech. This function\n * patches the following element properties/functions:\n *\n * - `src` - to determine when `src` is set\n * - `setAttribute()` - to determine when `src` is set\n * - `load()` - this re-triggers the source selection algorithm, and can\n *              cause a sourceset.\n *\n * If there is no source when we are adding `sourceset` support or during a `load()`\n * we also patch the functions listed in `firstSourceWatch`.\n *\n * @param {Html5} tech\n *        The tech to patch\n */\n\n\nvar setupSourceset = function setupSourceset(tech) {\n  if (!tech.featuresSourceset) {\n    return;\n  }\n\n  var el = tech.el(); // make sure sourceset isn't setup twice.\n\n  if (el.resetSourceset_) {\n    return;\n  }\n\n  var srcDescriptor = getSrcDescriptor(tech);\n  var oldSetAttribute = el.setAttribute;\n  var oldLoad = el.load;\n  Object.defineProperty(el, 'src', mergeOptions(srcDescriptor, {\n    set: function set(v) {\n      var retval = srcDescriptor.set.call(el, v); // we use the getter here to get the actual value set on src\n\n      tech.triggerSourceset(el.src);\n      return retval;\n    }\n  }));\n\n  el.setAttribute = function (n, v) {\n    var retval = oldSetAttribute.call(el, n, v);\n\n    if (/src/i.test(n)) {\n      tech.triggerSourceset(el.src);\n    }\n\n    return retval;\n  };\n\n  el.load = function () {\n    var retval = oldLoad.call(el); // if load was called, but there was no source to fire\n    // sourceset on. We have to watch for a source append\n    // as that can trigger a `sourceset` when the media element\n    // has no source\n\n    if (!sourcesetLoad(tech)) {\n      tech.triggerSourceset('');\n      firstSourceWatch(tech);\n    }\n\n    return retval;\n  };\n\n  if (el.currentSrc) {\n    tech.triggerSourceset(el.currentSrc);\n  } else if (!sourcesetLoad(tech)) {\n    firstSourceWatch(tech);\n  }\n\n  el.resetSourceset_ = function () {\n    el.resetSourceset_ = null;\n    el.load = oldLoad;\n    el.setAttribute = oldSetAttribute;\n    Object.defineProperty(el, 'src', srcDescriptor);\n\n    if (el.resetSourceWatch_) {\n      el.resetSourceWatch_();\n    }\n  };\n};\n\n/**\n * HTML5 Media Controller - Wrapper for HTML5 Media API\n *\n * @mixes Tech~SourceHandlerAdditions\n * @extends Tech\n */\n\nvar Html5 =\n/*#__PURE__*/\nfunction (_Tech) {\n  _inheritsLoose(Html5, _Tech);\n\n  /**\n  * Create an instance of this Tech.\n  *\n  * @param {Object} [options]\n  *        The key/value store of player options.\n  *\n  * @param {Component~ReadyCallback} ready\n  *        Callback function to call when the `HTML5` Tech is ready.\n  */\n  function Html5(options, ready) {\n    var _this;\n\n    _this = _Tech.call(this, options, ready) || this;\n    var source = options.source;\n    var crossoriginTracks = false; // Set the source if one is provided\n    // 1) Check if the source is new (if not, we want to keep the original so playback isn't interrupted)\n    // 2) Check to see if the network state of the tag was failed at init, and if so, reset the source\n    // anyway so the error gets fired.\n\n    if (source && (_this.el_.currentSrc !== source.src || options.tag && options.tag.initNetworkState_ === 3)) {\n      _this.setSource(source);\n    } else {\n      _this.handleLateInit_(_this.el_);\n    } // setup sourceset after late sourceset/init\n\n\n    if (options.enableSourceset) {\n      _this.setupSourcesetHandling_();\n    }\n\n    if (_this.el_.hasChildNodes()) {\n      var nodes = _this.el_.childNodes;\n      var nodesLength = nodes.length;\n      var removeNodes = [];\n\n      while (nodesLength--) {\n        var node = nodes[nodesLength];\n        var nodeName = node.nodeName.toLowerCase();\n\n        if (nodeName === 'track') {\n          if (!_this.featuresNativeTextTracks) {\n            // Empty video tag tracks so the built-in player doesn't use them also.\n            // This may not be fast enough to stop HTML5 browsers from reading the tags\n            // so we'll need to turn off any default tracks if we're manually doing\n            // captions and subtitles. videoElement.textTracks\n            removeNodes.push(node);\n          } else {\n            // store HTMLTrackElement and TextTrack to remote list\n            _this.remoteTextTrackEls().addTrackElement_(node);\n\n            _this.remoteTextTracks().addTrack(node.track);\n\n            _this.textTracks().addTrack(node.track);\n\n            if (!crossoriginTracks && !_this.el_.hasAttribute('crossorigin') && isCrossOrigin(node.src)) {\n              crossoriginTracks = true;\n            }\n          }\n        }\n      }\n\n      for (var i = 0; i < removeNodes.length; i++) {\n        _this.el_.removeChild(removeNodes[i]);\n      }\n    }\n\n    _this.proxyNativeTracks_();\n\n    if (_this.featuresNativeTextTracks && crossoriginTracks) {\n      log.warn('Text Tracks are being loaded from another origin but the crossorigin attribute isn\\'t used.\\n' + 'This may prevent text tracks from loading.');\n    } // prevent iOS Safari from disabling metadata text tracks during native playback\n\n\n    _this.restoreMetadataTracksInIOSNativePlayer_(); // Determine if native controls should be used\n    // Our goal should be to get the custom controls on mobile solid everywhere\n    // so we can remove this all together. Right now this will block custom\n    // controls on touch enabled laptops like the Chrome Pixel\n\n\n    if ((TOUCH_ENABLED || IS_IPHONE || IS_NATIVE_ANDROID) && options.nativeControlsForTouch === true) {\n      _this.setControls(true);\n    } // on iOS, we want to proxy `webkitbeginfullscreen` and `webkitendfullscreen`\n    // into a `fullscreenchange` event\n\n\n    _this.proxyWebkitFullscreen_();\n\n    _this.triggerReady();\n\n    return _this;\n  }\n  /**\n   * Dispose of `HTML5` media element and remove all tracks.\n   */\n\n\n  var _proto = Html5.prototype;\n\n  _proto.dispose = function dispose() {\n    if (this.el_ && this.el_.resetSourceset_) {\n      this.el_.resetSourceset_();\n    }\n\n    Html5.disposeMediaElement(this.el_);\n    this.options_ = null; // tech will handle clearing of the emulated track list\n\n    _Tech.prototype.dispose.call(this);\n  }\n  /**\n   * Modify the media element so that we can detect when\n   * the source is changed. Fires `sourceset` just after the source has changed\n   */\n  ;\n\n  _proto.setupSourcesetHandling_ = function setupSourcesetHandling_() {\n    setupSourceset(this);\n  }\n  /**\n   * When a captions track is enabled in the iOS Safari native player, all other\n   * tracks are disabled (including metadata tracks), which nulls all of their\n   * associated cue points. This will restore metadata tracks to their pre-fullscreen\n   * state in those cases so that cue points are not needlessly lost.\n   *\n   * @private\n   */\n  ;\n\n  _proto.restoreMetadataTracksInIOSNativePlayer_ = function restoreMetadataTracksInIOSNativePlayer_() {\n    var textTracks = this.textTracks();\n    var metadataTracksPreFullscreenState; // captures a snapshot of every metadata track's current state\n\n    var takeMetadataTrackSnapshot = function takeMetadataTrackSnapshot() {\n      metadataTracksPreFullscreenState = [];\n\n      for (var i = 0; i < textTracks.length; i++) {\n        var track = textTracks[i];\n\n        if (track.kind === 'metadata') {\n          metadataTracksPreFullscreenState.push({\n            track: track,\n            storedMode: track.mode\n          });\n        }\n      }\n    }; // snapshot each metadata track's initial state, and update the snapshot\n    // each time there is a track 'change' event\n\n\n    takeMetadataTrackSnapshot();\n    textTracks.addEventListener('change', takeMetadataTrackSnapshot);\n    this.on('dispose', function () {\n      return textTracks.removeEventListener('change', takeMetadataTrackSnapshot);\n    });\n\n    var restoreTrackMode = function restoreTrackMode() {\n      for (var i = 0; i < metadataTracksPreFullscreenState.length; i++) {\n        var storedTrack = metadataTracksPreFullscreenState[i];\n\n        if (storedTrack.track.mode === 'disabled' && storedTrack.track.mode !== storedTrack.storedMode) {\n          storedTrack.track.mode = storedTrack.storedMode;\n        }\n      } // we only want this handler to be executed on the first 'change' event\n\n\n      textTracks.removeEventListener('change', restoreTrackMode);\n    }; // when we enter fullscreen playback, stop updating the snapshot and\n    // restore all track modes to their pre-fullscreen state\n\n\n    this.on('webkitbeginfullscreen', function () {\n      textTracks.removeEventListener('change', takeMetadataTrackSnapshot); // remove the listener before adding it just in case it wasn't previously removed\n\n      textTracks.removeEventListener('change', restoreTrackMode);\n      textTracks.addEventListener('change', restoreTrackMode);\n    }); // start updating the snapshot again after leaving fullscreen\n\n    this.on('webkitendfullscreen', function () {\n      // remove the listener before adding it just in case it wasn't previously removed\n      textTracks.removeEventListener('change', takeMetadataTrackSnapshot);\n      textTracks.addEventListener('change', takeMetadataTrackSnapshot); // remove the restoreTrackMode handler in case it wasn't triggered during fullscreen playback\n\n      textTracks.removeEventListener('change', restoreTrackMode);\n    });\n  }\n  /**\n   * Attempt to force override of tracks for the given type\n   *\n   * @param {string} type - Track type to override, possible values include 'Audio',\n   * 'Video', and 'Text'.\n   * @param {boolean} override - If set to true native audio/video will be overridden,\n   * otherwise native audio/video will potentially be used.\n   * @private\n   */\n  ;\n\n  _proto.overrideNative_ = function overrideNative_(type, override) {\n    var _this2 = this;\n\n    // If there is no behavioral change don't add/remove listeners\n    if (override !== this[\"featuresNative\" + type + \"Tracks\"]) {\n      return;\n    }\n\n    var lowerCaseType = type.toLowerCase();\n\n    if (this[lowerCaseType + \"TracksListeners_\"]) {\n      Object.keys(this[lowerCaseType + \"TracksListeners_\"]).forEach(function (eventName) {\n        var elTracks = _this2.el()[lowerCaseType + \"Tracks\"];\n\n        elTracks.removeEventListener(eventName, _this2[lowerCaseType + \"TracksListeners_\"][eventName]);\n      });\n    }\n\n    this[\"featuresNative\" + type + \"Tracks\"] = !override;\n    this[lowerCaseType + \"TracksListeners_\"] = null;\n    this.proxyNativeTracksForType_(lowerCaseType);\n  }\n  /**\n   * Attempt to force override of native audio tracks.\n   *\n   * @param {boolean} override - If set to true native audio will be overridden,\n   * otherwise native audio will potentially be used.\n   */\n  ;\n\n  _proto.overrideNativeAudioTracks = function overrideNativeAudioTracks(override) {\n    this.overrideNative_('Audio', override);\n  }\n  /**\n   * Attempt to force override of native video tracks.\n   *\n   * @param {boolean} override - If set to true native video will be overridden,\n   * otherwise native video will potentially be used.\n   */\n  ;\n\n  _proto.overrideNativeVideoTracks = function overrideNativeVideoTracks(override) {\n    this.overrideNative_('Video', override);\n  }\n  /**\n   * Proxy native track list events for the given type to our track\n   * lists if the browser we are playing in supports that type of track list.\n   *\n   * @param {string} name - Track type; values include 'audio', 'video', and 'text'\n   * @private\n   */\n  ;\n\n  _proto.proxyNativeTracksForType_ = function proxyNativeTracksForType_(name) {\n    var _this3 = this;\n\n    var props = NORMAL[name];\n    var elTracks = this.el()[props.getterName];\n    var techTracks = this[props.getterName]();\n\n    if (!this[\"featuresNative\" + props.capitalName + \"Tracks\"] || !elTracks || !elTracks.addEventListener) {\n      return;\n    }\n\n    var listeners = {\n      change: function change(e) {\n        techTracks.trigger({\n          type: 'change',\n          target: techTracks,\n          currentTarget: techTracks,\n          srcElement: techTracks\n        });\n      },\n      addtrack: function addtrack(e) {\n        techTracks.addTrack(e.track);\n      },\n      removetrack: function removetrack(e) {\n        techTracks.removeTrack(e.track);\n      }\n    };\n\n    var removeOldTracks = function removeOldTracks() {\n      var removeTracks = [];\n\n      for (var i = 0; i < techTracks.length; i++) {\n        var found = false;\n\n        for (var j = 0; j < elTracks.length; j++) {\n          if (elTracks[j] === techTracks[i]) {\n            found = true;\n            break;\n          }\n        }\n\n        if (!found) {\n          removeTracks.push(techTracks[i]);\n        }\n      }\n\n      while (removeTracks.length) {\n        techTracks.removeTrack(removeTracks.shift());\n      }\n    };\n\n    this[props.getterName + 'Listeners_'] = listeners;\n    Object.keys(listeners).forEach(function (eventName) {\n      var listener = listeners[eventName];\n      elTracks.addEventListener(eventName, listener);\n\n      _this3.on('dispose', function (e) {\n        return elTracks.removeEventListener(eventName, listener);\n      });\n    }); // Remove (native) tracks that are not used anymore\n\n    this.on('loadstart', removeOldTracks);\n    this.on('dispose', function (e) {\n      return _this3.off('loadstart', removeOldTracks);\n    });\n  }\n  /**\n   * Proxy all native track list events to our track lists if the browser we are playing\n   * in supports that type of track list.\n   *\n   * @private\n   */\n  ;\n\n  _proto.proxyNativeTracks_ = function proxyNativeTracks_() {\n    var _this4 = this;\n\n    NORMAL.names.forEach(function (name) {\n      _this4.proxyNativeTracksForType_(name);\n    });\n  }\n  /**\n   * Create the `Html5` Tech's DOM element.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    var el = this.options_.tag; // Check if this browser supports moving the element into the box.\n    // On the iPhone video will break if you move the element,\n    // So we have to create a brand new element.\n    // If we ingested the player div, we do not need to move the media element.\n\n    if (!el || !(this.options_.playerElIngest || this.movingMediaElementInDOM)) {\n      // If the original tag is still there, clone and remove it.\n      if (el) {\n        var clone = el.cloneNode(true);\n\n        if (el.parentNode) {\n          el.parentNode.insertBefore(clone, el);\n        }\n\n        Html5.disposeMediaElement(el);\n        el = clone;\n      } else {\n        el = document.createElement('video'); // determine if native controls should be used\n\n        var tagAttributes = this.options_.tag && getAttributes(this.options_.tag);\n        var attributes = mergeOptions({}, tagAttributes);\n\n        if (!TOUCH_ENABLED || this.options_.nativeControlsForTouch !== true) {\n          delete attributes.controls;\n        }\n\n        setAttributes(el, assign(attributes, {\n          id: this.options_.techId,\n          \"class\": 'vjs-tech'\n        }));\n      }\n\n      el.playerId = this.options_.playerId;\n    }\n\n    if (typeof this.options_.preload !== 'undefined') {\n      setAttribute(el, 'preload', this.options_.preload);\n    } // Update specific tag settings, in case they were overridden\n    // `autoplay` has to be *last* so that `muted` and `playsinline` are present\n    // when iOS/Safari or other browsers attempt to autoplay.\n\n\n    var settingsAttrs = ['loop', 'muted', 'playsinline', 'autoplay'];\n\n    for (var i = 0; i < settingsAttrs.length; i++) {\n      var attr = settingsAttrs[i];\n      var value = this.options_[attr];\n\n      if (typeof value !== 'undefined') {\n        if (value) {\n          setAttribute(el, attr, attr);\n        } else {\n          removeAttribute(el, attr);\n        }\n\n        el[attr] = value;\n      }\n    }\n\n    return el;\n  }\n  /**\n   * This will be triggered if the loadstart event has already fired, before videojs was\n   * ready. Two known examples of when this can happen are:\n   * 1. If we're loading the playback object after it has started loading\n   * 2. The media is already playing the (often with autoplay on) then\n   *\n   * This function will fire another loadstart so that videojs can catchup.\n   *\n   * @fires Tech#loadstart\n   *\n   * @return {undefined}\n   *         returns nothing.\n   */\n  ;\n\n  _proto.handleLateInit_ = function handleLateInit_(el) {\n    if (el.networkState === 0 || el.networkState === 3) {\n      // The video element hasn't started loading the source yet\n      // or didn't find a source\n      return;\n    }\n\n    if (el.readyState === 0) {\n      // NetworkState is set synchronously BUT loadstart is fired at the\n      // end of the current stack, usually before setInterval(fn, 0).\n      // So at this point we know loadstart may have already fired or is\n      // about to fire, and either way the player hasn't seen it yet.\n      // We don't want to fire loadstart prematurely here and cause a\n      // double loadstart so we'll wait and see if it happens between now\n      // and the next loop, and fire it if not.\n      // HOWEVER, we also want to make sure it fires before loadedmetadata\n      // which could also happen between now and the next loop, so we'll\n      // watch for that also.\n      var loadstartFired = false;\n\n      var setLoadstartFired = function setLoadstartFired() {\n        loadstartFired = true;\n      };\n\n      this.on('loadstart', setLoadstartFired);\n\n      var triggerLoadstart = function triggerLoadstart() {\n        // We did miss the original loadstart. Make sure the player\n        // sees loadstart before loadedmetadata\n        if (!loadstartFired) {\n          this.trigger('loadstart');\n        }\n      };\n\n      this.on('loadedmetadata', triggerLoadstart);\n      this.ready(function () {\n        this.off('loadstart', setLoadstartFired);\n        this.off('loadedmetadata', triggerLoadstart);\n\n        if (!loadstartFired) {\n          // We did miss the original native loadstart. Fire it now.\n          this.trigger('loadstart');\n        }\n      });\n      return;\n    } // From here on we know that loadstart already fired and we missed it.\n    // The other readyState events aren't as much of a problem if we double\n    // them, so not going to go to as much trouble as loadstart to prevent\n    // that unless we find reason to.\n\n\n    var eventsToTrigger = ['loadstart']; // loadedmetadata: newly equal to HAVE_METADATA (1) or greater\n\n    eventsToTrigger.push('loadedmetadata'); // loadeddata: newly increased to HAVE_CURRENT_DATA (2) or greater\n\n    if (el.readyState >= 2) {\n      eventsToTrigger.push('loadeddata');\n    } // canplay: newly increased to HAVE_FUTURE_DATA (3) or greater\n\n\n    if (el.readyState >= 3) {\n      eventsToTrigger.push('canplay');\n    } // canplaythrough: newly equal to HAVE_ENOUGH_DATA (4)\n\n\n    if (el.readyState >= 4) {\n      eventsToTrigger.push('canplaythrough');\n    } // We still need to give the player time to add event listeners\n\n\n    this.ready(function () {\n      eventsToTrigger.forEach(function (type) {\n        this.trigger(type);\n      }, this);\n    });\n  }\n  /**\n   * Set current time for the `HTML5` tech.\n   *\n   * @param {number} seconds\n   *        Set the current time of the media to this.\n   */\n  ;\n\n  _proto.setCurrentTime = function setCurrentTime(seconds) {\n    try {\n      this.el_.currentTime = seconds;\n    } catch (e) {\n      log(e, 'Video is not ready. (Video.js)'); // this.warning(VideoJS.warnings.videoNotReady);\n    }\n  }\n  /**\n   * Get the current duration of the HTML5 media element.\n   *\n   * @return {number}\n   *         The duration of the media or 0 if there is no duration.\n   */\n  ;\n\n  _proto.duration = function duration() {\n    var _this5 = this;\n\n    // Android Chrome will report duration as Infinity for VOD HLS until after\n    // playback has started, which triggers the live display erroneously.\n    // Return NaN if playback has not started and trigger a durationupdate once\n    // the duration can be reliably known.\n    if (this.el_.duration === Infinity && IS_ANDROID && IS_CHROME && this.el_.currentTime === 0) {\n      // Wait for the first `timeupdate` with currentTime > 0 - there may be\n      // several with 0\n      var checkProgress = function checkProgress() {\n        if (_this5.el_.currentTime > 0) {\n          // Trigger durationchange for genuinely live video\n          if (_this5.el_.duration === Infinity) {\n            _this5.trigger('durationchange');\n          }\n\n          _this5.off('timeupdate', checkProgress);\n        }\n      };\n\n      this.on('timeupdate', checkProgress);\n      return NaN;\n    }\n\n    return this.el_.duration || NaN;\n  }\n  /**\n   * Get the current width of the HTML5 media element.\n   *\n   * @return {number}\n   *         The width of the HTML5 media element.\n   */\n  ;\n\n  _proto.width = function width() {\n    return this.el_.offsetWidth;\n  }\n  /**\n   * Get the current height of the HTML5 media element.\n   *\n   * @return {number}\n   *         The height of the HTML5 media element.\n   */\n  ;\n\n  _proto.height = function height() {\n    return this.el_.offsetHeight;\n  }\n  /**\n   * Proxy iOS `webkitbeginfullscreen` and `webkitendfullscreen` into\n   * `fullscreenchange` event.\n   *\n   * @private\n   * @fires fullscreenchange\n   * @listens webkitendfullscreen\n   * @listens webkitbeginfullscreen\n   * @listens webkitbeginfullscreen\n   */\n  ;\n\n  _proto.proxyWebkitFullscreen_ = function proxyWebkitFullscreen_() {\n    var _this6 = this;\n\n    if (!('webkitDisplayingFullscreen' in this.el_)) {\n      return;\n    }\n\n    var endFn = function endFn() {\n      this.trigger('fullscreenchange', {\n        isFullscreen: false\n      });\n    };\n\n    var beginFn = function beginFn() {\n      if ('webkitPresentationMode' in this.el_ && this.el_.webkitPresentationMode !== 'picture-in-picture') {\n        this.one('webkitendfullscreen', endFn);\n        this.trigger('fullscreenchange', {\n          isFullscreen: true\n        });\n      }\n    };\n\n    this.on('webkitbeginfullscreen', beginFn);\n    this.on('dispose', function () {\n      _this6.off('webkitbeginfullscreen', beginFn);\n\n      _this6.off('webkitendfullscreen', endFn);\n    });\n  }\n  /**\n   * Check if fullscreen is supported on the current playback device.\n   *\n   * @return {boolean}\n   *         - True if fullscreen is supported.\n   *         - False if fullscreen is not supported.\n   */\n  ;\n\n  _proto.supportsFullScreen = function supportsFullScreen() {\n    if (typeof this.el_.webkitEnterFullScreen === 'function') {\n      var userAgent = window$1.navigator && window$1.navigator.userAgent || ''; // Seems to be broken in Chromium/Chrome && Safari in Leopard\n\n      if (/Android/.test(userAgent) || !/Chrome|Mac OS X 10.5/.test(userAgent)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n   * Request that the `HTML5` Tech enter fullscreen.\n   */\n  ;\n\n  _proto.enterFullScreen = function enterFullScreen() {\n    var video = this.el_;\n\n    if (video.paused && video.networkState <= video.HAVE_METADATA) {\n      // attempt to prime the video element for programmatic access\n      // this isn't necessary on the desktop but shouldn't hurt\n      this.el_.play(); // playing and pausing synchronously during the transition to fullscreen\n      // can get iOS ~6.1 devices into a play/pause loop\n\n      this.setTimeout(function () {\n        video.pause();\n        video.webkitEnterFullScreen();\n      }, 0);\n    } else {\n      video.webkitEnterFullScreen();\n    }\n  }\n  /**\n   * Request that the `HTML5` Tech exit fullscreen.\n   */\n  ;\n\n  _proto.exitFullScreen = function exitFullScreen() {\n    this.el_.webkitExitFullScreen();\n  }\n  /**\n   * Create a floating video window always on top of other windows so that users may\n   * continue consuming media while they interact with other content sites, or\n   * applications on their device.\n   *\n   * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n   *\n   * @return {Promise}\n   *         A promise with a Picture-in-Picture window.\n   */\n  ;\n\n  _proto.requestPictureInPicture = function requestPictureInPicture() {\n    return this.el_.requestPictureInPicture();\n  }\n  /**\n   * A getter/setter for the `Html5` Tech's source object.\n   * > Note: Please use {@link Html5#setSource}\n   *\n   * @param {Tech~SourceObject} [src]\n   *        The source object you want to set on the `HTML5` techs element.\n   *\n   * @return {Tech~SourceObject|undefined}\n   *         - The current source object when a source is not passed in.\n   *         - undefined when setting\n   *\n   * @deprecated Since version 5.\n   */\n  ;\n\n  _proto.src = function src(_src) {\n    if (_src === undefined) {\n      return this.el_.src;\n    } // Setting src through `src` instead of `setSrc` will be deprecated\n\n\n    this.setSrc(_src);\n  }\n  /**\n   * Reset the tech by removing all sources and then calling\n   * {@link Html5.resetMediaElement}.\n   */\n  ;\n\n  _proto.reset = function reset() {\n    Html5.resetMediaElement(this.el_);\n  }\n  /**\n   * Get the current source on the `HTML5` Tech. Falls back to returning the source from\n   * the HTML5 media element.\n   *\n   * @return {Tech~SourceObject}\n   *         The current source object from the HTML5 tech. With a fallback to the\n   *         elements source.\n   */\n  ;\n\n  _proto.currentSrc = function currentSrc() {\n    if (this.currentSource_) {\n      return this.currentSource_.src;\n    }\n\n    return this.el_.currentSrc;\n  }\n  /**\n   * Set controls attribute for the HTML5 media Element.\n   *\n   * @param {string} val\n   *        Value to set the controls attribute to\n   */\n  ;\n\n  _proto.setControls = function setControls(val) {\n    this.el_.controls = !!val;\n  }\n  /**\n   * Create and returns a remote {@link TextTrack} object.\n   *\n   * @param {string} kind\n   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n   *\n   * @param {string} [label]\n   *        Label to identify the text track\n   *\n   * @param {string} [language]\n   *        Two letter language abbreviation\n   *\n   * @return {TextTrack}\n   *         The TextTrack that gets created.\n   */\n  ;\n\n  _proto.addTextTrack = function addTextTrack(kind, label, language) {\n    if (!this.featuresNativeTextTracks) {\n      return _Tech.prototype.addTextTrack.call(this, kind, label, language);\n    }\n\n    return this.el_.addTextTrack(kind, label, language);\n  }\n  /**\n   * Creates either native TextTrack or an emulated TextTrack depending\n   * on the value of `featuresNativeTextTracks`\n   *\n   * @param {Object} options\n   *        The object should contain the options to initialize the TextTrack with.\n   *\n   * @param {string} [options.kind]\n   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).\n   *\n   * @param {string} [options.label]\n   *        Label to identify the text track\n   *\n   * @param {string} [options.language]\n   *        Two letter language abbreviation.\n   *\n   * @param {boolean} [options.default]\n   *        Default this track to on.\n   *\n   * @param {string} [options.id]\n   *        The internal id to assign this track.\n   *\n   * @param {string} [options.src]\n   *        A source url for the track.\n   *\n   * @return {HTMLTrackElement}\n   *         The track element that gets created.\n   */\n  ;\n\n  _proto.createRemoteTextTrack = function createRemoteTextTrack(options) {\n    if (!this.featuresNativeTextTracks) {\n      return _Tech.prototype.createRemoteTextTrack.call(this, options);\n    }\n\n    var htmlTrackElement = document.createElement('track');\n\n    if (options.kind) {\n      htmlTrackElement.kind = options.kind;\n    }\n\n    if (options.label) {\n      htmlTrackElement.label = options.label;\n    }\n\n    if (options.language || options.srclang) {\n      htmlTrackElement.srclang = options.language || options.srclang;\n    }\n\n    if (options[\"default\"]) {\n      htmlTrackElement[\"default\"] = options[\"default\"];\n    }\n\n    if (options.id) {\n      htmlTrackElement.id = options.id;\n    }\n\n    if (options.src) {\n      htmlTrackElement.src = options.src;\n    }\n\n    return htmlTrackElement;\n  }\n  /**\n   * Creates a remote text track object and returns an html track element.\n   *\n   * @param {Object} options The object should contain values for\n   * kind, language, label, and src (location of the WebVTT file)\n   * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be\n   * automatically removed from the video element whenever the source changes\n   * @return {HTMLTrackElement} An Html Track Element.\n   * This can be an emulated {@link HTMLTrackElement} or a native one.\n   * @deprecated The default value of the \"manualCleanup\" parameter will default\n   * to \"false\" in upcoming versions of Video.js\n   */\n  ;\n\n  _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n    var htmlTrackElement = _Tech.prototype.addRemoteTextTrack.call(this, options, manualCleanup);\n\n    if (this.featuresNativeTextTracks) {\n      this.el().appendChild(htmlTrackElement);\n    }\n\n    return htmlTrackElement;\n  }\n  /**\n   * Remove remote `TextTrack` from `TextTrackList` object\n   *\n   * @param {TextTrack} track\n   *        `TextTrack` object to remove\n   */\n  ;\n\n  _proto.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n    _Tech.prototype.removeRemoteTextTrack.call(this, track);\n\n    if (this.featuresNativeTextTracks) {\n      var tracks = this.$$('track');\n      var i = tracks.length;\n\n      while (i--) {\n        if (track === tracks[i] || track === tracks[i].track) {\n          this.el().removeChild(tracks[i]);\n        }\n      }\n    }\n  }\n  /**\n   * Gets available media playback quality metrics as specified by the W3C's Media\n   * Playback Quality API.\n   *\n   * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n   *\n   * @return {Object}\n   *         An object with supported media playback quality metrics\n   */\n  ;\n\n  _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n    if (typeof this.el().getVideoPlaybackQuality === 'function') {\n      return this.el().getVideoPlaybackQuality();\n    }\n\n    var videoPlaybackQuality = {};\n\n    if (typeof this.el().webkitDroppedFrameCount !== 'undefined' && typeof this.el().webkitDecodedFrameCount !== 'undefined') {\n      videoPlaybackQuality.droppedVideoFrames = this.el().webkitDroppedFrameCount;\n      videoPlaybackQuality.totalVideoFrames = this.el().webkitDecodedFrameCount;\n    }\n\n    if (window$1.performance && typeof window$1.performance.now === 'function') {\n      videoPlaybackQuality.creationTime = window$1.performance.now();\n    } else if (window$1.performance && window$1.performance.timing && typeof window$1.performance.timing.navigationStart === 'number') {\n      videoPlaybackQuality.creationTime = window$1.Date.now() - window$1.performance.timing.navigationStart;\n    }\n\n    return videoPlaybackQuality;\n  };\n\n  return Html5;\n}(Tech);\n/* HTML5 Support Testing ---------------------------------------------------- */\n\n\nif (isReal()) {\n  /**\n   * Element for testing browser HTML5 media capabilities\n   *\n   * @type {Element}\n   * @constant\n   * @private\n   */\n  Html5.TEST_VID = document.createElement('video');\n  var track = document.createElement('track');\n  track.kind = 'captions';\n  track.srclang = 'en';\n  track.label = 'English';\n  Html5.TEST_VID.appendChild(track);\n}\n/**\n * Check if HTML5 media is supported by this browser/device.\n *\n * @return {boolean}\n *         - True if HTML5 media is supported.\n *         - False if HTML5 media is not supported.\n */\n\n\nHtml5.isSupported = function () {\n  // IE with no Media Player is a LIAR! (#984)\n  try {\n    Html5.TEST_VID.volume = 0.5;\n  } catch (e) {\n    return false;\n  }\n\n  return !!(Html5.TEST_VID && Html5.TEST_VID.canPlayType);\n};\n/**\n * Check if the tech can support the given type\n *\n * @param {string} type\n *        The mimetype to check\n * @return {string} 'probably', 'maybe', or '' (empty string)\n */\n\n\nHtml5.canPlayType = function (type) {\n  return Html5.TEST_VID.canPlayType(type);\n};\n/**\n * Check if the tech can support the given source\n *\n * @param {Object} srcObj\n *        The source object\n * @param {Object} options\n *        The options passed to the tech\n * @return {string} 'probably', 'maybe', or '' (empty string)\n */\n\n\nHtml5.canPlaySource = function (srcObj, options) {\n  return Html5.canPlayType(srcObj.type);\n};\n/**\n * Check if the volume can be changed in this browser/device.\n * Volume cannot be changed in a lot of mobile devices.\n * Specifically, it can't be changed from 1 on iOS.\n *\n * @return {boolean}\n *         - True if volume can be controlled\n *         - False otherwise\n */\n\n\nHtml5.canControlVolume = function () {\n  // IE will error if Windows Media Player not installed #3315\n  try {\n    var volume = Html5.TEST_VID.volume;\n    Html5.TEST_VID.volume = volume / 2 + 0.1;\n    return volume !== Html5.TEST_VID.volume;\n  } catch (e) {\n    return false;\n  }\n};\n/**\n * Check if the volume can be muted in this browser/device.\n * Some devices, e.g. iOS, don't allow changing volume\n * but permits muting/unmuting.\n *\n * @return {bolean}\n *      - True if volume can be muted\n *      - False otherwise\n */\n\n\nHtml5.canMuteVolume = function () {\n  try {\n    var muted = Html5.TEST_VID.muted; // in some versions of iOS muted property doesn't always\n    // work, so we want to set both property and attribute\n\n    Html5.TEST_VID.muted = !muted;\n\n    if (Html5.TEST_VID.muted) {\n      setAttribute(Html5.TEST_VID, 'muted', 'muted');\n    } else {\n      removeAttribute(Html5.TEST_VID, 'muted', 'muted');\n    }\n\n    return muted !== Html5.TEST_VID.muted;\n  } catch (e) {\n    return false;\n  }\n};\n/**\n * Check if the playback rate can be changed in this browser/device.\n *\n * @return {boolean}\n *         - True if playback rate can be controlled\n *         - False otherwise\n */\n\n\nHtml5.canControlPlaybackRate = function () {\n  // Playback rate API is implemented in Android Chrome, but doesn't do anything\n  // https://github.com/videojs/video.js/issues/3180\n  if (IS_ANDROID && IS_CHROME && CHROME_VERSION < 58) {\n    return false;\n  } // IE will error if Windows Media Player not installed #3315\n\n\n  try {\n    var playbackRate = Html5.TEST_VID.playbackRate;\n    Html5.TEST_VID.playbackRate = playbackRate / 2 + 0.1;\n    return playbackRate !== Html5.TEST_VID.playbackRate;\n  } catch (e) {\n    return false;\n  }\n};\n/**\n * Check if we can override a video/audio elements attributes, with\n * Object.defineProperty.\n *\n * @return {boolean}\n *         - True if builtin attributes can be overridden\n *         - False otherwise\n */\n\n\nHtml5.canOverrideAttributes = function () {\n  // if we cannot overwrite the src/innerHTML property, there is no support\n  // iOS 7 safari for instance cannot do this.\n  try {\n    var noop = function noop() {};\n\n    Object.defineProperty(document.createElement('video'), 'src', {\n      get: noop,\n      set: noop\n    });\n    Object.defineProperty(document.createElement('audio'), 'src', {\n      get: noop,\n      set: noop\n    });\n    Object.defineProperty(document.createElement('video'), 'innerHTML', {\n      get: noop,\n      set: noop\n    });\n    Object.defineProperty(document.createElement('audio'), 'innerHTML', {\n      get: noop,\n      set: noop\n    });\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n};\n/**\n * Check to see if native `TextTrack`s are supported by this browser/device.\n *\n * @return {boolean}\n *         - True if native `TextTrack`s are supported.\n *         - False otherwise\n */\n\n\nHtml5.supportsNativeTextTracks = function () {\n  return IS_ANY_SAFARI || IS_IOS && IS_CHROME;\n};\n/**\n * Check to see if native `VideoTrack`s are supported by this browser/device\n *\n * @return {boolean}\n *        - True if native `VideoTrack`s are supported.\n *        - False otherwise\n */\n\n\nHtml5.supportsNativeVideoTracks = function () {\n  return !!(Html5.TEST_VID && Html5.TEST_VID.videoTracks);\n};\n/**\n * Check to see if native `AudioTrack`s are supported by this browser/device\n *\n * @return {boolean}\n *        - True if native `AudioTrack`s are supported.\n *        - False otherwise\n */\n\n\nHtml5.supportsNativeAudioTracks = function () {\n  return !!(Html5.TEST_VID && Html5.TEST_VID.audioTracks);\n};\n/**\n * An array of events available on the Html5 tech.\n *\n * @private\n * @type {Array}\n */\n\n\nHtml5.Events = ['loadstart', 'suspend', 'abort', 'error', 'emptied', 'stalled', 'loadedmetadata', 'loadeddata', 'canplay', 'canplaythrough', 'playing', 'waiting', 'seeking', 'seeked', 'ended', 'durationchange', 'timeupdate', 'progress', 'play', 'pause', 'ratechange', 'resize', 'volumechange'];\n/**\n * Boolean indicating whether the `Tech` supports volume control.\n *\n * @type {boolean}\n * @default {@link Html5.canControlVolume}\n */\n\nHtml5.prototype.featuresVolumeControl = Html5.canControlVolume();\n/**\n * Boolean indicating whether the `Tech` supports muting volume.\n *\n * @type {bolean}\n * @default {@link Html5.canMuteVolume}\n */\n\nHtml5.prototype.featuresMuteControl = Html5.canMuteVolume();\n/**\n * Boolean indicating whether the `Tech` supports changing the speed at which the media\n * plays. Examples:\n *   - Set player to play 2x (twice) as fast\n *   - Set player to play 0.5x (half) as fast\n *\n * @type {boolean}\n * @default {@link Html5.canControlPlaybackRate}\n */\n\nHtml5.prototype.featuresPlaybackRate = Html5.canControlPlaybackRate();\n/**\n * Boolean indicating whether the `Tech` supports the `sourceset` event.\n *\n * @type {boolean}\n * @default\n */\n\nHtml5.prototype.featuresSourceset = Html5.canOverrideAttributes();\n/**\n * Boolean indicating whether the `HTML5` tech currently supports the media element\n * moving in the DOM. iOS breaks if you move the media element, so this is set this to\n * false there. Everywhere else this should be true.\n *\n * @type {boolean}\n * @default\n */\n\nHtml5.prototype.movingMediaElementInDOM = !IS_IOS; // TODO: Previous comment: No longer appears to be used. Can probably be removed.\n//       Is this true?\n\n/**\n * Boolean indicating whether the `HTML5` tech currently supports automatic media resize\n * when going into fullscreen.\n *\n * @type {boolean}\n * @default\n */\n\nHtml5.prototype.featuresFullscreenResize = true;\n/**\n * Boolean indicating whether the `HTML5` tech currently supports the progress event.\n * If this is false, manual `progress` events will be triggered instead.\n *\n * @type {boolean}\n * @default\n */\n\nHtml5.prototype.featuresProgressEvents = true;\n/**\n * Boolean indicating whether the `HTML5` tech currently supports the timeupdate event.\n * If this is false, manual `timeupdate` events will be triggered instead.\n *\n * @default\n */\n\nHtml5.prototype.featuresTimeupdateEvents = true;\n/**\n * Boolean indicating whether the `HTML5` tech currently supports native `TextTrack`s.\n *\n * @type {boolean}\n * @default {@link Html5.supportsNativeTextTracks}\n */\n\nHtml5.prototype.featuresNativeTextTracks = Html5.supportsNativeTextTracks();\n/**\n * Boolean indicating whether the `HTML5` tech currently supports native `VideoTrack`s.\n *\n * @type {boolean}\n * @default {@link Html5.supportsNativeVideoTracks}\n */\n\nHtml5.prototype.featuresNativeVideoTracks = Html5.supportsNativeVideoTracks();\n/**\n * Boolean indicating whether the `HTML5` tech currently supports native `AudioTrack`s.\n *\n * @type {boolean}\n * @default {@link Html5.supportsNativeAudioTracks}\n */\n\nHtml5.prototype.featuresNativeAudioTracks = Html5.supportsNativeAudioTracks(); // HTML5 Feature detection and Device Fixes --------------------------------- //\n\nvar canPlayType = Html5.TEST_VID && Html5.TEST_VID.constructor.prototype.canPlayType;\nvar mpegurlRE = /^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i;\n\nHtml5.patchCanPlayType = function () {\n  // Android 4.0 and above can play HLS to some extent but it reports being unable to do so\n  // Firefox and Chrome report correctly\n  if (ANDROID_VERSION >= 4.0 && !IS_FIREFOX && !IS_CHROME) {\n    Html5.TEST_VID.constructor.prototype.canPlayType = function (type) {\n      if (type && mpegurlRE.test(type)) {\n        return 'maybe';\n      }\n\n      return canPlayType.call(this, type);\n    };\n  }\n};\n\nHtml5.unpatchCanPlayType = function () {\n  var r = Html5.TEST_VID.constructor.prototype.canPlayType;\n  Html5.TEST_VID.constructor.prototype.canPlayType = canPlayType;\n  return r;\n}; // by default, patch the media element\n\n\nHtml5.patchCanPlayType();\n\nHtml5.disposeMediaElement = function (el) {\n  if (!el) {\n    return;\n  }\n\n  if (el.parentNode) {\n    el.parentNode.removeChild(el);\n  } // remove any child track or source nodes to prevent their loading\n\n\n  while (el.hasChildNodes()) {\n    el.removeChild(el.firstChild);\n  } // remove any src reference. not setting `src=''` because that causes a warning\n  // in firefox\n\n\n  el.removeAttribute('src'); // force the media element to update its loading state by calling load()\n  // however IE on Windows 7N has a bug that throws an error so need a try/catch (#793)\n\n  if (typeof el.load === 'function') {\n    // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n    (function () {\n      try {\n        el.load();\n      } catch (e) {// not supported\n      }\n    })();\n  }\n};\n\nHtml5.resetMediaElement = function (el) {\n  if (!el) {\n    return;\n  }\n\n  var sources = el.querySelectorAll('source');\n  var i = sources.length;\n\n  while (i--) {\n    el.removeChild(sources[i]);\n  } // remove any src reference.\n  // not setting `src=''` because that throws an error\n\n\n  el.removeAttribute('src');\n\n  if (typeof el.load === 'function') {\n    // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n    (function () {\n      try {\n        el.load();\n      } catch (e) {// satisfy linter\n      }\n    })();\n  }\n};\n/* Native HTML5 element property wrapping ----------------------------------- */\n// Wrap native boolean attributes with getters that check both property and attribute\n// The list is as followed:\n// muted, defaultMuted, autoplay, controls, loop, playsinline\n\n\n[\n/**\n * Get the value of `muted` from the media element. `muted` indicates\n * that the volume for the media should be set to silent. This does not actually change\n * the `volume` attribute.\n *\n * @method Html5#muted\n * @return {boolean}\n *         - True if the value of `volume` should be ignored and the audio set to silent.\n *         - False if the value of `volume` should be used.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}\n */\n'muted',\n/**\n * Get the value of `defaultMuted` from the media element. `defaultMuted` indicates\n * whether the media should start muted or not. Only changes the default state of the\n * media. `muted` and `defaultMuted` can have different values. {@link Html5#muted} indicates the\n * current state.\n *\n * @method Html5#defaultMuted\n * @return {boolean}\n *         - The value of `defaultMuted` from the media element.\n *         - True indicates that the media should start muted.\n *         - False indicates that the media should not start muted\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}\n */\n'defaultMuted',\n/**\n * Get the value of `autoplay` from the media element. `autoplay` indicates\n * that the media should start to play as soon as the page is ready.\n *\n * @method Html5#autoplay\n * @return {boolean}\n *         - The value of `autoplay` from the media element.\n *         - True indicates that the media should start as soon as the page loads.\n *         - False indicates that the media should not start as soon as the page loads.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}\n */\n'autoplay',\n/**\n * Get the value of `controls` from the media element. `controls` indicates\n * whether the native media controls should be shown or hidden.\n *\n * @method Html5#controls\n * @return {boolean}\n *         - The value of `controls` from the media element.\n *         - True indicates that native controls should be showing.\n *         - False indicates that native controls should be hidden.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-controls}\n */\n'controls',\n/**\n * Get the value of `loop` from the media element. `loop` indicates\n * that the media should return to the start of the media and continue playing once\n * it reaches the end.\n *\n * @method Html5#loop\n * @return {boolean}\n *         - The value of `loop` from the media element.\n *         - True indicates that playback should seek back to start once\n *           the end of a media is reached.\n *         - False indicates that playback should not loop back to the start when the\n *           end of the media is reached.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}\n */\n'loop',\n/**\n * Get the value of `playsinline` from the media element. `playsinline` indicates\n * to the browser that non-fullscreen playback is preferred when fullscreen\n * playback is the native default, such as in iOS Safari.\n *\n * @method Html5#playsinline\n * @return {boolean}\n *         - The value of `playsinline` from the media element.\n *         - True indicates that the media should play inline.\n *         - False indicates that the media should not play inline.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n */\n'playsinline'].forEach(function (prop) {\n  Html5.prototype[prop] = function () {\n    return this.el_[prop] || this.el_.hasAttribute(prop);\n  };\n}); // Wrap native boolean attributes with setters that set both property and attribute\n// The list is as followed:\n// setMuted, setDefaultMuted, setAutoplay, setLoop, setPlaysinline\n// setControls is special-cased above\n\n[\n/**\n * Set the value of `muted` on the media element. `muted` indicates that the current\n * audio level should be silent.\n *\n * @method Html5#setMuted\n * @param {boolean} muted\n *        - True if the audio should be set to silent\n *        - False otherwise\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}\n */\n'muted',\n/**\n * Set the value of `defaultMuted` on the media element. `defaultMuted` indicates that the current\n * audio level should be silent, but will only effect the muted level on intial playback..\n *\n * @method Html5.prototype.setDefaultMuted\n * @param {boolean} defaultMuted\n *        - True if the audio should be set to silent\n *        - False otherwise\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}\n */\n'defaultMuted',\n/**\n * Set the value of `autoplay` on the media element. `autoplay` indicates\n * that the media should start to play as soon as the page is ready.\n *\n * @method Html5#setAutoplay\n * @param {boolean} autoplay\n *         - True indicates that the media should start as soon as the page loads.\n *         - False indicates that the media should not start as soon as the page loads.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}\n */\n'autoplay',\n/**\n * Set the value of `loop` on the media element. `loop` indicates\n * that the media should return to the start of the media and continue playing once\n * it reaches the end.\n *\n * @method Html5#setLoop\n * @param {boolean} loop\n *         - True indicates that playback should seek back to start once\n *           the end of a media is reached.\n *         - False indicates that playback should not loop back to the start when the\n *           end of the media is reached.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}\n */\n'loop',\n/**\n * Set the value of `playsinline` from the media element. `playsinline` indicates\n * to the browser that non-fullscreen playback is preferred when fullscreen\n * playback is the native default, such as in iOS Safari.\n *\n * @method Html5#setPlaysinline\n * @param {boolean} playsinline\n *         - True indicates that the media should play inline.\n *         - False indicates that the media should not play inline.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n */\n'playsinline'].forEach(function (prop) {\n  Html5.prototype['set' + toTitleCase(prop)] = function (v) {\n    this.el_[prop] = v;\n\n    if (v) {\n      this.el_.setAttribute(prop, prop);\n    } else {\n      this.el_.removeAttribute(prop);\n    }\n  };\n}); // Wrap native properties with a getter\n// The list is as followed\n// paused, currentTime, buffered, volume, poster, preload, error, seeking\n// seekable, ended, playbackRate, defaultPlaybackRate, played, networkState\n// readyState, videoWidth, videoHeight\n\n[\n/**\n * Get the value of `paused` from the media element. `paused` indicates whether the media element\n * is currently paused or not.\n *\n * @method Html5#paused\n * @return {boolean}\n *         The value of `paused` from the media element.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-paused}\n */\n'paused',\n/**\n * Get the value of `currentTime` from the media element. `currentTime` indicates\n * the current second that the media is at in playback.\n *\n * @method Html5#currentTime\n * @return {number}\n *         The value of `currentTime` from the media element.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-currenttime}\n */\n'currentTime',\n/**\n * Get the value of `buffered` from the media element. `buffered` is a `TimeRange`\n * object that represents the parts of the media that are already downloaded and\n * available for playback.\n *\n * @method Html5#buffered\n * @return {TimeRange}\n *         The value of `buffered` from the media element.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-buffered}\n */\n'buffered',\n/**\n * Get the value of `volume` from the media element. `volume` indicates\n * the current playback volume of audio for a media. `volume` will be a value from 0\n * (silent) to 1 (loudest and default).\n *\n * @method Html5#volume\n * @return {number}\n *         The value of `volume` from the media element. Value will be between 0-1.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}\n */\n'volume',\n/**\n * Get the value of `poster` from the media element. `poster` indicates\n * that the url of an image file that can/will be shown when no media data is available.\n *\n * @method Html5#poster\n * @return {string}\n *         The value of `poster` from the media element. Value will be a url to an\n *         image.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-video-poster}\n */\n'poster',\n/**\n * Get the value of `preload` from the media element. `preload` indicates\n * what should download before the media is interacted with. It can have the following\n * values:\n * - none: nothing should be downloaded\n * - metadata: poster and the first few frames of the media may be downloaded to get\n *   media dimensions and other metadata\n * - auto: allow the media and metadata for the media to be downloaded before\n *    interaction\n *\n * @method Html5#preload\n * @return {string}\n *         The value of `preload` from the media element. Will be 'none', 'metadata',\n *         or 'auto'.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}\n */\n'preload',\n/**\n * Get the value of the `error` from the media element. `error` indicates any\n * MediaError that may have occurred during playback. If error returns null there is no\n * current error.\n *\n * @method Html5#error\n * @return {MediaError|null}\n *         The value of `error` from the media element. Will be `MediaError` if there\n *         is a current error and null otherwise.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-error}\n */\n'error',\n/**\n * Get the value of `seeking` from the media element. `seeking` indicates whether the\n * media is currently seeking to a new position or not.\n *\n * @method Html5#seeking\n * @return {boolean}\n *         - The value of `seeking` from the media element.\n *         - True indicates that the media is currently seeking to a new position.\n *         - False indicates that the media is not seeking to a new position at this time.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seeking}\n */\n'seeking',\n/**\n * Get the value of `seekable` from the media element. `seekable` returns a\n * `TimeRange` object indicating ranges of time that can currently be `seeked` to.\n *\n * @method Html5#seekable\n * @return {TimeRange}\n *         The value of `seekable` from the media element. A `TimeRange` object\n *         indicating the current ranges of time that can be seeked to.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seekable}\n */\n'seekable',\n/**\n * Get the value of `ended` from the media element. `ended` indicates whether\n * the media has reached the end or not.\n *\n * @method Html5#ended\n * @return {boolean}\n *         - The value of `ended` from the media element.\n *         - True indicates that the media has ended.\n *         - False indicates that the media has not ended.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-ended}\n */\n'ended',\n/**\n * Get the value of `playbackRate` from the media element. `playbackRate` indicates\n * the rate at which the media is currently playing back. Examples:\n *   - if playbackRate is set to 2, media will play twice as fast.\n *   - if playbackRate is set to 0.5, media will play half as fast.\n *\n * @method Html5#playbackRate\n * @return {number}\n *         The value of `playbackRate` from the media element. A number indicating\n *         the current playback speed of the media, where 1 is normal speed.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n */\n'playbackRate',\n/**\n * Get the value of `defaultPlaybackRate` from the media element. `defaultPlaybackRate` indicates\n * the rate at which the media is currently playing back. This value will not indicate the current\n * `playbackRate` after playback has started, use {@link Html5#playbackRate} for that.\n *\n * Examples:\n *   - if defaultPlaybackRate is set to 2, media will play twice as fast.\n *   - if defaultPlaybackRate is set to 0.5, media will play half as fast.\n *\n * @method Html5.prototype.defaultPlaybackRate\n * @return {number}\n *         The value of `defaultPlaybackRate` from the media element. A number indicating\n *         the current playback speed of the media, where 1 is normal speed.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n */\n'defaultPlaybackRate',\n/**\n * Get the value of `played` from the media element. `played` returns a `TimeRange`\n * object representing points in the media timeline that have been played.\n *\n * @method Html5#played\n * @return {TimeRange}\n *         The value of `played` from the media element. A `TimeRange` object indicating\n *         the ranges of time that have been played.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-played}\n */\n'played',\n/**\n * Get the value of `networkState` from the media element. `networkState` indicates\n * the current network state. It returns an enumeration from the following list:\n * - 0: NETWORK_EMPTY\n * - 1: NETWORK_IDLE\n * - 2: NETWORK_LOADING\n * - 3: NETWORK_NO_SOURCE\n *\n * @method Html5#networkState\n * @return {number}\n *         The value of `networkState` from the media element. This will be a number\n *         from the list in the description.\n *\n * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-networkstate}\n */\n'networkState',\n/**\n * Get the value of `readyState` from the media element. `readyState` indicates\n * the current state of the media element. It returns an enumeration from the\n * following list:\n * - 0: HAVE_NOTHING\n * - 1: HAVE_METADATA\n * - 2: HAVE_CURRENT_DATA\n * - 3: HAVE_FUTURE_DATA\n * - 4: HAVE_ENOUGH_DATA\n *\n * @method Html5#readyState\n * @return {number}\n *         The value of `readyState` from the media element. This will be a number\n *         from the list in the description.\n *\n * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#ready-states}\n */\n'readyState',\n/**\n * Get the value of `videoWidth` from the video element. `videoWidth` indicates\n * the current width of the video in css pixels.\n *\n * @method Html5#videoWidth\n * @return {number}\n *         The value of `videoWidth` from the video element. This will be a number\n *         in css pixels.\n *\n * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}\n */\n'videoWidth',\n/**\n * Get the value of `videoHeight` from the video element. `videoHeight` indicates\n * the current height of the video in css pixels.\n *\n * @method Html5#videoHeight\n * @return {number}\n *         The value of `videoHeight` from the video element. This will be a number\n *         in css pixels.\n *\n * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}\n */\n'videoHeight'].forEach(function (prop) {\n  Html5.prototype[prop] = function () {\n    return this.el_[prop];\n  };\n}); // Wrap native properties with a setter in this format:\n// set + toTitleCase(name)\n// The list is as follows:\n// setVolume, setSrc, setPoster, setPreload, setPlaybackRate, setDefaultPlaybackRate\n\n[\n/**\n * Set the value of `volume` on the media element. `volume` indicates the current\n * audio level as a percentage in decimal form. This means that 1 is 100%, 0.5 is 50%, and\n * so on.\n *\n * @method Html5#setVolume\n * @param {number} percentAsDecimal\n *        The volume percent as a decimal. Valid range is from 0-1.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}\n */\n'volume',\n/**\n * Set the value of `src` on the media element. `src` indicates the current\n * {@link Tech~SourceObject} for the media.\n *\n * @method Html5#setSrc\n * @param {Tech~SourceObject} src\n *        The source object to set as the current source.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-src}\n */\n'src',\n/**\n * Set the value of `poster` on the media element. `poster` is the url to\n * an image file that can/will be shown when no media data is available.\n *\n * @method Html5#setPoster\n * @param {string} poster\n *        The url to an image that should be used as the `poster` for the media\n *        element.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-poster}\n */\n'poster',\n/**\n * Set the value of `preload` on the media element. `preload` indicates\n * what should download before the media is interacted with. It can have the following\n * values:\n * - none: nothing should be downloaded\n * - metadata: poster and the first few frames of the media may be downloaded to get\n *   media dimensions and other metadata\n * - auto: allow the media and metadata for the media to be downloaded before\n *    interaction\n *\n * @method Html5#setPreload\n * @param {string} preload\n *         The value of `preload` to set on the media element. Must be 'none', 'metadata',\n *         or 'auto'.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}\n */\n'preload',\n/**\n * Set the value of `playbackRate` on the media element. `playbackRate` indicates\n * the rate at which the media should play back. Examples:\n *   - if playbackRate is set to 2, media will play twice as fast.\n *   - if playbackRate is set to 0.5, media will play half as fast.\n *\n * @method Html5#setPlaybackRate\n * @return {number}\n *         The value of `playbackRate` from the media element. A number indicating\n *         the current playback speed of the media, where 1 is normal speed.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n */\n'playbackRate',\n/**\n * Set the value of `defaultPlaybackRate` on the media element. `defaultPlaybackRate` indicates\n * the rate at which the media should play back upon initial startup. Changing this value\n * after a video has started will do nothing. Instead you should used {@link Html5#setPlaybackRate}.\n *\n * Example Values:\n *   - if playbackRate is set to 2, media will play twice as fast.\n *   - if playbackRate is set to 0.5, media will play half as fast.\n *\n * @method Html5.prototype.setDefaultPlaybackRate\n * @return {number}\n *         The value of `defaultPlaybackRate` from the media element. A number indicating\n *         the current playback speed of the media, where 1 is normal speed.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultplaybackrate}\n */\n'defaultPlaybackRate'].forEach(function (prop) {\n  Html5.prototype['set' + toTitleCase(prop)] = function (v) {\n    this.el_[prop] = v;\n  };\n}); // wrap native functions with a function\n// The list is as follows:\n// pause, load, play\n\n[\n/**\n * A wrapper around the media elements `pause` function. This will call the `HTML5`\n * media elements `pause` function.\n *\n * @method Html5#pause\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-pause}\n */\n'pause',\n/**\n * A wrapper around the media elements `load` function. This will call the `HTML5`s\n * media element `load` function.\n *\n * @method Html5#load\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-load}\n */\n'load',\n/**\n * A wrapper around the media elements `play` function. This will call the `HTML5`s\n * media element `play` function.\n *\n * @method Html5#play\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-play}\n */\n'play'].forEach(function (prop) {\n  Html5.prototype[prop] = function () {\n    return this.el_[prop]();\n  };\n});\nTech.withSourceHandlers(Html5);\n/**\n * Native source handler for Html5, simply passes the source to the media element.\n *\n * @property {Tech~SourceObject} source\n *        The source object\n *\n * @property {Html5} tech\n *        The instance of the HTML5 tech.\n */\n\nHtml5.nativeSourceHandler = {};\n/**\n * Check if the media element can play the given mime type.\n *\n * @param {string} type\n *        The mimetype to check\n *\n * @return {string}\n *         'probably', 'maybe', or '' (empty string)\n */\n\nHtml5.nativeSourceHandler.canPlayType = function (type) {\n  // IE without MediaPlayer throws an error (#519)\n  try {\n    return Html5.TEST_VID.canPlayType(type);\n  } catch (e) {\n    return '';\n  }\n};\n/**\n * Check if the media element can handle a source natively.\n *\n * @param {Tech~SourceObject} source\n *         The source object\n *\n * @param {Object} [options]\n *         Options to be passed to the tech.\n *\n * @return {string}\n *         'probably', 'maybe', or '' (empty string).\n */\n\n\nHtml5.nativeSourceHandler.canHandleSource = function (source, options) {\n  // If a type was provided we should rely on that\n  if (source.type) {\n    return Html5.nativeSourceHandler.canPlayType(source.type); // If no type, fall back to checking 'video/[EXTENSION]'\n  } else if (source.src) {\n    var ext = getFileExtension(source.src);\n    return Html5.nativeSourceHandler.canPlayType(\"video/\" + ext);\n  }\n\n  return '';\n};\n/**\n * Pass the source to the native media element.\n *\n * @param {Tech~SourceObject} source\n *        The source object\n *\n * @param {Html5} tech\n *        The instance of the Html5 tech\n *\n * @param {Object} [options]\n *        The options to pass to the source\n */\n\n\nHtml5.nativeSourceHandler.handleSource = function (source, tech, options) {\n  tech.setSrc(source.src);\n};\n/**\n * A noop for the native dispose function, as cleanup is not needed.\n */\n\n\nHtml5.nativeSourceHandler.dispose = function () {}; // Register the native source handler\n\n\nHtml5.registerSourceHandler(Html5.nativeSourceHandler);\nTech.registerTech('Html5', Html5);\n\n// on the player when they happen\n\nvar TECH_EVENTS_RETRIGGER = [\n/**\n * Fired while the user agent is downloading media data.\n *\n * @event Player#progress\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `progress` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechProgress_\n * @fires Player#progress\n * @listens Tech#progress\n */\n'progress',\n/**\n * Fires when the loading of an audio/video is aborted.\n *\n * @event Player#abort\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `abort` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechAbort_\n * @fires Player#abort\n * @listens Tech#abort\n */\n'abort',\n/**\n * Fires when the browser is intentionally not getting media data.\n *\n * @event Player#suspend\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `suspend` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechSuspend_\n * @fires Player#suspend\n * @listens Tech#suspend\n */\n'suspend',\n/**\n * Fires when the current playlist is empty.\n *\n * @event Player#emptied\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `emptied` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechEmptied_\n * @fires Player#emptied\n * @listens Tech#emptied\n */\n'emptied',\n/**\n * Fires when the browser is trying to get media data, but data is not available.\n *\n * @event Player#stalled\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `stalled` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechStalled_\n * @fires Player#stalled\n * @listens Tech#stalled\n */\n'stalled',\n/**\n * Fires when the browser has loaded meta data for the audio/video.\n *\n * @event Player#loadedmetadata\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `stalled` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechLoadedmetadata_\n * @fires Player#loadedmetadata\n * @listens Tech#loadedmetadata\n */\n'loadedmetadata',\n/**\n * Fires when the browser has loaded the current frame of the audio/video.\n *\n * @event Player#loadeddata\n * @type {event}\n */\n\n/**\n * Retrigger the `loadeddata` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechLoaddeddata_\n * @fires Player#loadeddata\n * @listens Tech#loadeddata\n */\n'loadeddata',\n/**\n * Fires when the current playback position has changed.\n *\n * @event Player#timeupdate\n * @type {event}\n */\n\n/**\n * Retrigger the `timeupdate` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechTimeUpdate_\n * @fires Player#timeupdate\n * @listens Tech#timeupdate\n */\n'timeupdate',\n/**\n * Fires when the video's intrinsic dimensions change\n *\n * @event Player#resize\n * @type {event}\n */\n\n/**\n * Retrigger the `resize` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechResize_\n * @fires Player#resize\n * @listens Tech#resize\n */\n'resize',\n/**\n * Fires when the volume has been changed\n *\n * @event Player#volumechange\n * @type {event}\n */\n\n/**\n * Retrigger the `volumechange` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechVolumechange_\n * @fires Player#volumechange\n * @listens Tech#volumechange\n */\n'volumechange',\n/**\n * Fires when the text track has been changed\n *\n * @event Player#texttrackchange\n * @type {event}\n */\n\n/**\n * Retrigger the `texttrackchange` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechTexttrackchange_\n * @fires Player#texttrackchange\n * @listens Tech#texttrackchange\n */\n'texttrackchange']; // events to queue when playback rate is zero\n// this is a hash for the sole purpose of mapping non-camel-cased event names\n// to camel-cased function names\n\nvar TECH_EVENTS_QUEUE = {\n  canplay: 'CanPlay',\n  canplaythrough: 'CanPlayThrough',\n  playing: 'Playing',\n  seeked: 'Seeked'\n};\nvar BREAKPOINT_ORDER = ['tiny', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'huge'];\nvar BREAKPOINT_CLASSES = {}; // grep: vjs-layout-tiny\n// grep: vjs-layout-x-small\n// grep: vjs-layout-small\n// grep: vjs-layout-medium\n// grep: vjs-layout-large\n// grep: vjs-layout-x-large\n// grep: vjs-layout-huge\n\nBREAKPOINT_ORDER.forEach(function (k) {\n  var v = k.charAt(0) === 'x' ? \"x-\" + k.substring(1) : k;\n  BREAKPOINT_CLASSES[k] = \"vjs-layout-\" + v;\n});\nvar DEFAULT_BREAKPOINTS = {\n  tiny: 210,\n  xsmall: 320,\n  small: 425,\n  medium: 768,\n  large: 1440,\n  xlarge: 2560,\n  huge: Infinity\n};\n/**\n * An instance of the `Player` class is created when any of the Video.js setup methods\n * are used to initialize a video.\n *\n * After an instance has been created it can be accessed globally in two ways:\n * 1. By calling `videojs('example_video_1');`\n * 2. By using it directly via  `videojs.players.example_video_1;`\n *\n * @extends Component\n */\n\nvar Player =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Player, _Component);\n\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Element} tag\n   *        The original video DOM element used for configuring options.\n   *\n   * @param {Object} [options]\n   *        Object of option names and values.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        Ready callback function.\n   */\n  function Player(tag, options, ready) {\n    var _this;\n\n    // Make sure tag ID exists\n    tag.id = tag.id || options.id || \"vjs_video_\" + newGUID(); // Set Options\n    // The options argument overrides options set in the video tag\n    // which overrides globally set options.\n    // This latter part coincides with the load order\n    // (tag must exist before Player)\n\n    options = assign(Player.getTagSettings(tag), options); // Delay the initialization of children because we need to set up\n    // player properties first, and can't use `this` before `super()`\n\n    options.initChildren = false; // Same with creating the element\n\n    options.createEl = false; // don't auto mixin the evented mixin\n\n    options.evented = false; // we don't want the player to report touch activity on itself\n    // see enableTouchActivity in Component\n\n    options.reportTouchActivity = false; // If language is not set, get the closest lang attribute\n\n    if (!options.language) {\n      if (typeof tag.closest === 'function') {\n        var closest = tag.closest('[lang]');\n\n        if (closest && closest.getAttribute) {\n          options.language = closest.getAttribute('lang');\n        }\n      } else {\n        var element = tag;\n\n        while (element && element.nodeType === 1) {\n          if (getAttributes(element).hasOwnProperty('lang')) {\n            options.language = element.getAttribute('lang');\n            break;\n          }\n\n          element = element.parentNode;\n        }\n      }\n    } // Run base component initializing with new options\n\n\n    _this = _Component.call(this, null, options, ready) || this; // Create bound methods for document listeners.\n\n    _this.boundDocumentFullscreenChange_ = bind(_assertThisInitialized(_this), _this.documentFullscreenChange_);\n    _this.boundFullWindowOnEscKey_ = bind(_assertThisInitialized(_this), _this.fullWindowOnEscKey); // create logger\n\n    _this.log = createLogger$1(_this.id_); // Hold our own reference to fullscreen api so it can be mocked in tests\n\n    _this.fsApi_ = FullscreenApi; // Tracks when a tech changes the poster\n\n    _this.isPosterFromTech_ = false; // Holds callback info that gets queued when playback rate is zero\n    // and a seek is happening\n\n    _this.queuedCallbacks_ = []; // Turn off API access because we're loading a new tech that might load asynchronously\n\n    _this.isReady_ = false; // Init state hasStarted_\n\n    _this.hasStarted_ = false; // Init state userActive_\n\n    _this.userActive_ = false; // if the global option object was accidentally blown away by\n    // someone, bail early with an informative error\n\n    if (!_this.options_ || !_this.options_.techOrder || !_this.options_.techOrder.length) {\n      throw new Error('No techOrder specified. Did you overwrite ' + 'videojs.options instead of just changing the ' + 'properties you want to override?');\n    } // Store the original tag used to set options\n\n\n    _this.tag = tag; // Store the tag attributes used to restore html5 element\n\n    _this.tagAttributes = tag && getAttributes(tag); // Update current language\n\n    _this.language(_this.options_.language); // Update Supported Languages\n\n\n    if (options.languages) {\n      // Normalise player option languages to lowercase\n      var languagesToLower = {};\n      Object.getOwnPropertyNames(options.languages).forEach(function (name) {\n        languagesToLower[name.toLowerCase()] = options.languages[name];\n      });\n      _this.languages_ = languagesToLower;\n    } else {\n      _this.languages_ = Player.prototype.options_.languages;\n    }\n\n    _this.resetCache_(); // Set poster\n\n\n    _this.poster_ = options.poster || ''; // Set controls\n\n    _this.controls_ = !!options.controls; // Original tag settings stored in options\n    // now remove immediately so native controls don't flash.\n    // May be turned back on by HTML5 tech if nativeControlsForTouch is true\n\n    tag.controls = false;\n    tag.removeAttribute('controls');\n    _this.changingSrc_ = false;\n    _this.playCallbacks_ = [];\n    _this.playTerminatedQueue_ = []; // the attribute overrides the option\n\n    if (tag.hasAttribute('autoplay')) {\n      _this.autoplay(true);\n    } else {\n      // otherwise use the setter to validate and\n      // set the correct value.\n      _this.autoplay(_this.options_.autoplay);\n    } // check plugins\n\n\n    if (options.plugins) {\n      Object.keys(options.plugins).forEach(function (name) {\n        if (typeof _this[name] !== 'function') {\n          throw new Error(\"plugin \\\"\" + name + \"\\\" does not exist\");\n        }\n      });\n    }\n    /*\n     * Store the internal state of scrubbing\n     *\n     * @private\n     * @return {Boolean} True if the user is scrubbing\n     */\n\n\n    _this.scrubbing_ = false;\n    _this.el_ = _this.createEl(); // Make this an evented object and use `el_` as its event bus.\n\n    evented(_assertThisInitialized(_this), {\n      eventBusKey: 'el_'\n    });\n\n    if (_this.fluid_) {\n      _this.on('playerreset', _this.updateStyleEl_);\n    } // We also want to pass the original player options to each component and plugin\n    // as well so they don't need to reach back into the player for options later.\n    // We also need to do another copy of this.options_ so we don't end up with\n    // an infinite loop.\n\n\n    var playerOptionsCopy = mergeOptions(_this.options_); // Load plugins\n\n    if (options.plugins) {\n      Object.keys(options.plugins).forEach(function (name) {\n        _this[name](options.plugins[name]);\n      });\n    }\n\n    _this.options_.playerOptions = playerOptionsCopy;\n    _this.middleware_ = [];\n\n    _this.initChildren(); // Set isAudio based on whether or not an audio tag was used\n\n\n    _this.isAudio(tag.nodeName.toLowerCase() === 'audio'); // Update controls className. Can't do this when the controls are initially\n    // set because the element doesn't exist yet.\n\n\n    if (_this.controls()) {\n      _this.addClass('vjs-controls-enabled');\n    } else {\n      _this.addClass('vjs-controls-disabled');\n    } // Set ARIA label and region role depending on player type\n\n\n    _this.el_.setAttribute('role', 'region');\n\n    if (_this.isAudio()) {\n      _this.el_.setAttribute('aria-label', _this.localize('Audio Player'));\n    } else {\n      _this.el_.setAttribute('aria-label', _this.localize('Video Player'));\n    }\n\n    if (_this.isAudio()) {\n      _this.addClass('vjs-audio');\n    }\n\n    if (_this.flexNotSupported_()) {\n      _this.addClass('vjs-no-flex');\n    } // TODO: Make this smarter. Toggle user state between touching/mousing\n    // using events, since devices can have both touch and mouse events.\n    // TODO: Make this check be performed again when the window switches between monitors\n    // (See https://github.com/videojs/video.js/issues/5683)\n\n\n    if (TOUCH_ENABLED) {\n      _this.addClass('vjs-touch-enabled');\n    } // iOS Safari has broken hover handling\n\n\n    if (!IS_IOS) {\n      _this.addClass('vjs-workinghover');\n    } // Make player easily findable by ID\n\n\n    Player.players[_this.id_] = _assertThisInitialized(_this); // Add a major version class to aid css in plugins\n\n    var majorVersion = version.split('.')[0];\n\n    _this.addClass(\"vjs-v\" + majorVersion); // When the player is first initialized, trigger activity so components\n    // like the control bar show themselves if needed\n\n\n    _this.userActive(true);\n\n    _this.reportUserActivity();\n\n    _this.one('play', _this.listenForUserActivity_);\n\n    _this.on('stageclick', _this.handleStageClick_);\n\n    _this.on('keydown', _this.handleKeyDown);\n\n    _this.breakpoints(_this.options_.breakpoints);\n\n    _this.responsive(_this.options_.responsive);\n\n    return _this;\n  }\n  /**\n   * Destroys the video player and does any necessary cleanup.\n   *\n   * This is especially helpful if you are dynamically adding and removing videos\n   * to/from the DOM.\n   *\n   * @fires Player#dispose\n   */\n\n\n  var _proto = Player.prototype;\n\n  _proto.dispose = function dispose() {\n    var _this2 = this;\n\n    /**\n     * Called when the player is being disposed of.\n     *\n     * @event Player#dispose\n     * @type {EventTarget~Event}\n     */\n    this.trigger('dispose'); // prevent dispose from being called twice\n\n    this.off('dispose'); // Make sure all player-specific document listeners are unbound. This is\n\n    off(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_);\n    off(document, 'keydown', this.boundFullWindowOnEscKey_);\n\n    if (this.styleEl_ && this.styleEl_.parentNode) {\n      this.styleEl_.parentNode.removeChild(this.styleEl_);\n      this.styleEl_ = null;\n    } // Kill reference to this player\n\n\n    Player.players[this.id_] = null;\n\n    if (this.tag && this.tag.player) {\n      this.tag.player = null;\n    }\n\n    if (this.el_ && this.el_.player) {\n      this.el_.player = null;\n    }\n\n    if (this.tech_) {\n      this.tech_.dispose();\n      this.isPosterFromTech_ = false;\n      this.poster_ = '';\n    }\n\n    if (this.playerElIngest_) {\n      this.playerElIngest_ = null;\n    }\n\n    if (this.tag) {\n      this.tag = null;\n    }\n\n    clearCacheForPlayer(this); // remove all event handlers for track lists\n    // all tracks and track listeners are removed on\n    // tech dispose\n\n    ALL.names.forEach(function (name) {\n      var props = ALL[name];\n\n      var list = _this2[props.getterName](); // if it is not a native list\n      // we have to manually remove event listeners\n\n\n      if (list && list.off) {\n        list.off();\n      }\n    }); // the actual .el_ is removed here\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Create the `Player`'s DOM element.\n   *\n   * @return {Element}\n   *         The DOM element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    var tag = this.tag;\n    var el;\n    var playerElIngest = this.playerElIngest_ = tag.parentNode && tag.parentNode.hasAttribute && tag.parentNode.hasAttribute('data-vjs-player');\n    var divEmbed = this.tag.tagName.toLowerCase() === 'video-js';\n\n    if (playerElIngest) {\n      el = this.el_ = tag.parentNode;\n    } else if (!divEmbed) {\n      el = this.el_ = _Component.prototype.createEl.call(this, 'div');\n    } // Copy over all the attributes from the tag, including ID and class\n    // ID will now reference player box, not the video tag\n\n\n    var attrs = getAttributes(tag);\n\n    if (divEmbed) {\n      el = this.el_ = tag;\n      tag = this.tag = document.createElement('video');\n\n      while (el.children.length) {\n        tag.appendChild(el.firstChild);\n      }\n\n      if (!hasClass(el, 'video-js')) {\n        addClass(el, 'video-js');\n      }\n\n      el.appendChild(tag);\n      playerElIngest = this.playerElIngest_ = el; // move properties over from our custom `video-js` element\n      // to our new `video` element. This will move things like\n      // `src` or `controls` that were set via js before the player\n      // was initialized.\n\n      Object.keys(el).forEach(function (k) {\n        tag[k] = el[k];\n      });\n    } // set tabindex to -1 to remove the video element from the focus order\n\n\n    tag.setAttribute('tabindex', '-1');\n    attrs.tabindex = '-1'; // Workaround for #4583 (JAWS+IE doesn't announce BPB or play button), and\n    // for the same issue with Chrome (on Windows) with JAWS.\n    // See https://github.com/FreedomScientific/VFO-standards-support/issues/78\n    // Note that we can't detect if JAWS is being used, but this ARIA attribute\n    //  doesn't change behavior of IE11 or Chrome if JAWS is not being used\n\n    if (IE_VERSION || IS_CHROME && IS_WINDOWS) {\n      tag.setAttribute('role', 'application');\n      attrs.role = 'application';\n    } // Remove width/height attrs from tag so CSS can make it 100% width/height\n\n\n    tag.removeAttribute('width');\n    tag.removeAttribute('height');\n\n    if ('width' in attrs) {\n      delete attrs.width;\n    }\n\n    if ('height' in attrs) {\n      delete attrs.height;\n    }\n\n    Object.getOwnPropertyNames(attrs).forEach(function (attr) {\n      // don't copy over the class attribute to the player element when we're in a div embed\n      // the class is already set up properly in the divEmbed case\n      // and we want to make sure that the `video-js` class doesn't get lost\n      if (!(divEmbed && attr === 'class')) {\n        el.setAttribute(attr, attrs[attr]);\n      }\n\n      if (divEmbed) {\n        tag.setAttribute(attr, attrs[attr]);\n      }\n    }); // Update tag id/class for use as HTML5 playback tech\n    // Might think we should do this after embedding in container so .vjs-tech class\n    // doesn't flash 100% width/height, but class only applies with .video-js parent\n\n    tag.playerId = tag.id;\n    tag.id += '_html5_api';\n    tag.className = 'vjs-tech'; // Make player findable on elements\n\n    tag.player = el.player = this; // Default state of video is paused\n\n    this.addClass('vjs-paused'); // Add a style element in the player that we'll use to set the width/height\n    // of the player in a way that's still overrideable by CSS, just like the\n    // video element\n\n    if (window$1.VIDEOJS_NO_DYNAMIC_STYLE !== true) {\n      this.styleEl_ = createStyleElement('vjs-styles-dimensions');\n      var defaultsStyleEl = $('.vjs-styles-defaults');\n      var head = $('head');\n      head.insertBefore(this.styleEl_, defaultsStyleEl ? defaultsStyleEl.nextSibling : head.firstChild);\n    }\n\n    this.fill_ = false;\n    this.fluid_ = false; // Pass in the width/height/aspectRatio options which will update the style el\n\n    this.width(this.options_.width);\n    this.height(this.options_.height);\n    this.fill(this.options_.fill);\n    this.fluid(this.options_.fluid);\n    this.aspectRatio(this.options_.aspectRatio); // Hide any links within the video/audio tag,\n    // because IE doesn't hide them completely from screen readers.\n\n    var links = tag.getElementsByTagName('a');\n\n    for (var i = 0; i < links.length; i++) {\n      var linkEl = links.item(i);\n      addClass(linkEl, 'vjs-hidden');\n      linkEl.setAttribute('hidden', 'hidden');\n    } // insertElFirst seems to cause the networkState to flicker from 3 to 2, so\n    // keep track of the original for later so we can know if the source originally failed\n\n\n    tag.initNetworkState_ = tag.networkState; // Wrap video tag in div (el/box) container\n\n    if (tag.parentNode && !playerElIngest) {\n      tag.parentNode.insertBefore(el, tag);\n    } // insert the tag as the first child of the player element\n    // then manually add it to the children array so that this.addChild\n    // will work properly for other components\n    //\n    // Breaks iPhone, fixed in HTML5 setup.\n\n\n    prependTo(tag, el);\n    this.children_.unshift(tag); // Set lang attr on player to ensure CSS :lang() in consistent with player\n    // if it's been set to something different to the doc\n\n    this.el_.setAttribute('lang', this.language_);\n    this.el_ = el;\n    return el;\n  }\n  /**\n   * A getter/setter for the `Player`'s width. Returns the player's configured value.\n   * To get the current width use `currentWidth()`.\n   *\n   * @param {number} [value]\n   *        The value to set the `Player`'s width to.\n   *\n   * @return {number}\n   *         The current width of the `Player` when getting.\n   */\n  ;\n\n  _proto.width = function width(value) {\n    return this.dimension('width', value);\n  }\n  /**\n   * A getter/setter for the `Player`'s height. Returns the player's configured value.\n   * To get the current height use `currentheight()`.\n   *\n   * @param {number} [value]\n   *        The value to set the `Player`'s heigth to.\n   *\n   * @return {number}\n   *         The current height of the `Player` when getting.\n   */\n  ;\n\n  _proto.height = function height(value) {\n    return this.dimension('height', value);\n  }\n  /**\n   * A getter/setter for the `Player`'s width & height.\n   *\n   * @param {string} dimension\n   *        This string can be:\n   *        - 'width'\n   *        - 'height'\n   *\n   * @param {number} [value]\n   *        Value for dimension specified in the first argument.\n   *\n   * @return {number}\n   *         The dimension arguments value when getting (width/height).\n   */\n  ;\n\n  _proto.dimension = function dimension(_dimension, value) {\n    var privDimension = _dimension + '_';\n\n    if (value === undefined) {\n      return this[privDimension] || 0;\n    }\n\n    if (value === '') {\n      // If an empty string is given, reset the dimension to be automatic\n      this[privDimension] = undefined;\n      this.updateStyleEl_();\n      return;\n    }\n\n    var parsedVal = parseFloat(value);\n\n    if (isNaN(parsedVal)) {\n      log.error(\"Improper value \\\"\" + value + \"\\\" supplied for for \" + _dimension);\n      return;\n    }\n\n    this[privDimension] = parsedVal;\n    this.updateStyleEl_();\n  }\n  /**\n   * A getter/setter/toggler for the vjs-fluid `className` on the `Player`.\n   *\n   * Turning this on will turn off fill mode.\n   *\n   * @param {boolean} [bool]\n   *        - A value of true adds the class.\n   *        - A value of false removes the class.\n   *        - No value will be a getter.\n   *\n   * @return {boolean|undefined}\n   *         - The value of fluid when getting.\n   *         - `undefined` when setting.\n   */\n  ;\n\n  _proto.fluid = function fluid(bool) {\n    if (bool === undefined) {\n      return !!this.fluid_;\n    }\n\n    this.fluid_ = !!bool;\n\n    if (isEvented(this)) {\n      this.off('playerreset', this.updateStyleEl_);\n    }\n\n    if (bool) {\n      this.addClass('vjs-fluid');\n      this.fill(false);\n      addEventedCallback(function () {\n        this.on('playerreset', this.updateStyleEl_);\n      });\n    } else {\n      this.removeClass('vjs-fluid');\n    }\n\n    this.updateStyleEl_();\n  }\n  /**\n   * A getter/setter/toggler for the vjs-fill `className` on the `Player`.\n   *\n   * Turning this on will turn off fluid mode.\n   *\n   * @param {boolean} [bool]\n   *        - A value of true adds the class.\n   *        - A value of false removes the class.\n   *        - No value will be a getter.\n   *\n   * @return {boolean|undefined}\n   *         - The value of fluid when getting.\n   *         - `undefined` when setting.\n   */\n  ;\n\n  _proto.fill = function fill(bool) {\n    if (bool === undefined) {\n      return !!this.fill_;\n    }\n\n    this.fill_ = !!bool;\n\n    if (bool) {\n      this.addClass('vjs-fill');\n      this.fluid(false);\n    } else {\n      this.removeClass('vjs-fill');\n    }\n  }\n  /**\n   * Get/Set the aspect ratio\n   *\n   * @param {string} [ratio]\n   *        Aspect ratio for player\n   *\n   * @return {string|undefined}\n   *         returns the current aspect ratio when getting\n   */\n\n  /**\n   * A getter/setter for the `Player`'s aspect ratio.\n   *\n   * @param {string} [ratio]\n   *        The value to set the `Player's aspect ratio to.\n   *\n   * @return {string|undefined}\n   *         - The current aspect ratio of the `Player` when getting.\n   *         - undefined when setting\n   */\n  ;\n\n  _proto.aspectRatio = function aspectRatio(ratio) {\n    if (ratio === undefined) {\n      return this.aspectRatio_;\n    } // Check for width:height format\n\n\n    if (!/^\\d+\\:\\d+$/.test(ratio)) {\n      throw new Error('Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.');\n    }\n\n    this.aspectRatio_ = ratio; // We're assuming if you set an aspect ratio you want fluid mode,\n    // because in fixed mode you could calculate width and height yourself.\n\n    this.fluid(true);\n    this.updateStyleEl_();\n  }\n  /**\n   * Update styles of the `Player` element (height, width and aspect ratio).\n   *\n   * @private\n   * @listens Tech#loadedmetadata\n   */\n  ;\n\n  _proto.updateStyleEl_ = function updateStyleEl_() {\n    if (window$1.VIDEOJS_NO_DYNAMIC_STYLE === true) {\n      var _width = typeof this.width_ === 'number' ? this.width_ : this.options_.width;\n\n      var _height = typeof this.height_ === 'number' ? this.height_ : this.options_.height;\n\n      var techEl = this.tech_ && this.tech_.el();\n\n      if (techEl) {\n        if (_width >= 0) {\n          techEl.width = _width;\n        }\n\n        if (_height >= 0) {\n          techEl.height = _height;\n        }\n      }\n\n      return;\n    }\n\n    var width;\n    var height;\n    var aspectRatio;\n    var idClass; // The aspect ratio is either used directly or to calculate width and height.\n\n    if (this.aspectRatio_ !== undefined && this.aspectRatio_ !== 'auto') {\n      // Use any aspectRatio that's been specifically set\n      aspectRatio = this.aspectRatio_;\n    } else if (this.videoWidth() > 0) {\n      // Otherwise try to get the aspect ratio from the video metadata\n      aspectRatio = this.videoWidth() + ':' + this.videoHeight();\n    } else {\n      // Or use a default. The video element's is 2:1, but 16:9 is more common.\n      aspectRatio = '16:9';\n    } // Get the ratio as a decimal we can use to calculate dimensions\n\n\n    var ratioParts = aspectRatio.split(':');\n    var ratioMultiplier = ratioParts[1] / ratioParts[0];\n\n    if (this.width_ !== undefined) {\n      // Use any width that's been specifically set\n      width = this.width_;\n    } else if (this.height_ !== undefined) {\n      // Or calulate the width from the aspect ratio if a height has been set\n      width = this.height_ / ratioMultiplier;\n    } else {\n      // Or use the video's metadata, or use the video el's default of 300\n      width = this.videoWidth() || 300;\n    }\n\n    if (this.height_ !== undefined) {\n      // Use any height that's been specifically set\n      height = this.height_;\n    } else {\n      // Otherwise calculate the height from the ratio and the width\n      height = width * ratioMultiplier;\n    } // Ensure the CSS class is valid by starting with an alpha character\n\n\n    if (/^[^a-zA-Z]/.test(this.id())) {\n      idClass = 'dimensions-' + this.id();\n    } else {\n      idClass = this.id() + '-dimensions';\n    } // Ensure the right class is still on the player for the style element\n\n\n    this.addClass(idClass);\n    setTextContent(this.styleEl_, \"\\n      .\" + idClass + \" {\\n        width: \" + width + \"px;\\n        height: \" + height + \"px;\\n      }\\n\\n      .\" + idClass + \".vjs-fluid {\\n        padding-top: \" + ratioMultiplier * 100 + \"%;\\n      }\\n    \");\n  }\n  /**\n   * Load/Create an instance of playback {@link Tech} including element\n   * and API methods. Then append the `Tech` element in `Player` as a child.\n   *\n   * @param {string} techName\n   *        name of the playback technology\n   *\n   * @param {string} source\n   *        video source\n   *\n   * @private\n   */\n  ;\n\n  _proto.loadTech_ = function loadTech_(techName, source) {\n    var _this3 = this;\n\n    // Pause and remove current playback technology\n    if (this.tech_) {\n      this.unloadTech_();\n    }\n\n    var titleTechName = toTitleCase(techName);\n    var camelTechName = techName.charAt(0).toLowerCase() + techName.slice(1); // get rid of the HTML5 video tag as soon as we are using another tech\n\n    if (titleTechName !== 'Html5' && this.tag) {\n      Tech.getTech('Html5').disposeMediaElement(this.tag);\n      this.tag.player = null;\n      this.tag = null;\n    }\n\n    this.techName_ = titleTechName; // Turn off API access because we're loading a new tech that might load asynchronously\n\n    this.isReady_ = false; // if autoplay is a string we pass false to the tech\n    // because the player is going to handle autoplay on `loadstart`\n\n    var autoplay = typeof this.autoplay() === 'string' ? false : this.autoplay(); // Grab tech-specific options from player options and add source and parent element to use.\n\n    var techOptions = {\n      source: source,\n      autoplay: autoplay,\n      'nativeControlsForTouch': this.options_.nativeControlsForTouch,\n      'playerId': this.id(),\n      'techId': this.id() + \"_\" + camelTechName + \"_api\",\n      'playsinline': this.options_.playsinline,\n      'preload': this.options_.preload,\n      'loop': this.options_.loop,\n      'muted': this.options_.muted,\n      'poster': this.poster(),\n      'language': this.language(),\n      'playerElIngest': this.playerElIngest_ || false,\n      'vtt.js': this.options_['vtt.js'],\n      'canOverridePoster': !!this.options_.techCanOverridePoster,\n      'enableSourceset': this.options_.enableSourceset,\n      'Promise': this.options_.Promise\n    };\n    ALL.names.forEach(function (name) {\n      var props = ALL[name];\n      techOptions[props.getterName] = _this3[props.privateName];\n    });\n    assign(techOptions, this.options_[titleTechName]);\n    assign(techOptions, this.options_[camelTechName]);\n    assign(techOptions, this.options_[techName.toLowerCase()]);\n\n    if (this.tag) {\n      techOptions.tag = this.tag;\n    }\n\n    if (source && source.src === this.cache_.src && this.cache_.currentTime > 0) {\n      techOptions.startTime = this.cache_.currentTime;\n    } // Initialize tech instance\n\n\n    var TechClass = Tech.getTech(techName);\n\n    if (!TechClass) {\n      throw new Error(\"No Tech named '\" + titleTechName + \"' exists! '\" + titleTechName + \"' should be registered using videojs.registerTech()'\");\n    }\n\n    this.tech_ = new TechClass(techOptions); // player.triggerReady is always async, so don't need this to be async\n\n    this.tech_.ready(bind(this, this.handleTechReady_), true);\n    textTrackConverter.jsonToTextTracks(this.textTracksJson_ || [], this.tech_); // Listen to all HTML5-defined events and trigger them on the player\n\n    TECH_EVENTS_RETRIGGER.forEach(function (event) {\n      _this3.on(_this3.tech_, event, _this3[\"handleTech\" + toTitleCase(event) + \"_\"]);\n    });\n    Object.keys(TECH_EVENTS_QUEUE).forEach(function (event) {\n      _this3.on(_this3.tech_, event, function (eventObj) {\n        if (_this3.tech_.playbackRate() === 0 && _this3.tech_.seeking()) {\n          _this3.queuedCallbacks_.push({\n            callback: _this3[\"handleTech\" + TECH_EVENTS_QUEUE[event] + \"_\"].bind(_this3),\n            event: eventObj\n          });\n\n          return;\n        }\n\n        _this3[\"handleTech\" + TECH_EVENTS_QUEUE[event] + \"_\"](eventObj);\n      });\n    });\n    this.on(this.tech_, 'loadstart', this.handleTechLoadStart_);\n    this.on(this.tech_, 'sourceset', this.handleTechSourceset_);\n    this.on(this.tech_, 'waiting', this.handleTechWaiting_);\n    this.on(this.tech_, 'ended', this.handleTechEnded_);\n    this.on(this.tech_, 'seeking', this.handleTechSeeking_);\n    this.on(this.tech_, 'play', this.handleTechPlay_);\n    this.on(this.tech_, 'firstplay', this.handleTechFirstPlay_);\n    this.on(this.tech_, 'pause', this.handleTechPause_);\n    this.on(this.tech_, 'durationchange', this.handleTechDurationChange_);\n    this.on(this.tech_, 'fullscreenchange', this.handleTechFullscreenChange_);\n    this.on(this.tech_, 'enterpictureinpicture', this.handleTechEnterPictureInPicture_);\n    this.on(this.tech_, 'leavepictureinpicture', this.handleTechLeavePictureInPicture_);\n    this.on(this.tech_, 'error', this.handleTechError_);\n    this.on(this.tech_, 'loadedmetadata', this.updateStyleEl_);\n    this.on(this.tech_, 'posterchange', this.handleTechPosterChange_);\n    this.on(this.tech_, 'textdata', this.handleTechTextData_);\n    this.on(this.tech_, 'ratechange', this.handleTechRateChange_);\n    this.usingNativeControls(this.techGet_('controls'));\n\n    if (this.controls() && !this.usingNativeControls()) {\n      this.addTechControlsListeners_();\n    } // Add the tech element in the DOM if it was not already there\n    // Make sure to not insert the original video element if using Html5\n\n\n    if (this.tech_.el().parentNode !== this.el() && (titleTechName !== 'Html5' || !this.tag)) {\n      prependTo(this.tech_.el(), this.el());\n    } // Get rid of the original video tag reference after the first tech is loaded\n\n\n    if (this.tag) {\n      this.tag.player = null;\n      this.tag = null;\n    }\n  }\n  /**\n   * Unload and dispose of the current playback {@link Tech}.\n   *\n   * @private\n   */\n  ;\n\n  _proto.unloadTech_ = function unloadTech_() {\n    var _this4 = this;\n\n    // Save the current text tracks so that we can reuse the same text tracks with the next tech\n    ALL.names.forEach(function (name) {\n      var props = ALL[name];\n      _this4[props.privateName] = _this4[props.getterName]();\n    });\n    this.textTracksJson_ = textTrackConverter.textTracksToJson(this.tech_);\n    this.isReady_ = false;\n    this.tech_.dispose();\n    this.tech_ = false;\n\n    if (this.isPosterFromTech_) {\n      this.poster_ = '';\n      this.trigger('posterchange');\n    }\n\n    this.isPosterFromTech_ = false;\n  }\n  /**\n   * Return a reference to the current {@link Tech}.\n   * It will print a warning by default about the danger of using the tech directly\n   * but any argument that is passed in will silence the warning.\n   *\n   * @param {*} [safety]\n   *        Anything passed in to silence the warning\n   *\n   * @return {Tech}\n   *         The Tech\n   */\n  ;\n\n  _proto.tech = function tech(safety) {\n    if (safety === undefined) {\n      log.warn('Using the tech directly can be dangerous. I hope you know what you\\'re doing.\\n' + 'See https://github.com/videojs/video.js/issues/2617 for more info.\\n');\n    }\n\n    return this.tech_;\n  }\n  /**\n   * Set up click and touch listeners for the playback element\n   *\n   * - On desktops: a click on the video itself will toggle playback\n   * - On mobile devices: a click on the video toggles controls\n   *   which is done by toggling the user state between active and\n   *   inactive\n   * - A tap can signal that a user has become active or has become inactive\n   *   e.g. a quick tap on an iPhone movie should reveal the controls. Another\n   *   quick tap should hide them again (signaling the user is in an inactive\n   *   viewing state)\n   * - In addition to this, we still want the user to be considered inactive after\n   *   a few seconds of inactivity.\n   *\n   * > Note: the only part of iOS interaction we can't mimic with this setup\n   * is a touch and hold on the video element counting as activity in order to\n   * keep the controls showing, but that shouldn't be an issue. A touch and hold\n   * on any controls will still keep the user active\n   *\n   * @private\n   */\n  ;\n\n  _proto.addTechControlsListeners_ = function addTechControlsListeners_() {\n    // Make sure to remove all the previous listeners in case we are called multiple times.\n    this.removeTechControlsListeners_(); // Some browsers (Chrome & IE) don't trigger a click on a flash swf, but do\n    // trigger mousedown/up.\n    // http://stackoverflow.com/questions/1444562/javascript-onclick-event-over-flash-object\n    // Any touch events are set to block the mousedown event from happening\n\n    this.on(this.tech_, 'mouseup', this.handleTechClick_);\n    this.on(this.tech_, 'dblclick', this.handleTechDoubleClick_); // If the controls were hidden we don't want that to change without a tap event\n    // so we'll check if the controls were already showing before reporting user\n    // activity\n\n    this.on(this.tech_, 'touchstart', this.handleTechTouchStart_);\n    this.on(this.tech_, 'touchmove', this.handleTechTouchMove_);\n    this.on(this.tech_, 'touchend', this.handleTechTouchEnd_); // The tap listener needs to come after the touchend listener because the tap\n    // listener cancels out any reportedUserActivity when setting userActive(false)\n\n    this.on(this.tech_, 'tap', this.handleTechTap_);\n  }\n  /**\n   * Remove the listeners used for click and tap controls. This is needed for\n   * toggling to controls disabled, where a tap/touch should do nothing.\n   *\n   * @private\n   */\n  ;\n\n  _proto.removeTechControlsListeners_ = function removeTechControlsListeners_() {\n    // We don't want to just use `this.off()` because there might be other needed\n    // listeners added by techs that extend this.\n    this.off(this.tech_, 'tap', this.handleTechTap_);\n    this.off(this.tech_, 'touchstart', this.handleTechTouchStart_);\n    this.off(this.tech_, 'touchmove', this.handleTechTouchMove_);\n    this.off(this.tech_, 'touchend', this.handleTechTouchEnd_);\n    this.off(this.tech_, 'mouseup', this.handleTechClick_);\n    this.off(this.tech_, 'dblclick', this.handleTechDoubleClick_);\n  }\n  /**\n   * Player waits for the tech to be ready\n   *\n   * @private\n   */\n  ;\n\n  _proto.handleTechReady_ = function handleTechReady_() {\n    this.triggerReady(); // Keep the same volume as before\n\n    if (this.cache_.volume) {\n      this.techCall_('setVolume', this.cache_.volume);\n    } // Look if the tech found a higher resolution poster while loading\n\n\n    this.handleTechPosterChange_(); // Update the duration if available\n\n    this.handleTechDurationChange_();\n  }\n  /**\n   * Retrigger the `loadstart` event that was triggered by the {@link Tech}. This\n   * function will also trigger {@link Player#firstplay} if it is the first loadstart\n   * for a video.\n   *\n   * @fires Player#loadstart\n   * @fires Player#firstplay\n   * @listens Tech#loadstart\n   * @private\n   */\n  ;\n\n  _proto.handleTechLoadStart_ = function handleTechLoadStart_() {\n    // TODO: Update to use `emptied` event instead. See #1277.\n    this.removeClass('vjs-ended');\n    this.removeClass('vjs-seeking'); // reset the error state\n\n    this.error(null); // Update the duration\n\n    this.handleTechDurationChange_(); // If it's already playing we want to trigger a firstplay event now.\n    // The firstplay event relies on both the play and loadstart events\n    // which can happen in any order for a new source\n\n    if (!this.paused()) {\n      /**\n       * Fired when the user agent begins looking for media data\n       *\n       * @event Player#loadstart\n       * @type {EventTarget~Event}\n       */\n      this.trigger('loadstart');\n      this.trigger('firstplay');\n    } else {\n      // reset the hasStarted state\n      this.hasStarted(false);\n      this.trigger('loadstart');\n    } // autoplay happens after loadstart for the browser,\n    // so we mimic that behavior\n\n\n    this.manualAutoplay_(this.autoplay());\n  }\n  /**\n   * Handle autoplay string values, rather than the typical boolean\n   * values that should be handled by the tech. Note that this is not\n   * part of any specification. Valid values and what they do can be\n   * found on the autoplay getter at Player#autoplay()\n   */\n  ;\n\n  _proto.manualAutoplay_ = function manualAutoplay_(type) {\n    var _this5 = this;\n\n    if (!this.tech_ || typeof type !== 'string') {\n      return;\n    }\n\n    var muted = function muted() {\n      var previouslyMuted = _this5.muted();\n\n      _this5.muted(true);\n\n      var restoreMuted = function restoreMuted() {\n        _this5.muted(previouslyMuted);\n      }; // restore muted on play terminatation\n\n\n      _this5.playTerminatedQueue_.push(restoreMuted);\n\n      var mutedPromise = _this5.play();\n\n      if (!isPromise(mutedPromise)) {\n        return;\n      }\n\n      return mutedPromise[\"catch\"](restoreMuted);\n    };\n\n    var promise; // if muted defaults to true\n    // the only thing we can do is call play\n\n    if (type === 'any' && this.muted() !== true) {\n      promise = this.play();\n\n      if (isPromise(promise)) {\n        promise = promise[\"catch\"](muted);\n      }\n    } else if (type === 'muted' && this.muted() !== true) {\n      promise = muted();\n    } else {\n      promise = this.play();\n    }\n\n    if (!isPromise(promise)) {\n      return;\n    }\n\n    return promise.then(function () {\n      _this5.trigger({\n        type: 'autoplay-success',\n        autoplay: type\n      });\n    })[\"catch\"](function (e) {\n      _this5.trigger({\n        type: 'autoplay-failure',\n        autoplay: type\n      });\n    });\n  }\n  /**\n   * Update the internal source caches so that we return the correct source from\n   * `src()`, `currentSource()`, and `currentSources()`.\n   *\n   * > Note: `currentSources` will not be updated if the source that is passed in exists\n   *         in the current `currentSources` cache.\n   *\n   *\n   * @param {Tech~SourceObject} srcObj\n   *        A string or object source to update our caches to.\n   */\n  ;\n\n  _proto.updateSourceCaches_ = function updateSourceCaches_(srcObj) {\n    if (srcObj === void 0) {\n      srcObj = '';\n    }\n\n    var src = srcObj;\n    var type = '';\n\n    if (typeof src !== 'string') {\n      src = srcObj.src;\n      type = srcObj.type;\n    } // make sure all the caches are set to default values\n    // to prevent null checking\n\n\n    this.cache_.source = this.cache_.source || {};\n    this.cache_.sources = this.cache_.sources || []; // try to get the type of the src that was passed in\n\n    if (src && !type) {\n      type = findMimetype(this, src);\n    } // update `currentSource` cache always\n\n\n    this.cache_.source = mergeOptions({}, srcObj, {\n      src: src,\n      type: type\n    });\n    var matchingSources = this.cache_.sources.filter(function (s) {\n      return s.src && s.src === src;\n    });\n    var sourceElSources = [];\n    var sourceEls = this.$$('source');\n    var matchingSourceEls = [];\n\n    for (var i = 0; i < sourceEls.length; i++) {\n      var sourceObj = getAttributes(sourceEls[i]);\n      sourceElSources.push(sourceObj);\n\n      if (sourceObj.src && sourceObj.src === src) {\n        matchingSourceEls.push(sourceObj.src);\n      }\n    } // if we have matching source els but not matching sources\n    // the current source cache is not up to date\n\n\n    if (matchingSourceEls.length && !matchingSources.length) {\n      this.cache_.sources = sourceElSources; // if we don't have matching source or source els set the\n      // sources cache to the `currentSource` cache\n    } else if (!matchingSources.length) {\n      this.cache_.sources = [this.cache_.source];\n    } // update the tech `src` cache\n\n\n    this.cache_.src = src;\n  }\n  /**\n   * *EXPERIMENTAL* Fired when the source is set or changed on the {@link Tech}\n   * causing the media element to reload.\n   *\n   * It will fire for the initial source and each subsequent source.\n   * This event is a custom event from Video.js and is triggered by the {@link Tech}.\n   *\n   * The event object for this event contains a `src` property that will contain the source\n   * that was available when the event was triggered. This is generally only necessary if Video.js\n   * is switching techs while the source was being changed.\n   *\n   * It is also fired when `load` is called on the player (or media element)\n   * because the {@link https://html.spec.whatwg.org/multipage/media.html#dom-media-load|specification for `load`}\n   * says that the resource selection algorithm needs to be aborted and restarted.\n   * In this case, it is very likely that the `src` property will be set to the\n   * empty string `\"\"` to indicate we do not know what the source will be but\n   * that it is changing.\n   *\n   * *This event is currently still experimental and may change in minor releases.*\n   * __To use this, pass `enableSourceset` option to the player.__\n   *\n   * @event Player#sourceset\n   * @type {EventTarget~Event}\n   * @prop {string} src\n   *                The source url available when the `sourceset` was triggered.\n   *                It will be an empty string if we cannot know what the source is\n   *                but know that the source will change.\n   */\n\n  /**\n   * Retrigger the `sourceset` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#sourceset\n   * @listens Tech#sourceset\n   * @private\n   */\n  ;\n\n  _proto.handleTechSourceset_ = function handleTechSourceset_(event) {\n    var _this6 = this;\n\n    // only update the source cache when the source\n    // was not updated using the player api\n    if (!this.changingSrc_) {\n      var updateSourceCaches = function updateSourceCaches(src) {\n        return _this6.updateSourceCaches_(src);\n      };\n\n      var playerSrc = this.currentSource().src;\n      var eventSrc = event.src; // if we have a playerSrc that is not a blob, and a tech src that is a blob\n\n      if (playerSrc && !/^blob:/.test(playerSrc) && /^blob:/.test(eventSrc)) {\n        // if both the tech source and the player source were updated we assume\n        // something like @videojs/http-streaming did the sourceset and skip updating the source cache.\n        if (!this.lastSource_ || this.lastSource_.tech !== eventSrc && this.lastSource_.player !== playerSrc) {\n          updateSourceCaches = function updateSourceCaches() {};\n        }\n      } // update the source to the intial source right away\n      // in some cases this will be empty string\n\n\n      updateSourceCaches(eventSrc); // if the `sourceset` `src` was an empty string\n      // wait for a `loadstart` to update the cache to `currentSrc`.\n      // If a sourceset happens before a `loadstart`, we reset the state\n\n      if (!event.src) {\n        this.tech_.any(['sourceset', 'loadstart'], function (e) {\n          // if a sourceset happens before a `loadstart` there\n          // is nothing to do as this `handleTechSourceset_`\n          // will be called again and this will be handled there.\n          if (e.type === 'sourceset') {\n            return;\n          }\n\n          var techSrc = _this6.techGet('currentSrc');\n\n          _this6.lastSource_.tech = techSrc;\n\n          _this6.updateSourceCaches_(techSrc);\n        });\n      }\n    }\n\n    this.lastSource_ = {\n      player: this.currentSource().src,\n      tech: event.src\n    };\n    this.trigger({\n      src: event.src,\n      type: 'sourceset'\n    });\n  }\n  /**\n   * Add/remove the vjs-has-started class\n   *\n   * @fires Player#firstplay\n   *\n   * @param {boolean} request\n   *        - true: adds the class\n   *        - false: remove the class\n   *\n   * @return {boolean}\n   *         the boolean value of hasStarted_\n   */\n  ;\n\n  _proto.hasStarted = function hasStarted(request) {\n    if (request === undefined) {\n      // act as getter, if we have no request to change\n      return this.hasStarted_;\n    }\n\n    if (request === this.hasStarted_) {\n      return;\n    }\n\n    this.hasStarted_ = request;\n\n    if (this.hasStarted_) {\n      this.addClass('vjs-has-started');\n      this.trigger('firstplay');\n    } else {\n      this.removeClass('vjs-has-started');\n    }\n  }\n  /**\n   * Fired whenever the media begins or resumes playback\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play}\n   * @fires Player#play\n   * @listens Tech#play\n   * @private\n   */\n  ;\n\n  _proto.handleTechPlay_ = function handleTechPlay_() {\n    this.removeClass('vjs-ended');\n    this.removeClass('vjs-paused');\n    this.addClass('vjs-playing'); // hide the poster when the user hits play\n\n    this.hasStarted(true);\n    /**\n     * Triggered whenever an {@link Tech#play} event happens. Indicates that\n     * playback has started or resumed.\n     *\n     * @event Player#play\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('play');\n  }\n  /**\n   * Retrigger the `ratechange` event that was triggered by the {@link Tech}.\n   *\n   * If there were any events queued while the playback rate was zero, fire\n   * those events now.\n   *\n   * @private\n   * @method Player#handleTechRateChange_\n   * @fires Player#ratechange\n   * @listens Tech#ratechange\n   */\n  ;\n\n  _proto.handleTechRateChange_ = function handleTechRateChange_() {\n    if (this.tech_.playbackRate() > 0 && this.cache_.lastPlaybackRate === 0) {\n      this.queuedCallbacks_.forEach(function (queued) {\n        return queued.callback(queued.event);\n      });\n      this.queuedCallbacks_ = [];\n    }\n\n    this.cache_.lastPlaybackRate = this.tech_.playbackRate();\n    /**\n     * Fires when the playing speed of the audio/video is changed\n     *\n     * @event Player#ratechange\n     * @type {event}\n     */\n\n    this.trigger('ratechange');\n  }\n  /**\n   * Retrigger the `waiting` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#waiting\n   * @listens Tech#waiting\n   * @private\n   */\n  ;\n\n  _proto.handleTechWaiting_ = function handleTechWaiting_() {\n    var _this7 = this;\n\n    this.addClass('vjs-waiting');\n    /**\n     * A readyState change on the DOM element has caused playback to stop.\n     *\n     * @event Player#waiting\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('waiting'); // Browsers may emit a timeupdate event after a waiting event. In order to prevent\n    // premature removal of the waiting class, wait for the time to change.\n\n    var timeWhenWaiting = this.currentTime();\n\n    var timeUpdateListener = function timeUpdateListener() {\n      if (timeWhenWaiting !== _this7.currentTime()) {\n        _this7.removeClass('vjs-waiting');\n\n        _this7.off('timeupdate', timeUpdateListener);\n      }\n    };\n\n    this.on('timeupdate', timeUpdateListener);\n  }\n  /**\n   * Retrigger the `canplay` event that was triggered by the {@link Tech}.\n   * > Note: This is not consistent between browsers. See #1351\n   *\n   * @fires Player#canplay\n   * @listens Tech#canplay\n   * @private\n   */\n  ;\n\n  _proto.handleTechCanPlay_ = function handleTechCanPlay_() {\n    this.removeClass('vjs-waiting');\n    /**\n     * The media has a readyState of HAVE_FUTURE_DATA or greater.\n     *\n     * @event Player#canplay\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('canplay');\n  }\n  /**\n   * Retrigger the `canplaythrough` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#canplaythrough\n   * @listens Tech#canplaythrough\n   * @private\n   */\n  ;\n\n  _proto.handleTechCanPlayThrough_ = function handleTechCanPlayThrough_() {\n    this.removeClass('vjs-waiting');\n    /**\n     * The media has a readyState of HAVE_ENOUGH_DATA or greater. This means that the\n     * entire media file can be played without buffering.\n     *\n     * @event Player#canplaythrough\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('canplaythrough');\n  }\n  /**\n   * Retrigger the `playing` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#playing\n   * @listens Tech#playing\n   * @private\n   */\n  ;\n\n  _proto.handleTechPlaying_ = function handleTechPlaying_() {\n    this.removeClass('vjs-waiting');\n    /**\n     * The media is no longer blocked from playback, and has started playing.\n     *\n     * @event Player#playing\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('playing');\n  }\n  /**\n   * Retrigger the `seeking` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#seeking\n   * @listens Tech#seeking\n   * @private\n   */\n  ;\n\n  _proto.handleTechSeeking_ = function handleTechSeeking_() {\n    this.addClass('vjs-seeking');\n    /**\n     * Fired whenever the player is jumping to a new time\n     *\n     * @event Player#seeking\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('seeking');\n  }\n  /**\n   * Retrigger the `seeked` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#seeked\n   * @listens Tech#seeked\n   * @private\n   */\n  ;\n\n  _proto.handleTechSeeked_ = function handleTechSeeked_() {\n    this.removeClass('vjs-seeking');\n    this.removeClass('vjs-ended');\n    /**\n     * Fired when the player has finished jumping to a new time\n     *\n     * @event Player#seeked\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('seeked');\n  }\n  /**\n   * Retrigger the `firstplay` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#firstplay\n   * @listens Tech#firstplay\n   * @deprecated As of 6.0 firstplay event is deprecated.\n   *             As of 6.0 passing the `starttime` option to the player and the firstplay event are deprecated.\n   * @private\n   */\n  ;\n\n  _proto.handleTechFirstPlay_ = function handleTechFirstPlay_() {\n    // If the first starttime attribute is specified\n    // then we will start at the given offset in seconds\n    if (this.options_.starttime) {\n      log.warn('Passing the `starttime` option to the player will be deprecated in 6.0');\n      this.currentTime(this.options_.starttime);\n    }\n\n    this.addClass('vjs-has-started');\n    /**\n     * Fired the first time a video is played. Not part of the HLS spec, and this is\n     * probably not the best implementation yet, so use sparingly. If you don't have a\n     * reason to prevent playback, use `myPlayer.one('play');` instead.\n     *\n     * @event Player#firstplay\n     * @deprecated As of 6.0 firstplay event is deprecated.\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('firstplay');\n  }\n  /**\n   * Retrigger the `pause` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#pause\n   * @listens Tech#pause\n   * @private\n   */\n  ;\n\n  _proto.handleTechPause_ = function handleTechPause_() {\n    this.removeClass('vjs-playing');\n    this.addClass('vjs-paused');\n    /**\n     * Fired whenever the media has been paused\n     *\n     * @event Player#pause\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('pause');\n  }\n  /**\n   * Retrigger the `ended` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#ended\n   * @listens Tech#ended\n   * @private\n   */\n  ;\n\n  _proto.handleTechEnded_ = function handleTechEnded_() {\n    this.addClass('vjs-ended');\n\n    if (this.options_.loop) {\n      this.currentTime(0);\n      this.play();\n    } else if (!this.paused()) {\n      this.pause();\n    }\n    /**\n     * Fired when the end of the media resource is reached (currentTime == duration)\n     *\n     * @event Player#ended\n     * @type {EventTarget~Event}\n     */\n\n\n    this.trigger('ended');\n  }\n  /**\n   * Fired when the duration of the media resource is first known or changed\n   *\n   * @listens Tech#durationchange\n   * @private\n   */\n  ;\n\n  _proto.handleTechDurationChange_ = function handleTechDurationChange_() {\n    this.duration(this.techGet_('duration'));\n  }\n  /**\n   * Handle a click on the media element to play/pause\n   *\n   * @param {EventTarget~Event} event\n   *        the event that caused this function to trigger\n   *\n   * @listens Tech#mouseup\n   * @private\n   */\n  ;\n\n  _proto.handleTechClick_ = function handleTechClick_(event) {\n    if (!isSingleLeftClick(event)) {\n      return;\n    } // When controls are disabled a click should not toggle playback because\n    // the click is considered a control\n\n\n    if (!this.controls_) {\n      return;\n    }\n\n    if (this.paused()) {\n      silencePromise(this.play());\n    } else {\n      this.pause();\n    }\n  }\n  /**\n   * Handle a double-click on the media element to enter/exit fullscreen\n   *\n   * @param {EventTarget~Event} event\n   *        the event that caused this function to trigger\n   *\n   * @listens Tech#dblclick\n   * @private\n   */\n  ;\n\n  _proto.handleTechDoubleClick_ = function handleTechDoubleClick_(event) {\n    if (!this.controls_) {\n      return;\n    } // we do not want to toggle fullscreen state\n    // when double-clicking inside a control bar or a modal\n\n\n    var inAllowedEls = Array.prototype.some.call(this.$$('.vjs-control-bar, .vjs-modal-dialog'), function (el) {\n      return el.contains(event.target);\n    });\n\n    if (!inAllowedEls) {\n      /*\n       * options.userActions.doubleClick\n       *\n       * If `undefined` or `true`, double-click toggles fullscreen if controls are present\n       * Set to `false` to disable double-click handling\n       * Set to a function to substitute an external double-click handler\n       */\n      if (this.options_ === undefined || this.options_.userActions === undefined || this.options_.userActions.doubleClick === undefined || this.options_.userActions.doubleClick !== false) {\n        if (this.options_ !== undefined && this.options_.userActions !== undefined && typeof this.options_.userActions.doubleClick === 'function') {\n          this.options_.userActions.doubleClick.call(this, event);\n        } else if (this.isFullscreen()) {\n          this.exitFullscreen();\n        } else {\n          this.requestFullscreen();\n        }\n      }\n    }\n  }\n  /**\n   * Handle a tap on the media element. It will toggle the user\n   * activity state, which hides and shows the controls.\n   *\n   * @listens Tech#tap\n   * @private\n   */\n  ;\n\n  _proto.handleTechTap_ = function handleTechTap_() {\n    this.userActive(!this.userActive());\n  }\n  /**\n   * Handle touch to start\n   *\n   * @listens Tech#touchstart\n   * @private\n   */\n  ;\n\n  _proto.handleTechTouchStart_ = function handleTechTouchStart_() {\n    this.userWasActive = this.userActive();\n  }\n  /**\n   * Handle touch to move\n   *\n   * @listens Tech#touchmove\n   * @private\n   */\n  ;\n\n  _proto.handleTechTouchMove_ = function handleTechTouchMove_() {\n    if (this.userWasActive) {\n      this.reportUserActivity();\n    }\n  }\n  /**\n   * Handle touch to end\n   *\n   * @param {EventTarget~Event} event\n   *        the touchend event that triggered\n   *        this function\n   *\n   * @listens Tech#touchend\n   * @private\n   */\n  ;\n\n  _proto.handleTechTouchEnd_ = function handleTechTouchEnd_(event) {\n    // Stop the mouse events from also happening\n    event.preventDefault();\n  }\n  /**\n   * native click events on the SWF aren't triggered on IE11, Win8.1RT\n   * use stageclick events triggered from inside the SWF instead\n   *\n   * @private\n   * @listens stageclick\n   */\n  ;\n\n  _proto.handleStageClick_ = function handleStageClick_() {\n    this.reportUserActivity();\n  }\n  /**\n   * @private\n   */\n  ;\n\n  _proto.toggleFullscreenClass_ = function toggleFullscreenClass_() {\n    if (this.isFullscreen()) {\n      this.addClass('vjs-fullscreen');\n    } else {\n      this.removeClass('vjs-fullscreen');\n    }\n  }\n  /**\n   * when the document fschange event triggers it calls this\n   */\n  ;\n\n  _proto.documentFullscreenChange_ = function documentFullscreenChange_(e) {\n    var el = this.el();\n    var isFs = document[this.fsApi_.fullscreenElement] === el;\n\n    if (!isFs && el.matches) {\n      isFs = el.matches(':' + this.fsApi_.fullscreen);\n    } else if (!isFs && el.msMatchesSelector) {\n      isFs = el.msMatchesSelector(':' + this.fsApi_.fullscreen);\n    }\n\n    this.isFullscreen(isFs); // If cancelling fullscreen, remove event listener.\n\n    if (this.isFullscreen() === false) {\n      off(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_);\n    }\n\n    if (this.fsApi_.prefixed) {\n      /**\n       * @event Player#fullscreenchange\n       * @type {EventTarget~Event}\n       */\n      this.trigger('fullscreenchange');\n    }\n  }\n  /**\n   * Handle Tech Fullscreen Change\n   *\n   * @param {EventTarget~Event} event\n   *        the fullscreenchange event that triggered this function\n   *\n   * @param {Object} data\n   *        the data that was sent with the event\n   *\n   * @private\n   * @listens Tech#fullscreenchange\n   * @fires Player#fullscreenchange\n   */\n  ;\n\n  _proto.handleTechFullscreenChange_ = function handleTechFullscreenChange_(event, data) {\n    if (data) {\n      this.isFullscreen(data.isFullscreen);\n    }\n    /**\n     * Fired when going in and out of fullscreen.\n     *\n     * @event Player#fullscreenchange\n     * @type {EventTarget~Event}\n     */\n\n\n    this.trigger('fullscreenchange');\n  }\n  /**\n   * @private\n   */\n  ;\n\n  _proto.togglePictureInPictureClass_ = function togglePictureInPictureClass_() {\n    if (this.isInPictureInPicture()) {\n      this.addClass('vjs-picture-in-picture');\n    } else {\n      this.removeClass('vjs-picture-in-picture');\n    }\n  }\n  /**\n   * Handle Tech Enter Picture-in-Picture.\n   *\n   * @param {EventTarget~Event} event\n   *        the enterpictureinpicture event that triggered this function\n   *\n   * @private\n   * @listens Tech#enterpictureinpicture\n   */\n  ;\n\n  _proto.handleTechEnterPictureInPicture_ = function handleTechEnterPictureInPicture_(event) {\n    this.isInPictureInPicture(true);\n  }\n  /**\n   * Handle Tech Leave Picture-in-Picture.\n   *\n   * @param {EventTarget~Event} event\n   *        the leavepictureinpicture event that triggered this function\n   *\n   * @private\n   * @listens Tech#leavepictureinpicture\n   */\n  ;\n\n  _proto.handleTechLeavePictureInPicture_ = function handleTechLeavePictureInPicture_(event) {\n    this.isInPictureInPicture(false);\n  }\n  /**\n   * Fires when an error occurred during the loading of an audio/video.\n   *\n   * @private\n   * @listens Tech#error\n   */\n  ;\n\n  _proto.handleTechError_ = function handleTechError_() {\n    var error = this.tech_.error();\n    this.error(error);\n  }\n  /**\n   * Retrigger the `textdata` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#textdata\n   * @listens Tech#textdata\n   * @private\n   */\n  ;\n\n  _proto.handleTechTextData_ = function handleTechTextData_() {\n    var data = null;\n\n    if (arguments.length > 1) {\n      data = arguments[1];\n    }\n    /**\n     * Fires when we get a textdata event from tech\n     *\n     * @event Player#textdata\n     * @type {EventTarget~Event}\n     */\n\n\n    this.trigger('textdata', data);\n  }\n  /**\n   * Get object for cached values.\n   *\n   * @return {Object}\n   *         get the current object cache\n   */\n  ;\n\n  _proto.getCache = function getCache() {\n    return this.cache_;\n  }\n  /**\n   * Resets the internal cache object.\n   *\n   * Using this function outside the player constructor or reset method may\n   * have unintended side-effects.\n   *\n   * @private\n   */\n  ;\n\n  _proto.resetCache_ = function resetCache_() {\n    this.cache_ = {\n      // Right now, the currentTime is not _really_ cached because it is always\n      // retrieved from the tech (see: currentTime). However, for completeness,\n      // we set it to zero here to ensure that if we do start actually caching\n      // it, we reset it along with everything else.\n      currentTime: 0,\n      inactivityTimeout: this.options_.inactivityTimeout,\n      duration: NaN,\n      lastVolume: 1,\n      lastPlaybackRate: this.defaultPlaybackRate(),\n      media: null,\n      src: '',\n      source: {},\n      sources: [],\n      volume: 1\n    };\n  }\n  /**\n   * Pass values to the playback tech\n   *\n   * @param {string} [method]\n   *        the method to call\n   *\n   * @param {Object} arg\n   *        the argument to pass\n   *\n   * @private\n   */\n  ;\n\n  _proto.techCall_ = function techCall_(method, arg) {\n    // If it's not ready yet, call method when it is\n    this.ready(function () {\n      if (method in allowedSetters) {\n        return set(this.middleware_, this.tech_, method, arg);\n      } else if (method in allowedMediators) {\n        return mediate(this.middleware_, this.tech_, method, arg);\n      }\n\n      try {\n        if (this.tech_) {\n          this.tech_[method](arg);\n        }\n      } catch (e) {\n        log(e);\n        throw e;\n      }\n    }, true);\n  }\n  /**\n   * Get calls can't wait for the tech, and sometimes don't need to.\n   *\n   * @param {string} method\n   *        Tech method\n   *\n   * @return {Function|undefined}\n   *         the method or undefined\n   *\n   * @private\n   */\n  ;\n\n  _proto.techGet_ = function techGet_(method) {\n    if (!this.tech_ || !this.tech_.isReady_) {\n      return;\n    }\n\n    if (method in allowedGetters) {\n      return get(this.middleware_, this.tech_, method);\n    } else if (method in allowedMediators) {\n      return mediate(this.middleware_, this.tech_, method);\n    } // Flash likes to die and reload when you hide or reposition it.\n    // In these cases the object methods go away and we get errors.\n    // When that happens we'll catch the errors and inform tech that it's not ready any more.\n\n\n    try {\n      return this.tech_[method]();\n    } catch (e) {\n      // When building additional tech libs, an expected method may not be defined yet\n      if (this.tech_[method] === undefined) {\n        log(\"Video.js: \" + method + \" method not defined for \" + this.techName_ + \" playback technology.\", e);\n        throw e;\n      } // When a method isn't available on the object it throws a TypeError\n\n\n      if (e.name === 'TypeError') {\n        log(\"Video.js: \" + method + \" unavailable on \" + this.techName_ + \" playback technology element.\", e);\n        this.tech_.isReady_ = false;\n        throw e;\n      } // If error unknown, just log and throw\n\n\n      log(e);\n      throw e;\n    }\n  }\n  /**\n   * Attempt to begin playback at the first opportunity.\n   *\n   * @return {Promise|undefined}\n   *         Returns a promise if the browser supports Promises (or one\n   *         was passed in as an option). This promise will be resolved on\n   *         the return value of play. If this is undefined it will fulfill the\n   *         promise chain otherwise the promise chain will be fulfilled when\n   *         the promise from play is fulfilled.\n   */\n  ;\n\n  _proto.play = function play() {\n    var _this8 = this;\n\n    var PromiseClass = this.options_.Promise || window$1.Promise;\n\n    if (PromiseClass) {\n      return new PromiseClass(function (resolve) {\n        _this8.play_(resolve);\n      });\n    }\n\n    return this.play_();\n  }\n  /**\n   * The actual logic for play, takes a callback that will be resolved on the\n   * return value of play. This allows us to resolve to the play promise if there\n   * is one on modern browsers.\n   *\n   * @private\n   * @param {Function} [callback]\n   *        The callback that should be called when the techs play is actually called\n   */\n  ;\n\n  _proto.play_ = function play_(callback) {\n    var _this9 = this;\n\n    if (callback === void 0) {\n      callback = silencePromise;\n    }\n\n    this.playCallbacks_.push(callback);\n    var isSrcReady = Boolean(!this.changingSrc_ && (this.src() || this.currentSrc())); // treat calls to play_ somewhat like the `one` event function\n\n    if (this.waitToPlay_) {\n      this.off(['ready', 'loadstart'], this.waitToPlay_);\n      this.waitToPlay_ = null;\n    } // if the player/tech is not ready or the src itself is not ready\n    // queue up a call to play on `ready` or `loadstart`\n\n\n    if (!this.isReady_ || !isSrcReady) {\n      this.waitToPlay_ = function (e) {\n        _this9.play_();\n      };\n\n      this.one(['ready', 'loadstart'], this.waitToPlay_); // if we are in Safari, there is a high chance that loadstart will trigger after the gesture timeperiod\n      // in that case, we need to prime the video element by calling load so it'll be ready in time\n\n      if (!isSrcReady && (IS_ANY_SAFARI || IS_IOS)) {\n        this.load();\n      }\n\n      return;\n    } // If the player/tech is ready and we have a source, we can attempt playback.\n\n\n    var val = this.techGet_('play'); // play was terminated if the returned value is null\n\n    if (val === null) {\n      this.runPlayTerminatedQueue_();\n    } else {\n      this.runPlayCallbacks_(val);\n    }\n  }\n  /**\n   * These functions will be run when if play is terminated. If play\n   * runPlayCallbacks_ is run these function will not be run. This allows us\n   * to differenciate between a terminated play and an actual call to play.\n   */\n  ;\n\n  _proto.runPlayTerminatedQueue_ = function runPlayTerminatedQueue_() {\n    var queue = this.playTerminatedQueue_.slice(0);\n    this.playTerminatedQueue_ = [];\n    queue.forEach(function (q) {\n      q();\n    });\n  }\n  /**\n   * When a callback to play is delayed we have to run these\n   * callbacks when play is actually called on the tech. This function\n   * runs the callbacks that were delayed and accepts the return value\n   * from the tech.\n   *\n   * @param {undefined|Promise} val\n   *        The return value from the tech.\n   */\n  ;\n\n  _proto.runPlayCallbacks_ = function runPlayCallbacks_(val) {\n    var callbacks = this.playCallbacks_.slice(0);\n    this.playCallbacks_ = []; // clear play terminatedQueue since we finished a real play\n\n    this.playTerminatedQueue_ = [];\n    callbacks.forEach(function (cb) {\n      cb(val);\n    });\n  }\n  /**\n   * Pause the video playback\n   *\n   * @return {Player}\n   *         A reference to the player object this function was called on\n   */\n  ;\n\n  _proto.pause = function pause() {\n    this.techCall_('pause');\n  }\n  /**\n   * Check if the player is paused or has yet to play\n   *\n   * @return {boolean}\n   *         - false: if the media is currently playing\n   *         - true: if media is not currently playing\n   */\n  ;\n\n  _proto.paused = function paused() {\n    // The initial state of paused should be true (in Safari it's actually false)\n    return this.techGet_('paused') === false ? false : true;\n  }\n  /**\n   * Get a TimeRange object representing the current ranges of time that the user\n   * has played.\n   *\n   * @return {TimeRange}\n   *         A time range object that represents all the increments of time that have\n   *         been played.\n   */\n  ;\n\n  _proto.played = function played() {\n    return this.techGet_('played') || createTimeRanges(0, 0);\n  }\n  /**\n   * Returns whether or not the user is \"scrubbing\". Scrubbing is\n   * when the user has clicked the progress bar handle and is\n   * dragging it along the progress bar.\n   *\n   * @param {boolean} [isScrubbing]\n   *        whether the user is or is not scrubbing\n   *\n   * @return {boolean}\n   *         The value of scrubbing when getting\n   */\n  ;\n\n  _proto.scrubbing = function scrubbing(isScrubbing) {\n    if (typeof isScrubbing === 'undefined') {\n      return this.scrubbing_;\n    }\n\n    this.scrubbing_ = !!isScrubbing;\n\n    if (isScrubbing) {\n      this.addClass('vjs-scrubbing');\n    } else {\n      this.removeClass('vjs-scrubbing');\n    }\n  }\n  /**\n   * Get or set the current time (in seconds)\n   *\n   * @param {number|string} [seconds]\n   *        The time to seek to in seconds\n   *\n   * @return {number}\n   *         - the current time in seconds when getting\n   */\n  ;\n\n  _proto.currentTime = function currentTime(seconds) {\n    if (typeof seconds !== 'undefined') {\n      if (seconds < 0) {\n        seconds = 0;\n      }\n\n      this.techCall_('setCurrentTime', seconds);\n      return;\n    } // cache last currentTime and return. default to 0 seconds\n    //\n    // Caching the currentTime is meant to prevent a massive amount of reads on the tech's\n    // currentTime when scrubbing, but may not provide much performance benefit afterall.\n    // Should be tested. Also something has to read the actual current time or the cache will\n    // never get updated.\n\n\n    this.cache_.currentTime = this.techGet_('currentTime') || 0;\n    return this.cache_.currentTime;\n  }\n  /**\n   * Normally gets the length in time of the video in seconds;\n   * in all but the rarest use cases an argument will NOT be passed to the method\n   *\n   * > **NOTE**: The video must have started loading before the duration can be\n   * known, and in the case of Flash, may not be known until the video starts\n   * playing.\n   *\n   * @fires Player#durationchange\n   *\n   * @param {number} [seconds]\n   *        The duration of the video to set in seconds\n   *\n   * @return {number}\n   *         - The duration of the video in seconds when getting\n   */\n  ;\n\n  _proto.duration = function duration(seconds) {\n    if (seconds === undefined) {\n      // return NaN if the duration is not known\n      return this.cache_.duration !== undefined ? this.cache_.duration : NaN;\n    }\n\n    seconds = parseFloat(seconds); // Standardize on Infinity for signaling video is live\n\n    if (seconds < 0) {\n      seconds = Infinity;\n    }\n\n    if (seconds !== this.cache_.duration) {\n      // Cache the last set value for optimized scrubbing (esp. Flash)\n      this.cache_.duration = seconds;\n\n      if (seconds === Infinity) {\n        this.addClass('vjs-live');\n\n        if (this.options_.liveui && this.player_.liveTracker) {\n          this.addClass('vjs-liveui');\n        }\n      } else {\n        this.removeClass('vjs-live');\n        this.removeClass('vjs-liveui');\n      }\n\n      if (!isNaN(seconds)) {\n        // Do not fire durationchange unless the duration value is known.\n        // @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}\n\n        /**\n         * @event Player#durationchange\n         * @type {EventTarget~Event}\n         */\n        this.trigger('durationchange');\n      }\n    }\n  }\n  /**\n   * Calculates how much time is left in the video. Not part\n   * of the native video API.\n   *\n   * @return {number}\n   *         The time remaining in seconds\n   */\n  ;\n\n  _proto.remainingTime = function remainingTime() {\n    return this.duration() - this.currentTime();\n  }\n  /**\n   * A remaining time function that is intented to be used when\n   * the time is to be displayed directly to the user.\n   *\n   * @return {number}\n   *         The rounded time remaining in seconds\n   */\n  ;\n\n  _proto.remainingTimeDisplay = function remainingTimeDisplay() {\n    return Math.floor(this.duration()) - Math.floor(this.currentTime());\n  } //\n  // Kind of like an array of portions of the video that have been downloaded.\n\n  /**\n   * Get a TimeRange object with an array of the times of the video\n   * that have been downloaded. If you just want the percent of the\n   * video that's been downloaded, use bufferedPercent.\n   *\n   * @see [Buffered Spec]{@link http://dev.w3.org/html5/spec/video.html#dom-media-buffered}\n   *\n   * @return {TimeRange}\n   *         A mock TimeRange object (following HTML spec)\n   */\n  ;\n\n  _proto.buffered = function buffered() {\n    var buffered = this.techGet_('buffered');\n\n    if (!buffered || !buffered.length) {\n      buffered = createTimeRanges(0, 0);\n    }\n\n    return buffered;\n  }\n  /**\n   * Get the percent (as a decimal) of the video that's been downloaded.\n   * This method is not a part of the native HTML video API.\n   *\n   * @return {number}\n   *         A decimal between 0 and 1 representing the percent\n   *         that is buffered 0 being 0% and 1 being 100%\n   */\n  ;\n\n  _proto.bufferedPercent = function bufferedPercent$1() {\n    return bufferedPercent(this.buffered(), this.duration());\n  }\n  /**\n   * Get the ending time of the last buffered time range\n   * This is used in the progress bar to encapsulate all time ranges.\n   *\n   * @return {number}\n   *         The end of the last buffered time range\n   */\n  ;\n\n  _proto.bufferedEnd = function bufferedEnd() {\n    var buffered = this.buffered();\n    var duration = this.duration();\n    var end = buffered.end(buffered.length - 1);\n\n    if (end > duration) {\n      end = duration;\n    }\n\n    return end;\n  }\n  /**\n   * Get or set the current volume of the media\n   *\n   * @param  {number} [percentAsDecimal]\n   *         The new volume as a decimal percent:\n   *         - 0 is muted/0%/off\n   *         - 1.0 is 100%/full\n   *         - 0.5 is half volume or 50%\n   *\n   * @return {number}\n   *         The current volume as a percent when getting\n   */\n  ;\n\n  _proto.volume = function volume(percentAsDecimal) {\n    var vol;\n\n    if (percentAsDecimal !== undefined) {\n      // Force value to between 0 and 1\n      vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal)));\n      this.cache_.volume = vol;\n      this.techCall_('setVolume', vol);\n\n      if (vol > 0) {\n        this.lastVolume_(vol);\n      }\n\n      return;\n    } // Default to 1 when returning current volume.\n\n\n    vol = parseFloat(this.techGet_('volume'));\n    return isNaN(vol) ? 1 : vol;\n  }\n  /**\n   * Get the current muted state, or turn mute on or off\n   *\n   * @param {boolean} [muted]\n   *        - true to mute\n   *        - false to unmute\n   *\n   * @return {boolean}\n   *         - true if mute is on and getting\n   *         - false if mute is off and getting\n   */\n  ;\n\n  _proto.muted = function muted(_muted) {\n    if (_muted !== undefined) {\n      this.techCall_('setMuted', _muted);\n      return;\n    }\n\n    return this.techGet_('muted') || false;\n  }\n  /**\n   * Get the current defaultMuted state, or turn defaultMuted on or off. defaultMuted\n   * indicates the state of muted on initial playback.\n   *\n   * ```js\n   *   var myPlayer = videojs('some-player-id');\n   *\n   *   myPlayer.src(\"http://www.example.com/path/to/video.mp4\");\n   *\n   *   // get, should be false\n   *   console.log(myPlayer.defaultMuted());\n   *   // set to true\n   *   myPlayer.defaultMuted(true);\n   *   // get should be true\n   *   console.log(myPlayer.defaultMuted());\n   * ```\n   *\n   * @param {boolean} [defaultMuted]\n   *        - true to mute\n   *        - false to unmute\n   *\n   * @return {boolean|Player}\n   *         - true if defaultMuted is on and getting\n   *         - false if defaultMuted is off and getting\n   *         - A reference to the current player when setting\n   */\n  ;\n\n  _proto.defaultMuted = function defaultMuted(_defaultMuted) {\n    if (_defaultMuted !== undefined) {\n      return this.techCall_('setDefaultMuted', _defaultMuted);\n    }\n\n    return this.techGet_('defaultMuted') || false;\n  }\n  /**\n   * Get the last volume, or set it\n   *\n   * @param  {number} [percentAsDecimal]\n   *         The new last volume as a decimal percent:\n   *         - 0 is muted/0%/off\n   *         - 1.0 is 100%/full\n   *         - 0.5 is half volume or 50%\n   *\n   * @return {number}\n   *         the current value of lastVolume as a percent when getting\n   *\n   * @private\n   */\n  ;\n\n  _proto.lastVolume_ = function lastVolume_(percentAsDecimal) {\n    if (percentAsDecimal !== undefined && percentAsDecimal !== 0) {\n      this.cache_.lastVolume = percentAsDecimal;\n      return;\n    }\n\n    return this.cache_.lastVolume;\n  }\n  /**\n   * Check if current tech can support native fullscreen\n   * (e.g. with built in controls like iOS, so not our flash swf)\n   *\n   * @return {boolean}\n   *         if native fullscreen is supported\n   */\n  ;\n\n  _proto.supportsFullScreen = function supportsFullScreen() {\n    return this.techGet_('supportsFullScreen') || false;\n  }\n  /**\n   * Check if the player is in fullscreen mode or tell the player that it\n   * is or is not in fullscreen mode.\n   *\n   * > NOTE: As of the latest HTML5 spec, isFullscreen is no longer an official\n   * property and instead document.fullscreenElement is used. But isFullscreen is\n   * still a valuable property for internal player workings.\n   *\n   * @param  {boolean} [isFS]\n   *         Set the players current fullscreen state\n   *\n   * @return {boolean}\n   *         - true if fullscreen is on and getting\n   *         - false if fullscreen is off and getting\n   */\n  ;\n\n  _proto.isFullscreen = function isFullscreen(isFS) {\n    if (isFS !== undefined) {\n      this.isFullscreen_ = !!isFS;\n      this.toggleFullscreenClass_();\n      return;\n    }\n\n    return !!this.isFullscreen_;\n  }\n  /**\n   * Increase the size of the video to full screen\n   * In some browsers, full screen is not supported natively, so it enters\n   * \"full window mode\", where the video fills the browser window.\n   * In browsers and devices that support native full screen, sometimes the\n   * browser's default controls will be shown, and not the Video.js custom skin.\n   * This includes most mobile devices (iOS, Android) and older versions of\n   * Safari.\n   *\n   * @param  {Object} [fullscreenOptions]\n   *         Override the player fullscreen options\n   *\n   * @fires Player#fullscreenchange\n   */\n  ;\n\n  _proto.requestFullscreen = function requestFullscreen(fullscreenOptions) {\n    var fsOptions;\n    this.isFullscreen(true);\n\n    if (this.fsApi_.requestFullscreen) {\n      // the browser supports going fullscreen at the element level so we can\n      // take the controls fullscreen as well as the video\n      // Trigger fullscreenchange event after change\n      // We have to specifically add this each time, and remove\n      // when canceling fullscreen. Otherwise if there's multiple\n      // players on a page, they would all be reacting to the same fullscreen\n      // events\n      on(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_); // only pass FullscreenOptions to requestFullscreen if it isn't prefixed\n\n      if (!this.fsApi_.prefixed) {\n        fsOptions = this.options_.fullscreen && this.options_.fullscreen.options || {};\n\n        if (fullscreenOptions !== undefined) {\n          fsOptions = fullscreenOptions;\n        }\n      }\n\n      silencePromise(this.el_[this.fsApi_.requestFullscreen](fsOptions));\n    } else if (this.tech_.supportsFullScreen()) {\n      // we can't take the video.js controls fullscreen but we can go fullscreen\n      // with native controls\n      this.techCall_('enterFullScreen');\n    } else {\n      // fullscreen isn't supported so we'll just stretch the video element to\n      // fill the viewport\n      this.enterFullWindow();\n      /**\n       * @event Player#fullscreenchange\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('fullscreenchange');\n    }\n  }\n  /**\n   * Return the video to its normal size after having been in full screen mode\n   *\n   * @fires Player#fullscreenchange\n   */\n  ;\n\n  _proto.exitFullscreen = function exitFullscreen() {\n    this.isFullscreen(false); // Check for browser element fullscreen support\n\n    if (this.fsApi_.requestFullscreen) {\n      silencePromise(document[this.fsApi_.exitFullscreen]());\n    } else if (this.tech_.supportsFullScreen()) {\n      this.techCall_('exitFullScreen');\n    } else {\n      this.exitFullWindow();\n      /**\n       * @event Player#fullscreenchange\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('fullscreenchange');\n    }\n  }\n  /**\n   * When fullscreen isn't supported we can stretch the\n   * video container to as wide as the browser will let us.\n   *\n   * @fires Player#enterFullWindow\n   */\n  ;\n\n  _proto.enterFullWindow = function enterFullWindow() {\n    this.isFullWindow = true; // Storing original doc overflow value to return to when fullscreen is off\n\n    this.docOrigOverflow = document.documentElement.style.overflow; // Add listener for esc key to exit fullscreen\n\n    on(document, 'keydown', this.boundFullWindowOnEscKey_); // Hide any scroll bars\n\n    document.documentElement.style.overflow = 'hidden'; // Apply fullscreen styles\n\n    addClass(document.body, 'vjs-full-window');\n    /**\n     * @event Player#enterFullWindow\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('enterFullWindow');\n  }\n  /**\n   * Check for call to either exit full window or\n   * full screen on ESC key\n   *\n   * @param {string} event\n   *        Event to check for key press\n   */\n  ;\n\n  _proto.fullWindowOnEscKey = function fullWindowOnEscKey(event) {\n    if (keycode.isEventKey(event, 'Esc')) {\n      if (this.isFullscreen() === true) {\n        this.exitFullscreen();\n      } else {\n        this.exitFullWindow();\n      }\n    }\n  }\n  /**\n   * Exit full window\n   *\n   * @fires Player#exitFullWindow\n   */\n  ;\n\n  _proto.exitFullWindow = function exitFullWindow() {\n    this.isFullWindow = false;\n    off(document, 'keydown', this.boundFullWindowOnEscKey_); // Unhide scroll bars.\n\n    document.documentElement.style.overflow = this.docOrigOverflow; // Remove fullscreen styles\n\n    removeClass(document.body, 'vjs-full-window'); // Resize the box, controller, and poster to original sizes\n    // this.positionAll();\n\n    /**\n     * @event Player#exitFullWindow\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('exitFullWindow');\n  }\n  /**\n   * Check if the player is in Picture-in-Picture mode or tell the player that it\n   * is or is not in Picture-in-Picture mode.\n   *\n   * @param  {boolean} [isPiP]\n   *         Set the players current Picture-in-Picture state\n   *\n   * @return {boolean}\n   *         - true if Picture-in-Picture is on and getting\n   *         - false if Picture-in-Picture is off and getting\n   */\n  ;\n\n  _proto.isInPictureInPicture = function isInPictureInPicture(isPiP) {\n    if (isPiP !== undefined) {\n      this.isInPictureInPicture_ = !!isPiP;\n      this.togglePictureInPictureClass_();\n      return;\n    }\n\n    return !!this.isInPictureInPicture_;\n  }\n  /**\n   * Create a floating video window always on top of other windows so that users may\n   * continue consuming media while they interact with other content sites, or\n   * applications on their device.\n   *\n   * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n   *\n   * @fires Player#enterpictureinpicture\n   *\n   * @return {Promise}\n   *         A promise with a Picture-in-Picture window.\n   */\n  ;\n\n  _proto.requestPictureInPicture = function requestPictureInPicture() {\n    if ('pictureInPictureEnabled' in document) {\n      /**\n       * This event fires when the player enters picture in picture mode\n       *\n       * @event Player#enterpictureinpicture\n       * @type {EventTarget~Event}\n       */\n      return this.techGet_('requestPictureInPicture');\n    }\n  }\n  /**\n   * Exit Picture-in-Picture mode.\n   *\n   * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n   *\n   * @fires Player#leavepictureinpicture\n   *\n   * @return {Promise}\n   *         A promise.\n   */\n  ;\n\n  _proto.exitPictureInPicture = function exitPictureInPicture() {\n    if ('pictureInPictureEnabled' in document) {\n      /**\n       * This event fires when the player leaves picture in picture mode\n       *\n       * @event Player#leavepictureinpicture\n       * @type {EventTarget~Event}\n       */\n      return document.exitPictureInPicture();\n    }\n  }\n  /**\n   * Called when this Player has focus and a key gets pressed down, or when\n   * any Component of this player receives a key press that it doesn't handle.\n   * This allows player-wide hotkeys (either as defined below, or optionally\n   * by an external function).\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    var userActions = this.options_.userActions; // Bail out if hotkeys are not configured.\n\n    if (!userActions || !userActions.hotkeys) {\n      return;\n    } // Function that determines whether or not to exclude an element from\n    // hotkeys handling.\n\n\n    var excludeElement = function excludeElement(el) {\n      var tagName = el.tagName.toLowerCase(); // The first and easiest test is for `contenteditable` elements.\n\n      if (el.isContentEditable) {\n        return true;\n      } // Inputs matching these types will still trigger hotkey handling as\n      // they are not text inputs.\n\n\n      var allowedInputTypes = ['button', 'checkbox', 'hidden', 'radio', 'reset', 'submit'];\n\n      if (tagName === 'input') {\n        return allowedInputTypes.indexOf(el.type) === -1;\n      } // The final test is by tag name. These tags will be excluded entirely.\n\n\n      var excludedTags = ['textarea'];\n      return excludedTags.indexOf(tagName) !== -1;\n    }; // Bail out if the user is focused on an interactive form element.\n\n\n    if (excludeElement(this.el_.ownerDocument.activeElement)) {\n      return;\n    }\n\n    if (typeof userActions.hotkeys === 'function') {\n      userActions.hotkeys.call(this, event);\n    } else {\n      this.handleHotkeys(event);\n    }\n  }\n  /**\n   * Called when this Player receives a hotkey keydown event.\n   * Supported player-wide hotkeys are:\n   *\n   *   f          - toggle fullscreen\n   *   m          - toggle mute\n   *   k or Space - toggle play/pause\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   */\n  ;\n\n  _proto.handleHotkeys = function handleHotkeys(event) {\n    var hotkeys = this.options_.userActions ? this.options_.userActions.hotkeys : {}; // set fullscreenKey, muteKey, playPauseKey from `hotkeys`, use defaults if not set\n\n    var _hotkeys$fullscreenKe = hotkeys.fullscreenKey,\n        fullscreenKey = _hotkeys$fullscreenKe === void 0 ? function (keydownEvent) {\n      return keycode.isEventKey(keydownEvent, 'f');\n    } : _hotkeys$fullscreenKe,\n        _hotkeys$muteKey = hotkeys.muteKey,\n        muteKey = _hotkeys$muteKey === void 0 ? function (keydownEvent) {\n      return keycode.isEventKey(keydownEvent, 'm');\n    } : _hotkeys$muteKey,\n        _hotkeys$playPauseKey = hotkeys.playPauseKey,\n        playPauseKey = _hotkeys$playPauseKey === void 0 ? function (keydownEvent) {\n      return keycode.isEventKey(keydownEvent, 'k') || keycode.isEventKey(keydownEvent, 'Space');\n    } : _hotkeys$playPauseKey;\n\n    if (fullscreenKey.call(this, event)) {\n      event.preventDefault();\n      event.stopPropagation();\n      var FSToggle = Component.getComponent('FullscreenToggle');\n\n      if (document[this.fsApi_.fullscreenEnabled] !== false) {\n        FSToggle.prototype.handleClick.call(this, event);\n      }\n    } else if (muteKey.call(this, event)) {\n      event.preventDefault();\n      event.stopPropagation();\n      var MuteToggle = Component.getComponent('MuteToggle');\n      MuteToggle.prototype.handleClick.call(this, event);\n    } else if (playPauseKey.call(this, event)) {\n      event.preventDefault();\n      event.stopPropagation();\n      var PlayToggle = Component.getComponent('PlayToggle');\n      PlayToggle.prototype.handleClick.call(this, event);\n    }\n  }\n  /**\n   * Check whether the player can play a given mimetype\n   *\n   * @see https://www.w3.org/TR/2011/WD-html5-20110113/video.html#dom-navigator-canplaytype\n   *\n   * @param {string} type\n   *        The mimetype to check\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string)\n   */\n  ;\n\n  _proto.canPlayType = function canPlayType(type) {\n    var can; // Loop through each playback technology in the options order\n\n    for (var i = 0, j = this.options_.techOrder; i < j.length; i++) {\n      var techName = j[i];\n      var tech = Tech.getTech(techName); // Support old behavior of techs being registered as components.\n      // Remove once that deprecated behavior is removed.\n\n      if (!tech) {\n        tech = Component.getComponent(techName);\n      } // Check if the current tech is defined before continuing\n\n\n      if (!tech) {\n        log.error(\"The \\\"\" + techName + \"\\\" tech is undefined. Skipped browser support check for that tech.\");\n        continue;\n      } // Check if the browser supports this technology\n\n\n      if (tech.isSupported()) {\n        can = tech.canPlayType(type);\n\n        if (can) {\n          return can;\n        }\n      }\n    }\n\n    return '';\n  }\n  /**\n   * Select source based on tech-order or source-order\n   * Uses source-order selection if `options.sourceOrder` is truthy. Otherwise,\n   * defaults to tech-order selection\n   *\n   * @param {Array} sources\n   *        The sources for a media asset\n   *\n   * @return {Object|boolean}\n   *         Object of source and tech order or false\n   */\n  ;\n\n  _proto.selectSource = function selectSource(sources) {\n    var _this10 = this;\n\n    // Get only the techs specified in `techOrder` that exist and are supported by the\n    // current platform\n    var techs = this.options_.techOrder.map(function (techName) {\n      return [techName, Tech.getTech(techName)];\n    }).filter(function (_ref) {\n      var techName = _ref[0],\n          tech = _ref[1];\n\n      // Check if the current tech is defined before continuing\n      if (tech) {\n        // Check if the browser supports this technology\n        return tech.isSupported();\n      }\n\n      log.error(\"The \\\"\" + techName + \"\\\" tech is undefined. Skipped browser support check for that tech.\");\n      return false;\n    }); // Iterate over each `innerArray` element once per `outerArray` element and execute\n    // `tester` with both. If `tester` returns a non-falsy value, exit early and return\n    // that value.\n\n    var findFirstPassingTechSourcePair = function findFirstPassingTechSourcePair(outerArray, innerArray, tester) {\n      var found;\n      outerArray.some(function (outerChoice) {\n        return innerArray.some(function (innerChoice) {\n          found = tester(outerChoice, innerChoice);\n\n          if (found) {\n            return true;\n          }\n        });\n      });\n      return found;\n    };\n\n    var foundSourceAndTech;\n\n    var flip = function flip(fn) {\n      return function (a, b) {\n        return fn(b, a);\n      };\n    };\n\n    var finder = function finder(_ref2, source) {\n      var techName = _ref2[0],\n          tech = _ref2[1];\n\n      if (tech.canPlaySource(source, _this10.options_[techName.toLowerCase()])) {\n        return {\n          source: source,\n          tech: techName\n        };\n      }\n    }; // Depending on the truthiness of `options.sourceOrder`, we swap the order of techs and sources\n    // to select from them based on their priority.\n\n\n    if (this.options_.sourceOrder) {\n      // Source-first ordering\n      foundSourceAndTech = findFirstPassingTechSourcePair(sources, techs, flip(finder));\n    } else {\n      // Tech-first ordering\n      foundSourceAndTech = findFirstPassingTechSourcePair(techs, sources, finder);\n    }\n\n    return foundSourceAndTech || false;\n  }\n  /**\n   * Get or set the video source.\n   *\n   * @param {Tech~SourceObject|Tech~SourceObject[]|string} [source]\n   *        A SourceObject, an array of SourceObjects, or a string referencing\n   *        a URL to a media source. It is _highly recommended_ that an object\n   *        or array of objects is used here, so that source selection\n   *        algorithms can take the `type` into account.\n   *\n   *        If not provided, this method acts as a getter.\n   *\n   * @return {string|undefined}\n   *         If the `source` argument is missing, returns the current source\n   *         URL. Otherwise, returns nothing/undefined.\n   */\n  ;\n\n  _proto.src = function src(source) {\n    var _this11 = this;\n\n    // getter usage\n    if (typeof source === 'undefined') {\n      return this.cache_.src || '';\n    } // filter out invalid sources and turn our source into\n    // an array of source objects\n\n\n    var sources = filterSource(source); // if a source was passed in then it is invalid because\n    // it was filtered to a zero length Array. So we have to\n    // show an error\n\n    if (!sources.length) {\n      this.setTimeout(function () {\n        this.error({\n          code: 4,\n          message: this.localize(this.options_.notSupportedMessage)\n        });\n      }, 0);\n      return;\n    } // intial sources\n\n\n    this.changingSrc_ = true;\n    this.cache_.sources = sources;\n    this.updateSourceCaches_(sources[0]); // middlewareSource is the source after it has been changed by middleware\n\n    setSource(this, sources[0], function (middlewareSource, mws) {\n      _this11.middleware_ = mws; // since sourceSet is async we have to update the cache again after we select a source since\n      // the source that is selected could be out of order from the cache update above this callback.\n\n      _this11.cache_.sources = sources;\n\n      _this11.updateSourceCaches_(middlewareSource);\n\n      var err = _this11.src_(middlewareSource);\n\n      if (err) {\n        if (sources.length > 1) {\n          return _this11.src(sources.slice(1));\n        }\n\n        _this11.changingSrc_ = false; // We need to wrap this in a timeout to give folks a chance to add error event handlers\n\n        _this11.setTimeout(function () {\n          this.error({\n            code: 4,\n            message: this.localize(this.options_.notSupportedMessage)\n          });\n        }, 0); // we could not find an appropriate tech, but let's still notify the delegate that this is it\n        // this needs a better comment about why this is needed\n\n\n        _this11.triggerReady();\n\n        return;\n      }\n\n      setTech(mws, _this11.tech_);\n    });\n  }\n  /**\n   * Set the source object on the tech, returns a boolean that indicates whether\n   * there is a tech that can play the source or not\n   *\n   * @param {Tech~SourceObject} source\n   *        The source object to set on the Tech\n   *\n   * @return {boolean}\n   *         - True if there is no Tech to playback this source\n   *         - False otherwise\n   *\n   * @private\n   */\n  ;\n\n  _proto.src_ = function src_(source) {\n    var _this12 = this;\n\n    var sourceTech = this.selectSource([source]);\n\n    if (!sourceTech) {\n      return true;\n    }\n\n    if (!titleCaseEquals(sourceTech.tech, this.techName_)) {\n      this.changingSrc_ = true; // load this technology with the chosen source\n\n      this.loadTech_(sourceTech.tech, sourceTech.source);\n      this.tech_.ready(function () {\n        _this12.changingSrc_ = false;\n      });\n      return false;\n    } // wait until the tech is ready to set the source\n    // and set it synchronously if possible (#2326)\n\n\n    this.ready(function () {\n      // The setSource tech method was added with source handlers\n      // so older techs won't support it\n      // We need to check the direct prototype for the case where subclasses\n      // of the tech do not support source handlers\n      if (this.tech_.constructor.prototype.hasOwnProperty('setSource')) {\n        this.techCall_('setSource', source);\n      } else {\n        this.techCall_('src', source.src);\n      }\n\n      this.changingSrc_ = false;\n    }, true);\n    return false;\n  }\n  /**\n   * Begin loading the src data.\n   */\n  ;\n\n  _proto.load = function load() {\n    this.techCall_('load');\n  }\n  /**\n   * Reset the player. Loads the first tech in the techOrder,\n   * removes all the text tracks in the existing `tech`,\n   * and calls `reset` on the `tech`.\n   */\n  ;\n\n  _proto.reset = function reset() {\n    var _this13 = this;\n\n    var PromiseClass = this.options_.Promise || window$1.Promise;\n\n    if (this.paused() || !PromiseClass) {\n      this.doReset_();\n    } else {\n      var playPromise = this.play();\n      silencePromise(playPromise.then(function () {\n        return _this13.doReset_();\n      }));\n    }\n  };\n\n  _proto.doReset_ = function doReset_() {\n    if (this.tech_) {\n      this.tech_.clearTracks('text');\n    }\n\n    this.resetCache_();\n    this.poster('');\n    this.loadTech_(this.options_.techOrder[0], null);\n    this.techCall_('reset');\n    this.resetControlBarUI_();\n\n    if (isEvented(this)) {\n      this.trigger('playerreset');\n    }\n  }\n  /**\n   * Reset Control Bar's UI by calling sub-methods that reset\n   * all of Control Bar's components\n   */\n  ;\n\n  _proto.resetControlBarUI_ = function resetControlBarUI_() {\n    this.resetProgressBar_();\n    this.resetPlaybackRate_();\n    this.resetVolumeBar_();\n  }\n  /**\n   * Reset tech's progress so progress bar is reset in the UI\n   */\n  ;\n\n  _proto.resetProgressBar_ = function resetProgressBar_() {\n    this.currentTime(0);\n    var _this$controlBar = this.controlBar,\n        durationDisplay = _this$controlBar.durationDisplay,\n        remainingTimeDisplay = _this$controlBar.remainingTimeDisplay;\n\n    if (durationDisplay) {\n      durationDisplay.updateContent();\n    }\n\n    if (remainingTimeDisplay) {\n      remainingTimeDisplay.updateContent();\n    }\n  }\n  /**\n   * Reset Playback ratio\n   */\n  ;\n\n  _proto.resetPlaybackRate_ = function resetPlaybackRate_() {\n    this.playbackRate(this.defaultPlaybackRate());\n    this.handleTechRateChange_();\n  }\n  /**\n   * Reset Volume bar\n   */\n  ;\n\n  _proto.resetVolumeBar_ = function resetVolumeBar_() {\n    this.volume(1.0);\n    this.trigger('volumechange');\n  }\n  /**\n   * Returns all of the current source objects.\n   *\n   * @return {Tech~SourceObject[]}\n   *         The current source objects\n   */\n  ;\n\n  _proto.currentSources = function currentSources() {\n    var source = this.currentSource();\n    var sources = []; // assume `{}` or `{ src }`\n\n    if (Object.keys(source).length !== 0) {\n      sources.push(source);\n    }\n\n    return this.cache_.sources || sources;\n  }\n  /**\n   * Returns the current source object.\n   *\n   * @return {Tech~SourceObject}\n   *         The current source object\n   */\n  ;\n\n  _proto.currentSource = function currentSource() {\n    return this.cache_.source || {};\n  }\n  /**\n   * Returns the fully qualified URL of the current source value e.g. http://mysite.com/video.mp4\n   * Can be used in conjunction with `currentType` to assist in rebuilding the current source object.\n   *\n   * @return {string}\n   *         The current source\n   */\n  ;\n\n  _proto.currentSrc = function currentSrc() {\n    return this.currentSource() && this.currentSource().src || '';\n  }\n  /**\n   * Get the current source type e.g. video/mp4\n   * This can allow you rebuild the current source object so that you could load the same\n   * source and tech later\n   *\n   * @return {string}\n   *         The source MIME type\n   */\n  ;\n\n  _proto.currentType = function currentType() {\n    return this.currentSource() && this.currentSource().type || '';\n  }\n  /**\n   * Get or set the preload attribute\n   *\n   * @param {boolean} [value]\n   *        - true means that we should preload\n   *        - false means that we should not preload\n   *\n   * @return {string}\n   *         The preload attribute value when getting\n   */\n  ;\n\n  _proto.preload = function preload(value) {\n    if (value !== undefined) {\n      this.techCall_('setPreload', value);\n      this.options_.preload = value;\n      return;\n    }\n\n    return this.techGet_('preload');\n  }\n  /**\n   * Get or set the autoplay option. When this is a boolean it will\n   * modify the attribute on the tech. When this is a string the attribute on\n   * the tech will be removed and `Player` will handle autoplay on loadstarts.\n   *\n   * @param {boolean|string} [value]\n   *        - true: autoplay using the browser behavior\n   *        - false: do not autoplay\n   *        - 'play': call play() on every loadstart\n   *        - 'muted': call muted() then play() on every loadstart\n   *        - 'any': call play() on every loadstart. if that fails call muted() then play().\n   *        - *: values other than those listed here will be set `autoplay` to true\n   *\n   * @return {boolean|string}\n   *         The current value of autoplay when getting\n   */\n  ;\n\n  _proto.autoplay = function autoplay(value) {\n    // getter usage\n    if (value === undefined) {\n      return this.options_.autoplay || false;\n    }\n\n    var techAutoplay; // if the value is a valid string set it to that\n\n    if (typeof value === 'string' && /(any|play|muted)/.test(value)) {\n      this.options_.autoplay = value;\n      this.manualAutoplay_(value);\n      techAutoplay = false; // any falsy value sets autoplay to false in the browser,\n      // lets do the same\n    } else if (!value) {\n      this.options_.autoplay = false; // any other value (ie truthy) sets autoplay to true\n    } else {\n      this.options_.autoplay = true;\n    }\n\n    techAutoplay = typeof techAutoplay === 'undefined' ? this.options_.autoplay : techAutoplay; // if we don't have a tech then we do not queue up\n    // a setAutoplay call on tech ready. We do this because the\n    // autoplay option will be passed in the constructor and we\n    // do not need to set it twice\n\n    if (this.tech_) {\n      this.techCall_('setAutoplay', techAutoplay);\n    }\n  }\n  /**\n   * Set or unset the playsinline attribute.\n   * Playsinline tells the browser that non-fullscreen playback is preferred.\n   *\n   * @param {boolean} [value]\n   *        - true means that we should try to play inline by default\n   *        - false means that we should use the browser's default playback mode,\n   *          which in most cases is inline. iOS Safari is a notable exception\n   *          and plays fullscreen by default.\n   *\n   * @return {string|Player}\n   *         - the current value of playsinline\n   *         - the player when setting\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n   */\n  ;\n\n  _proto.playsinline = function playsinline(value) {\n    if (value !== undefined) {\n      this.techCall_('setPlaysinline', value);\n      this.options_.playsinline = value;\n      return this;\n    }\n\n    return this.techGet_('playsinline');\n  }\n  /**\n   * Get or set the loop attribute on the video element.\n   *\n   * @param {boolean} [value]\n   *        - true means that we should loop the video\n   *        - false means that we should not loop the video\n   *\n   * @return {boolean}\n   *         The current value of loop when getting\n   */\n  ;\n\n  _proto.loop = function loop(value) {\n    if (value !== undefined) {\n      this.techCall_('setLoop', value);\n      this.options_.loop = value;\n      return;\n    }\n\n    return this.techGet_('loop');\n  }\n  /**\n   * Get or set the poster image source url\n   *\n   * @fires Player#posterchange\n   *\n   * @param {string} [src]\n   *        Poster image source URL\n   *\n   * @return {string}\n   *         The current value of poster when getting\n   */\n  ;\n\n  _proto.poster = function poster(src) {\n    if (src === undefined) {\n      return this.poster_;\n    } // The correct way to remove a poster is to set as an empty string\n    // other falsey values will throw errors\n\n\n    if (!src) {\n      src = '';\n    }\n\n    if (src === this.poster_) {\n      return;\n    } // update the internal poster variable\n\n\n    this.poster_ = src; // update the tech's poster\n\n    this.techCall_('setPoster', src);\n    this.isPosterFromTech_ = false; // alert components that the poster has been set\n\n    /**\n     * This event fires when the poster image is changed on the player.\n     *\n     * @event Player#posterchange\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('posterchange');\n  }\n  /**\n   * Some techs (e.g. YouTube) can provide a poster source in an\n   * asynchronous way. We want the poster component to use this\n   * poster source so that it covers up the tech's controls.\n   * (YouTube's play button). However we only want to use this\n   * source if the player user hasn't set a poster through\n   * the normal APIs.\n   *\n   * @fires Player#posterchange\n   * @listens Tech#posterchange\n   * @private\n   */\n  ;\n\n  _proto.handleTechPosterChange_ = function handleTechPosterChange_() {\n    if ((!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster) {\n      var newPoster = this.tech_.poster() || '';\n\n      if (newPoster !== this.poster_) {\n        this.poster_ = newPoster;\n        this.isPosterFromTech_ = true; // Let components know the poster has changed\n\n        this.trigger('posterchange');\n      }\n    }\n  }\n  /**\n   * Get or set whether or not the controls are showing.\n   *\n   * @fires Player#controlsenabled\n   *\n   * @param {boolean} [bool]\n   *        - true to turn controls on\n   *        - false to turn controls off\n   *\n   * @return {boolean}\n   *         The current value of controls when getting\n   */\n  ;\n\n  _proto.controls = function controls(bool) {\n    if (bool === undefined) {\n      return !!this.controls_;\n    }\n\n    bool = !!bool; // Don't trigger a change event unless it actually changed\n\n    if (this.controls_ === bool) {\n      return;\n    }\n\n    this.controls_ = bool;\n\n    if (this.usingNativeControls()) {\n      this.techCall_('setControls', bool);\n    }\n\n    if (this.controls_) {\n      this.removeClass('vjs-controls-disabled');\n      this.addClass('vjs-controls-enabled');\n      /**\n       * @event Player#controlsenabled\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('controlsenabled');\n\n      if (!this.usingNativeControls()) {\n        this.addTechControlsListeners_();\n      }\n    } else {\n      this.removeClass('vjs-controls-enabled');\n      this.addClass('vjs-controls-disabled');\n      /**\n       * @event Player#controlsdisabled\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('controlsdisabled');\n\n      if (!this.usingNativeControls()) {\n        this.removeTechControlsListeners_();\n      }\n    }\n  }\n  /**\n   * Toggle native controls on/off. Native controls are the controls built into\n   * devices (e.g. default iPhone controls), Flash, or other techs\n   * (e.g. Vimeo Controls)\n   * **This should only be set by the current tech, because only the tech knows\n   * if it can support native controls**\n   *\n   * @fires Player#usingnativecontrols\n   * @fires Player#usingcustomcontrols\n   *\n   * @param {boolean} [bool]\n   *        - true to turn native controls on\n   *        - false to turn native controls off\n   *\n   * @return {boolean}\n   *         The current value of native controls when getting\n   */\n  ;\n\n  _proto.usingNativeControls = function usingNativeControls(bool) {\n    if (bool === undefined) {\n      return !!this.usingNativeControls_;\n    }\n\n    bool = !!bool; // Don't trigger a change event unless it actually changed\n\n    if (this.usingNativeControls_ === bool) {\n      return;\n    }\n\n    this.usingNativeControls_ = bool;\n\n    if (this.usingNativeControls_) {\n      this.addClass('vjs-using-native-controls');\n      /**\n       * player is using the native device controls\n       *\n       * @event Player#usingnativecontrols\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('usingnativecontrols');\n    } else {\n      this.removeClass('vjs-using-native-controls');\n      /**\n       * player is using the custom HTML controls\n       *\n       * @event Player#usingcustomcontrols\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('usingcustomcontrols');\n    }\n  }\n  /**\n   * Set or get the current MediaError\n   *\n   * @fires Player#error\n   *\n   * @param  {MediaError|string|number} [err]\n   *         A MediaError or a string/number to be turned\n   *         into a MediaError\n   *\n   * @return {MediaError|null}\n   *         The current MediaError when getting (or null)\n   */\n  ;\n\n  _proto.error = function error(err) {\n    if (err === undefined) {\n      return this.error_ || null;\n    } // Suppress the first error message for no compatible source until\n    // user interaction\n\n\n    if (this.options_.suppressNotSupportedError && err && err.message && err.message === this.localize(this.options_.notSupportedMessage)) {\n      var triggerSuppressedError = function triggerSuppressedError() {\n        this.error(err);\n      };\n\n      this.options_.suppressNotSupportedError = false;\n      this.any(['click', 'touchstart'], triggerSuppressedError);\n      this.one('loadstart', function () {\n        this.off(['click', 'touchstart'], triggerSuppressedError);\n      });\n      return;\n    } // restoring to default\n\n\n    if (err === null) {\n      this.error_ = err;\n      this.removeClass('vjs-error');\n\n      if (this.errorDisplay) {\n        this.errorDisplay.close();\n      }\n\n      return;\n    }\n\n    this.error_ = new MediaError(err); // add the vjs-error classname to the player\n\n    this.addClass('vjs-error'); // log the name of the error type and any message\n    // IE11 logs \"[object object]\" and required you to expand message to see error object\n\n    log.error(\"(CODE:\" + this.error_.code + \" \" + MediaError.errorTypes[this.error_.code] + \")\", this.error_.message, this.error_);\n    /**\n     * @event Player#error\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('error');\n    return;\n  }\n  /**\n   * Report user activity\n   *\n   * @param {Object} event\n   *        Event object\n   */\n  ;\n\n  _proto.reportUserActivity = function reportUserActivity(event) {\n    this.userActivity_ = true;\n  }\n  /**\n   * Get/set if user is active\n   *\n   * @fires Player#useractive\n   * @fires Player#userinactive\n   *\n   * @param {boolean} [bool]\n   *        - true if the user is active\n   *        - false if the user is inactive\n   *\n   * @return {boolean}\n   *         The current value of userActive when getting\n   */\n  ;\n\n  _proto.userActive = function userActive(bool) {\n    if (bool === undefined) {\n      return this.userActive_;\n    }\n\n    bool = !!bool;\n\n    if (bool === this.userActive_) {\n      return;\n    }\n\n    this.userActive_ = bool;\n\n    if (this.userActive_) {\n      this.userActivity_ = true;\n      this.removeClass('vjs-user-inactive');\n      this.addClass('vjs-user-active');\n      /**\n       * @event Player#useractive\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('useractive');\n      return;\n    } // Chrome/Safari/IE have bugs where when you change the cursor it can\n    // trigger a mousemove event. This causes an issue when you're hiding\n    // the cursor when the user is inactive, and a mousemove signals user\n    // activity. Making it impossible to go into inactive mode. Specifically\n    // this happens in fullscreen when we really need to hide the cursor.\n    //\n    // When this gets resolved in ALL browsers it can be removed\n    // https://code.google.com/p/chromium/issues/detail?id=103041\n\n\n    if (this.tech_) {\n      this.tech_.one('mousemove', function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      });\n    }\n\n    this.userActivity_ = false;\n    this.removeClass('vjs-user-active');\n    this.addClass('vjs-user-inactive');\n    /**\n     * @event Player#userinactive\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('userinactive');\n  }\n  /**\n   * Listen for user activity based on timeout value\n   *\n   * @private\n   */\n  ;\n\n  _proto.listenForUserActivity_ = function listenForUserActivity_() {\n    var mouseInProgress;\n    var lastMoveX;\n    var lastMoveY;\n    var handleActivity = bind(this, this.reportUserActivity);\n\n    var handleMouseMove = function handleMouseMove(e) {\n      // #1068 - Prevent mousemove spamming\n      // Chrome Bug: https://code.google.com/p/chromium/issues/detail?id=366970\n      if (e.screenX !== lastMoveX || e.screenY !== lastMoveY) {\n        lastMoveX = e.screenX;\n        lastMoveY = e.screenY;\n        handleActivity();\n      }\n    };\n\n    var handleMouseDown = function handleMouseDown() {\n      handleActivity(); // For as long as the they are touching the device or have their mouse down,\n      // we consider them active even if they're not moving their finger or mouse.\n      // So we want to continue to update that they are active\n\n      this.clearInterval(mouseInProgress); // Setting userActivity=true now and setting the interval to the same time\n      // as the activityCheck interval (250) should ensure we never miss the\n      // next activityCheck\n\n      mouseInProgress = this.setInterval(handleActivity, 250);\n    };\n\n    var handleMouseUp = function handleMouseUp(event) {\n      handleActivity(); // Stop the interval that maintains activity if the mouse/touch is down\n\n      this.clearInterval(mouseInProgress);\n    }; // Any mouse movement will be considered user activity\n\n\n    this.on('mousedown', handleMouseDown);\n    this.on('mousemove', handleMouseMove);\n    this.on('mouseup', handleMouseUp);\n    var controlBar = this.getChild('controlBar'); // Fixes bug on Android & iOS where when tapping progressBar (when control bar is displayed)\n    // controlBar would no longer be hidden by default timeout.\n\n    if (controlBar && !IS_IOS && !IS_ANDROID) {\n      controlBar.on('mouseenter', function (event) {\n        this.player().cache_.inactivityTimeout = this.player().options_.inactivityTimeout;\n        this.player().options_.inactivityTimeout = 0;\n      });\n      controlBar.on('mouseleave', function (event) {\n        this.player().options_.inactivityTimeout = this.player().cache_.inactivityTimeout;\n      });\n    } // Listen for keyboard navigation\n    // Shouldn't need to use inProgress interval because of key repeat\n\n\n    this.on('keydown', handleActivity);\n    this.on('keyup', handleActivity); // Run an interval every 250 milliseconds instead of stuffing everything into\n    // the mousemove/touchmove function itself, to prevent performance degradation.\n    // `this.reportUserActivity` simply sets this.userActivity_ to true, which\n    // then gets picked up by this loop\n    // http://ejohn.org/blog/learning-from-twitter/\n\n    var inactivityTimeout;\n    this.setInterval(function () {\n      // Check to see if mouse/touch activity has happened\n      if (!this.userActivity_) {\n        return;\n      } // Reset the activity tracker\n\n\n      this.userActivity_ = false; // If the user state was inactive, set the state to active\n\n      this.userActive(true); // Clear any existing inactivity timeout to start the timer over\n\n      this.clearTimeout(inactivityTimeout);\n      var timeout = this.options_.inactivityTimeout;\n\n      if (timeout <= 0) {\n        return;\n      } // In <timeout> milliseconds, if no more activity has occurred the\n      // user will be considered inactive\n\n\n      inactivityTimeout = this.setTimeout(function () {\n        // Protect against the case where the inactivityTimeout can trigger just\n        // before the next user activity is picked up by the activity check loop\n        // causing a flicker\n        if (!this.userActivity_) {\n          this.userActive(false);\n        }\n      }, timeout);\n    }, 250);\n  }\n  /**\n   * Gets or sets the current playback rate. A playback rate of\n   * 1.0 represents normal speed and 0.5 would indicate half-speed\n   * playback, for instance.\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-playbackrate\n   *\n   * @param {number} [rate]\n   *       New playback rate to set.\n   *\n   * @return {number}\n   *         The current playback rate when getting or 1.0\n   */\n  ;\n\n  _proto.playbackRate = function playbackRate(rate) {\n    if (rate !== undefined) {\n      // NOTE: this.cache_.lastPlaybackRate is set from the tech handler\n      // that is registered above\n      this.techCall_('setPlaybackRate', rate);\n      return;\n    }\n\n    if (this.tech_ && this.tech_.featuresPlaybackRate) {\n      return this.cache_.lastPlaybackRate || this.techGet_('playbackRate');\n    }\n\n    return 1.0;\n  }\n  /**\n   * Gets or sets the current default playback rate. A default playback rate of\n   * 1.0 represents normal speed and 0.5 would indicate half-speed playback, for instance.\n   * defaultPlaybackRate will only represent what the initial playbackRate of a video was, not\n   * not the current playbackRate.\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-defaultplaybackrate\n   *\n   * @param {number} [rate]\n   *       New default playback rate to set.\n   *\n   * @return {number|Player}\n   *         - The default playback rate when getting or 1.0\n   *         - the player when setting\n   */\n  ;\n\n  _proto.defaultPlaybackRate = function defaultPlaybackRate(rate) {\n    if (rate !== undefined) {\n      return this.techCall_('setDefaultPlaybackRate', rate);\n    }\n\n    if (this.tech_ && this.tech_.featuresPlaybackRate) {\n      return this.techGet_('defaultPlaybackRate');\n    }\n\n    return 1.0;\n  }\n  /**\n   * Gets or sets the audio flag\n   *\n   * @param {boolean} bool\n   *        - true signals that this is an audio player\n   *        - false signals that this is not an audio player\n   *\n   * @return {boolean}\n   *         The current value of isAudio when getting\n   */\n  ;\n\n  _proto.isAudio = function isAudio(bool) {\n    if (bool !== undefined) {\n      this.isAudio_ = !!bool;\n      return;\n    }\n\n    return !!this.isAudio_;\n  }\n  /**\n   * A helper method for adding a {@link TextTrack} to our\n   * {@link TextTrackList}.\n   *\n   * In addition to the W3C settings we allow adding additional info through options.\n   *\n   * @see http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack\n   *\n   * @param {string} [kind]\n   *        the kind of TextTrack you are adding\n   *\n   * @param {string} [label]\n   *        the label to give the TextTrack label\n   *\n   * @param {string} [language]\n   *        the language to set on the TextTrack\n   *\n   * @return {TextTrack|undefined}\n   *         the TextTrack that was added or undefined\n   *         if there is no tech\n   */\n  ;\n\n  _proto.addTextTrack = function addTextTrack(kind, label, language) {\n    if (this.tech_) {\n      return this.tech_.addTextTrack(kind, label, language);\n    }\n  }\n  /**\n   * Create a remote {@link TextTrack} and an {@link HTMLTrackElement}. It will\n   * automatically removed from the video element whenever the source changes, unless\n   * manualCleanup is set to false.\n   *\n   * @param {Object} options\n   *        Options to pass to {@link HTMLTrackElement} during creation. See\n   *        {@link HTMLTrackElement} for object properties that you should use.\n   *\n   * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be\n   *\n   * @return {HtmlTrackElement}\n   *         the HTMLTrackElement that was created and added\n   *         to the HtmlTrackElementList and the remote\n   *         TextTrackList\n   *\n   * @deprecated The default value of the \"manualCleanup\" parameter will default\n   *             to \"false\" in upcoming versions of Video.js\n   */\n  ;\n\n  _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n    if (this.tech_) {\n      return this.tech_.addRemoteTextTrack(options, manualCleanup);\n    }\n  }\n  /**\n   * Remove a remote {@link TextTrack} from the respective\n   * {@link TextTrackList} and {@link HtmlTrackElementList}.\n   *\n   * @param {Object} track\n   *        Remote {@link TextTrack} to remove\n   *\n   * @return {undefined}\n   *         does not return anything\n   */\n  ;\n\n  _proto.removeRemoteTextTrack = function removeRemoteTextTrack(obj) {\n    if (obj === void 0) {\n      obj = {};\n    }\n\n    var _obj = obj,\n        track = _obj.track;\n\n    if (!track) {\n      track = obj;\n    } // destructure the input into an object with a track argument, defaulting to arguments[0]\n    // default the whole argument to an empty object if nothing was passed in\n\n\n    if (this.tech_) {\n      return this.tech_.removeRemoteTextTrack(track);\n    }\n  }\n  /**\n   * Gets available media playback quality metrics as specified by the W3C's Media\n   * Playback Quality API.\n   *\n   * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n   *\n   * @return {Object|undefined}\n   *         An object with supported media playback quality metrics or undefined if there\n   *         is no tech or the tech does not support it.\n   */\n  ;\n\n  _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n    return this.techGet_('getVideoPlaybackQuality');\n  }\n  /**\n   * Get video width\n   *\n   * @return {number}\n   *         current video width\n   */\n  ;\n\n  _proto.videoWidth = function videoWidth() {\n    return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0;\n  }\n  /**\n   * Get video height\n   *\n   * @return {number}\n   *         current video height\n   */\n  ;\n\n  _proto.videoHeight = function videoHeight() {\n    return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0;\n  }\n  /**\n   * The player's language code\n   * NOTE: The language should be set in the player options if you want the\n   * the controls to be built with a specific language. Changing the language\n   * later will not update controls text.\n   *\n   * @param {string} [code]\n   *        the language code to set the player to\n   *\n   * @return {string}\n   *         The current language code when getting\n   */\n  ;\n\n  _proto.language = function language(code) {\n    if (code === undefined) {\n      return this.language_;\n    }\n\n    this.language_ = String(code).toLowerCase();\n  }\n  /**\n   * Get the player's language dictionary\n   * Merge every time, because a newly added plugin might call videojs.addLanguage() at any time\n   * Languages specified directly in the player options have precedence\n   *\n   * @return {Array}\n   *         An array of of supported languages\n   */\n  ;\n\n  _proto.languages = function languages() {\n    return mergeOptions(Player.prototype.options_.languages, this.languages_);\n  }\n  /**\n   * returns a JavaScript object reperesenting the current track\n   * information. **DOES not return it as JSON**\n   *\n   * @return {Object}\n   *         Object representing the current of track info\n   */\n  ;\n\n  _proto.toJSON = function toJSON() {\n    var options = mergeOptions(this.options_);\n    var tracks = options.tracks;\n    options.tracks = [];\n\n    for (var i = 0; i < tracks.length; i++) {\n      var track = tracks[i]; // deep merge tracks and null out player so no circular references\n\n      track = mergeOptions(track);\n      track.player = undefined;\n      options.tracks[i] = track;\n    }\n\n    return options;\n  }\n  /**\n   * Creates a simple modal dialog (an instance of the {@link ModalDialog}\n   * component) that immediately overlays the player with arbitrary\n   * content and removes itself when closed.\n   *\n   * @param {string|Function|Element|Array|null} content\n   *        Same as {@link ModalDialog#content}'s param of the same name.\n   *        The most straight-forward usage is to provide a string or DOM\n   *        element.\n   *\n   * @param {Object} [options]\n   *        Extra options which will be passed on to the {@link ModalDialog}.\n   *\n   * @return {ModalDialog}\n   *         the {@link ModalDialog} that was created\n   */\n  ;\n\n  _proto.createModal = function createModal(content, options) {\n    var _this14 = this;\n\n    options = options || {};\n    options.content = content || '';\n    var modal = new ModalDialog(this, options);\n    this.addChild(modal);\n    modal.on('dispose', function () {\n      _this14.removeChild(modal);\n    });\n    modal.open();\n    return modal;\n  }\n  /**\n   * Change breakpoint classes when the player resizes.\n   *\n   * @private\n   */\n  ;\n\n  _proto.updateCurrentBreakpoint_ = function updateCurrentBreakpoint_() {\n    if (!this.responsive()) {\n      return;\n    }\n\n    var currentBreakpoint = this.currentBreakpoint();\n    var currentWidth = this.currentWidth();\n\n    for (var i = 0; i < BREAKPOINT_ORDER.length; i++) {\n      var candidateBreakpoint = BREAKPOINT_ORDER[i];\n      var maxWidth = this.breakpoints_[candidateBreakpoint];\n\n      if (currentWidth <= maxWidth) {\n        // The current breakpoint did not change, nothing to do.\n        if (currentBreakpoint === candidateBreakpoint) {\n          return;\n        } // Only remove a class if there is a current breakpoint.\n\n\n        if (currentBreakpoint) {\n          this.removeClass(BREAKPOINT_CLASSES[currentBreakpoint]);\n        }\n\n        this.addClass(BREAKPOINT_CLASSES[candidateBreakpoint]);\n        this.breakpoint_ = candidateBreakpoint;\n        break;\n      }\n    }\n  }\n  /**\n   * Removes the current breakpoint.\n   *\n   * @private\n   */\n  ;\n\n  _proto.removeCurrentBreakpoint_ = function removeCurrentBreakpoint_() {\n    var className = this.currentBreakpointClass();\n    this.breakpoint_ = '';\n\n    if (className) {\n      this.removeClass(className);\n    }\n  }\n  /**\n   * Get or set breakpoints on the player.\n   *\n   * Calling this method with an object or `true` will remove any previous\n   * custom breakpoints and start from the defaults again.\n   *\n   * @param  {Object|boolean} [breakpoints]\n   *         If an object is given, it can be used to provide custom\n   *         breakpoints. If `true` is given, will set default breakpoints.\n   *         If this argument is not given, will simply return the current\n   *         breakpoints.\n   *\n   * @param  {number} [breakpoints.tiny]\n   *         The maximum width for the \"vjs-layout-tiny\" class.\n   *\n   * @param  {number} [breakpoints.xsmall]\n   *         The maximum width for the \"vjs-layout-x-small\" class.\n   *\n   * @param  {number} [breakpoints.small]\n   *         The maximum width for the \"vjs-layout-small\" class.\n   *\n   * @param  {number} [breakpoints.medium]\n   *         The maximum width for the \"vjs-layout-medium\" class.\n   *\n   * @param  {number} [breakpoints.large]\n   *         The maximum width for the \"vjs-layout-large\" class.\n   *\n   * @param  {number} [breakpoints.xlarge]\n   *         The maximum width for the \"vjs-layout-x-large\" class.\n   *\n   * @param  {number} [breakpoints.huge]\n   *         The maximum width for the \"vjs-layout-huge\" class.\n   *\n   * @return {Object}\n   *         An object mapping breakpoint names to maximum width values.\n   */\n  ;\n\n  _proto.breakpoints = function breakpoints(_breakpoints) {\n    // Used as a getter.\n    if (_breakpoints === undefined) {\n      return assign(this.breakpoints_);\n    }\n\n    this.breakpoint_ = '';\n    this.breakpoints_ = assign({}, DEFAULT_BREAKPOINTS, _breakpoints); // When breakpoint definitions change, we need to update the currently\n    // selected breakpoint.\n\n    this.updateCurrentBreakpoint_(); // Clone the breakpoints before returning.\n\n    return assign(this.breakpoints_);\n  }\n  /**\n   * Get or set a flag indicating whether or not this player should adjust\n   * its UI based on its dimensions.\n   *\n   * @param  {boolean} value\n   *         Should be `true` if the player should adjust its UI based on its\n   *         dimensions; otherwise, should be `false`.\n   *\n   * @return {boolean}\n   *         Will be `true` if this player should adjust its UI based on its\n   *         dimensions; otherwise, will be `false`.\n   */\n  ;\n\n  _proto.responsive = function responsive(value) {\n    // Used as a getter.\n    if (value === undefined) {\n      return this.responsive_;\n    }\n\n    value = Boolean(value);\n    var current = this.responsive_; // Nothing changed.\n\n    if (value === current) {\n      return;\n    } // The value actually changed, set it.\n\n\n    this.responsive_ = value; // Start listening for breakpoints and set the initial breakpoint if the\n    // player is now responsive.\n\n    if (value) {\n      this.on('playerresize', this.updateCurrentBreakpoint_);\n      this.updateCurrentBreakpoint_(); // Stop listening for breakpoints if the player is no longer responsive.\n    } else {\n      this.off('playerresize', this.updateCurrentBreakpoint_);\n      this.removeCurrentBreakpoint_();\n    }\n\n    return value;\n  }\n  /**\n   * Get current breakpoint name, if any.\n   *\n   * @return {string}\n   *         If there is currently a breakpoint set, returns a the key from the\n   *         breakpoints object matching it. Otherwise, returns an empty string.\n   */\n  ;\n\n  _proto.currentBreakpoint = function currentBreakpoint() {\n    return this.breakpoint_;\n  }\n  /**\n   * Get the current breakpoint class name.\n   *\n   * @return {string}\n   *         The matching class name (e.g. `\"vjs-layout-tiny\"` or\n   *         `\"vjs-layout-large\"`) for the current breakpoint. Empty string if\n   *         there is no current breakpoint.\n   */\n  ;\n\n  _proto.currentBreakpointClass = function currentBreakpointClass() {\n    return BREAKPOINT_CLASSES[this.breakpoint_] || '';\n  }\n  /**\n   * An object that describes a single piece of media.\n   *\n   * Properties that are not part of this type description will be retained; so,\n   * this can be viewed as a generic metadata storage mechanism as well.\n   *\n   * @see      {@link https://wicg.github.io/mediasession/#the-mediametadata-interface}\n   * @typedef  {Object} Player~MediaObject\n   *\n   * @property {string} [album]\n   *           Unused, except if this object is passed to the `MediaSession`\n   *           API.\n   *\n   * @property {string} [artist]\n   *           Unused, except if this object is passed to the `MediaSession`\n   *           API.\n   *\n   * @property {Object[]} [artwork]\n   *           Unused, except if this object is passed to the `MediaSession`\n   *           API. If not specified, will be populated via the `poster`, if\n   *           available.\n   *\n   * @property {string} [poster]\n   *           URL to an image that will display before playback.\n   *\n   * @property {Tech~SourceObject|Tech~SourceObject[]|string} [src]\n   *           A single source object, an array of source objects, or a string\n   *           referencing a URL to a media source. It is _highly recommended_\n   *           that an object or array of objects is used here, so that source\n   *           selection algorithms can take the `type` into account.\n   *\n   * @property {string} [title]\n   *           Unused, except if this object is passed to the `MediaSession`\n   *           API.\n   *\n   * @property {Object[]} [textTracks]\n   *           An array of objects to be used to create text tracks, following\n   *           the {@link https://www.w3.org/TR/html50/embedded-content-0.html#the-track-element|native track element format}.\n   *           For ease of removal, these will be created as \"remote\" text\n   *           tracks and set to automatically clean up on source changes.\n   *\n   *           These objects may have properties like `src`, `kind`, `label`,\n   *           and `language`, see {@link Tech#createRemoteTextTrack}.\n   */\n\n  /**\n   * Populate the player using a {@link Player~MediaObject|MediaObject}.\n   *\n   * @param  {Player~MediaObject} media\n   *         A media object.\n   *\n   * @param  {Function} ready\n   *         A callback to be called when the player is ready.\n   */\n  ;\n\n  _proto.loadMedia = function loadMedia(media, ready) {\n    var _this15 = this;\n\n    if (!media || typeof media !== 'object') {\n      return;\n    }\n\n    this.reset(); // Clone the media object so it cannot be mutated from outside.\n\n    this.cache_.media = mergeOptions(media);\n    var _this$cache_$media = this.cache_.media,\n        artwork = _this$cache_$media.artwork,\n        poster = _this$cache_$media.poster,\n        src = _this$cache_$media.src,\n        textTracks = _this$cache_$media.textTracks; // If `artwork` is not given, create it using `poster`.\n\n    if (!artwork && poster) {\n      this.cache_.media.artwork = [{\n        src: poster,\n        type: getMimetype(poster)\n      }];\n    }\n\n    if (src) {\n      this.src(src);\n    }\n\n    if (poster) {\n      this.poster(poster);\n    }\n\n    if (Array.isArray(textTracks)) {\n      textTracks.forEach(function (tt) {\n        return _this15.addRemoteTextTrack(tt, false);\n      });\n    }\n\n    this.ready(ready);\n  }\n  /**\n   * Get a clone of the current {@link Player~MediaObject} for this player.\n   *\n   * If the `loadMedia` method has not been used, will attempt to return a\n   * {@link Player~MediaObject} based on the current state of the player.\n   *\n   * @return {Player~MediaObject}\n   */\n  ;\n\n  _proto.getMedia = function getMedia() {\n    if (!this.cache_.media) {\n      var poster = this.poster();\n      var src = this.currentSources();\n      var textTracks = Array.prototype.map.call(this.remoteTextTracks(), function (tt) {\n        return {\n          kind: tt.kind,\n          label: tt.label,\n          language: tt.language,\n          src: tt.src\n        };\n      });\n      var media = {\n        src: src,\n        textTracks: textTracks\n      };\n\n      if (poster) {\n        media.poster = poster;\n        media.artwork = [{\n          src: media.poster,\n          type: getMimetype(media.poster)\n        }];\n      }\n\n      return media;\n    }\n\n    return mergeOptions(this.cache_.media);\n  }\n  /**\n   * Gets tag settings\n   *\n   * @param {Element} tag\n   *        The player tag\n   *\n   * @return {Object}\n   *         An object containing all of the settings\n   *         for a player tag\n   */\n  ;\n\n  Player.getTagSettings = function getTagSettings(tag) {\n    var baseOptions = {\n      sources: [],\n      tracks: []\n    };\n    var tagOptions = getAttributes(tag);\n    var dataSetup = tagOptions['data-setup'];\n\n    if (hasClass(tag, 'vjs-fill')) {\n      tagOptions.fill = true;\n    }\n\n    if (hasClass(tag, 'vjs-fluid')) {\n      tagOptions.fluid = true;\n    } // Check if data-setup attr exists.\n\n\n    if (dataSetup !== null) {\n      // Parse options JSON\n      // If empty string, make it a parsable json object.\n      var _safeParseTuple = safeParseTuple(dataSetup || '{}'),\n          err = _safeParseTuple[0],\n          data = _safeParseTuple[1];\n\n      if (err) {\n        log.error(err);\n      }\n\n      assign(tagOptions, data);\n    }\n\n    assign(baseOptions, tagOptions); // Get tag children settings\n\n    if (tag.hasChildNodes()) {\n      var children = tag.childNodes;\n\n      for (var i = 0, j = children.length; i < j; i++) {\n        var child = children[i]; // Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/\n\n        var childName = child.nodeName.toLowerCase();\n\n        if (childName === 'source') {\n          baseOptions.sources.push(getAttributes(child));\n        } else if (childName === 'track') {\n          baseOptions.tracks.push(getAttributes(child));\n        }\n      }\n    }\n\n    return baseOptions;\n  }\n  /**\n   * Determine whether or not flexbox is supported\n   *\n   * @return {boolean}\n   *         - true if flexbox is supported\n   *         - false if flexbox is not supported\n   */\n  ;\n\n  _proto.flexNotSupported_ = function flexNotSupported_() {\n    var elem = document.createElement('i'); // Note: We don't actually use flexBasis (or flexOrder), but it's one of the more\n    // common flex features that we can rely on when checking for flex support.\n\n    return !('flexBasis' in elem.style || 'webkitFlexBasis' in elem.style || 'mozFlexBasis' in elem.style || 'msFlexBasis' in elem.style || // IE10-specific (2012 flex spec), available for completeness\n    'msFlexOrder' in elem.style);\n  };\n\n  return Player;\n}(Component);\n/**\n * Get the {@link VideoTrackList}\n * @link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist\n *\n * @return {VideoTrackList}\n *         the current video track list\n *\n * @method Player.prototype.videoTracks\n */\n\n/**\n * Get the {@link AudioTrackList}\n * @link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist\n *\n * @return {AudioTrackList}\n *         the current audio track list\n *\n * @method Player.prototype.audioTracks\n */\n\n/**\n * Get the {@link TextTrackList}\n *\n * @link http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks\n *\n * @return {TextTrackList}\n *         the current text track list\n *\n * @method Player.prototype.textTracks\n */\n\n/**\n * Get the remote {@link TextTrackList}\n *\n * @return {TextTrackList}\n *         The current remote text track list\n *\n * @method Player.prototype.remoteTextTracks\n */\n\n/**\n * Get the remote {@link HtmlTrackElementList} tracks.\n *\n * @return {HtmlTrackElementList}\n *         The current remote text track element list\n *\n * @method Player.prototype.remoteTextTrackEls\n */\n\n\nALL.names.forEach(function (name) {\n  var props = ALL[name];\n\n  Player.prototype[props.getterName] = function () {\n    if (this.tech_) {\n      return this.tech_[props.getterName]();\n    } // if we have not yet loadTech_, we create {video,audio,text}Tracks_\n    // these will be passed to the tech during loading\n\n\n    this[props.privateName] = this[props.privateName] || new props.ListClass();\n    return this[props.privateName];\n  };\n});\n/**\n * Global enumeration of players.\n *\n * The keys are the player IDs and the values are either the {@link Player}\n * instance or `null` for disposed players.\n *\n * @type {Object}\n */\n\nPlayer.players = {};\nvar navigator = window$1.navigator;\n/*\n * Player instance options, surfaced using options\n * options = Player.prototype.options_\n * Make changes in options, not here.\n *\n * @type {Object}\n * @private\n */\n\nPlayer.prototype.options_ = {\n  // Default order of fallback technology\n  techOrder: Tech.defaultTechOrder_,\n  html5: {},\n  flash: {},\n  // default inactivity timeout\n  inactivityTimeout: 2000,\n  // default playback rates\n  playbackRates: [],\n  // Add playback rate selection by adding rates\n  // 'playbackRates': [0.5, 1, 1.5, 2],\n  liveui: false,\n  // Included control sets\n  children: ['mediaLoader', 'posterImage', 'textTrackDisplay', 'loadingSpinner', 'bigPlayButton', 'liveTracker', 'controlBar', 'errorDisplay', 'textTrackSettings', 'resizeManager'],\n  language: navigator && (navigator.languages && navigator.languages[0] || navigator.userLanguage || navigator.language) || 'en',\n  // locales and their language translations\n  languages: {},\n  // Default message to show when a video cannot be played.\n  notSupportedMessage: 'No compatible source was found for this media.',\n  fullscreen: {\n    options: {\n      navigationUI: 'hide'\n    }\n  },\n  breakpoints: {},\n  responsive: false\n};\n[\n/**\n * Returns whether or not the player is in the \"ended\" state.\n *\n * @return {Boolean} True if the player is in the ended state, false if not.\n * @method Player#ended\n */\n'ended',\n/**\n * Returns whether or not the player is in the \"seeking\" state.\n *\n * @return {Boolean} True if the player is in the seeking state, false if not.\n * @method Player#seeking\n */\n'seeking',\n/**\n * Returns the TimeRanges of the media that are currently available\n * for seeking to.\n *\n * @return {TimeRanges} the seekable intervals of the media timeline\n * @method Player#seekable\n */\n'seekable',\n/**\n * Returns the current state of network activity for the element, from\n * the codes in the list below.\n * - NETWORK_EMPTY (numeric value 0)\n *   The element has not yet been initialised. All attributes are in\n *   their initial states.\n * - NETWORK_IDLE (numeric value 1)\n *   The element's resource selection algorithm is active and has\n *   selected a resource, but it is not actually using the network at\n *   this time.\n * - NETWORK_LOADING (numeric value 2)\n *   The user agent is actively trying to download data.\n * - NETWORK_NO_SOURCE (numeric value 3)\n *   The element's resource selection algorithm is active, but it has\n *   not yet found a resource to use.\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#network-states\n * @return {number} the current network activity state\n * @method Player#networkState\n */\n'networkState',\n/**\n * Returns a value that expresses the current state of the element\n * with respect to rendering the current playback position, from the\n * codes in the list below.\n * - HAVE_NOTHING (numeric value 0)\n *   No information regarding the media resource is available.\n * - HAVE_METADATA (numeric value 1)\n *   Enough of the resource has been obtained that the duration of the\n *   resource is available.\n * - HAVE_CURRENT_DATA (numeric value 2)\n *   Data for the immediate current playback position is available.\n * - HAVE_FUTURE_DATA (numeric value 3)\n *   Data for the immediate current playback position is available, as\n *   well as enough data for the user agent to advance the current\n *   playback position in the direction of playback.\n * - HAVE_ENOUGH_DATA (numeric value 4)\n *   The user agent estimates that enough data is available for\n *   playback to proceed uninterrupted.\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate\n * @return {number} the current playback rendering state\n * @method Player#readyState\n */\n'readyState'].forEach(function (fn) {\n  Player.prototype[fn] = function () {\n    return this.techGet_(fn);\n  };\n});\nTECH_EVENTS_RETRIGGER.forEach(function (event) {\n  Player.prototype[\"handleTech\" + toTitleCase(event) + \"_\"] = function () {\n    return this.trigger(event);\n  };\n});\n/**\n * Fired when the player has initial duration and dimension information\n *\n * @event Player#loadedmetadata\n * @type {EventTarget~Event}\n */\n\n/**\n * Fired when the player has downloaded data at the current playback position\n *\n * @event Player#loadeddata\n * @type {EventTarget~Event}\n */\n\n/**\n * Fired when the current playback position has changed *\n * During playback this is fired every 15-250 milliseconds, depending on the\n * playback technology in use.\n *\n * @event Player#timeupdate\n * @type {EventTarget~Event}\n */\n\n/**\n * Fired when the volume changes\n *\n * @event Player#volumechange\n * @type {EventTarget~Event}\n */\n\n/**\n * Reports whether or not a player has a plugin available.\n *\n * This does not report whether or not the plugin has ever been initialized\n * on this player. For that, [usingPlugin]{@link Player#usingPlugin}.\n *\n * @method Player#hasPlugin\n * @param  {string}  name\n *         The name of a plugin.\n *\n * @return {boolean}\n *         Whether or not this player has the requested plugin available.\n */\n\n/**\n * Reports whether or not a player is using a plugin by name.\n *\n * For basic plugins, this only reports whether the plugin has _ever_ been\n * initialized on this player.\n *\n * @method Player#usingPlugin\n * @param  {string} name\n *         The name of a plugin.\n *\n * @return {boolean}\n *         Whether or not this player is using the requested plugin.\n */\n\nComponent.registerComponent('Player', Player);\n\n/**\n * The base plugin name.\n *\n * @private\n * @constant\n * @type {string}\n */\n\nvar BASE_PLUGIN_NAME = 'plugin';\n/**\n * The key on which a player's active plugins cache is stored.\n *\n * @private\n * @constant\n * @type     {string}\n */\n\nvar PLUGIN_CACHE_KEY = 'activePlugins_';\n/**\n * Stores registered plugins in a private space.\n *\n * @private\n * @type    {Object}\n */\n\nvar pluginStorage = {};\n/**\n * Reports whether or not a plugin has been registered.\n *\n * @private\n * @param   {string} name\n *          The name of a plugin.\n *\n * @return {boolean}\n *          Whether or not the plugin has been registered.\n */\n\nvar pluginExists = function pluginExists(name) {\n  return pluginStorage.hasOwnProperty(name);\n};\n/**\n * Get a single registered plugin by name.\n *\n * @private\n * @param   {string} name\n *          The name of a plugin.\n *\n * @return {Function|undefined}\n *          The plugin (or undefined).\n */\n\n\nvar getPlugin = function getPlugin(name) {\n  return pluginExists(name) ? pluginStorage[name] : undefined;\n};\n/**\n * Marks a plugin as \"active\" on a player.\n *\n * Also, ensures that the player has an object for tracking active plugins.\n *\n * @private\n * @param   {Player} player\n *          A Video.js player instance.\n *\n * @param   {string} name\n *          The name of a plugin.\n */\n\n\nvar markPluginAsActive = function markPluginAsActive(player, name) {\n  player[PLUGIN_CACHE_KEY] = player[PLUGIN_CACHE_KEY] || {};\n  player[PLUGIN_CACHE_KEY][name] = true;\n};\n/**\n * Triggers a pair of plugin setup events.\n *\n * @private\n * @param  {Player} player\n *         A Video.js player instance.\n *\n * @param  {Plugin~PluginEventHash} hash\n *         A plugin event hash.\n *\n * @param  {boolean} [before]\n *         If true, prefixes the event name with \"before\". In other words,\n *         use this to trigger \"beforepluginsetup\" instead of \"pluginsetup\".\n */\n\n\nvar triggerSetupEvent = function triggerSetupEvent(player, hash, before) {\n  var eventName = (before ? 'before' : '') + 'pluginsetup';\n  player.trigger(eventName, hash);\n  player.trigger(eventName + ':' + hash.name, hash);\n};\n/**\n * Takes a basic plugin function and returns a wrapper function which marks\n * on the player that the plugin has been activated.\n *\n * @private\n * @param   {string} name\n *          The name of the plugin.\n *\n * @param   {Function} plugin\n *          The basic plugin.\n *\n * @return {Function}\n *          A wrapper function for the given plugin.\n */\n\n\nvar createBasicPlugin = function createBasicPlugin(name, plugin) {\n  var basicPluginWrapper = function basicPluginWrapper() {\n    // We trigger the \"beforepluginsetup\" and \"pluginsetup\" events on the player\n    // regardless, but we want the hash to be consistent with the hash provided\n    // for advanced plugins.\n    //\n    // The only potentially counter-intuitive thing here is the `instance` in\n    // the \"pluginsetup\" event is the value returned by the `plugin` function.\n    triggerSetupEvent(this, {\n      name: name,\n      plugin: plugin,\n      instance: null\n    }, true);\n    var instance = plugin.apply(this, arguments);\n    markPluginAsActive(this, name);\n    triggerSetupEvent(this, {\n      name: name,\n      plugin: plugin,\n      instance: instance\n    });\n    return instance;\n  };\n\n  Object.keys(plugin).forEach(function (prop) {\n    basicPluginWrapper[prop] = plugin[prop];\n  });\n  return basicPluginWrapper;\n};\n/**\n * Takes a plugin sub-class and returns a factory function for generating\n * instances of it.\n *\n * This factory function will replace itself with an instance of the requested\n * sub-class of Plugin.\n *\n * @private\n * @param   {string} name\n *          The name of the plugin.\n *\n * @param   {Plugin} PluginSubClass\n *          The advanced plugin.\n *\n * @return {Function}\n */\n\n\nvar createPluginFactory = function createPluginFactory(name, PluginSubClass) {\n  // Add a `name` property to the plugin prototype so that each plugin can\n  // refer to itself by name.\n  PluginSubClass.prototype.name = name;\n  return function () {\n    triggerSetupEvent(this, {\n      name: name,\n      plugin: PluginSubClass,\n      instance: null\n    }, true);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var instance = _construct(PluginSubClass, [this].concat(args)); // The plugin is replaced by a function that returns the current instance.\n\n\n    this[name] = function () {\n      return instance;\n    };\n\n    triggerSetupEvent(this, instance.getEventHash());\n    return instance;\n  };\n};\n/**\n * Parent class for all advanced plugins.\n *\n * @mixes   module:evented~EventedMixin\n * @mixes   module:stateful~StatefulMixin\n * @fires   Player#beforepluginsetup\n * @fires   Player#beforepluginsetup:$name\n * @fires   Player#pluginsetup\n * @fires   Player#pluginsetup:$name\n * @listens Player#dispose\n * @throws  {Error}\n *          If attempting to instantiate the base {@link Plugin} class\n *          directly instead of via a sub-class.\n */\n\n\nvar Plugin =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates an instance of this class.\n   *\n   * Sub-classes should call `super` to ensure plugins are properly initialized.\n   *\n   * @param {Player} player\n   *        A Video.js player instance.\n   */\n  function Plugin(player) {\n    if (this.constructor === Plugin) {\n      throw new Error('Plugin must be sub-classed; not directly instantiated.');\n    }\n\n    this.player = player; // Make this object evented, but remove the added `trigger` method so we\n    // use the prototype version instead.\n\n    evented(this);\n    delete this.trigger;\n    stateful(this, this.constructor.defaultState);\n    markPluginAsActive(player, this.name); // Auto-bind the dispose method so we can use it as a listener and unbind\n    // it later easily.\n\n    this.dispose = bind(this, this.dispose); // If the player is disposed, dispose the plugin.\n\n    player.on('dispose', this.dispose);\n  }\n  /**\n   * Get the version of the plugin that was set on <pluginName>.VERSION\n   */\n\n\n  var _proto = Plugin.prototype;\n\n  _proto.version = function version() {\n    return this.constructor.VERSION;\n  }\n  /**\n   * Each event triggered by plugins includes a hash of additional data with\n   * conventional properties.\n   *\n   * This returns that object or mutates an existing hash.\n   *\n   * @param   {Object} [hash={}]\n   *          An object to be used as event an event hash.\n   *\n   * @return {Plugin~PluginEventHash}\n   *          An event hash object with provided properties mixed-in.\n   */\n  ;\n\n  _proto.getEventHash = function getEventHash(hash) {\n    if (hash === void 0) {\n      hash = {};\n    }\n\n    hash.name = this.name;\n    hash.plugin = this.constructor;\n    hash.instance = this;\n    return hash;\n  }\n  /**\n   * Triggers an event on the plugin object and overrides\n   * {@link module:evented~EventedMixin.trigger|EventedMixin.trigger}.\n   *\n   * @param   {string|Object} event\n   *          An event type or an object with a type property.\n   *\n   * @param   {Object} [hash={}]\n   *          Additional data hash to merge with a\n   *          {@link Plugin~PluginEventHash|PluginEventHash}.\n   *\n   * @return {boolean}\n   *          Whether or not default was prevented.\n   */\n  ;\n\n  _proto.trigger = function trigger$1(event, hash) {\n    if (hash === void 0) {\n      hash = {};\n    }\n\n    return trigger(this.eventBusEl_, event, this.getEventHash(hash));\n  }\n  /**\n   * Handles \"statechanged\" events on the plugin. No-op by default, override by\n   * subclassing.\n   *\n   * @abstract\n   * @param    {Event} e\n   *           An event object provided by a \"statechanged\" event.\n   *\n   * @param    {Object} e.changes\n   *           An object describing changes that occurred with the \"statechanged\"\n   *           event.\n   */\n  ;\n\n  _proto.handleStateChanged = function handleStateChanged(e) {}\n  /**\n   * Disposes a plugin.\n   *\n   * Subclasses can override this if they want, but for the sake of safety,\n   * it's probably best to subscribe the \"dispose\" event.\n   *\n   * @fires Plugin#dispose\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    var name = this.name,\n        player = this.player;\n    /**\n     * Signals that a advanced plugin is about to be disposed.\n     *\n     * @event Plugin#dispose\n     * @type  {EventTarget~Event}\n     */\n\n    this.trigger('dispose');\n    this.off();\n    player.off('dispose', this.dispose); // Eliminate any possible sources of leaking memory by clearing up\n    // references between the player and the plugin instance and nulling out\n    // the plugin's state and replacing methods with a function that throws.\n\n    player[PLUGIN_CACHE_KEY][name] = false;\n    this.player = this.state = null; // Finally, replace the plugin name on the player with a new factory\n    // function, so that the plugin is ready to be set up again.\n\n    player[name] = createPluginFactory(name, pluginStorage[name]);\n  }\n  /**\n   * Determines if a plugin is a basic plugin (i.e. not a sub-class of `Plugin`).\n   *\n   * @param   {string|Function} plugin\n   *          If a string, matches the name of a plugin. If a function, will be\n   *          tested directly.\n   *\n   * @return {boolean}\n   *          Whether or not a plugin is a basic plugin.\n   */\n  ;\n\n  Plugin.isBasic = function isBasic(plugin) {\n    var p = typeof plugin === 'string' ? getPlugin(plugin) : plugin;\n    return typeof p === 'function' && !Plugin.prototype.isPrototypeOf(p.prototype);\n  }\n  /**\n   * Register a Video.js plugin.\n   *\n   * @param   {string} name\n   *          The name of the plugin to be registered. Must be a string and\n   *          must not match an existing plugin or a method on the `Player`\n   *          prototype.\n   *\n   * @param   {Function} plugin\n   *          A sub-class of `Plugin` or a function for basic plugins.\n   *\n   * @return {Function}\n   *          For advanced plugins, a factory function for that plugin. For\n   *          basic plugins, a wrapper function that initializes the plugin.\n   */\n  ;\n\n  Plugin.registerPlugin = function registerPlugin(name, plugin) {\n    if (typeof name !== 'string') {\n      throw new Error(\"Illegal plugin name, \\\"\" + name + \"\\\", must be a string, was \" + typeof name + \".\");\n    }\n\n    if (pluginExists(name)) {\n      log.warn(\"A plugin named \\\"\" + name + \"\\\" already exists. You may want to avoid re-registering plugins!\");\n    } else if (Player.prototype.hasOwnProperty(name)) {\n      throw new Error(\"Illegal plugin name, \\\"\" + name + \"\\\", cannot share a name with an existing player method!\");\n    }\n\n    if (typeof plugin !== 'function') {\n      throw new Error(\"Illegal plugin for \\\"\" + name + \"\\\", must be a function, was \" + typeof plugin + \".\");\n    }\n\n    pluginStorage[name] = plugin; // Add a player prototype method for all sub-classed plugins (but not for\n    // the base Plugin class).\n\n    if (name !== BASE_PLUGIN_NAME) {\n      if (Plugin.isBasic(plugin)) {\n        Player.prototype[name] = createBasicPlugin(name, plugin);\n      } else {\n        Player.prototype[name] = createPluginFactory(name, plugin);\n      }\n    }\n\n    return plugin;\n  }\n  /**\n   * De-register a Video.js plugin.\n   *\n   * @param  {string} name\n   *         The name of the plugin to be de-registered. Must be a string that\n   *         matches an existing plugin.\n   *\n   * @throws {Error}\n   *         If an attempt is made to de-register the base plugin.\n   */\n  ;\n\n  Plugin.deregisterPlugin = function deregisterPlugin(name) {\n    if (name === BASE_PLUGIN_NAME) {\n      throw new Error('Cannot de-register base plugin.');\n    }\n\n    if (pluginExists(name)) {\n      delete pluginStorage[name];\n      delete Player.prototype[name];\n    }\n  }\n  /**\n   * Gets an object containing multiple Video.js plugins.\n   *\n   * @param   {Array} [names]\n   *          If provided, should be an array of plugin names. Defaults to _all_\n   *          plugin names.\n   *\n   * @return {Object|undefined}\n   *          An object containing plugin(s) associated with their name(s) or\n   *          `undefined` if no matching plugins exist).\n   */\n  ;\n\n  Plugin.getPlugins = function getPlugins(names) {\n    if (names === void 0) {\n      names = Object.keys(pluginStorage);\n    }\n\n    var result;\n    names.forEach(function (name) {\n      var plugin = getPlugin(name);\n\n      if (plugin) {\n        result = result || {};\n        result[name] = plugin;\n      }\n    });\n    return result;\n  }\n  /**\n   * Gets a plugin's version, if available\n   *\n   * @param   {string} name\n   *          The name of a plugin.\n   *\n   * @return {string}\n   *          The plugin's version or an empty string.\n   */\n  ;\n\n  Plugin.getPluginVersion = function getPluginVersion(name) {\n    var plugin = getPlugin(name);\n    return plugin && plugin.VERSION || '';\n  };\n\n  return Plugin;\n}();\n/**\n * Gets a plugin by name if it exists.\n *\n * @static\n * @method   getPlugin\n * @memberOf Plugin\n * @param    {string} name\n *           The name of a plugin.\n *\n * @returns  {Function|undefined}\n *           The plugin (or `undefined`).\n */\n\n\nPlugin.getPlugin = getPlugin;\n/**\n * The name of the base plugin class as it is registered.\n *\n * @type {string}\n */\n\nPlugin.BASE_PLUGIN_NAME = BASE_PLUGIN_NAME;\nPlugin.registerPlugin(BASE_PLUGIN_NAME, Plugin);\n/**\n * Documented in player.js\n *\n * @ignore\n */\n\nPlayer.prototype.usingPlugin = function (name) {\n  return !!this[PLUGIN_CACHE_KEY] && this[PLUGIN_CACHE_KEY][name] === true;\n};\n/**\n * Documented in player.js\n *\n * @ignore\n */\n\n\nPlayer.prototype.hasPlugin = function (name) {\n  return !!pluginExists(name);\n};\n/**\n * Signals that a plugin is about to be set up on a player.\n *\n * @event    Player#beforepluginsetup\n * @type     {Plugin~PluginEventHash}\n */\n\n/**\n * Signals that a plugin is about to be set up on a player - by name. The name\n * is the name of the plugin.\n *\n * @event    Player#beforepluginsetup:$name\n * @type     {Plugin~PluginEventHash}\n */\n\n/**\n * Signals that a plugin has just been set up on a player.\n *\n * @event    Player#pluginsetup\n * @type     {Plugin~PluginEventHash}\n */\n\n/**\n * Signals that a plugin has just been set up on a player - by name. The name\n * is the name of the plugin.\n *\n * @event    Player#pluginsetup:$name\n * @type     {Plugin~PluginEventHash}\n */\n\n/**\n * @typedef  {Object} Plugin~PluginEventHash\n *\n * @property {string} instance\n *           For basic plugins, the return value of the plugin function. For\n *           advanced plugins, the plugin instance on which the event is fired.\n *\n * @property {string} name\n *           The name of the plugin.\n *\n * @property {string} plugin\n *           For basic plugins, the plugin function. For advanced plugins, the\n *           plugin class/constructor.\n */\n\n/**\n * @file extend.js\n * @module extend\n */\n\n/**\n * A combination of node inherits and babel's inherits (after transpile).\n * Both work the same but node adds `super_` to the subClass\n * and Bable adds the superClass as __proto__. Both seem useful.\n *\n * @param {Object} subClass\n *        The class to inherit to\n *\n * @param {Object} superClass\n *        The class to inherit from\n *\n * @private\n */\nvar _inherits = function _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    // node\n    subClass.super_ = superClass;\n  }\n};\n/**\n * Used to subclass an existing class by emulating ES subclassing using the\n * `extends` keyword.\n *\n * @function\n * @example\n * var MyComponent = videojs.extend(videojs.getComponent('Component'), {\n *   myCustomMethod: function() {\n *     // Do things in my method.\n *   }\n * });\n *\n * @param    {Function} superClass\n *           The class to inherit from\n *\n * @param    {Object}   [subClassMethods={}]\n *           Methods of the new class\n *\n * @return   {Function}\n *           The new class with subClassMethods that inherited superClass.\n */\n\n\nvar extend = function extend(superClass, subClassMethods) {\n  if (subClassMethods === void 0) {\n    subClassMethods = {};\n  }\n\n  var subClass = function subClass() {\n    superClass.apply(this, arguments);\n  };\n\n  var methods = {};\n\n  if (typeof subClassMethods === 'object') {\n    if (subClassMethods.constructor !== Object.prototype.constructor) {\n      subClass = subClassMethods.constructor;\n    }\n\n    methods = subClassMethods;\n  } else if (typeof subClassMethods === 'function') {\n    subClass = subClassMethods;\n  }\n\n  _inherits(subClass, superClass); // Extend subObj's prototype with functions and other properties from props\n\n\n  for (var name in methods) {\n    if (methods.hasOwnProperty(name)) {\n      subClass.prototype[name] = methods[name];\n    }\n  }\n\n  return subClass;\n};\n\n/**\n * @file video.js\n * @module videojs\n */\n/**\n * Normalize an `id` value by trimming off a leading `#`\n *\n * @private\n * @param   {string} id\n *          A string, maybe with a leading `#`.\n *\n * @return {string}\n *          The string, without any leading `#`.\n */\n\nvar normalizeId = function normalizeId(id) {\n  return id.indexOf('#') === 0 ? id.slice(1) : id;\n};\n/**\n * The `videojs()` function doubles as the main function for users to create a\n * {@link Player} instance as well as the main library namespace.\n *\n * It can also be used as a getter for a pre-existing {@link Player} instance.\n * However, we _strongly_ recommend using `videojs.getPlayer()` for this\n * purpose because it avoids any potential for unintended initialization.\n *\n * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)\n * of our JSDoc template, we cannot properly document this as both a function\n * and a namespace, so its function signature is documented here.\n *\n * #### Arguments\n * ##### id\n * string|Element, **required**\n *\n * Video element or video element ID.\n *\n * ##### options\n * Object, optional\n *\n * Options object for providing settings.\n * See: [Options Guide](https://docs.videojs.com/tutorial-options.html).\n *\n * ##### ready\n * {@link Component~ReadyCallback}, optional\n *\n * A function to be called when the {@link Player} and {@link Tech} are ready.\n *\n * #### Return Value\n *\n * The `videojs()` function returns a {@link Player} instance.\n *\n * @namespace\n *\n * @borrows AudioTrack as AudioTrack\n * @borrows Component.getComponent as getComponent\n * @borrows module:computed-style~computedStyle as computedStyle\n * @borrows module:events.on as on\n * @borrows module:events.one as one\n * @borrows module:events.off as off\n * @borrows module:events.trigger as trigger\n * @borrows EventTarget as EventTarget\n * @borrows module:extend~extend as extend\n * @borrows module:fn.bind as bind\n * @borrows module:format-time.formatTime as formatTime\n * @borrows module:format-time.resetFormatTime as resetFormatTime\n * @borrows module:format-time.setFormatTime as setFormatTime\n * @borrows module:merge-options.mergeOptions as mergeOptions\n * @borrows module:middleware.use as use\n * @borrows Player.players as players\n * @borrows Plugin.registerPlugin as registerPlugin\n * @borrows Plugin.deregisterPlugin as deregisterPlugin\n * @borrows Plugin.getPlugins as getPlugins\n * @borrows Plugin.getPlugin as getPlugin\n * @borrows Plugin.getPluginVersion as getPluginVersion\n * @borrows Tech.getTech as getTech\n * @borrows Tech.registerTech as registerTech\n * @borrows TextTrack as TextTrack\n * @borrows module:time-ranges.createTimeRanges as createTimeRange\n * @borrows module:time-ranges.createTimeRanges as createTimeRanges\n * @borrows module:url.isCrossOrigin as isCrossOrigin\n * @borrows module:url.parseUrl as parseUrl\n * @borrows VideoTrack as VideoTrack\n *\n * @param  {string|Element} id\n *         Video element or video element ID.\n *\n * @param  {Object} [options]\n *         Options object for providing settings.\n *         See: [Options Guide](https://docs.videojs.com/tutorial-options.html).\n *\n * @param  {Component~ReadyCallback} [ready]\n *         A function to be called when the {@link Player} and {@link Tech} are\n *         ready.\n *\n * @return {Player}\n *         The `videojs()` function returns a {@link Player|Player} instance.\n */\n\n\nfunction videojs$1(id, options, ready) {\n  var player = videojs$1.getPlayer(id);\n\n  if (player) {\n    if (options) {\n      log.warn(\"Player \\\"\" + id + \"\\\" is already initialised. Options will not be applied.\");\n    }\n\n    if (ready) {\n      player.ready(ready);\n    }\n\n    return player;\n  }\n\n  var el = typeof id === 'string' ? $('#' + normalizeId(id)) : id;\n\n  if (!isEl(el)) {\n    throw new TypeError('The element or ID supplied is not valid. (videojs)');\n  } // document.body.contains(el) will only check if el is contained within that one document.\n  // This causes problems for elements in iframes.\n  // Instead, use the element's ownerDocument instead of the global document.\n  // This will make sure that the element is indeed in the dom of that document.\n  // Additionally, check that the document in question has a default view.\n  // If the document is no longer attached to the dom, the defaultView of the document will be null.\n\n\n  if (!el.ownerDocument.defaultView || !el.ownerDocument.body.contains(el)) {\n    log.warn('The element supplied is not included in the DOM');\n  }\n\n  options = options || {};\n  videojs$1.hooks('beforesetup').forEach(function (hookFunction) {\n    var opts = hookFunction(el, mergeOptions(options));\n\n    if (!isObject(opts) || Array.isArray(opts)) {\n      log.error('please return an object in beforesetup hooks');\n      return;\n    }\n\n    options = mergeOptions(options, opts);\n  }); // We get the current \"Player\" component here in case an integration has\n  // replaced it with a custom player.\n\n  var PlayerComponent = Component.getComponent('Player');\n  player = new PlayerComponent(el, options, ready);\n  videojs$1.hooks('setup').forEach(function (hookFunction) {\n    return hookFunction(player);\n  });\n  return player;\n}\n/**\n * An Object that contains lifecycle hooks as keys which point to an array\n * of functions that are run when a lifecycle is triggered\n *\n * @private\n */\n\n\nvideojs$1.hooks_ = {};\n/**\n * Get a list of hooks for a specific lifecycle\n *\n * @param  {string} type\n *         the lifecyle to get hooks from\n *\n * @param  {Function|Function[]} [fn]\n *         Optionally add a hook (or hooks) to the lifecycle that your are getting.\n *\n * @return {Array}\n *         an array of hooks, or an empty array if there are none.\n */\n\nvideojs$1.hooks = function (type, fn) {\n  videojs$1.hooks_[type] = videojs$1.hooks_[type] || [];\n\n  if (fn) {\n    videojs$1.hooks_[type] = videojs$1.hooks_[type].concat(fn);\n  }\n\n  return videojs$1.hooks_[type];\n};\n/**\n * Add a function hook to a specific videojs lifecycle.\n *\n * @param {string} type\n *        the lifecycle to hook the function to.\n *\n * @param {Function|Function[]}\n *        The function or array of functions to attach.\n */\n\n\nvideojs$1.hook = function (type, fn) {\n  videojs$1.hooks(type, fn);\n};\n/**\n * Add a function hook that will only run once to a specific videojs lifecycle.\n *\n * @param {string} type\n *        the lifecycle to hook the function to.\n *\n * @param {Function|Function[]}\n *        The function or array of functions to attach.\n */\n\n\nvideojs$1.hookOnce = function (type, fn) {\n  videojs$1.hooks(type, [].concat(fn).map(function (original) {\n    var wrapper = function wrapper() {\n      videojs$1.removeHook(type, wrapper);\n      return original.apply(void 0, arguments);\n    };\n\n    return wrapper;\n  }));\n};\n/**\n * Remove a hook from a specific videojs lifecycle.\n *\n * @param  {string} type\n *         the lifecycle that the function hooked to\n *\n * @param  {Function} fn\n *         The hooked function to remove\n *\n * @return {boolean}\n *         The function that was removed or undef\n */\n\n\nvideojs$1.removeHook = function (type, fn) {\n  var index = videojs$1.hooks(type).indexOf(fn);\n\n  if (index <= -1) {\n    return false;\n  }\n\n  videojs$1.hooks_[type] = videojs$1.hooks_[type].slice();\n  videojs$1.hooks_[type].splice(index, 1);\n  return true;\n}; // Add default styles\n\n\nif (window$1.VIDEOJS_NO_DYNAMIC_STYLE !== true && isReal()) {\n  var style = $('.vjs-styles-defaults');\n\n  if (!style) {\n    style = createStyleElement('vjs-styles-defaults');\n    var head = $('head');\n\n    if (head) {\n      head.insertBefore(style, head.firstChild);\n    }\n\n    setTextContent(style, \"\\n      .video-js {\\n        width: 300px;\\n        height: 150px;\\n      }\\n\\n      .vjs-fluid {\\n        padding-top: 56.25%\\n      }\\n    \");\n  }\n} // Run Auto-load players\n// You have to wait at least once in case this script is loaded after your\n// video in the DOM (weird behavior only with minified version)\n\n\nautoSetupTimeout(1, videojs$1);\n/**\n * Current Video.js version. Follows [semantic versioning](https://semver.org/).\n *\n * @type {string}\n */\n\nvideojs$1.VERSION = version;\n/**\n * The global options object. These are the settings that take effect\n * if no overrides are specified when the player is created.\n *\n * @type {Object}\n */\n\nvideojs$1.options = Player.prototype.options_;\n/**\n * Get an object with the currently created players, keyed by player ID\n *\n * @return {Object}\n *         The created players\n */\n\nvideojs$1.getPlayers = function () {\n  return Player.players;\n};\n/**\n * Get a single player based on an ID or DOM element.\n *\n * This is useful if you want to check if an element or ID has an associated\n * Video.js player, but not create one if it doesn't.\n *\n * @param   {string|Element} id\n *          An HTML element - `<video>`, `<audio>`, or `<video-js>` -\n *          or a string matching the `id` of such an element.\n *\n * @return {Player|undefined}\n *          A player instance or `undefined` if there is no player instance\n *          matching the argument.\n */\n\n\nvideojs$1.getPlayer = function (id) {\n  var players = Player.players;\n  var tag;\n\n  if (typeof id === 'string') {\n    var nId = normalizeId(id);\n    var player = players[nId];\n\n    if (player) {\n      return player;\n    }\n\n    tag = $('#' + nId);\n  } else {\n    tag = id;\n  }\n\n  if (isEl(tag)) {\n    var _tag = tag,\n        _player = _tag.player,\n        playerId = _tag.playerId; // Element may have a `player` property referring to an already created\n    // player instance. If so, return that.\n\n    if (_player || players[playerId]) {\n      return _player || players[playerId];\n    }\n  }\n};\n/**\n * Returns an array of all current players.\n *\n * @return {Array}\n *         An array of all players. The array will be in the order that\n *         `Object.keys` provides, which could potentially vary between\n *         JavaScript engines.\n *\n */\n\n\nvideojs$1.getAllPlayers = function () {\n  return (// Disposed players leave a key with a `null` value, so we need to make sure\n    // we filter those out.\n    Object.keys(Player.players).map(function (k) {\n      return Player.players[k];\n    }).filter(Boolean)\n  );\n};\n\nvideojs$1.players = Player.players;\nvideojs$1.getComponent = Component.getComponent;\n/**\n * Register a component so it can referred to by name. Used when adding to other\n * components, either through addChild `component.addChild('myComponent')` or through\n * default children options  `{ children: ['myComponent'] }`.\n *\n * > NOTE: You could also just initialize the component before adding.\n * `component.addChild(new MyComponent());`\n *\n * @param {string} name\n *        The class name of the component\n *\n * @param {Component} comp\n *        The component class\n *\n * @return {Component}\n *         The newly registered component\n */\n\nvideojs$1.registerComponent = function (name, comp) {\n  if (Tech.isTech(comp)) {\n    log.warn(\"The \" + name + \" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)\");\n  }\n\n  Component.registerComponent.call(Component, name, comp);\n};\n\nvideojs$1.getTech = Tech.getTech;\nvideojs$1.registerTech = Tech.registerTech;\nvideojs$1.use = use;\n/**\n * An object that can be returned by a middleware to signify\n * that the middleware is being terminated.\n *\n * @type {object}\n * @property {object} middleware.TERMINATOR\n */\n\nObject.defineProperty(videojs$1, 'middleware', {\n  value: {},\n  writeable: false,\n  enumerable: true\n});\nObject.defineProperty(videojs$1.middleware, 'TERMINATOR', {\n  value: TERMINATOR,\n  writeable: false,\n  enumerable: true\n});\n/**\n * A reference to the {@link module:browser|browser utility module} as an object.\n *\n * @type {Object}\n * @see  {@link module:browser|browser}\n */\n\nvideojs$1.browser = browser;\n/**\n * Use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED} instead; only\n * included for backward-compatibility with 4.x.\n *\n * @deprecated Since version 5.0, use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED instead.\n * @type {boolean}\n */\n\nvideojs$1.TOUCH_ENABLED = TOUCH_ENABLED;\nvideojs$1.extend = extend;\nvideojs$1.mergeOptions = mergeOptions;\nvideojs$1.bind = bind;\nvideojs$1.registerPlugin = Plugin.registerPlugin;\nvideojs$1.deregisterPlugin = Plugin.deregisterPlugin;\n/**\n * Deprecated method to register a plugin with Video.js\n *\n * @deprecated videojs.plugin() is deprecated; use videojs.registerPlugin() instead\n *\n * @param {string} name\n *        The plugin name\n *\n * @param {Plugin|Function} plugin\n *         The plugin sub-class or function\n */\n\nvideojs$1.plugin = function (name, plugin) {\n  log.warn('videojs.plugin() is deprecated; use videojs.registerPlugin() instead');\n  return Plugin.registerPlugin(name, plugin);\n};\n\nvideojs$1.getPlugins = Plugin.getPlugins;\nvideojs$1.getPlugin = Plugin.getPlugin;\nvideojs$1.getPluginVersion = Plugin.getPluginVersion;\n/**\n * Adding languages so that they're available to all players.\n * Example: `videojs.addLanguage('es', { 'Hello': 'Hola' });`\n *\n * @param {string} code\n *        The language code or dictionary property\n *\n * @param {Object} data\n *        The data values to be translated\n *\n * @return {Object}\n *         The resulting language dictionary object\n */\n\nvideojs$1.addLanguage = function (code, data) {\n  var _mergeOptions;\n\n  code = ('' + code).toLowerCase();\n  videojs$1.options.languages = mergeOptions(videojs$1.options.languages, (_mergeOptions = {}, _mergeOptions[code] = data, _mergeOptions));\n  return videojs$1.options.languages[code];\n};\n/**\n * A reference to the {@link module:log|log utility module} as an object.\n *\n * @type {Function}\n * @see  {@link module:log|log}\n */\n\n\nvideojs$1.log = log;\nvideojs$1.createLogger = createLogger$1;\nvideojs$1.createTimeRange = videojs$1.createTimeRanges = createTimeRanges;\nvideojs$1.formatTime = formatTime;\nvideojs$1.setFormatTime = setFormatTime;\nvideojs$1.resetFormatTime = resetFormatTime;\nvideojs$1.parseUrl = parseUrl;\nvideojs$1.isCrossOrigin = isCrossOrigin;\nvideojs$1.EventTarget = EventTarget;\nvideojs$1.on = on;\nvideojs$1.one = one;\nvideojs$1.off = off;\nvideojs$1.trigger = trigger;\n/**\n * A cross-browser XMLHttpRequest wrapper.\n *\n * @function\n * @param    {Object} options\n *           Settings for the request.\n *\n * @return   {XMLHttpRequest|XDomainRequest}\n *           The request object.\n *\n * @see      https://github.com/Raynos/xhr\n */\n\nvideojs$1.xhr = XHR;\nvideojs$1.TextTrack = TextTrack;\nvideojs$1.AudioTrack = AudioTrack;\nvideojs$1.VideoTrack = VideoTrack;\n['isEl', 'isTextNode', 'createEl', 'hasClass', 'addClass', 'removeClass', 'toggleClass', 'setAttributes', 'getAttributes', 'emptyEl', 'appendContent', 'insertContent'].forEach(function (k) {\n  videojs$1[k] = function () {\n    log.warn(\"videojs.\" + k + \"() is deprecated; use videojs.dom.\" + k + \"() instead\");\n    return Dom[k].apply(null, arguments);\n  };\n});\nvideojs$1.computedStyle = computedStyle;\n/**\n * A reference to the {@link module:dom|DOM utility module} as an object.\n *\n * @type {Object}\n * @see  {@link module:dom|dom}\n */\n\nvideojs$1.dom = Dom;\n/**\n * A reference to the {@link module:url|URL utility module} as an object.\n *\n * @type {Object}\n * @see  {@link module:url|url}\n */\n\nvideojs$1.url = Url;\n\n/**\n * @videojs/http-streaming\n * @version 1.10.6\n * @copyright 2019 Brightcove, Inc\n * @license Apache-2.0\n */\n/**\n * @file resolve-url.js - Handling how URLs are resolved and manipulated\n */\n\nvar resolveUrl = function resolveUrl(baseURL, relativeURL) {\n  // return early if we don't need to resolve\n  if (/^[a-z]+:/i.test(relativeURL)) {\n    return relativeURL;\n  } // if the base URL is relative then combine with the current location\n\n\n  if (!/\\/\\//i.test(baseURL)) {\n    baseURL = URLToolkit.buildAbsoluteURL(window$1.location.href, baseURL);\n  }\n\n  return URLToolkit.buildAbsoluteURL(baseURL, relativeURL);\n};\n/**\n * Checks whether xhr request was redirected and returns correct url depending\n * on `handleManifestRedirects` option\n *\n * @api private\n *\n * @param  {String} url - an url being requested\n * @param  {XMLHttpRequest} req - xhr request result\n *\n * @return {String}\n */\n\n\nvar resolveManifestRedirect = function resolveManifestRedirect(handleManifestRedirect, url, req) {\n  // To understand how the responseURL below is set and generated:\n  // - https://fetch.spec.whatwg.org/#concept-response-url\n  // - https://fetch.spec.whatwg.org/#atomic-http-redirect-handling\n  if (handleManifestRedirect && req.responseURL && url !== req.responseURL) {\n    return req.responseURL;\n  }\n\n  return url;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar get$1 = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n/**\n * @file playlist-loader.js\n *\n * A state machine that manages the loading, caching, and updating of\n * M3U8 playlists.\n *\n */\n\n\nvar mergeOptions$1 = videojs$1.mergeOptions,\n    EventTarget$1 = videojs$1.EventTarget,\n    log$1 = videojs$1.log;\n/**\n * Loops through all supported media groups in master and calls the provided\n * callback for each group\n *\n * @param {Object} master\n *        The parsed master manifest object\n * @param {Function} callback\n *        Callback to call for each media group\n */\n\nvar forEachMediaGroup = function forEachMediaGroup(master, callback) {\n  ['AUDIO', 'SUBTITLES'].forEach(function (mediaType) {\n    for (var groupKey in master.mediaGroups[mediaType]) {\n      for (var labelKey in master.mediaGroups[mediaType][groupKey]) {\n        var mediaProperties = master.mediaGroups[mediaType][groupKey][labelKey];\n        callback(mediaProperties, mediaType, groupKey, labelKey);\n      }\n    }\n  });\n};\n/**\n  * Returns a new array of segments that is the result of merging\n  * properties from an older list of segments onto an updated\n  * list. No properties on the updated playlist will be overridden.\n  *\n  * @param {Array} original the outdated list of segments\n  * @param {Array} update the updated list of segments\n  * @param {Number=} offset the index of the first update\n  * segment in the original segment list. For non-live playlists,\n  * this should always be zero and does not need to be\n  * specified. For live playlists, it should be the difference\n  * between the media sequence numbers in the original and updated\n  * playlists.\n  * @return a list of merged segment objects\n  */\n\n\nvar updateSegments = function updateSegments(original, update, offset) {\n  var result = update.slice();\n  offset = offset || 0;\n  var length = Math.min(original.length, update.length + offset);\n\n  for (var i = offset; i < length; i++) {\n    result[i - offset] = mergeOptions$1(original[i], result[i - offset]);\n  }\n\n  return result;\n};\n\nvar resolveSegmentUris = function resolveSegmentUris(segment, baseUri) {\n  if (!segment.resolvedUri) {\n    segment.resolvedUri = resolveUrl(baseUri, segment.uri);\n  }\n\n  if (segment.key && !segment.key.resolvedUri) {\n    segment.key.resolvedUri = resolveUrl(baseUri, segment.key.uri);\n  }\n\n  if (segment.map && !segment.map.resolvedUri) {\n    segment.map.resolvedUri = resolveUrl(baseUri, segment.map.uri);\n  }\n};\n/**\n  * Returns a new master playlist that is the result of merging an\n  * updated media playlist into the original version. If the\n  * updated media playlist does not match any of the playlist\n  * entries in the original master playlist, null is returned.\n  *\n  * @param {Object} master a parsed master M3U8 object\n  * @param {Object} media a parsed media M3U8 object\n  * @return {Object} a new object that represents the original\n  * master playlist with the updated media playlist merged in, or\n  * null if the merge produced no change.\n  */\n\n\nvar updateMaster = function updateMaster(master, media) {\n  var result = mergeOptions$1(master, {});\n  var playlist = result.playlists[media.uri];\n\n  if (!playlist) {\n    return null;\n  } // consider the playlist unchanged if the number of segments is equal, the media\n  // sequence number is unchanged, and this playlist hasn't become the end of the playlist\n\n\n  if (playlist.segments && media.segments && playlist.segments.length === media.segments.length && playlist.endList === media.endList && playlist.mediaSequence === media.mediaSequence) {\n    return null;\n  }\n\n  var mergedPlaylist = mergeOptions$1(playlist, media); // if the update could overlap existing segment information, merge the two segment lists\n\n  if (playlist.segments) {\n    mergedPlaylist.segments = updateSegments(playlist.segments, media.segments, media.mediaSequence - playlist.mediaSequence);\n  } // resolve any segment URIs to prevent us from having to do it later\n\n\n  mergedPlaylist.segments.forEach(function (segment) {\n    resolveSegmentUris(segment, mergedPlaylist.resolvedUri);\n  }); // TODO Right now in the playlists array there are two references to each playlist, one\n  // that is referenced by index, and one by URI. The index reference may no longer be\n  // necessary.\n\n  for (var i = 0; i < result.playlists.length; i++) {\n    if (result.playlists[i].uri === media.uri) {\n      result.playlists[i] = mergedPlaylist;\n    }\n  }\n\n  result.playlists[media.uri] = mergedPlaylist;\n  return result;\n};\n\nvar setupMediaPlaylists = function setupMediaPlaylists(master) {\n  // setup by-URI lookups and resolve media playlist URIs\n  var i = master.playlists.length;\n\n  while (i--) {\n    var playlist = master.playlists[i];\n    master.playlists[playlist.uri] = playlist;\n    playlist.resolvedUri = resolveUrl(master.uri, playlist.uri);\n    playlist.id = i;\n\n    if (!playlist.attributes) {\n      // Although the spec states an #EXT-X-STREAM-INF tag MUST have a\n      // BANDWIDTH attribute, we can play the stream without it. This means a poorly\n      // formatted master playlist may not have an attribute list. An attributes\n      // property is added here to prevent undefined references when we encounter\n      // this scenario.\n      playlist.attributes = {};\n      log$1.warn('Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.');\n    }\n  }\n};\n\nvar resolveMediaGroupUris = function resolveMediaGroupUris(master) {\n  forEachMediaGroup(master, function (properties) {\n    if (properties.uri) {\n      properties.resolvedUri = resolveUrl(master.uri, properties.uri);\n    }\n  });\n};\n/**\n * Calculates the time to wait before refreshing a live playlist\n *\n * @param {Object} media\n *        The current media\n * @param {Boolean} update\n *        True if there were any updates from the last refresh, false otherwise\n * @return {Number}\n *         The time in ms to wait before refreshing the live playlist\n */\n\n\nvar refreshDelay = function refreshDelay(media, update) {\n  var lastSegment = media.segments[media.segments.length - 1];\n  var delay = void 0;\n\n  if (update && lastSegment && lastSegment.duration) {\n    delay = lastSegment.duration * 1000;\n  } else {\n    // if the playlist is unchanged since the last reload or last segment duration\n    // cannot be determined, try again after half the target duration\n    delay = (media.targetDuration || 10) * 500;\n  }\n\n  return delay;\n};\n/**\n * Load a playlist from a remote location\n *\n * @class PlaylistLoader\n * @extends Stream\n * @param {String} srcUrl the url to start with\n * @param {Boolean} withCredentials the withCredentials xhr option\n * @constructor\n */\n\n\nvar PlaylistLoader = function (_EventTarget) {\n  inherits(PlaylistLoader, _EventTarget);\n\n  function PlaylistLoader(srcUrl, hls) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, PlaylistLoader);\n\n    var _this = possibleConstructorReturn(this, (PlaylistLoader.__proto__ || Object.getPrototypeOf(PlaylistLoader)).call(this));\n\n    var _options$withCredenti = options.withCredentials,\n        withCredentials = _options$withCredenti === undefined ? false : _options$withCredenti,\n        _options$handleManife = options.handleManifestRedirects,\n        handleManifestRedirects = _options$handleManife === undefined ? false : _options$handleManife;\n    _this.srcUrl = srcUrl;\n    _this.hls_ = hls;\n    _this.withCredentials = withCredentials;\n    _this.handleManifestRedirects = handleManifestRedirects;\n    var hlsOptions = hls.options_;\n    _this.customTagParsers = hlsOptions && hlsOptions.customTagParsers || [];\n    _this.customTagMappers = hlsOptions && hlsOptions.customTagMappers || [];\n\n    if (!_this.srcUrl) {\n      throw new Error('A non-empty playlist URL is required');\n    } // initialize the loader state\n\n\n    _this.state = 'HAVE_NOTHING'; // live playlist staleness timeout\n\n    _this.on('mediaupdatetimeout', function () {\n      if (_this.state !== 'HAVE_METADATA') {\n        // only refresh the media playlist if no other activity is going on\n        return;\n      }\n\n      _this.state = 'HAVE_CURRENT_METADATA';\n      _this.request = _this.hls_.xhr({\n        uri: resolveUrl(_this.master.uri, _this.media().uri),\n        withCredentials: _this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this.request) {\n          return;\n        }\n\n        if (error) {\n          return _this.playlistRequestError(_this.request, _this.media().uri, 'HAVE_METADATA');\n        }\n\n        _this.haveMetadata(_this.request, _this.media().uri);\n      });\n    });\n\n    return _this;\n  }\n\n  createClass(PlaylistLoader, [{\n    key: 'playlistRequestError',\n    value: function playlistRequestError(xhr, url, startingState) {\n      // any in-flight request is now finished\n      this.request = null;\n\n      if (startingState) {\n        this.state = startingState;\n      }\n\n      this.error = {\n        playlist: this.master.playlists[url],\n        status: xhr.status,\n        message: 'HLS playlist request error at URL: ' + url + '.',\n        responseText: xhr.responseText,\n        code: xhr.status >= 500 ? 4 : 2\n      };\n      this.trigger('error');\n    } // update the playlist loader's state in response to a new or\n    // updated playlist.\n\n  }, {\n    key: 'haveMetadata',\n    value: function haveMetadata(xhr, url) {\n      var _this2 = this; // any in-flight request is now finished\n\n\n      this.request = null;\n      this.state = 'HAVE_METADATA';\n      var parser = new Parser(); // adding custom tag parsers\n\n      this.customTagParsers.forEach(function (customParser) {\n        return parser.addParser(customParser);\n      }); // adding custom tag mappers\n\n      this.customTagMappers.forEach(function (mapper) {\n        return parser.addTagMapper(mapper);\n      });\n      parser.push(xhr.responseText);\n      parser.end();\n      parser.manifest.uri = url; // m3u8-parser does not attach an attributes property to media playlists so make\n      // sure that the property is attached to avoid undefined reference errors\n\n      parser.manifest.attributes = parser.manifest.attributes || {}; // merge this playlist into the master\n\n      var update = updateMaster(this.master, parser.manifest);\n      this.targetDuration = parser.manifest.targetDuration;\n\n      if (update) {\n        this.master = update;\n        this.media_ = this.master.playlists[parser.manifest.uri];\n      } else {\n        this.trigger('playlistunchanged');\n      } // refresh live playlists after a target duration passes\n\n\n      if (!this.media().endList) {\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n        this.mediaUpdateTimeout = window$1.setTimeout(function () {\n          _this2.trigger('mediaupdatetimeout');\n        }, refreshDelay(this.media(), !!update));\n      }\n\n      this.trigger('loadedplaylist');\n    }\n    /**\n     * Abort any outstanding work and clean up.\n     */\n\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      this.stopRequest();\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n      window$1.clearTimeout(this.finalRenditionTimeout);\n    }\n  }, {\n    key: 'stopRequest',\n    value: function stopRequest() {\n      if (this.request) {\n        var oldRequest = this.request;\n        this.request = null;\n        oldRequest.onreadystatechange = null;\n        oldRequest.abort();\n      }\n    }\n    /**\n     * When called without any arguments, returns the currently\n     * active media playlist. When called with a single argument,\n     * triggers the playlist loader to asynchronously switch to the\n     * specified media playlist. Calling this method while the\n     * loader is in the HAVE_NOTHING causes an error to be emitted\n     * but otherwise has no effect.\n     *\n     * @param {Object=} playlist the parsed media playlist\n     * object to switch to\n     * @param {Boolean=} is this the last available playlist\n     *\n     * @return {Playlist} the current loaded media\n     */\n\n  }, {\n    key: 'media',\n    value: function media(playlist, isFinalRendition) {\n      var _this3 = this; // getter\n\n\n      if (!playlist) {\n        return this.media_;\n      } // setter\n\n\n      if (this.state === 'HAVE_NOTHING') {\n        throw new Error('Cannot switch media playlist from ' + this.state);\n      } // find the playlist object if the target playlist has been\n      // specified by URI\n\n\n      if (typeof playlist === 'string') {\n        if (!this.master.playlists[playlist]) {\n          throw new Error('Unknown playlist URI: ' + playlist);\n        }\n\n        playlist = this.master.playlists[playlist];\n      }\n\n      window$1.clearTimeout(this.finalRenditionTimeout);\n\n      if (isFinalRendition) {\n        var delay = playlist.targetDuration / 2 * 1000 || 5 * 1000;\n        this.finalRenditionTimeout = window$1.setTimeout(this.media.bind(this, playlist, false), delay);\n        return;\n      }\n\n      var startingState = this.state;\n      var mediaChange = !this.media_ || playlist.uri !== this.media_.uri; // switch to fully loaded playlists immediately\n\n      if (this.master.playlists[playlist.uri].endList) {\n        // abort outstanding playlist requests\n        if (this.request) {\n          this.request.onreadystatechange = null;\n          this.request.abort();\n          this.request = null;\n        }\n\n        this.state = 'HAVE_METADATA';\n        this.media_ = playlist; // trigger media change if the active media has been updated\n\n        if (mediaChange) {\n          this.trigger('mediachanging');\n          this.trigger('mediachange');\n        }\n\n        return;\n      } // switching to the active playlist is a no-op\n\n\n      if (!mediaChange) {\n        return;\n      }\n\n      this.state = 'SWITCHING_MEDIA'; // there is already an outstanding playlist request\n\n      if (this.request) {\n        if (playlist.resolvedUri === this.request.url) {\n          // requesting to switch to the same playlist multiple times\n          // has no effect after the first\n          return;\n        }\n\n        this.request.onreadystatechange = null;\n        this.request.abort();\n        this.request = null;\n      } // request the new playlist\n\n\n      if (this.media_) {\n        this.trigger('mediachanging');\n      }\n\n      this.request = this.hls_.xhr({\n        uri: playlist.resolvedUri,\n        withCredentials: this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this3.request) {\n          return;\n        }\n\n        playlist.resolvedUri = resolveManifestRedirect(_this3.handleManifestRedirects, playlist.resolvedUri, req);\n\n        if (error) {\n          return _this3.playlistRequestError(_this3.request, playlist.uri, startingState);\n        }\n\n        _this3.haveMetadata(req, playlist.uri); // fire loadedmetadata the first time a media playlist is loaded\n\n\n        if (startingState === 'HAVE_MASTER') {\n          _this3.trigger('loadedmetadata');\n        } else {\n          _this3.trigger('mediachange');\n        }\n      });\n    }\n    /**\n     * pause loading of the playlist\n     */\n\n  }, {\n    key: 'pause',\n    value: function pause() {\n      this.stopRequest();\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n\n      if (this.state === 'HAVE_NOTHING') {\n        // If we pause the loader before any data has been retrieved, its as if we never\n        // started, so reset to an unstarted state.\n        this.started = false;\n      } // Need to restore state now that no activity is happening\n\n\n      if (this.state === 'SWITCHING_MEDIA') {\n        // if the loader was in the process of switching media, it should either return to\n        // HAVE_MASTER or HAVE_METADATA depending on if the loader has loaded a media\n        // playlist yet. This is determined by the existence of loader.media_\n        if (this.media_) {\n          this.state = 'HAVE_METADATA';\n        } else {\n          this.state = 'HAVE_MASTER';\n        }\n      } else if (this.state === 'HAVE_CURRENT_METADATA') {\n        this.state = 'HAVE_METADATA';\n      }\n    }\n    /**\n     * start loading of the playlist\n     */\n\n  }, {\n    key: 'load',\n    value: function load(isFinalRendition) {\n      var _this4 = this;\n\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n      var media = this.media();\n\n      if (isFinalRendition) {\n        var delay = media ? media.targetDuration / 2 * 1000 : 5 * 1000;\n        this.mediaUpdateTimeout = window$1.setTimeout(function () {\n          return _this4.load();\n        }, delay);\n        return;\n      }\n\n      if (!this.started) {\n        this.start();\n        return;\n      }\n\n      if (media && !media.endList) {\n        this.trigger('mediaupdatetimeout');\n      } else {\n        this.trigger('loadedplaylist');\n      }\n    }\n    /**\n     * start loading of the playlist\n     */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      var _this5 = this;\n\n      this.started = true; // request the specified URL\n\n      this.request = this.hls_.xhr({\n        uri: this.srcUrl,\n        withCredentials: this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this5.request) {\n          return;\n        } // clear the loader's request reference\n\n\n        _this5.request = null;\n\n        if (error) {\n          _this5.error = {\n            status: req.status,\n            message: 'HLS playlist request error at URL: ' + _this5.srcUrl + '.',\n            responseText: req.responseText,\n            // MEDIA_ERR_NETWORK\n            code: 2\n          };\n\n          if (_this5.state === 'HAVE_NOTHING') {\n            _this5.started = false;\n          }\n\n          return _this5.trigger('error');\n        }\n\n        var parser = new Parser(); // adding custom tag parsers\n\n        _this5.customTagParsers.forEach(function (customParser) {\n          return parser.addParser(customParser);\n        }); // adding custom tag mappers\n\n\n        _this5.customTagMappers.forEach(function (mapper) {\n          return parser.addTagMapper(mapper);\n        });\n\n        parser.push(req.responseText);\n        parser.end();\n        _this5.state = 'HAVE_MASTER';\n        _this5.srcUrl = resolveManifestRedirect(_this5.handleManifestRedirects, _this5.srcUrl, req);\n        parser.manifest.uri = _this5.srcUrl; // loaded a master playlist\n\n        if (parser.manifest.playlists) {\n          _this5.master = parser.manifest;\n          setupMediaPlaylists(_this5.master);\n          resolveMediaGroupUris(_this5.master);\n\n          _this5.trigger('loadedplaylist');\n\n          if (!_this5.request) {\n            // no media playlist was specifically selected so start\n            // from the first listed one\n            _this5.media(parser.manifest.playlists[0]);\n          }\n\n          return;\n        } // loaded a media playlist\n        // infer a master playlist if none was previously requested\n\n\n        _this5.master = {\n          mediaGroups: {\n            'AUDIO': {},\n            'VIDEO': {},\n            'CLOSED-CAPTIONS': {},\n            'SUBTITLES': {}\n          },\n          uri: window$1.location.href,\n          playlists: [{\n            uri: _this5.srcUrl,\n            id: 0,\n            resolvedUri: _this5.srcUrl,\n            // m3u8-parser does not attach an attributes property to media playlists so make\n            // sure that the property is attached to avoid undefined reference errors\n            attributes: {}\n          }]\n        };\n        _this5.master.playlists[_this5.srcUrl] = _this5.master.playlists[0];\n\n        _this5.haveMetadata(req, _this5.srcUrl);\n\n        return _this5.trigger('loadedmetadata');\n      });\n    }\n  }]);\n  return PlaylistLoader;\n}(EventTarget$1);\n/**\n * @file playlist.js\n *\n * Playlist related utilities.\n */\n\n\nvar createTimeRange = videojs$1.createTimeRange;\n/**\n * walk backward until we find a duration we can use\n * or return a failure\n *\n * @param {Playlist} playlist the playlist to walk through\n * @param {Number} endSequence the mediaSequence to stop walking on\n */\n\nvar backwardDuration = function backwardDuration(playlist, endSequence) {\n  var result = 0;\n  var i = endSequence - playlist.mediaSequence; // if a start time is available for segment immediately following\n  // the interval, use it\n\n  var segment = playlist.segments[i]; // Walk backward until we find the latest segment with timeline\n  // information that is earlier than endSequence\n\n  if (segment) {\n    if (typeof segment.start !== 'undefined') {\n      return {\n        result: segment.start,\n        precise: true\n      };\n    }\n\n    if (typeof segment.end !== 'undefined') {\n      return {\n        result: segment.end - segment.duration,\n        precise: true\n      };\n    }\n  }\n\n  while (i--) {\n    segment = playlist.segments[i];\n\n    if (typeof segment.end !== 'undefined') {\n      return {\n        result: result + segment.end,\n        precise: true\n      };\n    }\n\n    result += segment.duration;\n\n    if (typeof segment.start !== 'undefined') {\n      return {\n        result: result + segment.start,\n        precise: true\n      };\n    }\n  }\n\n  return {\n    result: result,\n    precise: false\n  };\n};\n/**\n * walk forward until we find a duration we can use\n * or return a failure\n *\n * @param {Playlist} playlist the playlist to walk through\n * @param {Number} endSequence the mediaSequence to stop walking on\n */\n\n\nvar forwardDuration = function forwardDuration(playlist, endSequence) {\n  var result = 0;\n  var segment = void 0;\n  var i = endSequence - playlist.mediaSequence; // Walk forward until we find the earliest segment with timeline\n  // information\n\n  for (; i < playlist.segments.length; i++) {\n    segment = playlist.segments[i];\n\n    if (typeof segment.start !== 'undefined') {\n      return {\n        result: segment.start - result,\n        precise: true\n      };\n    }\n\n    result += segment.duration;\n\n    if (typeof segment.end !== 'undefined') {\n      return {\n        result: segment.end - result,\n        precise: true\n      };\n    }\n  } // indicate we didn't find a useful duration estimate\n\n\n  return {\n    result: -1,\n    precise: false\n  };\n};\n/**\n  * Calculate the media duration from the segments associated with a\n  * playlist. The duration of a subinterval of the available segments\n  * may be calculated by specifying an end index.\n  *\n  * @param {Object} playlist a media playlist object\n  * @param {Number=} endSequence an exclusive upper boundary\n  * for the playlist.  Defaults to playlist length.\n  * @param {Number} expired the amount of time that has dropped\n  * off the front of the playlist in a live scenario\n  * @return {Number} the duration between the first available segment\n  * and end index.\n  */\n\n\nvar intervalDuration = function intervalDuration(playlist, endSequence, expired) {\n  var backward = void 0;\n  var forward = void 0;\n\n  if (typeof endSequence === 'undefined') {\n    endSequence = playlist.mediaSequence + playlist.segments.length;\n  }\n\n  if (endSequence < playlist.mediaSequence) {\n    return 0;\n  } // do a backward walk to estimate the duration\n\n\n  backward = backwardDuration(playlist, endSequence);\n\n  if (backward.precise) {\n    // if we were able to base our duration estimate on timing\n    // information provided directly from the Media Source, return\n    // it\n    return backward.result;\n  } // walk forward to see if a precise duration estimate can be made\n  // that way\n\n\n  forward = forwardDuration(playlist, endSequence);\n\n  if (forward.precise) {\n    // we found a segment that has been buffered and so it's\n    // position is known precisely\n    return forward.result;\n  } // return the less-precise, playlist-based duration estimate\n\n\n  return backward.result + expired;\n};\n/**\n  * Calculates the duration of a playlist. If a start and end index\n  * are specified, the duration will be for the subset of the media\n  * timeline between those two indices. The total duration for live\n  * playlists is always Infinity.\n  *\n  * @param {Object} playlist a media playlist object\n  * @param {Number=} endSequence an exclusive upper\n  * boundary for the playlist. Defaults to the playlist media\n  * sequence number plus its length.\n  * @param {Number=} expired the amount of time that has\n  * dropped off the front of the playlist in a live scenario\n  * @return {Number} the duration between the start index and end\n  * index.\n  */\n\n\nvar duration = function duration(playlist, endSequence, expired) {\n  if (!playlist) {\n    return 0;\n  }\n\n  if (typeof expired !== 'number') {\n    expired = 0;\n  } // if a slice of the total duration is not requested, use\n  // playlist-level duration indicators when they're present\n\n\n  if (typeof endSequence === 'undefined') {\n    // if present, use the duration specified in the playlist\n    if (playlist.totalDuration) {\n      return playlist.totalDuration;\n    } // duration should be Infinity for live playlists\n\n\n    if (!playlist.endList) {\n      return window$1.Infinity;\n    }\n  } // calculate the total duration based on the segment durations\n\n\n  return intervalDuration(playlist, endSequence, expired);\n};\n/**\n  * Calculate the time between two indexes in the current playlist\n  * neight the start- nor the end-index need to be within the current\n  * playlist in which case, the targetDuration of the playlist is used\n  * to approximate the durations of the segments\n  *\n  * @param {Object} playlist a media playlist object\n  * @param {Number} startIndex\n  * @param {Number} endIndex\n  * @return {Number} the number of seconds between startIndex and endIndex\n  */\n\n\nvar sumDurations = function sumDurations(playlist, startIndex, endIndex) {\n  var durations = 0;\n\n  if (startIndex > endIndex) {\n    var _ref = [endIndex, startIndex];\n    startIndex = _ref[0];\n    endIndex = _ref[1];\n  }\n\n  if (startIndex < 0) {\n    for (var i = startIndex; i < Math.min(0, endIndex); i++) {\n      durations += playlist.targetDuration;\n    }\n\n    startIndex = 0;\n  }\n\n  for (var _i = startIndex; _i < endIndex; _i++) {\n    durations += playlist.segments[_i].duration;\n  }\n\n  return durations;\n};\n/**\n * Determines the media index of the segment corresponding to the safe edge of the live\n * window which is the duration of the last segment plus 2 target durations from the end\n * of the playlist.\n *\n * @param {Object} playlist\n *        a media playlist object\n * @return {Number}\n *         The media index of the segment at the safe live point. 0 if there is no \"safe\"\n *         point.\n * @function safeLiveIndex\n */\n\n\nvar safeLiveIndex = function safeLiveIndex(playlist) {\n  if (!playlist.segments.length) {\n    return 0;\n  }\n\n  var i = playlist.segments.length - 1;\n  var distanceFromEnd = playlist.segments[i].duration || playlist.targetDuration;\n  var safeDistance = distanceFromEnd + playlist.targetDuration * 2;\n\n  while (i--) {\n    distanceFromEnd += playlist.segments[i].duration;\n\n    if (distanceFromEnd >= safeDistance) {\n      break;\n    }\n  }\n\n  return Math.max(0, i);\n};\n/**\n * Calculates the playlist end time\n *\n * @param {Object} playlist a media playlist object\n * @param {Number=} expired the amount of time that has\n *                  dropped off the front of the playlist in a live scenario\n * @param {Boolean|false} useSafeLiveEnd a boolean value indicating whether or not the\n *                        playlist end calculation should consider the safe live end\n *                        (truncate the playlist end by three segments). This is normally\n *                        used for calculating the end of the playlist's seekable range.\n * @returns {Number} the end time of playlist\n * @function playlistEnd\n */\n\n\nvar playlistEnd = function playlistEnd(playlist, expired, useSafeLiveEnd) {\n  if (!playlist || !playlist.segments) {\n    return null;\n  }\n\n  if (playlist.endList) {\n    return duration(playlist);\n  }\n\n  if (expired === null) {\n    return null;\n  }\n\n  expired = expired || 0;\n  var endSequence = useSafeLiveEnd ? safeLiveIndex(playlist) : playlist.segments.length;\n  return intervalDuration(playlist, playlist.mediaSequence + endSequence, expired);\n};\n/**\n  * Calculates the interval of time that is currently seekable in a\n  * playlist. The returned time ranges are relative to the earliest\n  * moment in the specified playlist that is still available. A full\n  * seekable implementation for live streams would need to offset\n  * these values by the duration of content that has expired from the\n  * stream.\n  *\n  * @param {Object} playlist a media playlist object\n  * dropped off the front of the playlist in a live scenario\n  * @param {Number=} expired the amount of time that has\n  * dropped off the front of the playlist in a live scenario\n  * @return {TimeRanges} the periods of time that are valid targets\n  * for seeking\n  */\n\n\nvar seekable = function seekable(playlist, expired) {\n  var useSafeLiveEnd = true;\n  var seekableStart = expired || 0;\n  var seekableEnd = playlistEnd(playlist, expired, useSafeLiveEnd);\n\n  if (seekableEnd === null) {\n    return createTimeRange();\n  }\n\n  return createTimeRange(seekableStart, seekableEnd);\n};\n\nvar isWholeNumber = function isWholeNumber(num) {\n  return num - Math.floor(num) === 0;\n};\n\nvar roundSignificantDigit = function roundSignificantDigit(increment, num) {\n  // If we have a whole number, just add 1 to it\n  if (isWholeNumber(num)) {\n    return num + increment * 0.1;\n  }\n\n  var numDecimalDigits = num.toString().split('.')[1].length;\n\n  for (var i = 1; i <= numDecimalDigits; i++) {\n    var scale = Math.pow(10, i);\n    var temp = num * scale;\n\n    if (isWholeNumber(temp) || i === numDecimalDigits) {\n      return (temp + increment) / scale;\n    }\n  }\n};\n\nvar ceilLeastSignificantDigit = roundSignificantDigit.bind(null, 1);\nvar floorLeastSignificantDigit = roundSignificantDigit.bind(null, -1);\n/**\n * Determine the index and estimated starting time of the segment that\n * contains a specified playback position in a media playlist.\n *\n * @param {Object} playlist the media playlist to query\n * @param {Number} currentTime The number of seconds since the earliest\n * possible position to determine the containing segment for\n * @param {Number} startIndex\n * @param {Number} startTime\n * @return {Object}\n */\n\nvar getMediaInfoForTime = function getMediaInfoForTime(playlist, currentTime, startIndex, startTime) {\n  var i = void 0;\n  var segment = void 0;\n  var numSegments = playlist.segments.length;\n  var time = currentTime - startTime;\n\n  if (time < 0) {\n    // Walk backward from startIndex in the playlist, adding durations\n    // until we find a segment that contains `time` and return it\n    if (startIndex > 0) {\n      for (i = startIndex - 1; i >= 0; i--) {\n        segment = playlist.segments[i];\n        time += floorLeastSignificantDigit(segment.duration);\n\n        if (time > 0) {\n          return {\n            mediaIndex: i,\n            startTime: startTime - sumDurations(playlist, startIndex, i)\n          };\n        }\n      }\n    } // We were unable to find a good segment within the playlist\n    // so select the first segment\n\n\n    return {\n      mediaIndex: 0,\n      startTime: currentTime\n    };\n  } // When startIndex is negative, we first walk forward to first segment\n  // adding target durations. If we \"run out of time\" before getting to\n  // the first segment, return the first segment\n\n\n  if (startIndex < 0) {\n    for (i = startIndex; i < 0; i++) {\n      time -= playlist.targetDuration;\n\n      if (time < 0) {\n        return {\n          mediaIndex: 0,\n          startTime: currentTime\n        };\n      }\n    }\n\n    startIndex = 0;\n  } // Walk forward from startIndex in the playlist, subtracting durations\n  // until we find a segment that contains `time` and return it\n\n\n  for (i = startIndex; i < numSegments; i++) {\n    segment = playlist.segments[i];\n    time -= ceilLeastSignificantDigit(segment.duration);\n\n    if (time < 0) {\n      return {\n        mediaIndex: i,\n        startTime: startTime + sumDurations(playlist, startIndex, i)\n      };\n    }\n  } // We are out of possible candidates so load the last one...\n\n\n  return {\n    mediaIndex: numSegments - 1,\n    startTime: currentTime\n  };\n};\n/**\n * Check whether the playlist is blacklisted or not.\n *\n * @param {Object} playlist the media playlist object\n * @return {boolean} whether the playlist is blacklisted or not\n * @function isBlacklisted\n */\n\n\nvar isBlacklisted = function isBlacklisted(playlist) {\n  return playlist.excludeUntil && playlist.excludeUntil > Date.now();\n};\n/**\n * Check whether the playlist is compatible with current playback configuration or has\n * been blacklisted permanently for being incompatible.\n *\n * @param {Object} playlist the media playlist object\n * @return {boolean} whether the playlist is incompatible or not\n * @function isIncompatible\n */\n\n\nvar isIncompatible = function isIncompatible(playlist) {\n  return playlist.excludeUntil && playlist.excludeUntil === Infinity;\n};\n/**\n * Check whether the playlist is enabled or not.\n *\n * @param {Object} playlist the media playlist object\n * @return {boolean} whether the playlist is enabled or not\n * @function isEnabled\n */\n\n\nvar isEnabled = function isEnabled(playlist) {\n  var blacklisted = isBlacklisted(playlist);\n  return !playlist.disabled && !blacklisted;\n};\n/**\n * Check whether the playlist has been manually disabled through the representations api.\n *\n * @param {Object} playlist the media playlist object\n * @return {boolean} whether the playlist is disabled manually or not\n * @function isDisabled\n */\n\n\nvar isDisabled = function isDisabled(playlist) {\n  return playlist.disabled;\n};\n/**\n * Returns whether the current playlist is an AES encrypted HLS stream\n *\n * @return {Boolean} true if it's an AES encrypted HLS stream\n */\n\n\nvar isAes = function isAes(media) {\n  for (var i = 0; i < media.segments.length; i++) {\n    if (media.segments[i].key) {\n      return true;\n    }\n  }\n\n  return false;\n};\n/**\n * Returns whether the current playlist contains fMP4\n *\n * @return {Boolean} true if the playlist contains fMP4\n */\n\n\nvar isFmp4 = function isFmp4(media) {\n  for (var i = 0; i < media.segments.length; i++) {\n    if (media.segments[i].map) {\n      return true;\n    }\n  }\n\n  return false;\n};\n/**\n * Checks if the playlist has a value for the specified attribute\n *\n * @param {String} attr\n *        Attribute to check for\n * @param {Object} playlist\n *        The media playlist object\n * @return {Boolean}\n *         Whether the playlist contains a value for the attribute or not\n * @function hasAttribute\n */\n\n\nvar hasAttribute = function hasAttribute(attr, playlist) {\n  return playlist.attributes && playlist.attributes[attr];\n};\n/**\n * Estimates the time required to complete a segment download from the specified playlist\n *\n * @param {Number} segmentDuration\n *        Duration of requested segment\n * @param {Number} bandwidth\n *        Current measured bandwidth of the player\n * @param {Object} playlist\n *        The media playlist object\n * @param {Number=} bytesReceived\n *        Number of bytes already received for the request. Defaults to 0\n * @return {Number|NaN}\n *         The estimated time to request the segment. NaN if bandwidth information for\n *         the given playlist is unavailable\n * @function estimateSegmentRequestTime\n */\n\n\nvar estimateSegmentRequestTime = function estimateSegmentRequestTime(segmentDuration, bandwidth, playlist) {\n  var bytesReceived = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n  if (!hasAttribute('BANDWIDTH', playlist)) {\n    return NaN;\n  }\n\n  var size = segmentDuration * playlist.attributes.BANDWIDTH;\n  return (size - bytesReceived * 8) / bandwidth;\n};\n/*\n * Returns whether the current playlist is the lowest rendition\n *\n * @return {Boolean} true if on lowest rendition\n */\n\n\nvar isLowestEnabledRendition = function isLowestEnabledRendition(master, media) {\n  if (master.playlists.length === 1) {\n    return true;\n  }\n\n  var currentBandwidth = media.attributes.BANDWIDTH || Number.MAX_VALUE;\n  return master.playlists.filter(function (playlist) {\n    if (!isEnabled(playlist)) {\n      return false;\n    }\n\n    return (playlist.attributes.BANDWIDTH || 0) < currentBandwidth;\n  }).length === 0;\n}; // exports\n\n\nvar Playlist = {\n  duration: duration,\n  seekable: seekable,\n  safeLiveIndex: safeLiveIndex,\n  getMediaInfoForTime: getMediaInfoForTime,\n  isEnabled: isEnabled,\n  isDisabled: isDisabled,\n  isBlacklisted: isBlacklisted,\n  isIncompatible: isIncompatible,\n  playlistEnd: playlistEnd,\n  isAes: isAes,\n  isFmp4: isFmp4,\n  hasAttribute: hasAttribute,\n  estimateSegmentRequestTime: estimateSegmentRequestTime,\n  isLowestEnabledRendition: isLowestEnabledRendition\n};\n/**\n * @file xhr.js\n */\n\nvar videojsXHR = videojs$1.xhr,\n    mergeOptions$1$1 = videojs$1.mergeOptions;\n\nvar xhrFactory = function xhrFactory() {\n  var xhr = function XhrFunction(options, callback) {\n    // Add a default timeout for all hls requests\n    options = mergeOptions$1$1({\n      timeout: 45e3\n    }, options); // Allow an optional user-specified function to modify the option\n    // object before we construct the xhr request\n\n    var beforeRequest = XhrFunction.beforeRequest || videojs$1.Hls.xhr.beforeRequest;\n\n    if (beforeRequest && typeof beforeRequest === 'function') {\n      var newOptions = beforeRequest(options);\n\n      if (newOptions) {\n        options = newOptions;\n      }\n    }\n\n    var request = videojsXHR(options, function (error, response) {\n      var reqResponse = request.response;\n\n      if (!error && reqResponse) {\n        request.responseTime = Date.now();\n        request.roundTripTime = request.responseTime - request.requestTime;\n        request.bytesReceived = reqResponse.byteLength || reqResponse.length;\n\n        if (!request.bandwidth) {\n          request.bandwidth = Math.floor(request.bytesReceived / request.roundTripTime * 8 * 1000);\n        }\n      }\n\n      if (response.headers) {\n        request.responseHeaders = response.headers;\n      } // videojs.xhr now uses a specific code on the error\n      // object to signal that a request has timed out instead\n      // of setting a boolean on the request object\n\n\n      if (error && error.code === 'ETIMEDOUT') {\n        request.timedout = true;\n      } // videojs.xhr no longer considers status codes outside of 200 and 0\n      // (for file uris) to be errors, but the old XHR did, so emulate that\n      // behavior. Status 206 may be used in response to byterange requests.\n\n\n      if (!error && !request.aborted && response.statusCode !== 200 && response.statusCode !== 206 && response.statusCode !== 0) {\n        error = new Error('XHR Failed with a response of: ' + (request && (reqResponse || request.responseText)));\n      }\n\n      callback(error, request);\n    });\n    var originalAbort = request.abort;\n\n    request.abort = function () {\n      request.aborted = true;\n      return originalAbort.apply(request, arguments);\n    };\n\n    request.uri = options.uri;\n    request.requestTime = Date.now();\n    return request;\n  };\n\n  return xhr;\n};\n/**\n * Turns segment byterange into a string suitable for use in\n * HTTP Range requests\n *\n * @param {Object} byterange - an object with two values defining the start and end\n *                             of a byte-range\n */\n\n\nvar byterangeStr = function byterangeStr(byterange) {\n  var byterangeStart = void 0;\n  var byterangeEnd = void 0; // `byterangeEnd` is one less than `offset + length` because the HTTP range\n  // header uses inclusive ranges\n\n  byterangeEnd = byterange.offset + byterange.length - 1;\n  byterangeStart = byterange.offset;\n  return 'bytes=' + byterangeStart + '-' + byterangeEnd;\n};\n/**\n * Defines headers for use in the xhr request for a particular segment.\n *\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n */\n\n\nvar segmentXhrHeaders = function segmentXhrHeaders(segment) {\n  var headers = {};\n\n  if (segment.byterange) {\n    headers.Range = byterangeStr(segment.byterange);\n  }\n\n  return headers;\n};\n/**\n * @file bin-utils.js\n */\n\n/**\n * convert a TimeRange to text\n *\n * @param {TimeRange} range the timerange to use for conversion\n * @param {Number} i the iterator on the range to convert\n */\n\n\nvar textRange = function textRange(range, i) {\n  return range.start(i) + '-' + range.end(i);\n};\n/**\n * format a number as hex string\n *\n * @param {Number} e The number\n * @param {Number} i the iterator\n */\n\n\nvar formatHexString = function formatHexString(e, i) {\n  var value = e.toString(16);\n  return '00'.substring(0, 2 - value.length) + value + (i % 2 ? ' ' : '');\n};\n\nvar formatAsciiString = function formatAsciiString(e) {\n  if (e >= 0x20 && e < 0x7e) {\n    return String.fromCharCode(e);\n  }\n\n  return '.';\n};\n/**\n * Creates an object for sending to a web worker modifying properties that are TypedArrays\n * into a new object with seperated properties for the buffer, byteOffset, and byteLength.\n *\n * @param {Object} message\n *        Object of properties and values to send to the web worker\n * @return {Object}\n *         Modified message with TypedArray values expanded\n * @function createTransferableMessage\n */\n\n\nvar createTransferableMessage = function createTransferableMessage(message) {\n  var transferable = {};\n  Object.keys(message).forEach(function (key) {\n    var value = message[key];\n\n    if (ArrayBuffer.isView(value)) {\n      transferable[key] = {\n        bytes: value.buffer,\n        byteOffset: value.byteOffset,\n        byteLength: value.byteLength\n      };\n    } else {\n      transferable[key] = value;\n    }\n  });\n  return transferable;\n};\n/**\n * Returns a unique string identifier for a media initialization\n * segment.\n */\n\n\nvar initSegmentId = function initSegmentId(initSegment) {\n  var byterange = initSegment.byterange || {\n    length: Infinity,\n    offset: 0\n  };\n  return [byterange.length, byterange.offset, initSegment.resolvedUri].join(',');\n};\n/**\n * Returns a unique string identifier for a media segment key.\n */\n\n\nvar segmentKeyId = function segmentKeyId(key) {\n  return key.resolvedUri;\n};\n/**\n * utils to help dump binary data to the console\n */\n\n\nvar hexDump = function hexDump(data) {\n  var bytes = Array.prototype.slice.call(data);\n  var step = 16;\n  var result = '';\n  var hex = void 0;\n  var ascii = void 0;\n\n  for (var j = 0; j < bytes.length / step; j++) {\n    hex = bytes.slice(j * step, j * step + step).map(formatHexString).join('');\n    ascii = bytes.slice(j * step, j * step + step).map(formatAsciiString).join('');\n    result += hex + ' ' + ascii + '\\n';\n  }\n\n  return result;\n};\n\nvar tagDump = function tagDump(_ref) {\n  var bytes = _ref.bytes;\n  return hexDump(bytes);\n};\n\nvar textRanges = function textRanges(ranges) {\n  var result = '';\n  var i = void 0;\n\n  for (i = 0; i < ranges.length; i++) {\n    result += textRange(ranges, i) + ' ';\n  }\n\n  return result;\n};\n\nvar utils =\n/*#__PURE__*/\nObject.freeze({\n  createTransferableMessage: createTransferableMessage,\n  initSegmentId: initSegmentId,\n  segmentKeyId: segmentKeyId,\n  hexDump: hexDump,\n  tagDump: tagDump,\n  textRanges: textRanges\n}); // TODO handle fmp4 case where the timing info is accurate and doesn't involve transmux\n// Add 25% to the segment duration to account for small discrepencies in segment timing.\n// 25% was arbitrarily chosen, and may need to be refined over time.\n\nvar SEGMENT_END_FUDGE_PERCENT = 0.25;\n/**\n * Converts a player time (any time that can be gotten/set from player.currentTime(),\n * e.g., any time within player.seekable().start(0) to player.seekable().end(0)) to a\n * program time (any time referencing the real world (e.g., EXT-X-PROGRAM-DATE-TIME)).\n *\n * The containing segment is required as the EXT-X-PROGRAM-DATE-TIME serves as an \"anchor\n * point\" (a point where we have a mapping from program time to player time, with player\n * time being the post transmux start of the segment).\n *\n * For more details, see [this doc](../../docs/program-time-from-player-time.md).\n *\n * @param {Number} playerTime the player time\n * @param {Object} segment the segment which contains the player time\n * @return {Date} program time\n */\n\nvar playerTimeToProgramTime = function playerTimeToProgramTime(playerTime, segment) {\n  if (!segment.dateTimeObject) {\n    // Can't convert without an \"anchor point\" for the program time (i.e., a time that can\n    // be used to map the start of a segment with a real world time).\n    return null;\n  }\n\n  var transmuxerPrependedSeconds = segment.videoTimingInfo.transmuxerPrependedSeconds;\n  var transmuxedStart = segment.videoTimingInfo.transmuxedPresentationStart; // get the start of the content from before old content is prepended\n\n  var startOfSegment = transmuxedStart + transmuxerPrependedSeconds;\n  var offsetFromSegmentStart = playerTime - startOfSegment;\n  return new Date(segment.dateTimeObject.getTime() + offsetFromSegmentStart * 1000);\n};\n\nvar originalSegmentVideoDuration = function originalSegmentVideoDuration(videoTimingInfo) {\n  return videoTimingInfo.transmuxedPresentationEnd - videoTimingInfo.transmuxedPresentationStart - videoTimingInfo.transmuxerPrependedSeconds;\n};\n/**\n * Finds a segment that contains the time requested given as an ISO-8601 string. The\n * returned segment might be an estimate or an accurate match.\n *\n * @param {String} programTime The ISO-8601 programTime to find a match for\n * @param {Object} playlist A playlist object to search within\n */\n\n\nvar findSegmentForProgramTime = function findSegmentForProgramTime(programTime, playlist) {\n  // Assumptions:\n  //  - verifyProgramDateTimeTags has already been run\n  //  - live streams have been started\n  var dateTimeObject = void 0;\n\n  try {\n    dateTimeObject = new Date(programTime);\n  } catch (e) {\n    return null;\n  }\n\n  if (!playlist || !playlist.segments || playlist.segments.length === 0) {\n    return null;\n  }\n\n  var segment = playlist.segments[0];\n\n  if (dateTimeObject < segment.dateTimeObject) {\n    // Requested time is before stream start.\n    return null;\n  }\n\n  for (var i = 0; i < playlist.segments.length - 1; i++) {\n    segment = playlist.segments[i];\n    var nextSegmentStart = playlist.segments[i + 1].dateTimeObject;\n\n    if (dateTimeObject < nextSegmentStart) {\n      break;\n    }\n  }\n\n  var lastSegment = playlist.segments[playlist.segments.length - 1];\n  var lastSegmentStart = lastSegment.dateTimeObject;\n  var lastSegmentDuration = lastSegment.videoTimingInfo ? originalSegmentVideoDuration(lastSegment.videoTimingInfo) : lastSegment.duration + lastSegment.duration * SEGMENT_END_FUDGE_PERCENT;\n  var lastSegmentEnd = new Date(lastSegmentStart.getTime() + lastSegmentDuration * 1000);\n\n  if (dateTimeObject > lastSegmentEnd) {\n    // Beyond the end of the stream, or our best guess of the end of the stream.\n    return null;\n  }\n\n  if (dateTimeObject > lastSegmentStart) {\n    segment = lastSegment;\n  }\n\n  return {\n    segment: segment,\n    estimatedStart: segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationStart : Playlist.duration(playlist, playlist.mediaSequence + playlist.segments.indexOf(segment)),\n    // Although, given that all segments have accurate date time objects, the segment\n    // selected should be accurate, unless the video has been transmuxed at some point\n    // (determined by the presence of the videoTimingInfo object), the segment's \"player\n    // time\" (the start time in the player) can't be considered accurate.\n    type: segment.videoTimingInfo ? 'accurate' : 'estimate'\n  };\n};\n/**\n * Finds a segment that contains the given player time(in seconds).\n *\n * @param {Number} time The player time to find a match for\n * @param {Object} playlist A playlist object to search within\n */\n\n\nvar findSegmentForPlayerTime = function findSegmentForPlayerTime(time, playlist) {\n  // Assumptions:\n  // - there will always be a segment.duration\n  // - we can start from zero\n  // - segments are in time order\n  if (!playlist || !playlist.segments || playlist.segments.length === 0) {\n    return null;\n  }\n\n  var segmentEnd = 0;\n  var segment = void 0;\n\n  for (var i = 0; i < playlist.segments.length; i++) {\n    segment = playlist.segments[i]; // videoTimingInfo is set after the segment is downloaded and transmuxed, and\n    // should contain the most accurate values we have for the segment's player times.\n    //\n    // Use the accurate transmuxedPresentationEnd value if it is available, otherwise fall\n    // back to an estimate based on the manifest derived (inaccurate) segment.duration, to\n    // calculate an end value.\n\n    segmentEnd = segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationEnd : segmentEnd + segment.duration;\n\n    if (time <= segmentEnd) {\n      break;\n    }\n  }\n\n  var lastSegment = playlist.segments[playlist.segments.length - 1];\n\n  if (lastSegment.videoTimingInfo && lastSegment.videoTimingInfo.transmuxedPresentationEnd < time) {\n    // The time requested is beyond the stream end.\n    return null;\n  }\n\n  if (time > segmentEnd) {\n    // The time is within or beyond the last segment.\n    //\n    // Check to see if the time is beyond a reasonable guess of the end of the stream.\n    if (time > segmentEnd + lastSegment.duration * SEGMENT_END_FUDGE_PERCENT) {\n      // Technically, because the duration value is only an estimate, the time may still\n      // exist in the last segment, however, there isn't enough information to make even\n      // a reasonable estimate.\n      return null;\n    }\n\n    segment = lastSegment;\n  }\n\n  return {\n    segment: segment,\n    estimatedStart: segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationStart : segmentEnd - segment.duration,\n    // Because videoTimingInfo is only set after transmux, it is the only way to get\n    // accurate timing values.\n    type: segment.videoTimingInfo ? 'accurate' : 'estimate'\n  };\n};\n/**\n * Gives the offset of the comparisonTimestamp from the programTime timestamp in seconds.\n * If the offset returned is positive, the programTime occurs after the\n * comparisonTimestamp.\n * If the offset is negative, the programTime occurs before the comparisonTimestamp.\n *\n * @param {String} comparisonTimeStamp An ISO-8601 timestamp to compare against\n * @param {String} programTime The programTime as an ISO-8601 string\n * @return {Number} offset\n */\n\n\nvar getOffsetFromTimestamp = function getOffsetFromTimestamp(comparisonTimeStamp, programTime) {\n  var segmentDateTime = void 0;\n  var programDateTime = void 0;\n\n  try {\n    segmentDateTime = new Date(comparisonTimeStamp);\n    programDateTime = new Date(programTime);\n  } catch (e) {// TODO handle error\n  }\n\n  var segmentTimeEpoch = segmentDateTime.getTime();\n  var programTimeEpoch = programDateTime.getTime();\n  return (programTimeEpoch - segmentTimeEpoch) / 1000;\n};\n/**\n * Checks that all segments in this playlist have programDateTime tags.\n *\n * @param {Object} playlist A playlist object\n */\n\n\nvar verifyProgramDateTimeTags = function verifyProgramDateTimeTags(playlist) {\n  if (!playlist.segments || playlist.segments.length === 0) {\n    return false;\n  }\n\n  for (var i = 0; i < playlist.segments.length; i++) {\n    var segment = playlist.segments[i];\n\n    if (!segment.dateTimeObject) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/**\n * Returns the programTime of the media given a playlist and a playerTime.\n * The playlist must have programDateTime tags for a programDateTime tag to be returned.\n * If the segments containing the time requested have not been buffered yet, an estimate\n * may be returned to the callback.\n *\n * @param {Object} args\n * @param {Object} args.playlist A playlist object to search within\n * @param {Number} time A playerTime in seconds\n * @param {Function} callback(err, programTime)\n * @returns {String} err.message A detailed error message\n * @returns {Object} programTime\n * @returns {Number} programTime.mediaSeconds The streamTime in seconds\n * @returns {String} programTime.programDateTime The programTime as an ISO-8601 String\n */\n\n\nvar getProgramTime = function getProgramTime(_ref) {\n  var playlist = _ref.playlist,\n      _ref$time = _ref.time,\n      time = _ref$time === undefined ? undefined : _ref$time,\n      callback = _ref.callback;\n\n  if (!callback) {\n    throw new Error('getProgramTime: callback must be provided');\n  }\n\n  if (!playlist || time === undefined) {\n    return callback({\n      message: 'getProgramTime: playlist and time must be provided'\n    });\n  }\n\n  var matchedSegment = findSegmentForPlayerTime(time, playlist);\n\n  if (!matchedSegment) {\n    return callback({\n      message: 'valid programTime was not found'\n    });\n  }\n\n  if (matchedSegment.type === 'estimate') {\n    return callback({\n      message: 'Accurate programTime could not be determined.' + ' Please seek to e.seekTime and try again',\n      seekTime: matchedSegment.estimatedStart\n    });\n  }\n\n  var programTimeObject = {\n    mediaSeconds: time\n  };\n  var programTime = playerTimeToProgramTime(time, matchedSegment.segment);\n\n  if (programTime) {\n    programTimeObject.programDateTime = programTime.toISOString();\n  }\n\n  return callback(null, programTimeObject);\n};\n/**\n * Seeks in the player to a time that matches the given programTime ISO-8601 string.\n *\n * @param {Object} args\n * @param {String} args.programTime A programTime to seek to as an ISO-8601 String\n * @param {Object} args.playlist A playlist to look within\n * @param {Number} args.retryCount The number of times to try for an accurate seek. Default is 2.\n * @param {Function} args.seekTo A method to perform a seek\n * @param {Boolean} args.pauseAfterSeek Whether to end in a paused state after seeking. Default is true.\n * @param {Object} args.tech The tech to seek on\n * @param {Function} args.callback(err, newTime) A callback to return the new time to\n * @returns {String} err.message A detailed error message\n * @returns {Number} newTime The exact time that was seeked to in seconds\n */\n\n\nvar seekToProgramTime = function seekToProgramTime(_ref2) {\n  var programTime = _ref2.programTime,\n      playlist = _ref2.playlist,\n      _ref2$retryCount = _ref2.retryCount,\n      retryCount = _ref2$retryCount === undefined ? 2 : _ref2$retryCount,\n      seekTo = _ref2.seekTo,\n      _ref2$pauseAfterSeek = _ref2.pauseAfterSeek,\n      pauseAfterSeek = _ref2$pauseAfterSeek === undefined ? true : _ref2$pauseAfterSeek,\n      tech = _ref2.tech,\n      callback = _ref2.callback;\n\n  if (!callback) {\n    throw new Error('seekToProgramTime: callback must be provided');\n  }\n\n  if (typeof programTime === 'undefined' || !playlist || !seekTo) {\n    return callback({\n      message: 'seekToProgramTime: programTime, seekTo and playlist must be provided'\n    });\n  }\n\n  if (!playlist.endList && !tech.hasStarted_) {\n    return callback({\n      message: 'player must be playing a live stream to start buffering'\n    });\n  }\n\n  if (!verifyProgramDateTimeTags(playlist)) {\n    return callback({\n      message: 'programDateTime tags must be provided in the manifest ' + playlist.resolvedUri\n    });\n  }\n\n  var matchedSegment = findSegmentForProgramTime(programTime, playlist); // no match\n\n  if (!matchedSegment) {\n    return callback({\n      message: programTime + ' was not found in the stream'\n    });\n  }\n\n  var segment = matchedSegment.segment;\n  var mediaOffset = getOffsetFromTimestamp(segment.dateTimeObject, programTime);\n\n  if (matchedSegment.type === 'estimate') {\n    // we've run out of retries\n    if (retryCount === 0) {\n      return callback({\n        message: programTime + ' is not buffered yet. Try again'\n      });\n    }\n\n    seekTo(matchedSegment.estimatedStart + mediaOffset);\n    tech.one('seeked', function () {\n      seekToProgramTime({\n        programTime: programTime,\n        playlist: playlist,\n        retryCount: retryCount - 1,\n        seekTo: seekTo,\n        pauseAfterSeek: pauseAfterSeek,\n        tech: tech,\n        callback: callback\n      });\n    });\n    return;\n  } // Since the segment.start value is determined from the buffered end or ending time\n  // of the prior segment, the seekToTime doesn't need to account for any transmuxer\n  // modifications.\n\n\n  var seekToTime = segment.start + mediaOffset;\n\n  var seekedCallback = function seekedCallback() {\n    return callback(null, tech.currentTime());\n  }; // listen for seeked event\n\n\n  tech.one('seeked', seekedCallback); // pause before seeking as video.js will restore this state\n\n  if (pauseAfterSeek) {\n    tech.pause();\n  }\n\n  seekTo(seekToTime);\n};\n/**\n * ranges\n *\n * Utilities for working with TimeRanges.\n *\n */\n// Fudge factor to account for TimeRanges rounding\n\n\nvar TIME_FUDGE_FACTOR = 1 / 30; // Comparisons between time values such as current time and the end of the buffered range\n// can be misleading because of precision differences or when the current media has poorly\n// aligned audio and video, which can cause values to be slightly off from what you would\n// expect. This value is what we consider to be safe to use in such comparisons to account\n// for these scenarios.\n\nvar SAFE_TIME_DELTA = TIME_FUDGE_FACTOR * 3;\n\nvar filterRanges = function filterRanges(timeRanges, predicate) {\n  var results = [];\n  var i = void 0;\n\n  if (timeRanges && timeRanges.length) {\n    // Search for ranges that match the predicate\n    for (i = 0; i < timeRanges.length; i++) {\n      if (predicate(timeRanges.start(i), timeRanges.end(i))) {\n        results.push([timeRanges.start(i), timeRanges.end(i)]);\n      }\n    }\n  }\n\n  return videojs$1.createTimeRanges(results);\n};\n/**\n * Attempts to find the buffered TimeRange that contains the specified\n * time.\n * @param {TimeRanges} buffered - the TimeRanges object to query\n * @param {number} time  - the time to filter on.\n * @returns {TimeRanges} a new TimeRanges object\n */\n\n\nvar findRange = function findRange(buffered, time) {\n  return filterRanges(buffered, function (start, end) {\n    return start - SAFE_TIME_DELTA <= time && end + SAFE_TIME_DELTA >= time;\n  });\n};\n/**\n * Returns the TimeRanges that begin later than the specified time.\n * @param {TimeRanges} timeRanges - the TimeRanges object to query\n * @param {number} time - the time to filter on.\n * @returns {TimeRanges} a new TimeRanges object.\n */\n\n\nvar findNextRange = function findNextRange(timeRanges, time) {\n  return filterRanges(timeRanges, function (start) {\n    return start - TIME_FUDGE_FACTOR >= time;\n  });\n};\n/**\n * Returns gaps within a list of TimeRanges\n * @param {TimeRanges} buffered - the TimeRanges object\n * @return {TimeRanges} a TimeRanges object of gaps\n */\n\n\nvar findGaps = function findGaps(buffered) {\n  if (buffered.length < 2) {\n    return videojs$1.createTimeRanges();\n  }\n\n  var ranges = [];\n\n  for (var i = 1; i < buffered.length; i++) {\n    var start = buffered.end(i - 1);\n    var end = buffered.start(i);\n    ranges.push([start, end]);\n  }\n\n  return videojs$1.createTimeRanges(ranges);\n};\n/**\n * Gets a human readable string for a TimeRange\n *\n * @param {TimeRange} range\n * @returns {String} a human readable string\n */\n\n\nvar printableRange = function printableRange(range) {\n  var strArr = [];\n\n  if (!range || !range.length) {\n    return '';\n  }\n\n  for (var i = 0; i < range.length; i++) {\n    strArr.push(range.start(i) + ' => ' + range.end(i));\n  }\n\n  return strArr.join(', ');\n};\n/**\n * Calculates the amount of time left in seconds until the player hits the end of the\n * buffer and causes a rebuffer\n *\n * @param {TimeRange} buffered\n *        The state of the buffer\n * @param {Numnber} currentTime\n *        The current time of the player\n * @param {Number} playbackRate\n *        The current playback rate of the player. Defaults to 1.\n * @return {Number}\n *         Time until the player has to start rebuffering in seconds.\n * @function timeUntilRebuffer\n */\n\n\nvar timeUntilRebuffer = function timeUntilRebuffer(buffered, currentTime) {\n  var playbackRate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var bufferedEnd = buffered.length ? buffered.end(buffered.length - 1) : 0;\n  return (bufferedEnd - currentTime) / playbackRate;\n};\n/**\n * Converts a TimeRanges object into an array representation\n * @param {TimeRanges} timeRanges\n * @returns {Array}\n */\n\n\nvar timeRangesToArray = function timeRangesToArray(timeRanges) {\n  var timeRangesList = [];\n\n  for (var i = 0; i < timeRanges.length; i++) {\n    timeRangesList.push({\n      start: timeRanges.start(i),\n      end: timeRanges.end(i)\n    });\n  }\n\n  return timeRangesList;\n};\n/**\n * @file create-text-tracks-if-necessary.js\n */\n\n/**\n * Create text tracks on video.js if they exist on a segment.\n *\n * @param {Object} sourceBuffer the VSB or FSB\n * @param {Object} mediaSource the HTML media source\n * @param {Object} segment the segment that may contain the text track\n * @private\n */\n\n\nvar createTextTracksIfNecessary = function createTextTracksIfNecessary(sourceBuffer, mediaSource, segment) {\n  var player = mediaSource.player_; // create an in-band caption track if one is present in the segment\n\n  if (segment.captions && segment.captions.length) {\n    if (!sourceBuffer.inbandTextTracks_) {\n      sourceBuffer.inbandTextTracks_ = {};\n    }\n\n    for (var trackId in segment.captionStreams) {\n      if (!sourceBuffer.inbandTextTracks_[trackId]) {\n        player.tech_.trigger({\n          type: 'usage',\n          name: 'hls-608'\n        });\n        var track = player.textTracks().getTrackById(trackId);\n\n        if (track) {\n          // Resuse an existing track with a CC# id because this was\n          // very likely created by videojs-contrib-hls from information\n          // in the m3u8 for us to use\n          sourceBuffer.inbandTextTracks_[trackId] = track;\n        } else {\n          // Otherwise, create a track with the default `CC#` label and\n          // without a language\n          sourceBuffer.inbandTextTracks_[trackId] = player.addRemoteTextTrack({\n            kind: 'captions',\n            id: trackId,\n            label: trackId\n          }, false).track;\n        }\n      }\n    }\n  }\n\n  if (segment.metadata && segment.metadata.length && !sourceBuffer.metadataTrack_) {\n    sourceBuffer.metadataTrack_ = player.addRemoteTextTrack({\n      kind: 'metadata',\n      label: 'Timed Metadata'\n    }, false).track;\n    sourceBuffer.metadataTrack_.inBandMetadataTrackDispatchType = segment.metadata.dispatchType;\n  }\n};\n/**\n * @file remove-cues-from-track.js\n */\n\n/**\n * Remove cues from a track on video.js.\n *\n * @param {Double} start start of where we should remove the cue\n * @param {Double} end end of where the we should remove the cue\n * @param {Object} track the text track to remove the cues from\n * @private\n */\n\n\nvar removeCuesFromTrack = function removeCuesFromTrack(start, end, track) {\n  var i = void 0;\n  var cue = void 0;\n\n  if (!track) {\n    return;\n  }\n\n  if (!track.cues) {\n    return;\n  }\n\n  i = track.cues.length;\n\n  while (i--) {\n    cue = track.cues[i]; // Remove any overlapping cue\n\n    if (cue.startTime <= end && cue.endTime >= start) {\n      track.removeCue(cue);\n    }\n  }\n};\n/**\n * @file add-text-track-data.js\n */\n\n/**\n * Define properties on a cue for backwards compatability,\n * but warn the user that the way that they are using it\n * is depricated and will be removed at a later date.\n *\n * @param {Cue} cue the cue to add the properties on\n * @private\n */\n\n\nvar deprecateOldCue = function deprecateOldCue(cue) {\n  Object.defineProperties(cue.frame, {\n    id: {\n      get: function get() {\n        videojs$1.log.warn('cue.frame.id is deprecated. Use cue.value.key instead.');\n        return cue.value.key;\n      }\n    },\n    value: {\n      get: function get() {\n        videojs$1.log.warn('cue.frame.value is deprecated. Use cue.value.data instead.');\n        return cue.value.data;\n      }\n    },\n    privateData: {\n      get: function get() {\n        videojs$1.log.warn('cue.frame.privateData is deprecated. Use cue.value.data instead.');\n        return cue.value.data;\n      }\n    }\n  });\n};\n\nvar durationOfVideo = function durationOfVideo(duration) {\n  var dur = void 0;\n\n  if (isNaN(duration) || Math.abs(duration) === Infinity) {\n    dur = Number.MAX_VALUE;\n  } else {\n    dur = duration;\n  }\n\n  return dur;\n};\n/**\n * Add text track data to a source handler given the captions and\n * metadata from the buffer.\n *\n * @param {Object} sourceHandler the virtual source buffer\n * @param {Array} captionArray an array of caption data\n * @param {Array} metadataArray an array of meta data\n * @private\n */\n\n\nvar addTextTrackData = function addTextTrackData(sourceHandler, captionArray, metadataArray) {\n  var Cue = window$1.WebKitDataCue || window$1.VTTCue;\n\n  if (captionArray) {\n    captionArray.forEach(function (caption) {\n      var track = caption.stream;\n      this.inbandTextTracks_[track].addCue(new Cue(caption.startTime + this.timestampOffset, caption.endTime + this.timestampOffset, caption.text));\n    }, sourceHandler);\n  }\n\n  if (metadataArray) {\n    var videoDuration = durationOfVideo(sourceHandler.mediaSource_.duration);\n    metadataArray.forEach(function (metadata) {\n      var time = metadata.cueTime + this.timestampOffset; // if time isn't a finite number between 0 and Infinity, like NaN,\n      // ignore this bit of metadata.\n      // This likely occurs when you have an non-timed ID3 tag like TIT2,\n      // which is the \"Title/Songname/Content description\" frame\n\n      if (typeof time !== 'number' || window$1.isNaN(time) || time < 0 || !(time < Infinity)) {\n        return;\n      }\n\n      metadata.frames.forEach(function (frame) {\n        var cue = new Cue(time, time, frame.value || frame.url || frame.data || '');\n        cue.frame = frame;\n        cue.value = frame;\n        deprecateOldCue(cue);\n        this.metadataTrack_.addCue(cue);\n      }, this);\n    }, sourceHandler); // Updating the metadeta cues so that\n    // the endTime of each cue is the startTime of the next cue\n    // the endTime of last cue is the duration of the video\n\n    if (sourceHandler.metadataTrack_ && sourceHandler.metadataTrack_.cues && sourceHandler.metadataTrack_.cues.length) {\n      var cues = sourceHandler.metadataTrack_.cues;\n      var cuesArray = []; // Create a copy of the TextTrackCueList...\n      // ...disregarding cues with a falsey value\n\n      for (var i = 0; i < cues.length; i++) {\n        if (cues[i]) {\n          cuesArray.push(cues[i]);\n        }\n      } // Group cues by their startTime value\n\n\n      var cuesGroupedByStartTime = cuesArray.reduce(function (obj, cue) {\n        var timeSlot = obj[cue.startTime] || [];\n        timeSlot.push(cue);\n        obj[cue.startTime] = timeSlot;\n        return obj;\n      }, {}); // Sort startTimes by ascending order\n\n      var sortedStartTimes = Object.keys(cuesGroupedByStartTime).sort(function (a, b) {\n        return Number(a) - Number(b);\n      }); // Map each cue group's endTime to the next group's startTime\n\n      sortedStartTimes.forEach(function (startTime, idx) {\n        var cueGroup = cuesGroupedByStartTime[startTime];\n        var nextTime = Number(sortedStartTimes[idx + 1]) || videoDuration; // Map each cue's endTime the next group's startTime\n\n        cueGroup.forEach(function (cue) {\n          cue.endTime = nextTime;\n        });\n      });\n    }\n  }\n};\n\nvar win = typeof window !== 'undefined' ? window : {},\n    TARGET = typeof Symbol === 'undefined' ? '__target' : Symbol(),\n    SCRIPT_TYPE = 'application/javascript',\n    BlobBuilder = win.BlobBuilder || win.WebKitBlobBuilder || win.MozBlobBuilder || win.MSBlobBuilder,\n    URL = win.URL || win.webkitURL || URL && URL.msURL,\n    Worker = win.Worker;\n/**\n * Returns a wrapper around Web Worker code that is constructible.\n *\n * @function shimWorker\n *\n * @param { String }    filename    The name of the file\n * @param { Function }  fn          Function wrapping the code of the worker\n */\n\nfunction shimWorker(filename, fn) {\n  return function ShimWorker(forceFallback) {\n    var o = this;\n\n    if (!fn) {\n      return new Worker(filename);\n    } else if (Worker && !forceFallback) {\n      // Convert the function's inner code to a string to construct the worker\n      var source = fn.toString().replace(/^function.+?{/, '').slice(0, -1),\n          objURL = createSourceObject(source);\n      this[TARGET] = new Worker(objURL);\n      wrapTerminate(this[TARGET], objURL);\n      return this[TARGET];\n    } else {\n      var selfShim = {\n        postMessage: function postMessage(m) {\n          if (o.onmessage) {\n            setTimeout(function () {\n              o.onmessage({\n                data: m,\n                target: selfShim\n              });\n            });\n          }\n        }\n      };\n      fn.call(selfShim);\n\n      this.postMessage = function (m) {\n        setTimeout(function () {\n          selfShim.onmessage({\n            data: m,\n            target: o\n          });\n        });\n      };\n\n      this.isThisThread = true;\n    }\n  };\n} // Test Worker capabilities\n\n\nif (Worker) {\n  var testWorker,\n      objURL = createSourceObject('self.onmessage = function () {}'),\n      testArray = new Uint8Array(1);\n\n  try {\n    testWorker = new Worker(objURL); // Native browser on some Samsung devices throws for transferables, let's detect it\n\n    testWorker.postMessage(testArray, [testArray.buffer]);\n  } catch (e) {\n    Worker = null;\n  } finally {\n    URL.revokeObjectURL(objURL);\n\n    if (testWorker) {\n      testWorker.terminate();\n    }\n  }\n}\n\nfunction createSourceObject(str) {\n  try {\n    return URL.createObjectURL(new Blob([str], {\n      type: SCRIPT_TYPE\n    }));\n  } catch (e) {\n    var blob = new BlobBuilder();\n    blob.append(str);\n    return URL.createObjectURL(blob.getBlob(type));\n  }\n}\n\nfunction wrapTerminate(worker, objURL) {\n  if (!worker || !objURL) return;\n  var term = worker.terminate;\n  worker.objURL = objURL;\n\n  worker.terminate = function () {\n    if (worker.objURL) URL.revokeObjectURL(worker.objURL);\n    term.call(worker);\n  };\n}\n\nvar TransmuxWorker = new shimWorker(\"./transmuxer-worker.worker.js\", function (window, document$$1) {\n  var self = this;\n\n  var transmuxerWorker = function () {\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     *\n     * A lightweight readable stream implemention that handles event dispatching.\n     * Objects that inherit from streams should call init in their constructors.\n     */\n    var Stream = function Stream() {\n      this.init = function () {\n        var listeners = {};\n        /**\n         * Add a listener for a specified event type.\n         * @param type {string} the event name\n         * @param listener {function} the callback to be invoked when an event of\n         * the specified type occurs\n         */\n\n        this.on = function (type, listener) {\n          if (!listeners[type]) {\n            listeners[type] = [];\n          }\n\n          listeners[type] = listeners[type].concat(listener);\n        };\n        /**\n         * Remove a listener for a specified event type.\n         * @param type {string} the event name\n         * @param listener {function} a function previously registered for this\n         * type of event through `on`\n         */\n\n\n        this.off = function (type, listener) {\n          var index;\n\n          if (!listeners[type]) {\n            return false;\n          }\n\n          index = listeners[type].indexOf(listener);\n          listeners[type] = listeners[type].slice();\n          listeners[type].splice(index, 1);\n          return index > -1;\n        };\n        /**\n         * Trigger an event of the specified type on this stream. Any additional\n         * arguments to this function are passed as parameters to event listeners.\n         * @param type {string} the event name\n         */\n\n\n        this.trigger = function (type) {\n          var callbacks, i, length, args;\n          callbacks = listeners[type];\n\n          if (!callbacks) {\n            return;\n          } // Slicing the arguments on every invocation of this method\n          // can add a significant amount of overhead. Avoid the\n          // intermediate object creation for the common case of a\n          // single callback argument\n\n\n          if (arguments.length === 2) {\n            length = callbacks.length;\n\n            for (i = 0; i < length; ++i) {\n              callbacks[i].call(this, arguments[1]);\n            }\n          } else {\n            args = [];\n            i = arguments.length;\n\n            for (i = 1; i < arguments.length; ++i) {\n              args.push(arguments[i]);\n            }\n\n            length = callbacks.length;\n\n            for (i = 0; i < length; ++i) {\n              callbacks[i].apply(this, args);\n            }\n          }\n        };\n        /**\n         * Destroys the stream and cleans up.\n         */\n\n\n        this.dispose = function () {\n          listeners = {};\n        };\n      };\n    };\n    /**\n     * Forwards all `data` events on this stream to the destination stream. The\n     * destination stream should provide a method `push` to receive the data\n     * events as they arrive.\n     * @param destination {stream} the stream that will receive all `data` events\n     * @param autoFlush {boolean} if false, we will not call `flush` on the destination\n     *                            when the current stream emits a 'done' event\n     * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n     */\n\n\n    Stream.prototype.pipe = function (destination) {\n      this.on('data', function (data) {\n        destination.push(data);\n      });\n      this.on('done', function (flushSource) {\n        destination.flush(flushSource);\n      });\n      this.on('partialdone', function (flushSource) {\n        destination.partialFlush(flushSource);\n      });\n      this.on('endedtimeline', function (flushSource) {\n        destination.endTimeline(flushSource);\n      });\n      this.on('reset', function (flushSource) {\n        destination.reset(flushSource);\n      });\n      return destination;\n    }; // Default stream functions that are expected to be overridden to perform\n    // actual work. These are provided by the prototype as a sort of no-op\n    // implementation so that we don't have to check for their existence in the\n    // `pipe` function above.\n\n\n    Stream.prototype.push = function (data) {\n      this.trigger('data', data);\n    };\n\n    Stream.prototype.flush = function (flushSource) {\n      this.trigger('done', flushSource);\n    };\n\n    Stream.prototype.partialFlush = function (flushSource) {\n      this.trigger('partialdone', flushSource);\n    };\n\n    Stream.prototype.endTimeline = function (flushSource) {\n      this.trigger('endedtimeline', flushSource);\n    };\n\n    Stream.prototype.reset = function (flushSource) {\n      this.trigger('reset', flushSource);\n    };\n\n    var stream = Stream;\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     *\n     * Functions that generate fragmented MP4s suitable for use with Media\n     * Source Extensions.\n     */\n\n    var UINT32_MAX = Math.pow(2, 32) - 1;\n    var box, dinf, esds, ftyp, mdat, mfhd, minf, moof, moov, mvex, mvhd, trak, tkhd, mdia, mdhd, hdlr, sdtp, stbl, stsd, traf, trex, trun, types, MAJOR_BRAND, MINOR_VERSION, AVC1_BRAND, VIDEO_HDLR, AUDIO_HDLR, HDLR_TYPES, VMHD, SMHD, DREF, STCO, STSC, STSZ, STTS; // pre-calculate constants\n\n    (function () {\n      var i;\n      types = {\n        avc1: [],\n        // codingname\n        avcC: [],\n        btrt: [],\n        dinf: [],\n        dref: [],\n        esds: [],\n        ftyp: [],\n        hdlr: [],\n        mdat: [],\n        mdhd: [],\n        mdia: [],\n        mfhd: [],\n        minf: [],\n        moof: [],\n        moov: [],\n        mp4a: [],\n        // codingname\n        mvex: [],\n        mvhd: [],\n        pasp: [],\n        sdtp: [],\n        smhd: [],\n        stbl: [],\n        stco: [],\n        stsc: [],\n        stsd: [],\n        stsz: [],\n        stts: [],\n        styp: [],\n        tfdt: [],\n        tfhd: [],\n        traf: [],\n        trak: [],\n        trun: [],\n        trex: [],\n        tkhd: [],\n        vmhd: []\n      }; // In environments where Uint8Array is undefined (e.g., IE8), skip set up so that we\n      // don't throw an error\n\n      if (typeof Uint8Array === 'undefined') {\n        return;\n      }\n\n      for (i in types) {\n        if (types.hasOwnProperty(i)) {\n          types[i] = [i.charCodeAt(0), i.charCodeAt(1), i.charCodeAt(2), i.charCodeAt(3)];\n        }\n      }\n\n      MAJOR_BRAND = new Uint8Array(['i'.charCodeAt(0), 's'.charCodeAt(0), 'o'.charCodeAt(0), 'm'.charCodeAt(0)]);\n      AVC1_BRAND = new Uint8Array(['a'.charCodeAt(0), 'v'.charCodeAt(0), 'c'.charCodeAt(0), '1'.charCodeAt(0)]);\n      MINOR_VERSION = new Uint8Array([0, 0, 0, 1]);\n      VIDEO_HDLR = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // pre_defined\n      0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x56, 0x69, 0x64, 0x65, 0x6f, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'VideoHandler'\n      ]);\n      AUDIO_HDLR = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // pre_defined\n      0x73, 0x6f, 0x75, 0x6e, // handler_type: 'soun'\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x53, 0x6f, 0x75, 0x6e, 0x64, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'SoundHandler'\n      ]);\n      HDLR_TYPES = {\n        video: VIDEO_HDLR,\n        audio: AUDIO_HDLR\n      };\n      DREF = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x01, // entry_count\n      0x00, 0x00, 0x00, 0x0c, // entry_size\n      0x75, 0x72, 0x6c, 0x20, // 'url' type\n      0x00, // version 0\n      0x00, 0x00, 0x01 // entry_flags\n      ]);\n      SMHD = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, // balance, 0 means centered\n      0x00, 0x00 // reserved\n      ]);\n      STCO = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00 // entry_count\n      ]);\n      STSC = STCO;\n      STSZ = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // sample_size\n      0x00, 0x00, 0x00, 0x00 // sample_count\n      ]);\n      STTS = STCO;\n      VMHD = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x01, // flags\n      0x00, 0x00, // graphicsmode\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00 // opcolor\n      ]);\n    })();\n\n    box = function box(type) {\n      var payload = [],\n          size = 0,\n          i,\n          result,\n          view;\n\n      for (i = 1; i < arguments.length; i++) {\n        payload.push(arguments[i]);\n      }\n\n      i = payload.length; // calculate the total size we need to allocate\n\n      while (i--) {\n        size += payload[i].byteLength;\n      }\n\n      result = new Uint8Array(size + 8);\n      view = new DataView(result.buffer, result.byteOffset, result.byteLength);\n      view.setUint32(0, result.byteLength);\n      result.set(type, 4); // copy the payload into the result\n\n      for (i = 0, size = 8; i < payload.length; i++) {\n        result.set(payload[i], size);\n        size += payload[i].byteLength;\n      }\n\n      return result;\n    };\n\n    dinf = function dinf() {\n      return box(types.dinf, box(types.dref, DREF));\n    };\n\n    esds = function esds(track) {\n      return box(types.esds, new Uint8Array([0x00, // version\n      0x00, 0x00, 0x00, // flags\n      // ES_Descriptor\n      0x03, // tag, ES_DescrTag\n      0x19, // length\n      0x00, 0x00, // ES_ID\n      0x00, // streamDependenceFlag, URL_flag, reserved, streamPriority\n      // DecoderConfigDescriptor\n      0x04, // tag, DecoderConfigDescrTag\n      0x11, // length\n      0x40, // object type\n      0x15, // streamType\n      0x00, 0x06, 0x00, // bufferSizeDB\n      0x00, 0x00, 0xda, 0xc0, // maxBitrate\n      0x00, 0x00, 0xda, 0xc0, // avgBitrate\n      // DecoderSpecificInfo\n      0x05, // tag, DecoderSpecificInfoTag\n      0x02, // length\n      // ISO/IEC 14496-3, AudioSpecificConfig\n      // for samplingFrequencyIndex see ISO/IEC 13818-7:2006, 8.1.3.2.2, Table 35\n      track.audioobjecttype << 3 | track.samplingfrequencyindex >>> 1, track.samplingfrequencyindex << 7 | track.channelcount << 3, 0x06, 0x01, 0x02 // GASpecificConfig\n      ]));\n    };\n\n    ftyp = function ftyp() {\n      return box(types.ftyp, MAJOR_BRAND, MINOR_VERSION, MAJOR_BRAND, AVC1_BRAND);\n    };\n\n    hdlr = function hdlr(type) {\n      return box(types.hdlr, HDLR_TYPES[type]);\n    };\n\n    mdat = function mdat(data) {\n      return box(types.mdat, data);\n    };\n\n    mdhd = function mdhd(track) {\n      var result = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x02, // creation_time\n      0x00, 0x00, 0x00, 0x03, // modification_time\n      0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n      track.duration >>> 24 & 0xFF, track.duration >>> 16 & 0xFF, track.duration >>> 8 & 0xFF, track.duration & 0xFF, // duration\n      0x55, 0xc4, // 'und' language (undetermined)\n      0x00, 0x00]); // Use the sample rate from the track metadata, when it is\n      // defined. The sample rate can be parsed out of an ADTS header, for\n      // instance.\n\n      if (track.samplerate) {\n        result[12] = track.samplerate >>> 24 & 0xFF;\n        result[13] = track.samplerate >>> 16 & 0xFF;\n        result[14] = track.samplerate >>> 8 & 0xFF;\n        result[15] = track.samplerate & 0xFF;\n      }\n\n      return box(types.mdhd, result);\n    };\n\n    mdia = function mdia(track) {\n      return box(types.mdia, mdhd(track), hdlr(track.type), minf(track));\n    };\n\n    mfhd = function mfhd(sequenceNumber) {\n      return box(types.mfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // flags\n      (sequenceNumber & 0xFF000000) >> 24, (sequenceNumber & 0xFF0000) >> 16, (sequenceNumber & 0xFF00) >> 8, sequenceNumber & 0xFF // sequence_number\n      ]));\n    };\n\n    minf = function minf(track) {\n      return box(types.minf, track.type === 'video' ? box(types.vmhd, VMHD) : box(types.smhd, SMHD), dinf(), stbl(track));\n    };\n\n    moof = function moof(sequenceNumber, tracks) {\n      var trackFragments = [],\n          i = tracks.length; // build traf boxes for each track fragment\n\n      while (i--) {\n        trackFragments[i] = traf(tracks[i]);\n      }\n\n      return box.apply(null, [types.moof, mfhd(sequenceNumber)].concat(trackFragments));\n    };\n    /**\n     * Returns a movie box.\n     * @param tracks {array} the tracks associated with this movie\n     * @see ISO/IEC 14496-12:2012(E), section 8.2.1\n     */\n\n\n    moov = function moov(tracks) {\n      var i = tracks.length,\n          boxes = [];\n\n      while (i--) {\n        boxes[i] = trak(tracks[i]);\n      }\n\n      return box.apply(null, [types.moov, mvhd(0xffffffff)].concat(boxes).concat(mvex(tracks)));\n    };\n\n    mvex = function mvex(tracks) {\n      var i = tracks.length,\n          boxes = [];\n\n      while (i--) {\n        boxes[i] = trex(tracks[i]);\n      }\n\n      return box.apply(null, [types.mvex].concat(boxes));\n    };\n\n    mvhd = function mvhd(duration) {\n      var bytes = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x01, // creation_time\n      0x00, 0x00, 0x00, 0x02, // modification_time\n      0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n      (duration & 0xFF000000) >> 24, (duration & 0xFF0000) >> 16, (duration & 0xFF00) >> 8, duration & 0xFF, // duration\n      0x00, 0x01, 0x00, 0x00, // 1.0 rate\n      0x01, 0x00, // 1.0 volume\n      0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n      0xff, 0xff, 0xff, 0xff // next_track_ID\n      ]);\n      return box(types.mvhd, bytes);\n    };\n\n    sdtp = function sdtp(track) {\n      var samples = track.samples || [],\n          bytes = new Uint8Array(4 + samples.length),\n          flags,\n          i; // leave the full box header (4 bytes) all zero\n      // write the sample table\n\n      for (i = 0; i < samples.length; i++) {\n        flags = samples[i].flags;\n        bytes[i + 4] = flags.dependsOn << 4 | flags.isDependedOn << 2 | flags.hasRedundancy;\n      }\n\n      return box(types.sdtp, bytes);\n    };\n\n    stbl = function stbl(track) {\n      return box(types.stbl, stsd(track), box(types.stts, STTS), box(types.stsc, STSC), box(types.stsz, STSZ), box(types.stco, STCO));\n    };\n\n    (function () {\n      var videoSample, audioSample;\n\n      stsd = function stsd(track) {\n        return box(types.stsd, new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x01]), track.type === 'video' ? videoSample(track) : audioSample(track));\n      };\n\n      videoSample = function videoSample(track) {\n        var sps = track.sps || [],\n            pps = track.pps || [],\n            sequenceParameterSets = [],\n            pictureParameterSets = [],\n            i,\n            avc1Box; // assemble the SPSs\n\n        for (i = 0; i < sps.length; i++) {\n          sequenceParameterSets.push((sps[i].byteLength & 0xFF00) >>> 8);\n          sequenceParameterSets.push(sps[i].byteLength & 0xFF); // sequenceParameterSetLength\n\n          sequenceParameterSets = sequenceParameterSets.concat(Array.prototype.slice.call(sps[i])); // SPS\n        } // assemble the PPSs\n\n\n        for (i = 0; i < pps.length; i++) {\n          pictureParameterSets.push((pps[i].byteLength & 0xFF00) >>> 8);\n          pictureParameterSets.push(pps[i].byteLength & 0xFF);\n          pictureParameterSets = pictureParameterSets.concat(Array.prototype.slice.call(pps[i]));\n        }\n\n        avc1Box = [types.avc1, new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x01, // data_reference_index\n        0x00, 0x00, // pre_defined\n        0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n        (track.width & 0xff00) >> 8, track.width & 0xff, // width\n        (track.height & 0xff00) >> 8, track.height & 0xff, // height\n        0x00, 0x48, 0x00, 0x00, // horizresolution\n        0x00, 0x48, 0x00, 0x00, // vertresolution\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x01, // frame_count\n        0x13, 0x76, 0x69, 0x64, 0x65, 0x6f, 0x6a, 0x73, 0x2d, 0x63, 0x6f, 0x6e, 0x74, 0x72, 0x69, 0x62, 0x2d, 0x68, 0x6c, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // compressorname\n        0x00, 0x18, // depth = 24\n        0x11, 0x11 // pre_defined = -1\n        ]), box(types.avcC, new Uint8Array([0x01, // configurationVersion\n        track.profileIdc, // AVCProfileIndication\n        track.profileCompatibility, // profile_compatibility\n        track.levelIdc, // AVCLevelIndication\n        0xff // lengthSizeMinusOne, hard-coded to 4 bytes\n        ].concat([sps.length], // numOfSequenceParameterSets\n        sequenceParameterSets, // \"SPS\"\n        [pps.length], // numOfPictureParameterSets\n        pictureParameterSets // \"PPS\"\n        ))), box(types.btrt, new Uint8Array([0x00, 0x1c, 0x9c, 0x80, // bufferSizeDB\n        0x00, 0x2d, 0xc6, 0xc0, // maxBitrate\n        0x00, 0x2d, 0xc6, 0xc0 // avgBitrate\n        ]))];\n\n        if (track.sarRatio) {\n          var hSpacing = track.sarRatio[0],\n              vSpacing = track.sarRatio[1];\n          avc1Box.push(box(types.pasp, new Uint8Array([(hSpacing & 0xFF000000) >> 24, (hSpacing & 0xFF0000) >> 16, (hSpacing & 0xFF00) >> 8, hSpacing & 0xFF, (vSpacing & 0xFF000000) >> 24, (vSpacing & 0xFF0000) >> 16, (vSpacing & 0xFF00) >> 8, vSpacing & 0xFF])));\n        }\n\n        return box.apply(null, avc1Box);\n      };\n\n      audioSample = function audioSample(track) {\n        return box(types.mp4a, new Uint8Array([// SampleEntry, ISO/IEC 14496-12\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x01, // data_reference_index\n        // AudioSampleEntry, ISO/IEC 14496-12\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        (track.channelcount & 0xff00) >> 8, track.channelcount & 0xff, // channelcount\n        (track.samplesize & 0xff00) >> 8, track.samplesize & 0xff, // samplesize\n        0x00, 0x00, // pre_defined\n        0x00, 0x00, // reserved\n        (track.samplerate & 0xff00) >> 8, track.samplerate & 0xff, 0x00, 0x00 // samplerate, 16.16\n        // MP4AudioSampleEntry, ISO/IEC 14496-14\n        ]), esds(track));\n      };\n    })();\n\n    tkhd = function tkhd(track) {\n      var result = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x07, // flags\n      0x00, 0x00, 0x00, 0x00, // creation_time\n      0x00, 0x00, 0x00, 0x00, // modification_time\n      (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n      0x00, 0x00, 0x00, 0x00, // reserved\n      (track.duration & 0xFF000000) >> 24, (track.duration & 0xFF0000) >> 16, (track.duration & 0xFF00) >> 8, track.duration & 0xFF, // duration\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, // layer\n      0x00, 0x00, // alternate_group\n      0x01, 0x00, // non-audio track volume\n      0x00, 0x00, // reserved\n      0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n      (track.width & 0xFF00) >> 8, track.width & 0xFF, 0x00, 0x00, // width\n      (track.height & 0xFF00) >> 8, track.height & 0xFF, 0x00, 0x00 // height\n      ]);\n      return box(types.tkhd, result);\n    };\n    /**\n     * Generate a track fragment (traf) box. A traf box collects metadata\n     * about tracks in a movie fragment (moof) box.\n     */\n\n\n    traf = function traf(track) {\n      var trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable, dataOffset, upperWordBaseMediaDecodeTime, lowerWordBaseMediaDecodeTime;\n      trackFragmentHeader = box(types.tfhd, new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x3a, // flags\n      (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n      0x00, 0x00, 0x00, 0x01, // sample_description_index\n      0x00, 0x00, 0x00, 0x00, // default_sample_duration\n      0x00, 0x00, 0x00, 0x00, // default_sample_size\n      0x00, 0x00, 0x00, 0x00 // default_sample_flags\n      ]));\n      upperWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime / (UINT32_MAX + 1));\n      lowerWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime % (UINT32_MAX + 1));\n      trackFragmentDecodeTime = box(types.tfdt, new Uint8Array([0x01, // version 1\n      0x00, 0x00, 0x00, // flags\n      // baseMediaDecodeTime\n      upperWordBaseMediaDecodeTime >>> 24 & 0xFF, upperWordBaseMediaDecodeTime >>> 16 & 0xFF, upperWordBaseMediaDecodeTime >>> 8 & 0xFF, upperWordBaseMediaDecodeTime & 0xFF, lowerWordBaseMediaDecodeTime >>> 24 & 0xFF, lowerWordBaseMediaDecodeTime >>> 16 & 0xFF, lowerWordBaseMediaDecodeTime >>> 8 & 0xFF, lowerWordBaseMediaDecodeTime & 0xFF])); // the data offset specifies the number of bytes from the start of\n      // the containing moof to the first payload byte of the associated\n      // mdat\n\n      dataOffset = 32 + // tfhd\n      20 + // tfdt\n      8 + // traf header\n      16 + // mfhd\n      8 + // moof header\n      8; // mdat header\n      // audio tracks require less metadata\n\n      if (track.type === 'audio') {\n        trackFragmentRun = trun(track, dataOffset);\n        return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun);\n      } // video tracks should contain an independent and disposable samples\n      // box (sdtp)\n      // generate one and adjust offsets to match\n\n\n      sampleDependencyTable = sdtp(track);\n      trackFragmentRun = trun(track, sampleDependencyTable.length + dataOffset);\n      return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable);\n    };\n    /**\n     * Generate a track box.\n     * @param track {object} a track definition\n     * @return {Uint8Array} the track box\n     */\n\n\n    trak = function trak(track) {\n      track.duration = track.duration || 0xffffffff;\n      return box(types.trak, tkhd(track), mdia(track));\n    };\n\n    trex = function trex(track) {\n      var result = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n      0x00, 0x00, 0x00, 0x01, // default_sample_description_index\n      0x00, 0x00, 0x00, 0x00, // default_sample_duration\n      0x00, 0x00, 0x00, 0x00, // default_sample_size\n      0x00, 0x01, 0x00, 0x01 // default_sample_flags\n      ]); // the last two bytes of default_sample_flags is the sample\n      // degradation priority, a hint about the importance of this sample\n      // relative to others. Lower the degradation priority for all sample\n      // types other than video.\n\n      if (track.type !== 'video') {\n        result[result.length - 1] = 0x00;\n      }\n\n      return box(types.trex, result);\n    };\n\n    (function () {\n      var audioTrun, videoTrun, trunHeader; // This method assumes all samples are uniform. That is, if a\n      // duration is present for the first sample, it will be present for\n      // all subsequent samples.\n      // see ISO/IEC 14496-12:2012, Section 8.8.8.1\n\n      trunHeader = function trunHeader(samples, offset) {\n        var durationPresent = 0,\n            sizePresent = 0,\n            flagsPresent = 0,\n            compositionTimeOffset = 0; // trun flag constants\n\n        if (samples.length) {\n          if (samples[0].duration !== undefined) {\n            durationPresent = 0x1;\n          }\n\n          if (samples[0].size !== undefined) {\n            sizePresent = 0x2;\n          }\n\n          if (samples[0].flags !== undefined) {\n            flagsPresent = 0x4;\n          }\n\n          if (samples[0].compositionTimeOffset !== undefined) {\n            compositionTimeOffset = 0x8;\n          }\n        }\n\n        return [0x00, // version 0\n        0x00, durationPresent | sizePresent | flagsPresent | compositionTimeOffset, 0x01, // flags\n        (samples.length & 0xFF000000) >>> 24, (samples.length & 0xFF0000) >>> 16, (samples.length & 0xFF00) >>> 8, samples.length & 0xFF, // sample_count\n        (offset & 0xFF000000) >>> 24, (offset & 0xFF0000) >>> 16, (offset & 0xFF00) >>> 8, offset & 0xFF // data_offset\n        ];\n      };\n\n      videoTrun = function videoTrun(track, offset) {\n        var bytes, samples, sample, i;\n        samples = track.samples || [];\n        offset += 8 + 12 + 16 * samples.length;\n        bytes = trunHeader(samples, offset);\n\n        for (i = 0; i < samples.length; i++) {\n          sample = samples[i];\n          bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n          (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF, // sample_size\n          sample.flags.isLeading << 2 | sample.flags.dependsOn, sample.flags.isDependedOn << 6 | sample.flags.hasRedundancy << 4 | sample.flags.paddingValue << 1 | sample.flags.isNonSyncSample, sample.flags.degradationPriority & 0xF0 << 8, sample.flags.degradationPriority & 0x0F, // sample_flags\n          (sample.compositionTimeOffset & 0xFF000000) >>> 24, (sample.compositionTimeOffset & 0xFF0000) >>> 16, (sample.compositionTimeOffset & 0xFF00) >>> 8, sample.compositionTimeOffset & 0xFF // sample_composition_time_offset\n          ]);\n        }\n\n        return box(types.trun, new Uint8Array(bytes));\n      };\n\n      audioTrun = function audioTrun(track, offset) {\n        var bytes, samples, sample, i;\n        samples = track.samples || [];\n        offset += 8 + 12 + 8 * samples.length;\n        bytes = trunHeader(samples, offset);\n\n        for (i = 0; i < samples.length; i++) {\n          sample = samples[i];\n          bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n          (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF]); // sample_size\n        }\n\n        return box(types.trun, new Uint8Array(bytes));\n      };\n\n      trun = function trun(track, offset) {\n        if (track.type === 'audio') {\n          return audioTrun(track, offset);\n        }\n\n        return videoTrun(track, offset);\n      };\n    })();\n\n    var mp4Generator = {\n      ftyp: ftyp,\n      mdat: mdat,\n      moof: moof,\n      moov: moov,\n      initSegment: function initSegment(tracks) {\n        var fileType = ftyp(),\n            movie = moov(tracks),\n            result;\n        result = new Uint8Array(fileType.byteLength + movie.byteLength);\n        result.set(fileType);\n        result.set(movie, fileType.byteLength);\n        return result;\n      }\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n    // Convert an array of nal units into an array of frames with each frame being\n    // composed of the nal units that make up that frame\n    // Also keep track of cummulative data about the frame from the nal units such\n    // as the frame duration, starting pts, etc.\n\n    var groupNalsIntoFrames = function groupNalsIntoFrames(nalUnits) {\n      var i,\n          currentNal,\n          currentFrame = [],\n          frames = []; // TODO added for LHLS, make sure this is OK\n\n      frames.byteLength = 0;\n      frames.nalCount = 0;\n      frames.duration = 0;\n      currentFrame.byteLength = 0;\n\n      for (i = 0; i < nalUnits.length; i++) {\n        currentNal = nalUnits[i]; // Split on 'aud'-type nal units\n\n        if (currentNal.nalUnitType === 'access_unit_delimiter_rbsp') {\n          // Since the very first nal unit is expected to be an AUD\n          // only push to the frames array when currentFrame is not empty\n          if (currentFrame.length) {\n            currentFrame.duration = currentNal.dts - currentFrame.dts; // TODO added for LHLS, make sure this is OK\n\n            frames.byteLength += currentFrame.byteLength;\n            frames.nalCount += currentFrame.length;\n            frames.duration += currentFrame.duration;\n            frames.push(currentFrame);\n          }\n\n          currentFrame = [currentNal];\n          currentFrame.byteLength = currentNal.data.byteLength;\n          currentFrame.pts = currentNal.pts;\n          currentFrame.dts = currentNal.dts;\n        } else {\n          // Specifically flag key frames for ease of use later\n          if (currentNal.nalUnitType === 'slice_layer_without_partitioning_rbsp_idr') {\n            currentFrame.keyFrame = true;\n          }\n\n          currentFrame.duration = currentNal.dts - currentFrame.dts;\n          currentFrame.byteLength += currentNal.data.byteLength;\n          currentFrame.push(currentNal);\n        }\n      } // For the last frame, use the duration of the previous frame if we\n      // have nothing better to go on\n\n\n      if (frames.length && (!currentFrame.duration || currentFrame.duration <= 0)) {\n        currentFrame.duration = frames[frames.length - 1].duration;\n      } // Push the final frame\n      // TODO added for LHLS, make sure this is OK\n\n\n      frames.byteLength += currentFrame.byteLength;\n      frames.nalCount += currentFrame.length;\n      frames.duration += currentFrame.duration;\n      frames.push(currentFrame);\n      return frames;\n    }; // Convert an array of frames into an array of Gop with each Gop being composed\n    // of the frames that make up that Gop\n    // Also keep track of cummulative data about the Gop from the frames such as the\n    // Gop duration, starting pts, etc.\n\n\n    var groupFramesIntoGops = function groupFramesIntoGops(frames) {\n      var i,\n          currentFrame,\n          currentGop = [],\n          gops = []; // We must pre-set some of the values on the Gop since we\n      // keep running totals of these values\n\n      currentGop.byteLength = 0;\n      currentGop.nalCount = 0;\n      currentGop.duration = 0;\n      currentGop.pts = frames[0].pts;\n      currentGop.dts = frames[0].dts; // store some metadata about all the Gops\n\n      gops.byteLength = 0;\n      gops.nalCount = 0;\n      gops.duration = 0;\n      gops.pts = frames[0].pts;\n      gops.dts = frames[0].dts;\n\n      for (i = 0; i < frames.length; i++) {\n        currentFrame = frames[i];\n\n        if (currentFrame.keyFrame) {\n          // Since the very first frame is expected to be an keyframe\n          // only push to the gops array when currentGop is not empty\n          if (currentGop.length) {\n            gops.push(currentGop);\n            gops.byteLength += currentGop.byteLength;\n            gops.nalCount += currentGop.nalCount;\n            gops.duration += currentGop.duration;\n          }\n\n          currentGop = [currentFrame];\n          currentGop.nalCount = currentFrame.length;\n          currentGop.byteLength = currentFrame.byteLength;\n          currentGop.pts = currentFrame.pts;\n          currentGop.dts = currentFrame.dts;\n          currentGop.duration = currentFrame.duration;\n        } else {\n          currentGop.duration += currentFrame.duration;\n          currentGop.nalCount += currentFrame.length;\n          currentGop.byteLength += currentFrame.byteLength;\n          currentGop.push(currentFrame);\n        }\n      }\n\n      if (gops.length && currentGop.duration <= 0) {\n        currentGop.duration = gops[gops.length - 1].duration;\n      }\n\n      gops.byteLength += currentGop.byteLength;\n      gops.nalCount += currentGop.nalCount;\n      gops.duration += currentGop.duration; // push the final Gop\n\n      gops.push(currentGop);\n      return gops;\n    };\n    /*\n     * Search for the first keyframe in the GOPs and throw away all frames\n     * until that keyframe. Then extend the duration of the pulled keyframe\n     * and pull the PTS and DTS of the keyframe so that it covers the time\n     * range of the frames that were disposed.\n     *\n     * @param {Array} gops video GOPs\n     * @returns {Array} modified video GOPs\n     */\n\n\n    var extendFirstKeyFrame = function extendFirstKeyFrame(gops) {\n      var currentGop;\n\n      if (!gops[0][0].keyFrame && gops.length > 1) {\n        // Remove the first GOP\n        currentGop = gops.shift();\n        gops.byteLength -= currentGop.byteLength;\n        gops.nalCount -= currentGop.nalCount; // Extend the first frame of what is now the\n        // first gop to cover the time period of the\n        // frames we just removed\n\n        gops[0][0].dts = currentGop.dts;\n        gops[0][0].pts = currentGop.pts;\n        gops[0][0].duration += currentGop.duration;\n      }\n\n      return gops;\n    };\n    /**\n     * Default sample object\n     * see ISO/IEC 14496-12:2012, section 8.6.4.3\n     */\n\n\n    var createDefaultSample = function createDefaultSample() {\n      return {\n        size: 0,\n        flags: {\n          isLeading: 0,\n          dependsOn: 1,\n          isDependedOn: 0,\n          hasRedundancy: 0,\n          degradationPriority: 0,\n          isNonSyncSample: 1\n        }\n      };\n    };\n    /*\n     * Collates information from a video frame into an object for eventual\n     * entry into an MP4 sample table.\n     *\n     * @param {Object} frame the video frame\n     * @param {Number} dataOffset the byte offset to position the sample\n     * @return {Object} object containing sample table info for a frame\n     */\n\n\n    var sampleForFrame = function sampleForFrame(frame, dataOffset) {\n      var sample = createDefaultSample();\n      sample.dataOffset = dataOffset;\n      sample.compositionTimeOffset = frame.pts - frame.dts;\n      sample.duration = frame.duration;\n      sample.size = 4 * frame.length; // Space for nal unit size\n\n      sample.size += frame.byteLength;\n\n      if (frame.keyFrame) {\n        sample.flags.dependsOn = 2;\n        sample.flags.isNonSyncSample = 0;\n      }\n\n      return sample;\n    }; // generate the track's sample table from an array of gops\n\n\n    var generateSampleTable = function generateSampleTable(gops, baseDataOffset) {\n      var h,\n          i,\n          sample,\n          currentGop,\n          currentFrame,\n          dataOffset = baseDataOffset || 0,\n          samples = [];\n\n      for (h = 0; h < gops.length; h++) {\n        currentGop = gops[h];\n\n        for (i = 0; i < currentGop.length; i++) {\n          currentFrame = currentGop[i];\n          sample = sampleForFrame(currentFrame, dataOffset);\n          dataOffset += sample.size;\n          samples.push(sample);\n        }\n      }\n\n      return samples;\n    }; // generate the track's raw mdat data from an array of gops\n\n\n    var concatenateNalData = function concatenateNalData(gops) {\n      var h,\n          i,\n          j,\n          currentGop,\n          currentFrame,\n          currentNal,\n          dataOffset = 0,\n          nalsByteLength = gops.byteLength,\n          numberOfNals = gops.nalCount,\n          totalByteLength = nalsByteLength + 4 * numberOfNals,\n          data = new Uint8Array(totalByteLength),\n          view = new DataView(data.buffer); // For each Gop..\n\n      for (h = 0; h < gops.length; h++) {\n        currentGop = gops[h]; // For each Frame..\n\n        for (i = 0; i < currentGop.length; i++) {\n          currentFrame = currentGop[i]; // For each NAL..\n\n          for (j = 0; j < currentFrame.length; j++) {\n            currentNal = currentFrame[j];\n            view.setUint32(dataOffset, currentNal.data.byteLength);\n            dataOffset += 4;\n            data.set(currentNal.data, dataOffset);\n            dataOffset += currentNal.data.byteLength;\n          }\n        }\n      }\n\n      return data;\n    }; // generate the track's sample table from a frame\n\n\n    var generateSampleTableForFrame = function generateSampleTableForFrame(frame, baseDataOffset) {\n      var sample,\n          dataOffset = baseDataOffset || 0,\n          samples = [];\n      sample = sampleForFrame(frame, dataOffset);\n      samples.push(sample);\n      return samples;\n    }; // generate the track's raw mdat data from a frame\n\n\n    var concatenateNalDataForFrame = function concatenateNalDataForFrame(frame) {\n      var i,\n          currentNal,\n          dataOffset = 0,\n          nalsByteLength = frame.byteLength,\n          numberOfNals = frame.length,\n          totalByteLength = nalsByteLength + 4 * numberOfNals,\n          data = new Uint8Array(totalByteLength),\n          view = new DataView(data.buffer); // For each NAL..\n\n      for (i = 0; i < frame.length; i++) {\n        currentNal = frame[i];\n        view.setUint32(dataOffset, currentNal.data.byteLength);\n        dataOffset += 4;\n        data.set(currentNal.data, dataOffset);\n        dataOffset += currentNal.data.byteLength;\n      }\n\n      return data;\n    };\n\n    var frameUtils = {\n      groupNalsIntoFrames: groupNalsIntoFrames,\n      groupFramesIntoGops: groupFramesIntoGops,\n      extendFirstKeyFrame: extendFirstKeyFrame,\n      generateSampleTable: generateSampleTable,\n      concatenateNalData: concatenateNalData,\n      generateSampleTableForFrame: generateSampleTableForFrame,\n      concatenateNalDataForFrame: concatenateNalDataForFrame\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var highPrefix = [33, 16, 5, 32, 164, 27];\n    var lowPrefix = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252];\n\n    var zeroFill = function zeroFill(count) {\n      var a = [];\n\n      while (count--) {\n        a.push(0);\n      }\n\n      return a;\n    };\n\n    var makeTable = function makeTable(metaTable) {\n      return Object.keys(metaTable).reduce(function (obj, key) {\n        obj[key] = new Uint8Array(metaTable[key].reduce(function (arr, part) {\n          return arr.concat(part);\n        }, []));\n        return obj;\n      }, {});\n    }; // Frames-of-silence to use for filling in missing AAC frames\n\n\n    var coneOfSilence = {\n      96000: [highPrefix, [227, 64], zeroFill(154), [56]],\n      88200: [highPrefix, [231], zeroFill(170), [56]],\n      64000: [highPrefix, [248, 192], zeroFill(240), [56]],\n      48000: [highPrefix, [255, 192], zeroFill(268), [55, 148, 128], zeroFill(54), [112]],\n      44100: [highPrefix, [255, 192], zeroFill(268), [55, 163, 128], zeroFill(84), [112]],\n      32000: [highPrefix, [255, 192], zeroFill(268), [55, 234], zeroFill(226), [112]],\n      24000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 112], zeroFill(126), [224]],\n      16000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 255], zeroFill(269), [223, 108], zeroFill(195), [1, 192]],\n      12000: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 253, 128], zeroFill(259), [56]],\n      11025: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 255, 192], zeroFill(268), [55, 175, 128], zeroFill(108), [112]],\n      8000: [lowPrefix, zeroFill(268), [3, 121, 16], zeroFill(47), [7]]\n    };\n    var silence = makeTable(coneOfSilence);\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var ONE_SECOND_IN_TS = 90000,\n        // 90kHz clock\n    secondsToVideoTs,\n        secondsToAudioTs,\n        videoTsToSeconds,\n        audioTsToSeconds,\n        audioTsToVideoTs,\n        videoTsToAudioTs,\n        metadataTsToSeconds;\n\n    secondsToVideoTs = function secondsToVideoTs(seconds) {\n      return seconds * ONE_SECOND_IN_TS;\n    };\n\n    secondsToAudioTs = function secondsToAudioTs(seconds, sampleRate) {\n      return seconds * sampleRate;\n    };\n\n    videoTsToSeconds = function videoTsToSeconds(timestamp) {\n      return timestamp / ONE_SECOND_IN_TS;\n    };\n\n    audioTsToSeconds = function audioTsToSeconds(timestamp, sampleRate) {\n      return timestamp / sampleRate;\n    };\n\n    audioTsToVideoTs = function audioTsToVideoTs(timestamp, sampleRate) {\n      return secondsToVideoTs(audioTsToSeconds(timestamp, sampleRate));\n    };\n\n    videoTsToAudioTs = function videoTsToAudioTs(timestamp, sampleRate) {\n      return secondsToAudioTs(videoTsToSeconds(timestamp), sampleRate);\n    };\n    /**\n     * Adjust ID3 tag or caption timing information by the timeline pts values\n     * (if keepOriginalTimestamps is false) and convert to seconds\n     */\n\n\n    metadataTsToSeconds = function metadataTsToSeconds(timestamp, timelineStartPts, keepOriginalTimestamps) {\n      return videoTsToSeconds(keepOriginalTimestamps ? timestamp : timestamp - timelineStartPts);\n    };\n\n    var clock = {\n      ONE_SECOND_IN_TS: ONE_SECOND_IN_TS,\n      secondsToVideoTs: secondsToVideoTs,\n      secondsToAudioTs: secondsToAudioTs,\n      videoTsToSeconds: videoTsToSeconds,\n      audioTsToSeconds: audioTsToSeconds,\n      audioTsToVideoTs: audioTsToVideoTs,\n      videoTsToAudioTs: videoTsToAudioTs,\n      metadataTsToSeconds: metadataTsToSeconds\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    /**\n     * Sum the `byteLength` properties of the data in each AAC frame\n     */\n\n    var sumFrameByteLengths = function sumFrameByteLengths(array) {\n      var i,\n          currentObj,\n          sum = 0; // sum the byteLength's all each nal unit in the frame\n\n      for (i = 0; i < array.length; i++) {\n        currentObj = array[i];\n        sum += currentObj.data.byteLength;\n      }\n\n      return sum;\n    }; // Possibly pad (prefix) the audio track with silence if appending this track\n    // would lead to the introduction of a gap in the audio buffer\n\n\n    var prefixWithSilence = function prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime) {\n      var baseMediaDecodeTimeTs,\n          frameDuration = 0,\n          audioGapDuration = 0,\n          audioFillFrameCount = 0,\n          audioFillDuration = 0,\n          silentFrame,\n          i,\n          firstFrame;\n\n      if (!frames.length) {\n        return;\n      }\n\n      baseMediaDecodeTimeTs = clock.audioTsToVideoTs(track.baseMediaDecodeTime, track.samplerate); // determine frame clock duration based on sample rate, round up to avoid overfills\n\n      frameDuration = Math.ceil(clock.ONE_SECOND_IN_TS / (track.samplerate / 1024));\n\n      if (audioAppendStartTs && videoBaseMediaDecodeTime) {\n        // insert the shortest possible amount (audio gap or audio to video gap)\n        audioGapDuration = baseMediaDecodeTimeTs - Math.max(audioAppendStartTs, videoBaseMediaDecodeTime); // number of full frames in the audio gap\n\n        audioFillFrameCount = Math.floor(audioGapDuration / frameDuration);\n        audioFillDuration = audioFillFrameCount * frameDuration;\n      } // don't attempt to fill gaps smaller than a single frame or larger\n      // than a half second\n\n\n      if (audioFillFrameCount < 1 || audioFillDuration > clock.ONE_SECOND_IN_TS / 2) {\n        return;\n      }\n\n      silentFrame = silence[track.samplerate];\n\n      if (!silentFrame) {\n        // we don't have a silent frame pregenerated for the sample rate, so use a frame\n        // from the content instead\n        silentFrame = frames[0].data;\n      }\n\n      for (i = 0; i < audioFillFrameCount; i++) {\n        firstFrame = frames[0];\n        frames.splice(0, 0, {\n          data: silentFrame,\n          dts: firstFrame.dts - frameDuration,\n          pts: firstFrame.pts - frameDuration\n        });\n      }\n\n      track.baseMediaDecodeTime -= Math.floor(clock.videoTsToAudioTs(audioFillDuration, track.samplerate));\n    }; // If the audio segment extends before the earliest allowed dts\n    // value, remove AAC frames until starts at or after the earliest\n    // allowed DTS so that we don't end up with a negative baseMedia-\n    // DecodeTime for the audio track\n\n\n    var trimAdtsFramesByEarliestDts = function trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts) {\n      if (track.minSegmentDts >= earliestAllowedDts) {\n        return adtsFrames;\n      } // We will need to recalculate the earliest segment Dts\n\n\n      track.minSegmentDts = Infinity;\n      return adtsFrames.filter(function (currentFrame) {\n        // If this is an allowed frame, keep it and record it's Dts\n        if (currentFrame.dts >= earliestAllowedDts) {\n          track.minSegmentDts = Math.min(track.minSegmentDts, currentFrame.dts);\n          track.minSegmentPts = track.minSegmentDts;\n          return true;\n        } // Otherwise, discard it\n\n\n        return false;\n      });\n    }; // generate the track's raw mdat data from an array of frames\n\n\n    var generateSampleTable$1 = function generateSampleTable(frames) {\n      var i,\n          currentFrame,\n          samples = [];\n\n      for (i = 0; i < frames.length; i++) {\n        currentFrame = frames[i];\n        samples.push({\n          size: currentFrame.data.byteLength,\n          duration: 1024 // For AAC audio, all samples contain 1024 samples\n\n        });\n      }\n\n      return samples;\n    }; // generate the track's sample table from an array of frames\n\n\n    var concatenateFrameData = function concatenateFrameData(frames) {\n      var i,\n          currentFrame,\n          dataOffset = 0,\n          data = new Uint8Array(sumFrameByteLengths(frames));\n\n      for (i = 0; i < frames.length; i++) {\n        currentFrame = frames[i];\n        data.set(currentFrame.data, dataOffset);\n        dataOffset += currentFrame.data.byteLength;\n      }\n\n      return data;\n    };\n\n    var audioFrameUtils = {\n      prefixWithSilence: prefixWithSilence,\n      trimAdtsFramesByEarliestDts: trimAdtsFramesByEarliestDts,\n      generateSampleTable: generateSampleTable$1,\n      concatenateFrameData: concatenateFrameData\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var ONE_SECOND_IN_TS$1 = clock.ONE_SECOND_IN_TS;\n    /**\n     * Store information about the start and end of the track and the\n     * duration for each frame/sample we process in order to calculate\n     * the baseMediaDecodeTime\n     */\n\n    var collectDtsInfo = function collectDtsInfo(track, data) {\n      if (typeof data.pts === 'number') {\n        if (track.timelineStartInfo.pts === undefined) {\n          track.timelineStartInfo.pts = data.pts;\n        }\n\n        if (track.minSegmentPts === undefined) {\n          track.minSegmentPts = data.pts;\n        } else {\n          track.minSegmentPts = Math.min(track.minSegmentPts, data.pts);\n        }\n\n        if (track.maxSegmentPts === undefined) {\n          track.maxSegmentPts = data.pts;\n        } else {\n          track.maxSegmentPts = Math.max(track.maxSegmentPts, data.pts);\n        }\n      }\n\n      if (typeof data.dts === 'number') {\n        if (track.timelineStartInfo.dts === undefined) {\n          track.timelineStartInfo.dts = data.dts;\n        }\n\n        if (track.minSegmentDts === undefined) {\n          track.minSegmentDts = data.dts;\n        } else {\n          track.minSegmentDts = Math.min(track.minSegmentDts, data.dts);\n        }\n\n        if (track.maxSegmentDts === undefined) {\n          track.maxSegmentDts = data.dts;\n        } else {\n          track.maxSegmentDts = Math.max(track.maxSegmentDts, data.dts);\n        }\n      }\n    };\n    /**\n     * Clear values used to calculate the baseMediaDecodeTime between\n     * tracks\n     */\n\n\n    var clearDtsInfo = function clearDtsInfo(track) {\n      delete track.minSegmentDts;\n      delete track.maxSegmentDts;\n      delete track.minSegmentPts;\n      delete track.maxSegmentPts;\n    };\n    /**\n     * Calculate the track's baseMediaDecodeTime based on the earliest\n     * DTS the transmuxer has ever seen and the minimum DTS for the\n     * current track\n     * @param track {object} track metadata configuration\n     * @param keepOriginalTimestamps {boolean} If true, keep the timestamps\n     *        in the source; false to adjust the first segment to start at 0.\n     */\n\n\n    var calculateTrackBaseMediaDecodeTime = function calculateTrackBaseMediaDecodeTime(track, keepOriginalTimestamps) {\n      var baseMediaDecodeTime,\n          scale,\n          minSegmentDts = track.minSegmentDts; // Optionally adjust the time so the first segment starts at zero.\n\n      if (!keepOriginalTimestamps) {\n        minSegmentDts -= track.timelineStartInfo.dts;\n      } // track.timelineStartInfo.baseMediaDecodeTime is the location, in time, where\n      // we want the start of the first segment to be placed\n\n\n      baseMediaDecodeTime = track.timelineStartInfo.baseMediaDecodeTime; // Add to that the distance this segment is from the very first\n\n      baseMediaDecodeTime += minSegmentDts; // baseMediaDecodeTime must not become negative\n\n      baseMediaDecodeTime = Math.max(0, baseMediaDecodeTime);\n\n      if (track.type === 'audio') {\n        // Audio has a different clock equal to the sampling_rate so we need to\n        // scale the PTS values into the clock rate of the track\n        scale = track.samplerate / ONE_SECOND_IN_TS$1;\n        baseMediaDecodeTime *= scale;\n        baseMediaDecodeTime = Math.floor(baseMediaDecodeTime);\n      }\n\n      return baseMediaDecodeTime;\n    };\n\n    var trackDecodeInfo = {\n      clearDtsInfo: clearDtsInfo,\n      calculateTrackBaseMediaDecodeTime: calculateTrackBaseMediaDecodeTime,\n      collectDtsInfo: collectDtsInfo\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     *\n     * Reads in-band caption information from a video elementary\n     * stream. Captions must follow the CEA-708 standard for injection\n     * into an MPEG-2 transport streams.\n     * @see https://en.wikipedia.org/wiki/CEA-708\n     * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n     */\n    // Supplemental enhancement information (SEI) NAL units have a\n    // payload type field to indicate how they are to be\n    // interpreted. CEAS-708 caption content is always transmitted with\n    // payload type 0x04.\n\n    var USER_DATA_REGISTERED_ITU_T_T35 = 4,\n        RBSP_TRAILING_BITS = 128;\n    /**\n      * Parse a supplemental enhancement information (SEI) NAL unit.\n      * Stops parsing once a message of type ITU T T35 has been found.\n      *\n      * @param bytes {Uint8Array} the bytes of a SEI NAL unit\n      * @return {object} the parsed SEI payload\n      * @see Rec. ITU-T H.264, 7.3.2.3.1\n      */\n\n    var parseSei = function parseSei(bytes) {\n      var i = 0,\n          result = {\n        payloadType: -1,\n        payloadSize: 0\n      },\n          payloadType = 0,\n          payloadSize = 0; // go through the sei_rbsp parsing each each individual sei_message\n\n      while (i < bytes.byteLength) {\n        // stop once we have hit the end of the sei_rbsp\n        if (bytes[i] === RBSP_TRAILING_BITS) {\n          break;\n        } // Parse payload type\n\n\n        while (bytes[i] === 0xFF) {\n          payloadType += 255;\n          i++;\n        }\n\n        payloadType += bytes[i++]; // Parse payload size\n\n        while (bytes[i] === 0xFF) {\n          payloadSize += 255;\n          i++;\n        }\n\n        payloadSize += bytes[i++]; // this sei_message is a 608/708 caption so save it and break\n        // there can only ever be one caption message in a frame's sei\n\n        if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\n          result.payloadType = payloadType;\n          result.payloadSize = payloadSize;\n          result.payload = bytes.subarray(i, i + payloadSize);\n          break;\n        } // skip the payload and parse the next message\n\n\n        i += payloadSize;\n        payloadType = 0;\n        payloadSize = 0;\n      }\n\n      return result;\n    }; // see ANSI/SCTE 128-1 (2013), section 8.1\n\n\n    var parseUserData = function parseUserData(sei) {\n      // itu_t_t35_contry_code must be 181 (United States) for\n      // captions\n      if (sei.payload[0] !== 181) {\n        return null;\n      } // itu_t_t35_provider_code should be 49 (ATSC) for captions\n\n\n      if ((sei.payload[1] << 8 | sei.payload[2]) !== 49) {\n        return null;\n      } // the user_identifier should be \"GA94\" to indicate ATSC1 data\n\n\n      if (String.fromCharCode(sei.payload[3], sei.payload[4], sei.payload[5], sei.payload[6]) !== 'GA94') {\n        return null;\n      } // finally, user_data_type_code should be 0x03 for caption data\n\n\n      if (sei.payload[7] !== 0x03) {\n        return null;\n      } // return the user_data_type_structure and strip the trailing\n      // marker bits\n\n\n      return sei.payload.subarray(8, sei.payload.length - 1);\n    }; // see CEA-708-D, section 4.4\n\n\n    var parseCaptionPackets = function parseCaptionPackets(pts, userData) {\n      var results = [],\n          i,\n          count,\n          offset,\n          data; // if this is just filler, return immediately\n\n      if (!(userData[0] & 0x40)) {\n        return results;\n      } // parse out the cc_data_1 and cc_data_2 fields\n\n\n      count = userData[0] & 0x1f;\n\n      for (i = 0; i < count; i++) {\n        offset = i * 3;\n        data = {\n          type: userData[offset + 2] & 0x03,\n          pts: pts\n        }; // capture cc data when cc_valid is 1\n\n        if (userData[offset + 2] & 0x04) {\n          data.ccData = userData[offset + 3] << 8 | userData[offset + 4];\n          results.push(data);\n        }\n      }\n\n      return results;\n    };\n\n    var discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n      var length = data.byteLength,\n          emulationPreventionBytesPositions = [],\n          i = 1,\n          newLength,\n          newData; // Find all `Emulation Prevention Bytes`\n\n      while (i < length - 2) {\n        if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      } // If no Emulation Prevention Bytes were found just return the original\n      // array\n\n\n      if (emulationPreventionBytesPositions.length === 0) {\n        return data;\n      } // Create a new array to hold the NAL unit data\n\n\n      newLength = length - emulationPreventionBytesPositions.length;\n      newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          // Skip this byte\n          sourceIndex++; // Remove this position index\n\n          emulationPreventionBytesPositions.shift();\n        }\n\n        newData[i] = data[sourceIndex];\n      }\n\n      return newData;\n    }; // exports\n\n\n    var captionPacketParser = {\n      parseSei: parseSei,\n      parseUserData: parseUserData,\n      parseCaptionPackets: parseCaptionPackets,\n      discardEmulationPreventionBytes: discardEmulationPreventionBytes,\n      USER_DATA_REGISTERED_ITU_T_T35: USER_DATA_REGISTERED_ITU_T_T35\n    }; // -----------------\n    // Link To Transport\n    // -----------------\n\n    var CaptionStream = function CaptionStream() {\n      CaptionStream.prototype.init.call(this);\n      this.captionPackets_ = [];\n      this.ccStreams_ = [new Cea608Stream(0, 0), // eslint-disable-line no-use-before-define\n      new Cea608Stream(0, 1), // eslint-disable-line no-use-before-define\n      new Cea608Stream(1, 0), // eslint-disable-line no-use-before-define\n      new Cea608Stream(1, 1) // eslint-disable-line no-use-before-define\n      ];\n      this.reset(); // forward data and done events from CCs to this CaptionStream\n\n      this.ccStreams_.forEach(function (cc) {\n        cc.on('data', this.trigger.bind(this, 'data'));\n        cc.on('partialdone', this.trigger.bind(this, 'partialdone'));\n        cc.on('done', this.trigger.bind(this, 'done'));\n      }, this);\n    };\n\n    CaptionStream.prototype = new stream();\n\n    CaptionStream.prototype.push = function (event) {\n      var sei, userData, newCaptionPackets; // only examine SEI NALs\n\n      if (event.nalUnitType !== 'sei_rbsp') {\n        return;\n      } // parse the sei\n\n\n      sei = captionPacketParser.parseSei(event.escapedRBSP); // ignore everything but user_data_registered_itu_t_t35\n\n      if (sei.payloadType !== captionPacketParser.USER_DATA_REGISTERED_ITU_T_T35) {\n        return;\n      } // parse out the user data payload\n\n\n      userData = captionPacketParser.parseUserData(sei); // ignore unrecognized userData\n\n      if (!userData) {\n        return;\n      } // Sometimes, the same segment # will be downloaded twice. To stop the\n      // caption data from being processed twice, we track the latest dts we've\n      // received and ignore everything with a dts before that. However, since\n      // data for a specific dts can be split across packets on either side of\n      // a segment boundary, we need to make sure we *don't* ignore the packets\n      // from the *next* segment that have dts === this.latestDts_. By constantly\n      // tracking the number of packets received with dts === this.latestDts_, we\n      // know how many should be ignored once we start receiving duplicates.\n\n\n      if (event.dts < this.latestDts_) {\n        // We've started getting older data, so set the flag.\n        this.ignoreNextEqualDts_ = true;\n        return;\n      } else if (event.dts === this.latestDts_ && this.ignoreNextEqualDts_) {\n        this.numSameDts_--;\n\n        if (!this.numSameDts_) {\n          // We've received the last duplicate packet, time to start processing again\n          this.ignoreNextEqualDts_ = false;\n        }\n\n        return;\n      } // parse out CC data packets and save them for later\n\n\n      newCaptionPackets = captionPacketParser.parseCaptionPackets(event.pts, userData);\n      this.captionPackets_ = this.captionPackets_.concat(newCaptionPackets);\n\n      if (this.latestDts_ !== event.dts) {\n        this.numSameDts_ = 0;\n      }\n\n      this.numSameDts_++;\n      this.latestDts_ = event.dts;\n    };\n\n    CaptionStream.prototype.flushCCStreams = function (flushType) {\n      this.ccStreams_.forEach(function (cc) {\n        return flushType === 'flush' ? cc.flush() : cc.partialFlush();\n      }, this);\n    };\n\n    CaptionStream.prototype.flushStream = function (flushType) {\n      // make sure we actually parsed captions before proceeding\n      if (!this.captionPackets_.length) {\n        this.flushCCStreams(flushType);\n        return;\n      } // In Chrome, the Array#sort function is not stable so add a\n      // presortIndex that we can use to ensure we get a stable-sort\n\n\n      this.captionPackets_.forEach(function (elem, idx) {\n        elem.presortIndex = idx;\n      }); // sort caption byte-pairs based on their PTS values\n\n      this.captionPackets_.sort(function (a, b) {\n        if (a.pts === b.pts) {\n          return a.presortIndex - b.presortIndex;\n        }\n\n        return a.pts - b.pts;\n      });\n      this.captionPackets_.forEach(function (packet) {\n        if (packet.type < 2) {\n          // Dispatch packet to the right Cea608Stream\n          this.dispatchCea608Packet(packet);\n        } // this is where an 'else' would go for a dispatching packets\n        // to a theoretical Cea708Stream that handles SERVICEn data\n\n      }, this);\n      this.captionPackets_.length = 0;\n      this.flushCCStreams(flushType);\n    };\n\n    CaptionStream.prototype.flush = function () {\n      return this.flushStream('flush');\n    }; // Only called if handling partial data\n\n\n    CaptionStream.prototype.partialFlush = function () {\n      return this.flushStream('partialFlush');\n    };\n\n    CaptionStream.prototype.reset = function () {\n      this.latestDts_ = null;\n      this.ignoreNextEqualDts_ = false;\n      this.numSameDts_ = 0;\n      this.activeCea608Channel_ = [null, null];\n      this.ccStreams_.forEach(function (ccStream) {\n        ccStream.reset();\n      });\n    }; // From the CEA-608 spec:\n\n    /*\n     * When XDS sub-packets are interleaved with other services, the end of each sub-packet shall be followed\n     * by a control pair to change to a different service. When any of the control codes from 0x10 to 0x1F is\n     * used to begin a control code pair, it indicates the return to captioning or Text data. The control code pair\n     * and subsequent data should then be processed according to the FCC rules. It may be necessary for the\n     * line 21 data encoder to automatically insert a control code pair (i.e. RCL, RU2, RU3, RU4, RDC, or RTD)\n     * to switch to captioning or Text.\n    */\n    // With that in mind, we ignore any data between an XDS control code and a\n    // subsequent closed-captioning control code.\n\n\n    CaptionStream.prototype.dispatchCea608Packet = function (packet) {\n      // NOTE: packet.type is the CEA608 field\n      if (this.setsTextOrXDSActive(packet)) {\n        this.activeCea608Channel_[packet.type] = null;\n      } else if (this.setsChannel1Active(packet)) {\n        this.activeCea608Channel_[packet.type] = 0;\n      } else if (this.setsChannel2Active(packet)) {\n        this.activeCea608Channel_[packet.type] = 1;\n      }\n\n      if (this.activeCea608Channel_[packet.type] === null) {\n        // If we haven't received anything to set the active channel, or the\n        // packets are Text/XDS data, discard the data; we don't want jumbled\n        // captions\n        return;\n      }\n\n      this.ccStreams_[(packet.type << 1) + this.activeCea608Channel_[packet.type]].push(packet);\n    };\n\n    CaptionStream.prototype.setsChannel1Active = function (packet) {\n      return (packet.ccData & 0x7800) === 0x1000;\n    };\n\n    CaptionStream.prototype.setsChannel2Active = function (packet) {\n      return (packet.ccData & 0x7800) === 0x1800;\n    };\n\n    CaptionStream.prototype.setsTextOrXDSActive = function (packet) {\n      return (packet.ccData & 0x7100) === 0x0100 || (packet.ccData & 0x78fe) === 0x102a || (packet.ccData & 0x78fe) === 0x182a;\n    }; // ----------------------\n    // Session to Application\n    // ----------------------\n    // This hash maps non-ASCII, special, and extended character codes to their\n    // proper Unicode equivalent. The first keys that are only a single byte\n    // are the non-standard ASCII characters, which simply map the CEA608 byte\n    // to the standard ASCII/Unicode. The two-byte keys that follow are the CEA608\n    // character codes, but have their MSB bitmasked with 0x03 so that a lookup\n    // can be performed regardless of the field and data channel on which the\n    // character code was received.\n\n\n    var CHARACTER_TRANSLATION = {\n      0x2a: 0xe1,\n      // \n      0x5c: 0xe9,\n      // \n      0x5e: 0xed,\n      // \n      0x5f: 0xf3,\n      // \n      0x60: 0xfa,\n      // \n      0x7b: 0xe7,\n      // \n      0x7c: 0xf7,\n      // \n      0x7d: 0xd1,\n      // \n      0x7e: 0xf1,\n      // \n      0x7f: 0x2588,\n      // \n      0x0130: 0xae,\n      // \n      0x0131: 0xb0,\n      // \n      0x0132: 0xbd,\n      // \n      0x0133: 0xbf,\n      // \n      0x0134: 0x2122,\n      // \n      0x0135: 0xa2,\n      // \n      0x0136: 0xa3,\n      // \n      0x0137: 0x266a,\n      // \n      0x0138: 0xe0,\n      // \n      0x0139: 0xa0,\n      //\n      0x013a: 0xe8,\n      // \n      0x013b: 0xe2,\n      // \n      0x013c: 0xea,\n      // \n      0x013d: 0xee,\n      // \n      0x013e: 0xf4,\n      // \n      0x013f: 0xfb,\n      // \n      0x0220: 0xc1,\n      // \n      0x0221: 0xc9,\n      // \n      0x0222: 0xd3,\n      // \n      0x0223: 0xda,\n      // \n      0x0224: 0xdc,\n      // \n      0x0225: 0xfc,\n      // \n      0x0226: 0x2018,\n      // \n      0x0227: 0xa1,\n      // \n      0x0228: 0x2a,\n      // *\n      0x0229: 0x27,\n      // '\n      0x022a: 0x2014,\n      // \n      0x022b: 0xa9,\n      // \n      0x022c: 0x2120,\n      // \n      0x022d: 0x2022,\n      // \n      0x022e: 0x201c,\n      // \n      0x022f: 0x201d,\n      // \n      0x0230: 0xc0,\n      // \n      0x0231: 0xc2,\n      // \n      0x0232: 0xc7,\n      // \n      0x0233: 0xc8,\n      // \n      0x0234: 0xca,\n      // \n      0x0235: 0xcb,\n      // \n      0x0236: 0xeb,\n      // \n      0x0237: 0xce,\n      // \n      0x0238: 0xcf,\n      // \n      0x0239: 0xef,\n      // \n      0x023a: 0xd4,\n      // \n      0x023b: 0xd9,\n      // \n      0x023c: 0xf9,\n      // \n      0x023d: 0xdb,\n      // \n      0x023e: 0xab,\n      // \n      0x023f: 0xbb,\n      // \n      0x0320: 0xc3,\n      // \n      0x0321: 0xe3,\n      // \n      0x0322: 0xcd,\n      // \n      0x0323: 0xcc,\n      // \n      0x0324: 0xec,\n      // \n      0x0325: 0xd2,\n      // \n      0x0326: 0xf2,\n      // \n      0x0327: 0xd5,\n      // \n      0x0328: 0xf5,\n      // \n      0x0329: 0x7b,\n      // {\n      0x032a: 0x7d,\n      // }\n      0x032b: 0x5c,\n      // \\\n      0x032c: 0x5e,\n      // ^\n      0x032d: 0x5f,\n      // _\n      0x032e: 0x7c,\n      // |\n      0x032f: 0x7e,\n      // ~\n      0x0330: 0xc4,\n      // \n      0x0331: 0xe4,\n      // \n      0x0332: 0xd6,\n      // \n      0x0333: 0xf6,\n      // \n      0x0334: 0xdf,\n      // \n      0x0335: 0xa5,\n      // \n      0x0336: 0xa4,\n      // \n      0x0337: 0x2502,\n      // \n      0x0338: 0xc5,\n      // \n      0x0339: 0xe5,\n      // \n      0x033a: 0xd8,\n      // \n      0x033b: 0xf8,\n      // \n      0x033c: 0x250c,\n      // \n      0x033d: 0x2510,\n      // \n      0x033e: 0x2514,\n      // \n      0x033f: 0x2518 // \n\n    };\n\n    var getCharFromCode = function getCharFromCode(code) {\n      if (code === null) {\n        return '';\n      }\n\n      code = CHARACTER_TRANSLATION[code] || code;\n      return String.fromCharCode(code);\n    }; // the index of the last row in a CEA-608 display buffer\n\n\n    var BOTTOM_ROW = 14; // This array is used for mapping PACs -> row #, since there's no way of\n    // getting it through bit logic.\n\n    var ROWS = [0x1100, 0x1120, 0x1200, 0x1220, 0x1500, 0x1520, 0x1600, 0x1620, 0x1700, 0x1720, 0x1000, 0x1300, 0x1320, 0x1400, 0x1420]; // CEA-608 captions are rendered onto a 34x15 matrix of character\n    // cells. The \"bottom\" row is the last element in the outer array.\n\n    var createDisplayBuffer = function createDisplayBuffer() {\n      var result = [],\n          i = BOTTOM_ROW + 1;\n\n      while (i--) {\n        result.push('');\n      }\n\n      return result;\n    };\n\n    var Cea608Stream = function Cea608Stream(field, dataChannel) {\n      Cea608Stream.prototype.init.call(this);\n      this.field_ = field || 0;\n      this.dataChannel_ = dataChannel || 0;\n      this.name_ = 'CC' + ((this.field_ << 1 | this.dataChannel_) + 1);\n      this.setConstants();\n      this.reset();\n\n      this.push = function (packet) {\n        var data, swap, char0, char1, text; // remove the parity bits\n\n        data = packet.ccData & 0x7f7f; // ignore duplicate control codes; the spec demands they're sent twice\n\n        if (data === this.lastControlCode_) {\n          this.lastControlCode_ = null;\n          return;\n        } // Store control codes\n\n\n        if ((data & 0xf000) === 0x1000) {\n          this.lastControlCode_ = data;\n        } else if (data !== this.PADDING_) {\n          this.lastControlCode_ = null;\n        }\n\n        char0 = data >>> 8;\n        char1 = data & 0xff;\n\n        if (data === this.PADDING_) {\n          return;\n        } else if (data === this.RESUME_CAPTION_LOADING_) {\n          this.mode_ = 'popOn';\n        } else if (data === this.END_OF_CAPTION_) {\n          // If an EOC is received while in paint-on mode, the displayed caption\n          // text should be swapped to non-displayed memory as if it was a pop-on\n          // caption. Because of that, we should explicitly switch back to pop-on\n          // mode\n          this.mode_ = 'popOn';\n          this.clearFormatting(packet.pts); // if a caption was being displayed, it's gone now\n\n          this.flushDisplayed(packet.pts); // flip memory\n\n          swap = this.displayed_;\n          this.displayed_ = this.nonDisplayed_;\n          this.nonDisplayed_ = swap; // start measuring the time to display the caption\n\n          this.startPts_ = packet.pts;\n        } else if (data === this.ROLL_UP_2_ROWS_) {\n          this.rollUpRows_ = 2;\n          this.setRollUp(packet.pts);\n        } else if (data === this.ROLL_UP_3_ROWS_) {\n          this.rollUpRows_ = 3;\n          this.setRollUp(packet.pts);\n        } else if (data === this.ROLL_UP_4_ROWS_) {\n          this.rollUpRows_ = 4;\n          this.setRollUp(packet.pts);\n        } else if (data === this.CARRIAGE_RETURN_) {\n          this.clearFormatting(packet.pts);\n          this.flushDisplayed(packet.pts);\n          this.shiftRowsUp_();\n          this.startPts_ = packet.pts;\n        } else if (data === this.BACKSPACE_) {\n          if (this.mode_ === 'popOn') {\n            this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n          } else {\n            this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n          }\n        } else if (data === this.ERASE_DISPLAYED_MEMORY_) {\n          this.flushDisplayed(packet.pts);\n          this.displayed_ = createDisplayBuffer();\n        } else if (data === this.ERASE_NON_DISPLAYED_MEMORY_) {\n          this.nonDisplayed_ = createDisplayBuffer();\n        } else if (data === this.RESUME_DIRECT_CAPTIONING_) {\n          if (this.mode_ !== 'paintOn') {\n            // NOTE: This should be removed when proper caption positioning is\n            // implemented\n            this.flushDisplayed(packet.pts);\n            this.displayed_ = createDisplayBuffer();\n          }\n\n          this.mode_ = 'paintOn';\n          this.startPts_ = packet.pts; // Append special characters to caption text\n        } else if (this.isSpecialCharacter(char0, char1)) {\n          // Bitmask char0 so that we can apply character transformations\n          // regardless of field and data channel.\n          // Then byte-shift to the left and OR with char1 so we can pass the\n          // entire character code to `getCharFromCode`.\n          char0 = (char0 & 0x03) << 8;\n          text = getCharFromCode(char0 | char1);\n          this[this.mode_](packet.pts, text);\n          this.column_++; // Append extended characters to caption text\n        } else if (this.isExtCharacter(char0, char1)) {\n          // Extended characters always follow their \"non-extended\" equivalents.\n          // IE if a \"\" is desired, you'll always receive \"e\"; non-compliant\n          // decoders are supposed to drop the \"\", while compliant decoders\n          // backspace the \"e\" and insert \"\".\n          // Delete the previous character\n          if (this.mode_ === 'popOn') {\n            this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n          } else {\n            this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n          } // Bitmask char0 so that we can apply character transformations\n          // regardless of field and data channel.\n          // Then byte-shift to the left and OR with char1 so we can pass the\n          // entire character code to `getCharFromCode`.\n\n\n          char0 = (char0 & 0x03) << 8;\n          text = getCharFromCode(char0 | char1);\n          this[this.mode_](packet.pts, text);\n          this.column_++; // Process mid-row codes\n        } else if (this.isMidRowCode(char0, char1)) {\n          // Attributes are not additive, so clear all formatting\n          this.clearFormatting(packet.pts); // According to the standard, mid-row codes\n          // should be replaced with spaces, so add one now\n\n          this[this.mode_](packet.pts, ' ');\n          this.column_++;\n\n          if ((char1 & 0xe) === 0xe) {\n            this.addFormatting(packet.pts, ['i']);\n          }\n\n          if ((char1 & 0x1) === 0x1) {\n            this.addFormatting(packet.pts, ['u']);\n          } // Detect offset control codes and adjust cursor\n\n        } else if (this.isOffsetControlCode(char0, char1)) {\n          // Cursor position is set by indent PAC (see below) in 4-column\n          // increments, with an additional offset code of 1-3 to reach any\n          // of the 32 columns specified by CEA-608. So all we need to do\n          // here is increment the column cursor by the given offset.\n          this.column_ += char1 & 0x03; // Detect PACs (Preamble Address Codes)\n        } else if (this.isPAC(char0, char1)) {\n          // There's no logic for PAC -> row mapping, so we have to just\n          // find the row code in an array and use its index :(\n          var row = ROWS.indexOf(data & 0x1f20); // Configure the caption window if we're in roll-up mode\n\n          if (this.mode_ === 'rollUp') {\n            // This implies that the base row is incorrectly set.\n            // As per the recommendation in CEA-608(Base Row Implementation), defer to the number\n            // of roll-up rows set.\n            if (row - this.rollUpRows_ + 1 < 0) {\n              row = this.rollUpRows_ - 1;\n            }\n\n            this.setRollUp(packet.pts, row);\n          }\n\n          if (row !== this.row_) {\n            // formatting is only persistent for current row\n            this.clearFormatting(packet.pts);\n            this.row_ = row;\n          } // All PACs can apply underline, so detect and apply\n          // (All odd-numbered second bytes set underline)\n\n\n          if (char1 & 0x1 && this.formatting_.indexOf('u') === -1) {\n            this.addFormatting(packet.pts, ['u']);\n          }\n\n          if ((data & 0x10) === 0x10) {\n            // We've got an indent level code. Each successive even number\n            // increments the column cursor by 4, so we can get the desired\n            // column position by bit-shifting to the right (to get n/2)\n            // and multiplying by 4.\n            this.column_ = ((data & 0xe) >> 1) * 4;\n          }\n\n          if (this.isColorPAC(char1)) {\n            // it's a color code, though we only support white, which\n            // can be either normal or italicized. white italics can be\n            // either 0x4e or 0x6e depending on the row, so we just\n            // bitwise-and with 0xe to see if italics should be turned on\n            if ((char1 & 0xe) === 0xe) {\n              this.addFormatting(packet.pts, ['i']);\n            }\n          } // We have a normal character in char0, and possibly one in char1\n\n        } else if (this.isNormalChar(char0)) {\n          if (char1 === 0x00) {\n            char1 = null;\n          }\n\n          text = getCharFromCode(char0);\n          text += getCharFromCode(char1);\n          this[this.mode_](packet.pts, text);\n          this.column_ += text.length;\n        } // finish data processing\n\n      };\n    };\n\n    Cea608Stream.prototype = new stream(); // Trigger a cue point that captures the current state of the\n    // display buffer\n\n    Cea608Stream.prototype.flushDisplayed = function (pts) {\n      var content = this.displayed_ // remove spaces from the start and end of the string\n      .map(function (row) {\n        try {\n          return row.trim();\n        } catch (e) {\n          // Ordinarily, this shouldn't happen. However, caption\n          // parsing errors should not throw exceptions and\n          // break playback.\n          // eslint-disable-next-line no-console\n          console.error('Skipping malformed caption.');\n          return '';\n        }\n      }) // combine all text rows to display in one cue\n      .join('\\n') // and remove blank rows from the start and end, but not the middle\n      .replace(/^\\n+|\\n+$/g, '');\n\n      if (content.length) {\n        this.trigger('data', {\n          startPts: this.startPts_,\n          endPts: pts,\n          text: content,\n          stream: this.name_\n        });\n      }\n    };\n    /**\n     * Zero out the data, used for startup and on seek\n     */\n\n\n    Cea608Stream.prototype.reset = function () {\n      this.mode_ = 'popOn'; // When in roll-up mode, the index of the last row that will\n      // actually display captions. If a caption is shifted to a row\n      // with a lower index than this, it is cleared from the display\n      // buffer\n\n      this.topRow_ = 0;\n      this.startPts_ = 0;\n      this.displayed_ = createDisplayBuffer();\n      this.nonDisplayed_ = createDisplayBuffer();\n      this.lastControlCode_ = null; // Track row and column for proper line-breaking and spacing\n\n      this.column_ = 0;\n      this.row_ = BOTTOM_ROW;\n      this.rollUpRows_ = 2; // This variable holds currently-applied formatting\n\n      this.formatting_ = [];\n    };\n    /**\n     * Sets up control code and related constants for this instance\n     */\n\n\n    Cea608Stream.prototype.setConstants = function () {\n      // The following attributes have these uses:\n      // ext_ :    char0 for mid-row codes, and the base for extended\n      //           chars (ext_+0, ext_+1, and ext_+2 are char0s for\n      //           extended codes)\n      // control_: char0 for control codes, except byte-shifted to the\n      //           left so that we can do this.control_ | CONTROL_CODE\n      // offset_:  char0 for tab offset codes\n      //\n      // It's also worth noting that control codes, and _only_ control codes,\n      // differ between field 1 and field2. Field 2 control codes are always\n      // their field 1 value plus 1. That's why there's the \"| field\" on the\n      // control value.\n      if (this.dataChannel_ === 0) {\n        this.BASE_ = 0x10;\n        this.EXT_ = 0x11;\n        this.CONTROL_ = (0x14 | this.field_) << 8;\n        this.OFFSET_ = 0x17;\n      } else if (this.dataChannel_ === 1) {\n        this.BASE_ = 0x18;\n        this.EXT_ = 0x19;\n        this.CONTROL_ = (0x1c | this.field_) << 8;\n        this.OFFSET_ = 0x1f;\n      } // Constants for the LSByte command codes recognized by Cea608Stream. This\n      // list is not exhaustive. For a more comprehensive listing and semantics see\n      // http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf\n      // Padding\n\n\n      this.PADDING_ = 0x0000; // Pop-on Mode\n\n      this.RESUME_CAPTION_LOADING_ = this.CONTROL_ | 0x20;\n      this.END_OF_CAPTION_ = this.CONTROL_ | 0x2f; // Roll-up Mode\n\n      this.ROLL_UP_2_ROWS_ = this.CONTROL_ | 0x25;\n      this.ROLL_UP_3_ROWS_ = this.CONTROL_ | 0x26;\n      this.ROLL_UP_4_ROWS_ = this.CONTROL_ | 0x27;\n      this.CARRIAGE_RETURN_ = this.CONTROL_ | 0x2d; // paint-on mode\n\n      this.RESUME_DIRECT_CAPTIONING_ = this.CONTROL_ | 0x29; // Erasure\n\n      this.BACKSPACE_ = this.CONTROL_ | 0x21;\n      this.ERASE_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2c;\n      this.ERASE_NON_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2e;\n    };\n    /**\n     * Detects if the 2-byte packet data is a special character\n     *\n     * Special characters have a second byte in the range 0x30 to 0x3f,\n     * with the first byte being 0x11 (for data channel 1) or 0x19 (for\n     * data channel 2).\n     *\n     * @param  {Integer} char0 The first byte\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the 2 bytes are an special character\n     */\n\n\n    Cea608Stream.prototype.isSpecialCharacter = function (char0, char1) {\n      return char0 === this.EXT_ && char1 >= 0x30 && char1 <= 0x3f;\n    };\n    /**\n     * Detects if the 2-byte packet data is an extended character\n     *\n     * Extended characters have a second byte in the range 0x20 to 0x3f,\n     * with the first byte being 0x12 or 0x13 (for data channel 1) or\n     * 0x1a or 0x1b (for data channel 2).\n     *\n     * @param  {Integer} char0 The first byte\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the 2 bytes are an extended character\n     */\n\n\n    Cea608Stream.prototype.isExtCharacter = function (char0, char1) {\n      return (char0 === this.EXT_ + 1 || char0 === this.EXT_ + 2) && char1 >= 0x20 && char1 <= 0x3f;\n    };\n    /**\n     * Detects if the 2-byte packet is a mid-row code\n     *\n     * Mid-row codes have a second byte in the range 0x20 to 0x2f, with\n     * the first byte being 0x11 (for data channel 1) or 0x19 (for data\n     * channel 2).\n     *\n     * @param  {Integer} char0 The first byte\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the 2 bytes are a mid-row code\n     */\n\n\n    Cea608Stream.prototype.isMidRowCode = function (char0, char1) {\n      return char0 === this.EXT_ && char1 >= 0x20 && char1 <= 0x2f;\n    };\n    /**\n     * Detects if the 2-byte packet is an offset control code\n     *\n     * Offset control codes have a second byte in the range 0x21 to 0x23,\n     * with the first byte being 0x17 (for data channel 1) or 0x1f (for\n     * data channel 2).\n     *\n     * @param  {Integer} char0 The first byte\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the 2 bytes are an offset control code\n     */\n\n\n    Cea608Stream.prototype.isOffsetControlCode = function (char0, char1) {\n      return char0 === this.OFFSET_ && char1 >= 0x21 && char1 <= 0x23;\n    };\n    /**\n     * Detects if the 2-byte packet is a Preamble Address Code\n     *\n     * PACs have a first byte in the range 0x10 to 0x17 (for data channel 1)\n     * or 0x18 to 0x1f (for data channel 2), with the second byte in the\n     * range 0x40 to 0x7f.\n     *\n     * @param  {Integer} char0 The first byte\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the 2 bytes are a PAC\n     */\n\n\n    Cea608Stream.prototype.isPAC = function (char0, char1) {\n      return char0 >= this.BASE_ && char0 < this.BASE_ + 8 && char1 >= 0x40 && char1 <= 0x7f;\n    };\n    /**\n     * Detects if a packet's second byte is in the range of a PAC color code\n     *\n     * PAC color codes have the second byte be in the range 0x40 to 0x4f, or\n     * 0x60 to 0x6f.\n     *\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the byte is a color PAC\n     */\n\n\n    Cea608Stream.prototype.isColorPAC = function (char1) {\n      return char1 >= 0x40 && char1 <= 0x4f || char1 >= 0x60 && char1 <= 0x7f;\n    };\n    /**\n     * Detects if a single byte is in the range of a normal character\n     *\n     * Normal text bytes are in the range 0x20 to 0x7f.\n     *\n     * @param  {Integer} char  The byte\n     * @return {Boolean}       Whether the byte is a normal character\n     */\n\n\n    Cea608Stream.prototype.isNormalChar = function (_char) {\n      return _char >= 0x20 && _char <= 0x7f;\n    };\n    /**\n     * Configures roll-up\n     *\n     * @param  {Integer} pts         Current PTS\n     * @param  {Integer} newBaseRow  Used by PACs to slide the current window to\n     *                               a new position\n     */\n\n\n    Cea608Stream.prototype.setRollUp = function (pts, newBaseRow) {\n      // Reset the base row to the bottom row when switching modes\n      if (this.mode_ !== 'rollUp') {\n        this.row_ = BOTTOM_ROW;\n        this.mode_ = 'rollUp'; // Spec says to wipe memories when switching to roll-up\n\n        this.flushDisplayed(pts);\n        this.nonDisplayed_ = createDisplayBuffer();\n        this.displayed_ = createDisplayBuffer();\n      }\n\n      if (newBaseRow !== undefined && newBaseRow !== this.row_) {\n        // move currently displayed captions (up or down) to the new base row\n        for (var i = 0; i < this.rollUpRows_; i++) {\n          this.displayed_[newBaseRow - i] = this.displayed_[this.row_ - i];\n          this.displayed_[this.row_ - i] = '';\n        }\n      }\n\n      if (newBaseRow === undefined) {\n        newBaseRow = this.row_;\n      }\n\n      this.topRow_ = newBaseRow - this.rollUpRows_ + 1;\n    }; // Adds the opening HTML tag for the passed character to the caption text,\n    // and keeps track of it for later closing\n\n\n    Cea608Stream.prototype.addFormatting = function (pts, format) {\n      this.formatting_ = this.formatting_.concat(format);\n      var text = format.reduce(function (text, format) {\n        return text + '<' + format + '>';\n      }, '');\n      this[this.mode_](pts, text);\n    }; // Adds HTML closing tags for current formatting to caption text and\n    // clears remembered formatting\n\n\n    Cea608Stream.prototype.clearFormatting = function (pts) {\n      if (!this.formatting_.length) {\n        return;\n      }\n\n      var text = this.formatting_.reverse().reduce(function (text, format) {\n        return text + '</' + format + '>';\n      }, '');\n      this.formatting_ = [];\n      this[this.mode_](pts, text);\n    }; // Mode Implementations\n\n\n    Cea608Stream.prototype.popOn = function (pts, text) {\n      var baseRow = this.nonDisplayed_[this.row_]; // buffer characters\n\n      baseRow += text;\n      this.nonDisplayed_[this.row_] = baseRow;\n    };\n\n    Cea608Stream.prototype.rollUp = function (pts, text) {\n      var baseRow = this.displayed_[this.row_];\n      baseRow += text;\n      this.displayed_[this.row_] = baseRow;\n    };\n\n    Cea608Stream.prototype.shiftRowsUp_ = function () {\n      var i; // clear out inactive rows\n\n      for (i = 0; i < this.topRow_; i++) {\n        this.displayed_[i] = '';\n      }\n\n      for (i = this.row_ + 1; i < BOTTOM_ROW + 1; i++) {\n        this.displayed_[i] = '';\n      } // shift displayed rows up\n\n\n      for (i = this.topRow_; i < this.row_; i++) {\n        this.displayed_[i] = this.displayed_[i + 1];\n      } // clear out the bottom row\n\n\n      this.displayed_[this.row_] = '';\n    };\n\n    Cea608Stream.prototype.paintOn = function (pts, text) {\n      var baseRow = this.displayed_[this.row_];\n      baseRow += text;\n      this.displayed_[this.row_] = baseRow;\n    }; // exports\n\n\n    var captionStream = {\n      CaptionStream: CaptionStream,\n      Cea608Stream: Cea608Stream\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var streamTypes = {\n      H264_STREAM_TYPE: 0x1B,\n      ADTS_STREAM_TYPE: 0x0F,\n      METADATA_STREAM_TYPE: 0x15\n    };\n    var MAX_TS = 8589934592;\n    var RO_THRESH = 4294967296;\n    var TYPE_SHARED = 'shared';\n\n    var handleRollover = function handleRollover(value, reference) {\n      var direction = 1;\n\n      if (value > reference) {\n        // If the current timestamp value is greater than our reference timestamp and we detect a\n        // timestamp rollover, this means the roll over is happening in the opposite direction.\n        // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\n        // point will be set to a small number, e.g. 1. The user then seeks backwards over the\n        // rollover point. In loading this segment, the timestamp values will be very large,\n        // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\n        // the time stamp to be `value - 2^33`.\n        direction = -1;\n      } // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\n      // cause an incorrect adjustment.\n\n\n      while (Math.abs(reference - value) > RO_THRESH) {\n        value += direction * MAX_TS;\n      }\n\n      return value;\n    };\n\n    var TimestampRolloverStream = function TimestampRolloverStream(type) {\n      var lastDTS, referenceDTS;\n      TimestampRolloverStream.prototype.init.call(this); // The \"shared\" type is used in cases where a stream will contain muxed\n      // video and audio. We could use `undefined` here, but having a string\n      // makes debugging a little clearer.\n\n      this.type_ = type || TYPE_SHARED;\n\n      this.push = function (data) {\n        // Any \"shared\" rollover streams will accept _all_ data. Otherwise,\n        // streams will only accept data that matches their type.\n        if (this.type_ !== TYPE_SHARED && data.type !== this.type_) {\n          return;\n        }\n\n        if (referenceDTS === undefined) {\n          referenceDTS = data.dts;\n        }\n\n        data.dts = handleRollover(data.dts, referenceDTS);\n        data.pts = handleRollover(data.pts, referenceDTS);\n        lastDTS = data.dts;\n        this.trigger('data', data);\n      };\n\n      this.flush = function () {\n        referenceDTS = lastDTS;\n        this.trigger('done');\n      };\n\n      this.endTimeline = function () {\n        this.flush();\n        this.trigger('endedtimeline');\n      };\n\n      this.discontinuity = function () {\n        referenceDTS = void 0;\n        lastDTS = void 0;\n      };\n\n      this.reset = function () {\n        this.discontinuity();\n        this.trigger('reset');\n      };\n    };\n\n    TimestampRolloverStream.prototype = new stream();\n    var timestampRolloverStream = {\n      TimestampRolloverStream: TimestampRolloverStream,\n      handleRollover: handleRollover\n    };\n\n    var percentEncode = function percentEncode(bytes, start, end) {\n      var i,\n          result = '';\n\n      for (i = start; i < end; i++) {\n        result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n      }\n\n      return result;\n    },\n        // return the string representation of the specified byte range,\n    // interpreted as UTf-8.\n    parseUtf8 = function parseUtf8(bytes, start, end) {\n      return decodeURIComponent(percentEncode(bytes, start, end));\n    },\n        // return the string representation of the specified byte range,\n    // interpreted as ISO-8859-1.\n    parseIso88591 = function parseIso88591(bytes, start, end) {\n      return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n    },\n        parseSyncSafeInteger = function parseSyncSafeInteger(data) {\n      return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n    },\n        tagParsers = {\n      TXXX: function TXXX(tag) {\n        var i;\n\n        if (tag.data[0] !== 3) {\n          // ignore frames with unrecognized character encodings\n          return;\n        }\n\n        for (i = 1; i < tag.data.length; i++) {\n          if (tag.data[i] === 0) {\n            // parse the text fields\n            tag.description = parseUtf8(tag.data, 1, i); // do not include the null terminator in the tag value\n\n            tag.value = parseUtf8(tag.data, i + 1, tag.data.length).replace(/\\0*$/, '');\n            break;\n          }\n        }\n\n        tag.data = tag.value;\n      },\n      WXXX: function WXXX(tag) {\n        var i;\n\n        if (tag.data[0] !== 3) {\n          // ignore frames with unrecognized character encodings\n          return;\n        }\n\n        for (i = 1; i < tag.data.length; i++) {\n          if (tag.data[i] === 0) {\n            // parse the description and URL fields\n            tag.description = parseUtf8(tag.data, 1, i);\n            tag.url = parseUtf8(tag.data, i + 1, tag.data.length);\n            break;\n          }\n        }\n      },\n      PRIV: function PRIV(tag) {\n        var i;\n\n        for (i = 0; i < tag.data.length; i++) {\n          if (tag.data[i] === 0) {\n            // parse the description and URL fields\n            tag.owner = parseIso88591(tag.data, 0, i);\n            break;\n          }\n        }\n\n        tag.privateData = tag.data.subarray(i + 1);\n        tag.data = tag.privateData;\n      }\n    },\n        _MetadataStream;\n\n    _MetadataStream = function MetadataStream(options) {\n      var settings = {\n        debug: !!(options && options.debug),\n        // the bytes of the program-level descriptor field in MP2T\n        // see ISO/IEC 13818-1:2013 (E), section 2.6 \"Program and\n        // program element descriptors\"\n        descriptor: options && options.descriptor\n      },\n          // the total size in bytes of the ID3 tag being parsed\n      tagSize = 0,\n          // tag data that is not complete enough to be parsed\n      buffer = [],\n          // the total number of bytes currently in the buffer\n      bufferSize = 0,\n          i;\n\n      _MetadataStream.prototype.init.call(this); // calculate the text track in-band metadata track dispatch type\n      // https://html.spec.whatwg.org/multipage/embedded-content.html#steps-to-expose-a-media-resource-specific-text-track\n\n\n      this.dispatchType = streamTypes.METADATA_STREAM_TYPE.toString(16);\n\n      if (settings.descriptor) {\n        for (i = 0; i < settings.descriptor.length; i++) {\n          this.dispatchType += ('00' + settings.descriptor[i].toString(16)).slice(-2);\n        }\n      }\n\n      this.push = function (chunk) {\n        var tag, frameStart, frameSize, frame, i, frameHeader;\n\n        if (chunk.type !== 'timed-metadata') {\n          return;\n        } // if data_alignment_indicator is set in the PES header,\n        // we must have the start of a new ID3 tag. Assume anything\n        // remaining in the buffer was malformed and throw it out\n\n\n        if (chunk.dataAlignmentIndicator) {\n          bufferSize = 0;\n          buffer.length = 0;\n        } // ignore events that don't look like ID3 data\n\n\n        if (buffer.length === 0 && (chunk.data.length < 10 || chunk.data[0] !== 'I'.charCodeAt(0) || chunk.data[1] !== 'D'.charCodeAt(0) || chunk.data[2] !== '3'.charCodeAt(0))) {\n          if (settings.debug) {\n            // eslint-disable-next-line no-console\n            console.log('Skipping unrecognized metadata packet');\n          }\n\n          return;\n        } // add this chunk to the data we've collected so far\n\n\n        buffer.push(chunk);\n        bufferSize += chunk.data.byteLength; // grab the size of the entire frame from the ID3 header\n\n        if (buffer.length === 1) {\n          // the frame size is transmitted as a 28-bit integer in the\n          // last four bytes of the ID3 header.\n          // The most significant bit of each byte is dropped and the\n          // results concatenated to recover the actual value.\n          tagSize = parseSyncSafeInteger(chunk.data.subarray(6, 10)); // ID3 reports the tag size excluding the header but it's more\n          // convenient for our comparisons to include it\n\n          tagSize += 10;\n        } // if the entire frame has not arrived, wait for more data\n\n\n        if (bufferSize < tagSize) {\n          return;\n        } // collect the entire frame so it can be parsed\n\n\n        tag = {\n          data: new Uint8Array(tagSize),\n          frames: [],\n          pts: buffer[0].pts,\n          dts: buffer[0].dts\n        };\n\n        for (i = 0; i < tagSize;) {\n          tag.data.set(buffer[0].data.subarray(0, tagSize - i), i);\n          i += buffer[0].data.byteLength;\n          bufferSize -= buffer[0].data.byteLength;\n          buffer.shift();\n        } // find the start of the first frame and the end of the tag\n\n\n        frameStart = 10;\n\n        if (tag.data[5] & 0x40) {\n          // advance the frame start past the extended header\n          frameStart += 4; // header size field\n\n          frameStart += parseSyncSafeInteger(tag.data.subarray(10, 14)); // clip any padding off the end\n\n          tagSize -= parseSyncSafeInteger(tag.data.subarray(16, 20));\n        } // parse one or more ID3 frames\n        // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n        do {\n          // determine the number of bytes in this frame\n          frameSize = parseSyncSafeInteger(tag.data.subarray(frameStart + 4, frameStart + 8));\n\n          if (frameSize < 1) {\n            // eslint-disable-next-line no-console\n            return console.log('Malformed ID3 frame encountered. Skipping metadata parsing.');\n          }\n\n          frameHeader = String.fromCharCode(tag.data[frameStart], tag.data[frameStart + 1], tag.data[frameStart + 2], tag.data[frameStart + 3]);\n          frame = {\n            id: frameHeader,\n            data: tag.data.subarray(frameStart + 10, frameStart + frameSize + 10)\n          };\n          frame.key = frame.id;\n\n          if (tagParsers[frame.id]) {\n            tagParsers[frame.id](frame); // handle the special PRIV frame used to indicate the start\n            // time for raw AAC data\n\n            if (frame.owner === 'com.apple.streaming.transportStreamTimestamp') {\n              var d = frame.data,\n                  size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n              size *= 4;\n              size += d[7] & 0x03;\n              frame.timeStamp = size; // in raw AAC, all subsequent data will be timestamped based\n              // on the value of this frame\n              // we couldn't have known the appropriate pts and dts before\n              // parsing this ID3 tag so set those values now\n\n              if (tag.pts === undefined && tag.dts === undefined) {\n                tag.pts = frame.timeStamp;\n                tag.dts = frame.timeStamp;\n              }\n\n              this.trigger('timestamp', frame);\n            }\n          }\n\n          tag.frames.push(frame);\n          frameStart += 10; // advance past the frame header\n\n          frameStart += frameSize; // advance past the frame body\n        } while (frameStart < tagSize);\n\n        this.trigger('data', tag);\n      };\n    };\n\n    _MetadataStream.prototype = new stream();\n    var metadataStream = _MetadataStream;\n    var TimestampRolloverStream$1 = timestampRolloverStream.TimestampRolloverStream; // object types\n\n    var _TransportPacketStream, _TransportParseStream, _ElementaryStream; // constants\n\n\n    var MP2T_PACKET_LENGTH = 188,\n        // bytes\n    SYNC_BYTE = 0x47;\n    /**\n     * Splits an incoming stream of binary data into MPEG-2 Transport\n     * Stream packets.\n     */\n\n    _TransportPacketStream = function TransportPacketStream() {\n      var buffer = new Uint8Array(MP2T_PACKET_LENGTH),\n          bytesInBuffer = 0;\n\n      _TransportPacketStream.prototype.init.call(this); // Deliver new bytes to the stream.\n\n      /**\n       * Split a stream of data into M2TS packets\n      **/\n\n\n      this.push = function (bytes) {\n        var startIndex = 0,\n            endIndex = MP2T_PACKET_LENGTH,\n            everything; // If there are bytes remaining from the last segment, prepend them to the\n        // bytes that were pushed in\n\n        if (bytesInBuffer) {\n          everything = new Uint8Array(bytes.byteLength + bytesInBuffer);\n          everything.set(buffer.subarray(0, bytesInBuffer));\n          everything.set(bytes, bytesInBuffer);\n          bytesInBuffer = 0;\n        } else {\n          everything = bytes;\n        } // While we have enough data for a packet\n\n\n        while (endIndex < everything.byteLength) {\n          // Look for a pair of start and end sync bytes in the data..\n          if (everything[startIndex] === SYNC_BYTE && everything[endIndex] === SYNC_BYTE) {\n            // We found a packet so emit it and jump one whole packet forward in\n            // the stream\n            this.trigger('data', everything.subarray(startIndex, endIndex));\n            startIndex += MP2T_PACKET_LENGTH;\n            endIndex += MP2T_PACKET_LENGTH;\n            continue;\n          } // If we get here, we have somehow become de-synchronized and we need to step\n          // forward one byte at a time until we find a pair of sync bytes that denote\n          // a packet\n\n\n          startIndex++;\n          endIndex++;\n        } // If there was some data left over at the end of the segment that couldn't\n        // possibly be a whole packet, keep it because it might be the start of a packet\n        // that continues in the next segment\n\n\n        if (startIndex < everything.byteLength) {\n          buffer.set(everything.subarray(startIndex), 0);\n          bytesInBuffer = everything.byteLength - startIndex;\n        }\n      };\n      /**\n       * Passes identified M2TS packets to the TransportParseStream to be parsed\n      **/\n\n\n      this.flush = function () {\n        // If the buffer contains a whole packet when we are being flushed, emit it\n        // and empty the buffer. Otherwise hold onto the data because it may be\n        // important for decoding the next segment\n        if (bytesInBuffer === MP2T_PACKET_LENGTH && buffer[0] === SYNC_BYTE) {\n          this.trigger('data', buffer);\n          bytesInBuffer = 0;\n        }\n\n        this.trigger('done');\n      };\n\n      this.endTimeline = function () {\n        this.flush();\n        this.trigger('endedtimeline');\n      };\n\n      this.reset = function () {\n        bytesInBuffer = 0;\n        this.trigger('reset');\n      };\n    };\n\n    _TransportPacketStream.prototype = new stream();\n    /**\n     * Accepts an MP2T TransportPacketStream and emits data events with parsed\n     * forms of the individual transport stream packets.\n     */\n\n    _TransportParseStream = function TransportParseStream() {\n      var parsePsi, parsePat, parsePmt, self;\n\n      _TransportParseStream.prototype.init.call(this);\n\n      self = this;\n      this.packetsWaitingForPmt = [];\n      this.programMapTable = undefined;\n\n      parsePsi = function parsePsi(payload, psi) {\n        var offset = 0; // PSI packets may be split into multiple sections and those\n        // sections may be split into multiple packets. If a PSI\n        // section starts in this packet, the payload_unit_start_indicator\n        // will be true and the first byte of the payload will indicate\n        // the offset from the current position to the start of the\n        // section.\n\n        if (psi.payloadUnitStartIndicator) {\n          offset += payload[offset] + 1;\n        }\n\n        if (psi.type === 'pat') {\n          parsePat(payload.subarray(offset), psi);\n        } else {\n          parsePmt(payload.subarray(offset), psi);\n        }\n      };\n\n      parsePat = function parsePat(payload, pat) {\n        pat.section_number = payload[7]; // eslint-disable-line camelcase\n\n        pat.last_section_number = payload[8]; // eslint-disable-line camelcase\n        // skip the PSI header and parse the first PMT entry\n\n        self.pmtPid = (payload[10] & 0x1F) << 8 | payload[11];\n        pat.pmtPid = self.pmtPid;\n      };\n      /**\n       * Parse out the relevant fields of a Program Map Table (PMT).\n       * @param payload {Uint8Array} the PMT-specific portion of an MP2T\n       * packet. The first byte in this array should be the table_id\n       * field.\n       * @param pmt {object} the object that should be decorated with\n       * fields parsed from the PMT.\n       */\n\n\n      parsePmt = function parsePmt(payload, pmt) {\n        var sectionLength, tableEnd, programInfoLength, offset; // PMTs can be sent ahead of the time when they should actually\n        // take effect. We don't believe this should ever be the case\n        // for HLS but we'll ignore \"forward\" PMT declarations if we see\n        // them. Future PMT declarations have the current_next_indicator\n        // set to zero.\n\n        if (!(payload[5] & 0x01)) {\n          return;\n        } // overwrite any existing program map table\n\n\n        self.programMapTable = {\n          video: null,\n          audio: null,\n          'timed-metadata': {}\n        }; // the mapping table ends at the end of the current section\n\n        sectionLength = (payload[1] & 0x0f) << 8 | payload[2];\n        tableEnd = 3 + sectionLength - 4; // to determine where the table is, we have to figure out how\n        // long the program info descriptors are\n\n        programInfoLength = (payload[10] & 0x0f) << 8 | payload[11]; // advance the offset to the first entry in the mapping table\n\n        offset = 12 + programInfoLength;\n\n        while (offset < tableEnd) {\n          var streamType = payload[offset];\n          var pid = (payload[offset + 1] & 0x1F) << 8 | payload[offset + 2]; // only map a single elementary_pid for audio and video stream types\n          // TODO: should this be done for metadata too? for now maintain behavior of\n          //       multiple metadata streams\n\n          if (streamType === streamTypes.H264_STREAM_TYPE && self.programMapTable.video === null) {\n            self.programMapTable.video = pid;\n          } else if (streamType === streamTypes.ADTS_STREAM_TYPE && self.programMapTable.audio === null) {\n            self.programMapTable.audio = pid;\n          } else if (streamType === streamTypes.METADATA_STREAM_TYPE) {\n            // map pid to stream type for metadata streams\n            self.programMapTable['timed-metadata'][pid] = streamType;\n          } // move to the next table entry\n          // skip past the elementary stream descriptors, if present\n\n\n          offset += ((payload[offset + 3] & 0x0F) << 8 | payload[offset + 4]) + 5;\n        } // record the map on the packet as well\n\n\n        pmt.programMapTable = self.programMapTable;\n      };\n      /**\n       * Deliver a new MP2T packet to the next stream in the pipeline.\n       */\n\n\n      this.push = function (packet) {\n        var result = {},\n            offset = 4;\n        result.payloadUnitStartIndicator = !!(packet[1] & 0x40); // pid is a 13-bit field starting at the last bit of packet[1]\n\n        result.pid = packet[1] & 0x1f;\n        result.pid <<= 8;\n        result.pid |= packet[2]; // if an adaption field is present, its length is specified by the\n        // fifth byte of the TS packet header. The adaptation field is\n        // used to add stuffing to PES packets that don't fill a complete\n        // TS packet, and to specify some forms of timing and control data\n        // that we do not currently use.\n\n        if ((packet[3] & 0x30) >>> 4 > 0x01) {\n          offset += packet[offset] + 1;\n        } // parse the rest of the packet based on the type\n\n\n        if (result.pid === 0) {\n          result.type = 'pat';\n          parsePsi(packet.subarray(offset), result);\n          this.trigger('data', result);\n        } else if (result.pid === this.pmtPid) {\n          result.type = 'pmt';\n          parsePsi(packet.subarray(offset), result);\n          this.trigger('data', result); // if there are any packets waiting for a PMT to be found, process them now\n\n          while (this.packetsWaitingForPmt.length) {\n            this.processPes_.apply(this, this.packetsWaitingForPmt.shift());\n          }\n        } else if (this.programMapTable === undefined) {\n          // When we have not seen a PMT yet, defer further processing of\n          // PES packets until one has been parsed\n          this.packetsWaitingForPmt.push([packet, offset, result]);\n        } else {\n          this.processPes_(packet, offset, result);\n        }\n      };\n\n      this.processPes_ = function (packet, offset, result) {\n        // set the appropriate stream type\n        if (result.pid === this.programMapTable.video) {\n          result.streamType = streamTypes.H264_STREAM_TYPE;\n        } else if (result.pid === this.programMapTable.audio) {\n          result.streamType = streamTypes.ADTS_STREAM_TYPE;\n        } else {\n          // if not video or audio, it is timed-metadata or unknown\n          // if unknown, streamType will be undefined\n          result.streamType = this.programMapTable['timed-metadata'][result.pid];\n        }\n\n        result.type = 'pes';\n        result.data = packet.subarray(offset);\n        this.trigger('data', result);\n      };\n    };\n\n    _TransportParseStream.prototype = new stream();\n    _TransportParseStream.STREAM_TYPES = {\n      h264: 0x1b,\n      adts: 0x0f\n    };\n    /**\n     * Reconsistutes program elementary stream (PES) packets from parsed\n     * transport stream packets. That is, if you pipe an\n     * mp2t.TransportParseStream into a mp2t.ElementaryStream, the output\n     * events will be events which capture the bytes for individual PES\n     * packets plus relevant metadata that has been extracted from the\n     * container.\n     */\n\n    _ElementaryStream = function ElementaryStream() {\n      var self = this,\n          // PES packet fragments\n      video = {\n        data: [],\n        size: 0\n      },\n          audio = {\n        data: [],\n        size: 0\n      },\n          timedMetadata = {\n        data: [],\n        size: 0\n      },\n          programMapTable,\n          parsePes = function parsePes(payload, pes) {\n        var ptsDtsFlags; // get the packet length, this will be 0 for video\n\n        pes.packetLength = 6 + (payload[4] << 8 | payload[5]); // find out if this packets starts a new keyframe\n\n        pes.dataAlignmentIndicator = (payload[6] & 0x04) !== 0; // PES packets may be annotated with a PTS value, or a PTS value\n        // and a DTS value. Determine what combination of values is\n        // available to work with.\n\n        ptsDtsFlags = payload[7]; // PTS and DTS are normally stored as a 33-bit number.  Javascript\n        // performs all bitwise operations on 32-bit integers but javascript\n        // supports a much greater range (52-bits) of integer using standard\n        // mathematical operations.\n        // We construct a 31-bit value using bitwise operators over the 31\n        // most significant bits and then multiply by 4 (equal to a left-shift\n        // of 2) before we add the final 2 least significant bits of the\n        // timestamp (equal to an OR.)\n\n        if (ptsDtsFlags & 0xC0) {\n          // the PTS and DTS are not written out directly. For information\n          // on how they are encoded, see\n          // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n          pes.pts = (payload[9] & 0x0E) << 27 | (payload[10] & 0xFF) << 20 | (payload[11] & 0xFE) << 12 | (payload[12] & 0xFF) << 5 | (payload[13] & 0xFE) >>> 3;\n          pes.pts *= 4; // Left shift by 2\n\n          pes.pts += (payload[13] & 0x06) >>> 1; // OR by the two LSBs\n\n          pes.dts = pes.pts;\n\n          if (ptsDtsFlags & 0x40) {\n            pes.dts = (payload[14] & 0x0E) << 27 | (payload[15] & 0xFF) << 20 | (payload[16] & 0xFE) << 12 | (payload[17] & 0xFF) << 5 | (payload[18] & 0xFE) >>> 3;\n            pes.dts *= 4; // Left shift by 2\n\n            pes.dts += (payload[18] & 0x06) >>> 1; // OR by the two LSBs\n          }\n        } // the data section starts immediately after the PES header.\n        // pes_header_data_length specifies the number of header bytes\n        // that follow the last byte of the field.\n\n\n        pes.data = payload.subarray(9 + payload[8]);\n      },\n\n      /**\n        * Pass completely parsed PES packets to the next stream in the pipeline\n       **/\n      flushStream = function flushStream(stream$$1, type, forceFlush) {\n        var packetData = new Uint8Array(stream$$1.size),\n            event = {\n          type: type\n        },\n            i = 0,\n            offset = 0,\n            packetFlushable = false,\n            fragment; // do nothing if there is not enough buffered data for a complete\n        // PES header\n\n        if (!stream$$1.data.length || stream$$1.size < 9) {\n          return;\n        }\n\n        event.trackId = stream$$1.data[0].pid; // reassemble the packet\n\n        for (i = 0; i < stream$$1.data.length; i++) {\n          fragment = stream$$1.data[i];\n          packetData.set(fragment.data, offset);\n          offset += fragment.data.byteLength;\n        } // parse assembled packet's PES header\n\n\n        parsePes(packetData, event); // non-video PES packets MUST have a non-zero PES_packet_length\n        // check that there is enough stream data to fill the packet\n\n        packetFlushable = type === 'video' || event.packetLength <= stream$$1.size; // flush pending packets if the conditions are right\n\n        if (forceFlush || packetFlushable) {\n          stream$$1.size = 0;\n          stream$$1.data.length = 0;\n        } // only emit packets that are complete. this is to avoid assembling\n        // incomplete PES packets due to poor segmentation\n\n\n        if (packetFlushable) {\n          self.trigger('data', event);\n        }\n      };\n\n      _ElementaryStream.prototype.init.call(this);\n      /**\n       * Identifies M2TS packet types and parses PES packets using metadata\n       * parsed from the PMT\n       **/\n\n\n      this.push = function (data) {\n        ({\n          pat: function pat() {// we have to wait for the PMT to arrive as well before we\n            // have any meaningful metadata\n          },\n          pes: function pes() {\n            var stream$$1, streamType;\n\n            switch (data.streamType) {\n              case streamTypes.H264_STREAM_TYPE:\n              case streamTypes.H264_STREAM_TYPE:\n                stream$$1 = video;\n                streamType = 'video';\n                break;\n\n              case streamTypes.ADTS_STREAM_TYPE:\n                stream$$1 = audio;\n                streamType = 'audio';\n                break;\n\n              case streamTypes.METADATA_STREAM_TYPE:\n                stream$$1 = timedMetadata;\n                streamType = 'timed-metadata';\n                break;\n\n              default:\n                // ignore unknown stream types\n                return;\n            } // if a new packet is starting, we can flush the completed\n            // packet\n\n\n            if (data.payloadUnitStartIndicator) {\n              flushStream(stream$$1, streamType, true);\n            } // buffer this fragment until we are sure we've received the\n            // complete payload\n\n\n            stream$$1.data.push(data);\n            stream$$1.size += data.data.byteLength;\n          },\n          pmt: function pmt() {\n            var event = {\n              type: 'metadata',\n              tracks: []\n            };\n            programMapTable = data.programMapTable; // translate audio and video streams to tracks\n\n            if (programMapTable.video !== null) {\n              event.tracks.push({\n                timelineStartInfo: {\n                  baseMediaDecodeTime: 0\n                },\n                id: +programMapTable.video,\n                codec: 'avc',\n                type: 'video'\n              });\n            }\n\n            if (programMapTable.audio !== null) {\n              event.tracks.push({\n                timelineStartInfo: {\n                  baseMediaDecodeTime: 0\n                },\n                id: +programMapTable.audio,\n                codec: 'adts',\n                type: 'audio'\n              });\n            }\n\n            self.trigger('data', event);\n          }\n        })[data.type]();\n      };\n\n      this.reset = function () {\n        video.size = 0;\n        video.data.length = 0;\n        audio.size = 0;\n        audio.data.length = 0;\n        this.trigger('reset');\n      };\n      /**\n       * Flush any remaining input. Video PES packets may be of variable\n       * length. Normally, the start of a new video packet can trigger the\n       * finalization of the previous packet. That is not possible if no\n       * more video is forthcoming, however. In that case, some other\n       * mechanism (like the end of the file) has to be employed. When it is\n       * clear that no additional data is forthcoming, calling this method\n       * will flush the buffered packets.\n       */\n\n\n      this.flushStreams_ = function () {\n        // !!THIS ORDER IS IMPORTANT!!\n        // video first then audio\n        flushStream(video, 'video');\n        flushStream(audio, 'audio');\n        flushStream(timedMetadata, 'timed-metadata');\n      };\n\n      this.flush = function () {\n        this.flushStreams_();\n        this.trigger('done');\n      };\n    };\n\n    _ElementaryStream.prototype = new stream();\n    var m2ts = {\n      PAT_PID: 0x0000,\n      MP2T_PACKET_LENGTH: MP2T_PACKET_LENGTH,\n      TransportPacketStream: _TransportPacketStream,\n      TransportParseStream: _TransportParseStream,\n      ElementaryStream: _ElementaryStream,\n      TimestampRolloverStream: TimestampRolloverStream$1,\n      CaptionStream: captionStream.CaptionStream,\n      Cea608Stream: captionStream.Cea608Stream,\n      MetadataStream: metadataStream\n    };\n\n    for (var type in streamTypes) {\n      if (streamTypes.hasOwnProperty(type)) {\n        m2ts[type] = streamTypes[type];\n      }\n    }\n\n    var m2ts_1 = m2ts;\n    var ONE_SECOND_IN_TS$2 = clock.ONE_SECOND_IN_TS;\n\n    var _AdtsStream;\n\n    var ADTS_SAMPLING_FREQUENCIES = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n    /*\n     * Accepts a ElementaryStream and emits data events with parsed\n     * AAC Audio Frames of the individual packets. Input audio in ADTS\n     * format is unpacked and re-emitted as AAC frames.\n     *\n     * @see http://wiki.multimedia.cx/index.php?title=ADTS\n     * @see http://wiki.multimedia.cx/?title=Understanding_AAC\n     */\n\n    _AdtsStream = function AdtsStream(handlePartialSegments) {\n      var buffer,\n          frameNum = 0;\n\n      _AdtsStream.prototype.init.call(this);\n\n      this.push = function (packet) {\n        var i = 0,\n            frameLength,\n            protectionSkipBytes,\n            frameEnd,\n            oldBuffer,\n            sampleCount,\n            adtsFrameDuration;\n\n        if (!handlePartialSegments) {\n          frameNum = 0;\n        }\n\n        if (packet.type !== 'audio') {\n          // ignore non-audio data\n          return;\n        } // Prepend any data in the buffer to the input data so that we can parse\n        // aac frames the cross a PES packet boundary\n\n\n        if (buffer) {\n          oldBuffer = buffer;\n          buffer = new Uint8Array(oldBuffer.byteLength + packet.data.byteLength);\n          buffer.set(oldBuffer);\n          buffer.set(packet.data, oldBuffer.byteLength);\n        } else {\n          buffer = packet.data;\n        } // unpack any ADTS frames which have been fully received\n        // for details on the ADTS header, see http://wiki.multimedia.cx/index.php?title=ADTS\n\n\n        while (i + 5 < buffer.length) {\n          // Look for the start of an ADTS header..\n          if (buffer[i] !== 0xFF || (buffer[i + 1] & 0xF6) !== 0xF0) {\n            // If a valid header was not found,  jump one forward and attempt to\n            // find a valid ADTS header starting at the next byte\n            i++;\n            continue;\n          } // The protection skip bit tells us if we have 2 bytes of CRC data at the\n          // end of the ADTS header\n\n\n          protectionSkipBytes = (~buffer[i + 1] & 0x01) * 2; // Frame length is a 13 bit integer starting 16 bits from the\n          // end of the sync sequence\n\n          frameLength = (buffer[i + 3] & 0x03) << 11 | buffer[i + 4] << 3 | (buffer[i + 5] & 0xe0) >> 5;\n          sampleCount = ((buffer[i + 6] & 0x03) + 1) * 1024;\n          adtsFrameDuration = sampleCount * ONE_SECOND_IN_TS$2 / ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2];\n          frameEnd = i + frameLength; // If we don't have enough data to actually finish this ADTS frame, return\n          // and wait for more data\n\n          if (buffer.byteLength < frameEnd) {\n            return;\n          } // Otherwise, deliver the complete AAC frame\n\n\n          this.trigger('data', {\n            pts: packet.pts + frameNum * adtsFrameDuration,\n            dts: packet.dts + frameNum * adtsFrameDuration,\n            sampleCount: sampleCount,\n            audioobjecttype: (buffer[i + 2] >>> 6 & 0x03) + 1,\n            channelcount: (buffer[i + 2] & 1) << 2 | (buffer[i + 3] & 0xc0) >>> 6,\n            samplerate: ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2],\n            samplingfrequencyindex: (buffer[i + 2] & 0x3c) >>> 2,\n            // assume ISO/IEC 14496-12 AudioSampleEntry default of 16\n            samplesize: 16,\n            data: buffer.subarray(i + 7 + protectionSkipBytes, frameEnd)\n          });\n          frameNum++; // If the buffer is empty, clear it and return\n\n          if (buffer.byteLength === frameEnd) {\n            buffer = undefined;\n            return;\n          } // Remove the finished frame from the buffer and start the process again\n\n\n          buffer = buffer.subarray(frameEnd);\n        }\n      };\n\n      this.flush = function () {\n        frameNum = 0;\n        this.trigger('done');\n      };\n\n      this.reset = function () {\n        buffer = void 0;\n        this.trigger('reset');\n      };\n\n      this.endTimeline = function () {\n        buffer = void 0;\n        this.trigger('endedtimeline');\n      };\n    };\n\n    _AdtsStream.prototype = new stream();\n    var adts = _AdtsStream;\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var ExpGolomb;\n    /**\n     * Parser for exponential Golomb codes, a variable-bitwidth number encoding\n     * scheme used by h264.\n     */\n\n    ExpGolomb = function ExpGolomb(workingData) {\n      var // the number of bytes left to examine in workingData\n      workingBytesAvailable = workingData.byteLength,\n          // the current word being examined\n      workingWord = 0,\n          // :uint\n      // the number of bits left to examine in the current word\n      workingBitsAvailable = 0; // :uint;\n      // ():uint\n\n      this.length = function () {\n        return 8 * workingBytesAvailable;\n      }; // ():uint\n\n\n      this.bitsAvailable = function () {\n        return 8 * workingBytesAvailable + workingBitsAvailable;\n      }; // ():void\n\n\n      this.loadWord = function () {\n        var position = workingData.byteLength - workingBytesAvailable,\n            workingBytes = new Uint8Array(4),\n            availableBytes = Math.min(4, workingBytesAvailable);\n\n        if (availableBytes === 0) {\n          throw new Error('no bytes available');\n        }\n\n        workingBytes.set(workingData.subarray(position, position + availableBytes));\n        workingWord = new DataView(workingBytes.buffer).getUint32(0); // track the amount of workingData that has been processed\n\n        workingBitsAvailable = availableBytes * 8;\n        workingBytesAvailable -= availableBytes;\n      }; // (count:int):void\n\n\n      this.skipBits = function (count) {\n        var skipBytes; // :int\n\n        if (workingBitsAvailable > count) {\n          workingWord <<= count;\n          workingBitsAvailable -= count;\n        } else {\n          count -= workingBitsAvailable;\n          skipBytes = Math.floor(count / 8);\n          count -= skipBytes * 8;\n          workingBytesAvailable -= skipBytes;\n          this.loadWord();\n          workingWord <<= count;\n          workingBitsAvailable -= count;\n        }\n      }; // (size:int):uint\n\n\n      this.readBits = function (size) {\n        var bits = Math.min(workingBitsAvailable, size),\n            // :uint\n        valu = workingWord >>> 32 - bits; // :uint\n        // if size > 31, handle error\n\n        workingBitsAvailable -= bits;\n\n        if (workingBitsAvailable > 0) {\n          workingWord <<= bits;\n        } else if (workingBytesAvailable > 0) {\n          this.loadWord();\n        }\n\n        bits = size - bits;\n\n        if (bits > 0) {\n          return valu << bits | this.readBits(bits);\n        }\n\n        return valu;\n      }; // ():uint\n\n\n      this.skipLeadingZeros = function () {\n        var leadingZeroCount; // :uint\n\n        for (leadingZeroCount = 0; leadingZeroCount < workingBitsAvailable; ++leadingZeroCount) {\n          if ((workingWord & 0x80000000 >>> leadingZeroCount) !== 0) {\n            // the first bit of working word is 1\n            workingWord <<= leadingZeroCount;\n            workingBitsAvailable -= leadingZeroCount;\n            return leadingZeroCount;\n          }\n        } // we exhausted workingWord and still have not found a 1\n\n\n        this.loadWord();\n        return leadingZeroCount + this.skipLeadingZeros();\n      }; // ():void\n\n\n      this.skipUnsignedExpGolomb = function () {\n        this.skipBits(1 + this.skipLeadingZeros());\n      }; // ():void\n\n\n      this.skipExpGolomb = function () {\n        this.skipBits(1 + this.skipLeadingZeros());\n      }; // ():uint\n\n\n      this.readUnsignedExpGolomb = function () {\n        var clz = this.skipLeadingZeros(); // :uint\n\n        return this.readBits(clz + 1) - 1;\n      }; // ():int\n\n\n      this.readExpGolomb = function () {\n        var valu = this.readUnsignedExpGolomb(); // :int\n\n        if (0x01 & valu) {\n          // the number is odd if the low order bit is set\n          return 1 + valu >>> 1; // add 1 to make it even, and divide by 2\n        }\n\n        return -1 * (valu >>> 1); // divide by two then make it negative\n      }; // Some convenience functions\n      // :Boolean\n\n\n      this.readBoolean = function () {\n        return this.readBits(1) === 1;\n      }; // ():int\n\n\n      this.readUnsignedByte = function () {\n        return this.readBits(8);\n      };\n\n      this.loadWord();\n    };\n\n    var expGolomb = ExpGolomb;\n\n    var _H264Stream, _NalByteStream;\n\n    var PROFILES_WITH_OPTIONAL_SPS_DATA;\n    /**\n     * Accepts a NAL unit byte stream and unpacks the embedded NAL units.\n     */\n\n    _NalByteStream = function NalByteStream() {\n      var syncPoint = 0,\n          i,\n          buffer;\n\n      _NalByteStream.prototype.init.call(this);\n      /*\n       * Scans a byte stream and triggers a data event with the NAL units found.\n       * @param {Object} data Event received from H264Stream\n       * @param {Uint8Array} data.data The h264 byte stream to be scanned\n       *\n       * @see H264Stream.push\n       */\n\n\n      this.push = function (data) {\n        var swapBuffer;\n\n        if (!buffer) {\n          buffer = data.data;\n        } else {\n          swapBuffer = new Uint8Array(buffer.byteLength + data.data.byteLength);\n          swapBuffer.set(buffer);\n          swapBuffer.set(data.data, buffer.byteLength);\n          buffer = swapBuffer;\n        }\n\n        var len = buffer.byteLength; // Rec. ITU-T H.264, Annex B\n        // scan for NAL unit boundaries\n        // a match looks like this:\n        // 0 0 1 .. NAL .. 0 0 1\n        // ^ sync point        ^ i\n        // or this:\n        // 0 0 1 .. NAL .. 0 0 0\n        // ^ sync point        ^ i\n        // advance the sync point to a NAL start, if necessary\n\n        for (; syncPoint < len - 3; syncPoint++) {\n          if (buffer[syncPoint + 2] === 1) {\n            // the sync point is properly aligned\n            i = syncPoint + 5;\n            break;\n          }\n        }\n\n        while (i < len) {\n          // look at the current byte to determine if we've hit the end of\n          // a NAL unit boundary\n          switch (buffer[i]) {\n            case 0:\n              // skip past non-sync sequences\n              if (buffer[i - 1] !== 0) {\n                i += 2;\n                break;\n              } else if (buffer[i - 2] !== 0) {\n                i++;\n                break;\n              } // deliver the NAL unit if it isn't empty\n\n\n              if (syncPoint + 3 !== i - 2) {\n                this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n              } // drop trailing zeroes\n\n\n              do {\n                i++;\n              } while (buffer[i] !== 1 && i < len);\n\n              syncPoint = i - 2;\n              i += 3;\n              break;\n\n            case 1:\n              // skip past non-sync sequences\n              if (buffer[i - 1] !== 0 || buffer[i - 2] !== 0) {\n                i += 3;\n                break;\n              } // deliver the NAL unit\n\n\n              this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n              syncPoint = i - 2;\n              i += 3;\n              break;\n\n            default:\n              // the current byte isn't a one or zero, so it cannot be part\n              // of a sync sequence\n              i += 3;\n              break;\n          }\n        } // filter out the NAL units that were delivered\n\n\n        buffer = buffer.subarray(syncPoint);\n        i -= syncPoint;\n        syncPoint = 0;\n      };\n\n      this.reset = function () {\n        buffer = null;\n        syncPoint = 0;\n        this.trigger('reset');\n      };\n\n      this.flush = function () {\n        // deliver the last buffered NAL unit\n        if (buffer && buffer.byteLength > 3) {\n          this.trigger('data', buffer.subarray(syncPoint + 3));\n        } // reset the stream state\n\n\n        buffer = null;\n        syncPoint = 0;\n        this.trigger('done');\n      };\n\n      this.endTimeline = function () {\n        this.flush();\n        this.trigger('endedtimeline');\n      };\n    };\n\n    _NalByteStream.prototype = new stream(); // values of profile_idc that indicate additional fields are included in the SPS\n    // see Recommendation ITU-T H.264 (4/2013),\n    // 7.3.2.1.1 Sequence parameter set data syntax\n\n    PROFILES_WITH_OPTIONAL_SPS_DATA = {\n      100: true,\n      110: true,\n      122: true,\n      244: true,\n      44: true,\n      83: true,\n      86: true,\n      118: true,\n      128: true,\n      138: true,\n      139: true,\n      134: true\n    };\n    /**\n     * Accepts input from a ElementaryStream and produces H.264 NAL unit data\n     * events.\n     */\n\n    _H264Stream = function H264Stream() {\n      var nalByteStream = new _NalByteStream(),\n          self,\n          trackId,\n          currentPts,\n          currentDts,\n          discardEmulationPreventionBytes,\n          readSequenceParameterSet,\n          skipScalingList;\n\n      _H264Stream.prototype.init.call(this);\n\n      self = this;\n      /*\n       * Pushes a packet from a stream onto the NalByteStream\n       *\n       * @param {Object} packet - A packet received from a stream\n       * @param {Uint8Array} packet.data - The raw bytes of the packet\n       * @param {Number} packet.dts - Decode timestamp of the packet\n       * @param {Number} packet.pts - Presentation timestamp of the packet\n       * @param {Number} packet.trackId - The id of the h264 track this packet came from\n       * @param {('video'|'audio')} packet.type - The type of packet\n       *\n       */\n\n      this.push = function (packet) {\n        if (packet.type !== 'video') {\n          return;\n        }\n\n        trackId = packet.trackId;\n        currentPts = packet.pts;\n        currentDts = packet.dts;\n        nalByteStream.push(packet);\n      };\n      /*\n       * Identify NAL unit types and pass on the NALU, trackId, presentation and decode timestamps\n       * for the NALUs to the next stream component.\n       * Also, preprocess caption and sequence parameter NALUs.\n       *\n       * @param {Uint8Array} data - A NAL unit identified by `NalByteStream.push`\n       * @see NalByteStream.push\n       */\n\n\n      nalByteStream.on('data', function (data) {\n        var event = {\n          trackId: trackId,\n          pts: currentPts,\n          dts: currentDts,\n          data: data\n        };\n\n        switch (data[0] & 0x1f) {\n          case 0x05:\n            event.nalUnitType = 'slice_layer_without_partitioning_rbsp_idr';\n            break;\n\n          case 0x06:\n            event.nalUnitType = 'sei_rbsp';\n            event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n            break;\n\n          case 0x07:\n            event.nalUnitType = 'seq_parameter_set_rbsp';\n            event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n            event.config = readSequenceParameterSet(event.escapedRBSP);\n            break;\n\n          case 0x08:\n            event.nalUnitType = 'pic_parameter_set_rbsp';\n            break;\n\n          case 0x09:\n            event.nalUnitType = 'access_unit_delimiter_rbsp';\n            break;\n\n          default:\n            break;\n        } // This triggers data on the H264Stream\n\n\n        self.trigger('data', event);\n      });\n      nalByteStream.on('done', function () {\n        self.trigger('done');\n      });\n      nalByteStream.on('partialdone', function () {\n        self.trigger('partialdone');\n      });\n      nalByteStream.on('reset', function () {\n        self.trigger('reset');\n      });\n      nalByteStream.on('endedtimeline', function () {\n        self.trigger('endedtimeline');\n      });\n\n      this.flush = function () {\n        nalByteStream.flush();\n      };\n\n      this.partialFlush = function () {\n        nalByteStream.partialFlush();\n      };\n\n      this.reset = function () {\n        nalByteStream.reset();\n      };\n\n      this.endTimeline = function () {\n        nalByteStream.endTimeline();\n      };\n      /**\n       * Advance the ExpGolomb decoder past a scaling list. The scaling\n       * list is optionally transmitted as part of a sequence parameter\n       * set and is not relevant to transmuxing.\n       * @param count {number} the number of entries in this scaling list\n       * @param expGolombDecoder {object} an ExpGolomb pointed to the\n       * start of a scaling list\n       * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1\n       */\n\n\n      skipScalingList = function skipScalingList(count, expGolombDecoder) {\n        var lastScale = 8,\n            nextScale = 8,\n            j,\n            deltaScale;\n\n        for (j = 0; j < count; j++) {\n          if (nextScale !== 0) {\n            deltaScale = expGolombDecoder.readExpGolomb();\n            nextScale = (lastScale + deltaScale + 256) % 256;\n          }\n\n          lastScale = nextScale === 0 ? lastScale : nextScale;\n        }\n      };\n      /**\n       * Expunge any \"Emulation Prevention\" bytes from a \"Raw Byte\n       * Sequence Payload\"\n       * @param data {Uint8Array} the bytes of a RBSP from a NAL\n       * unit\n       * @return {Uint8Array} the RBSP without any Emulation\n       * Prevention Bytes\n       */\n\n\n      discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n        var length = data.byteLength,\n            emulationPreventionBytesPositions = [],\n            i = 1,\n            newLength,\n            newData; // Find all `Emulation Prevention Bytes`\n\n        while (i < length - 2) {\n          if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n            emulationPreventionBytesPositions.push(i + 2);\n            i += 2;\n          } else {\n            i++;\n          }\n        } // If no Emulation Prevention Bytes were found just return the original\n        // array\n\n\n        if (emulationPreventionBytesPositions.length === 0) {\n          return data;\n        } // Create a new array to hold the NAL unit data\n\n\n        newLength = length - emulationPreventionBytesPositions.length;\n        newData = new Uint8Array(newLength);\n        var sourceIndex = 0;\n\n        for (i = 0; i < newLength; sourceIndex++, i++) {\n          if (sourceIndex === emulationPreventionBytesPositions[0]) {\n            // Skip this byte\n            sourceIndex++; // Remove this position index\n\n            emulationPreventionBytesPositions.shift();\n          }\n\n          newData[i] = data[sourceIndex];\n        }\n\n        return newData;\n      };\n      /**\n       * Read a sequence parameter set and return some interesting video\n       * properties. A sequence parameter set is the H264 metadata that\n       * describes the properties of upcoming video frames.\n       * @param data {Uint8Array} the bytes of a sequence parameter set\n       * @return {object} an object with configuration parsed from the\n       * sequence parameter set, including the dimensions of the\n       * associated video frames.\n       */\n\n\n      readSequenceParameterSet = function readSequenceParameterSet(data) {\n        var frameCropLeftOffset = 0,\n            frameCropRightOffset = 0,\n            frameCropTopOffset = 0,\n            frameCropBottomOffset = 0,\n            sarScale = 1,\n            expGolombDecoder,\n            profileIdc,\n            levelIdc,\n            profileCompatibility,\n            chromaFormatIdc,\n            picOrderCntType,\n            numRefFramesInPicOrderCntCycle,\n            picWidthInMbsMinus1,\n            picHeightInMapUnitsMinus1,\n            frameMbsOnlyFlag,\n            scalingListCount,\n            sarRatio,\n            aspectRatioIdc,\n            i;\n        expGolombDecoder = new expGolomb(data);\n        profileIdc = expGolombDecoder.readUnsignedByte(); // profile_idc\n\n        profileCompatibility = expGolombDecoder.readUnsignedByte(); // constraint_set[0-5]_flag\n\n        levelIdc = expGolombDecoder.readUnsignedByte(); // level_idc u(8)\n\n        expGolombDecoder.skipUnsignedExpGolomb(); // seq_parameter_set_id\n        // some profiles have more optional data we don't need\n\n        if (PROFILES_WITH_OPTIONAL_SPS_DATA[profileIdc]) {\n          chromaFormatIdc = expGolombDecoder.readUnsignedExpGolomb();\n\n          if (chromaFormatIdc === 3) {\n            expGolombDecoder.skipBits(1); // separate_colour_plane_flag\n          }\n\n          expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_luma_minus8\n\n          expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_chroma_minus8\n\n          expGolombDecoder.skipBits(1); // qpprime_y_zero_transform_bypass_flag\n\n          if (expGolombDecoder.readBoolean()) {\n            // seq_scaling_matrix_present_flag\n            scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n\n            for (i = 0; i < scalingListCount; i++) {\n              if (expGolombDecoder.readBoolean()) {\n                // seq_scaling_list_present_flag[ i ]\n                if (i < 6) {\n                  skipScalingList(16, expGolombDecoder);\n                } else {\n                  skipScalingList(64, expGolombDecoder);\n                }\n              }\n            }\n          }\n        }\n\n        expGolombDecoder.skipUnsignedExpGolomb(); // log2_max_frame_num_minus4\n\n        picOrderCntType = expGolombDecoder.readUnsignedExpGolomb();\n\n        if (picOrderCntType === 0) {\n          expGolombDecoder.readUnsignedExpGolomb(); // log2_max_pic_order_cnt_lsb_minus4\n        } else if (picOrderCntType === 1) {\n          expGolombDecoder.skipBits(1); // delta_pic_order_always_zero_flag\n\n          expGolombDecoder.skipExpGolomb(); // offset_for_non_ref_pic\n\n          expGolombDecoder.skipExpGolomb(); // offset_for_top_to_bottom_field\n\n          numRefFramesInPicOrderCntCycle = expGolombDecoder.readUnsignedExpGolomb();\n\n          for (i = 0; i < numRefFramesInPicOrderCntCycle; i++) {\n            expGolombDecoder.skipExpGolomb(); // offset_for_ref_frame[ i ]\n          }\n        }\n\n        expGolombDecoder.skipUnsignedExpGolomb(); // max_num_ref_frames\n\n        expGolombDecoder.skipBits(1); // gaps_in_frame_num_value_allowed_flag\n\n        picWidthInMbsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n        picHeightInMapUnitsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n        frameMbsOnlyFlag = expGolombDecoder.readBits(1);\n\n        if (frameMbsOnlyFlag === 0) {\n          expGolombDecoder.skipBits(1); // mb_adaptive_frame_field_flag\n        }\n\n        expGolombDecoder.skipBits(1); // direct_8x8_inference_flag\n\n        if (expGolombDecoder.readBoolean()) {\n          // frame_cropping_flag\n          frameCropLeftOffset = expGolombDecoder.readUnsignedExpGolomb();\n          frameCropRightOffset = expGolombDecoder.readUnsignedExpGolomb();\n          frameCropTopOffset = expGolombDecoder.readUnsignedExpGolomb();\n          frameCropBottomOffset = expGolombDecoder.readUnsignedExpGolomb();\n        }\n\n        if (expGolombDecoder.readBoolean()) {\n          // vui_parameters_present_flag\n          if (expGolombDecoder.readBoolean()) {\n            // aspect_ratio_info_present_flag\n            aspectRatioIdc = expGolombDecoder.readUnsignedByte();\n\n            switch (aspectRatioIdc) {\n              case 1:\n                sarRatio = [1, 1];\n                break;\n\n              case 2:\n                sarRatio = [12, 11];\n                break;\n\n              case 3:\n                sarRatio = [10, 11];\n                break;\n\n              case 4:\n                sarRatio = [16, 11];\n                break;\n\n              case 5:\n                sarRatio = [40, 33];\n                break;\n\n              case 6:\n                sarRatio = [24, 11];\n                break;\n\n              case 7:\n                sarRatio = [20, 11];\n                break;\n\n              case 8:\n                sarRatio = [32, 11];\n                break;\n\n              case 9:\n                sarRatio = [80, 33];\n                break;\n\n              case 10:\n                sarRatio = [18, 11];\n                break;\n\n              case 11:\n                sarRatio = [15, 11];\n                break;\n\n              case 12:\n                sarRatio = [64, 33];\n                break;\n\n              case 13:\n                sarRatio = [160, 99];\n                break;\n\n              case 14:\n                sarRatio = [4, 3];\n                break;\n\n              case 15:\n                sarRatio = [3, 2];\n                break;\n\n              case 16:\n                sarRatio = [2, 1];\n                break;\n\n              case 255:\n                {\n                  sarRatio = [expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte(), expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte()];\n                  break;\n                }\n            }\n\n            if (sarRatio) {\n              sarScale = sarRatio[0] / sarRatio[1];\n            }\n          }\n        }\n\n        return {\n          profileIdc: profileIdc,\n          levelIdc: levelIdc,\n          profileCompatibility: profileCompatibility,\n          width: Math.ceil(((picWidthInMbsMinus1 + 1) * 16 - frameCropLeftOffset * 2 - frameCropRightOffset * 2) * sarScale),\n          height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - frameCropTopOffset * 2 - frameCropBottomOffset * 2,\n          sarRatio: sarRatio\n        };\n      };\n    };\n\n    _H264Stream.prototype = new stream();\n    var h264 = {\n      H264Stream: _H264Stream,\n      NalByteStream: _NalByteStream\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     *\n     * Utilities to detect basic properties and metadata about Aac data.\n     */\n\n    var ADTS_SAMPLING_FREQUENCIES$1 = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\n    var isLikelyAacData = function isLikelyAacData(data) {\n      if (data[0] === 'I'.charCodeAt(0) && data[1] === 'D'.charCodeAt(0) && data[2] === '3'.charCodeAt(0)) {\n        return true;\n      }\n\n      return false;\n    };\n\n    var parseSyncSafeInteger$1 = function parseSyncSafeInteger(data) {\n      return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n    }; // return a percent-encoded representation of the specified byte range\n    // @see http://en.wikipedia.org/wiki/Percent-encoding\n\n\n    var percentEncode$1 = function percentEncode(bytes, start, end) {\n      var i,\n          result = '';\n\n      for (i = start; i < end; i++) {\n        result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n      }\n\n      return result;\n    }; // return the string representation of the specified byte range,\n    // interpreted as ISO-8859-1.\n\n\n    var parseIso88591$1 = function parseIso88591(bytes, start, end) {\n      return unescape(percentEncode$1(bytes, start, end)); // jshint ignore:line\n    };\n\n    var parseId3TagSize = function parseId3TagSize(header, byteIndex) {\n      var returnSize = header[byteIndex + 6] << 21 | header[byteIndex + 7] << 14 | header[byteIndex + 8] << 7 | header[byteIndex + 9],\n          flags = header[byteIndex + 5],\n          footerPresent = (flags & 16) >> 4;\n\n      if (footerPresent) {\n        return returnSize + 20;\n      }\n\n      return returnSize + 10;\n    };\n\n    var parseAdtsSize = function parseAdtsSize(header, byteIndex) {\n      var lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\n          middle = header[byteIndex + 4] << 3,\n          highTwo = header[byteIndex + 3] & 0x3 << 11;\n      return highTwo | middle | lowThree;\n    };\n\n    var parseType = function parseType(header, byteIndex) {\n      if (header[byteIndex] === 'I'.charCodeAt(0) && header[byteIndex + 1] === 'D'.charCodeAt(0) && header[byteIndex + 2] === '3'.charCodeAt(0)) {\n        return 'timed-metadata';\n      } else if (header[byteIndex] & 0xff === 0xff && (header[byteIndex + 1] & 0xf0) === 0xf0) {\n        return 'audio';\n      }\n\n      return null;\n    };\n\n    var parseSampleRate = function parseSampleRate(packet) {\n      var i = 0;\n\n      while (i + 5 < packet.length) {\n        if (packet[i] !== 0xFF || (packet[i + 1] & 0xF6) !== 0xF0) {\n          // If a valid header was not found,  jump one forward and attempt to\n          // find a valid ADTS header starting at the next byte\n          i++;\n          continue;\n        }\n\n        return ADTS_SAMPLING_FREQUENCIES$1[(packet[i + 2] & 0x3c) >>> 2];\n      }\n\n      return null;\n    };\n\n    var parseAacTimestamp = function parseAacTimestamp(packet) {\n      var frameStart, frameSize, frame, frameHeader; // find the start of the first frame and the end of the tag\n\n      frameStart = 10;\n\n      if (packet[5] & 0x40) {\n        // advance the frame start past the extended header\n        frameStart += 4; // header size field\n\n        frameStart += parseSyncSafeInteger$1(packet.subarray(10, 14));\n      } // parse one or more ID3 frames\n      // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n      do {\n        // determine the number of bytes in this frame\n        frameSize = parseSyncSafeInteger$1(packet.subarray(frameStart + 4, frameStart + 8));\n\n        if (frameSize < 1) {\n          return null;\n        }\n\n        frameHeader = String.fromCharCode(packet[frameStart], packet[frameStart + 1], packet[frameStart + 2], packet[frameStart + 3]);\n\n        if (frameHeader === 'PRIV') {\n          frame = packet.subarray(frameStart + 10, frameStart + frameSize + 10);\n\n          for (var i = 0; i < frame.byteLength; i++) {\n            if (frame[i] === 0) {\n              var owner = parseIso88591$1(frame, 0, i);\n\n              if (owner === 'com.apple.streaming.transportStreamTimestamp') {\n                var d = frame.subarray(i + 1);\n                var size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n                size *= 4;\n                size += d[7] & 0x03;\n                return size;\n              }\n\n              break;\n            }\n          }\n        }\n\n        frameStart += 10; // advance past the frame header\n\n        frameStart += frameSize; // advance past the frame body\n      } while (frameStart < packet.byteLength);\n\n      return null;\n    };\n\n    var utils = {\n      isLikelyAacData: isLikelyAacData,\n      parseId3TagSize: parseId3TagSize,\n      parseAdtsSize: parseAdtsSize,\n      parseType: parseType,\n      parseSampleRate: parseSampleRate,\n      parseAacTimestamp: parseAacTimestamp\n    }; // Constants\n\n    var _AacStream;\n    /**\n     * Splits an incoming stream of binary data into ADTS and ID3 Frames.\n     */\n\n\n    _AacStream = function AacStream() {\n      var everything = new Uint8Array(),\n          timeStamp = 0;\n\n      _AacStream.prototype.init.call(this);\n\n      this.setTimestamp = function (timestamp) {\n        timeStamp = timestamp;\n      };\n\n      this.push = function (bytes) {\n        var frameSize = 0,\n            byteIndex = 0,\n            bytesLeft,\n            chunk,\n            packet,\n            tempLength; // If there are bytes remaining from the last segment, prepend them to the\n        // bytes that were pushed in\n\n        if (everything.length) {\n          tempLength = everything.length;\n          everything = new Uint8Array(bytes.byteLength + tempLength);\n          everything.set(everything.subarray(0, tempLength));\n          everything.set(bytes, tempLength);\n        } else {\n          everything = bytes;\n        }\n\n        while (everything.length - byteIndex >= 3) {\n          if (everything[byteIndex] === 'I'.charCodeAt(0) && everything[byteIndex + 1] === 'D'.charCodeAt(0) && everything[byteIndex + 2] === '3'.charCodeAt(0)) {\n            // Exit early because we don't have enough to parse\n            // the ID3 tag header\n            if (everything.length - byteIndex < 10) {\n              break;\n            } // check framesize\n\n\n            frameSize = utils.parseId3TagSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n            // to emit a full packet\n            // Add to byteIndex to support multiple ID3 tags in sequence\n\n            if (byteIndex + frameSize > everything.length) {\n              break;\n            }\n\n            chunk = {\n              type: 'timed-metadata',\n              data: everything.subarray(byteIndex, byteIndex + frameSize)\n            };\n            this.trigger('data', chunk);\n            byteIndex += frameSize;\n            continue;\n          } else if ((everything[byteIndex] & 0xff) === 0xff && (everything[byteIndex + 1] & 0xf0) === 0xf0) {\n            // Exit early because we don't have enough to parse\n            // the ADTS frame header\n            if (everything.length - byteIndex < 7) {\n              break;\n            }\n\n            frameSize = utils.parseAdtsSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n            // to emit a full packet\n\n            if (byteIndex + frameSize > everything.length) {\n              break;\n            }\n\n            packet = {\n              type: 'audio',\n              data: everything.subarray(byteIndex, byteIndex + frameSize),\n              pts: timeStamp,\n              dts: timeStamp\n            };\n            this.trigger('data', packet);\n            byteIndex += frameSize;\n            continue;\n          }\n\n          byteIndex++;\n        }\n\n        bytesLeft = everything.length - byteIndex;\n\n        if (bytesLeft > 0) {\n          everything = everything.subarray(byteIndex);\n        } else {\n          everything = new Uint8Array();\n        }\n      };\n\n      this.reset = function () {\n        everything = new Uint8Array();\n        this.trigger('reset');\n      };\n\n      this.endTimeline = function () {\n        everything = new Uint8Array();\n        this.trigger('endedtimeline');\n      };\n    };\n\n    _AacStream.prototype = new stream();\n    var aac = _AacStream;\n    var H264Stream = h264.H264Stream;\n    var isLikelyAacData$1 = utils.isLikelyAacData;\n    var ONE_SECOND_IN_TS$3 = clock.ONE_SECOND_IN_TS; // constants\n\n    var AUDIO_PROPERTIES = ['audioobjecttype', 'channelcount', 'samplerate', 'samplingfrequencyindex', 'samplesize'];\n    var VIDEO_PROPERTIES = ['width', 'height', 'profileIdc', 'levelIdc', 'profileCompatibility', 'sarRatio']; // object types\n\n    var _VideoSegmentStream, _AudioSegmentStream, _Transmuxer, _CoalesceStream;\n    /**\n     * Compare two arrays (even typed) for same-ness\n     */\n\n\n    var arrayEquals = function arrayEquals(a, b) {\n      var i;\n\n      if (a.length !== b.length) {\n        return false;\n      } // compare the value of each element in the array\n\n\n      for (i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    var generateVideoSegmentTimingInfo = function generateVideoSegmentTimingInfo(baseMediaDecodeTime, startDts, startPts, endDts, endPts, prependedContentDuration) {\n      var ptsOffsetFromDts = startPts - startDts,\n          decodeDuration = endDts - startDts,\n          presentationDuration = endPts - startPts; // The PTS and DTS values are based on the actual stream times from the segment,\n      // however, the player time values will reflect a start from the baseMediaDecodeTime.\n      // In order to provide relevant values for the player times, base timing info on the\n      // baseMediaDecodeTime and the DTS and PTS durations of the segment.\n\n      return {\n        start: {\n          dts: baseMediaDecodeTime,\n          pts: baseMediaDecodeTime + ptsOffsetFromDts\n        },\n        end: {\n          dts: baseMediaDecodeTime + decodeDuration,\n          pts: baseMediaDecodeTime + presentationDuration\n        },\n        prependedContentDuration: prependedContentDuration,\n        baseMediaDecodeTime: baseMediaDecodeTime\n      };\n    };\n    /**\n     * Constructs a single-track, ISO BMFF media segment from AAC data\n     * events. The output of this stream can be fed to a SourceBuffer\n     * configured with a suitable initialization segment.\n     * @param track {object} track metadata configuration\n     * @param options {object} transmuxer options object\n     * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n     *        in the source; false to adjust the first segment to start at 0.\n     */\n\n\n    _AudioSegmentStream = function AudioSegmentStream(track, options) {\n      var adtsFrames = [],\n          sequenceNumber = 0,\n          earliestAllowedDts = 0,\n          audioAppendStartTs = 0,\n          videoBaseMediaDecodeTime = Infinity;\n      options = options || {};\n\n      _AudioSegmentStream.prototype.init.call(this);\n\n      this.push = function (data) {\n        trackDecodeInfo.collectDtsInfo(track, data);\n\n        if (track) {\n          AUDIO_PROPERTIES.forEach(function (prop) {\n            track[prop] = data[prop];\n          });\n        } // buffer audio data until end() is called\n\n\n        adtsFrames.push(data);\n      };\n\n      this.setEarliestDts = function (earliestDts) {\n        earliestAllowedDts = earliestDts - track.timelineStartInfo.baseMediaDecodeTime;\n      };\n\n      this.setVideoBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n        videoBaseMediaDecodeTime = baseMediaDecodeTime;\n      };\n\n      this.setAudioAppendStart = function (timestamp) {\n        audioAppendStartTs = timestamp;\n      };\n\n      this.flush = function () {\n        var frames, moof, mdat, boxes, frameDuration; // return early if no audio data has been observed\n\n        if (adtsFrames.length === 0) {\n          this.trigger('done', 'AudioSegmentStream');\n          return;\n        }\n\n        frames = audioFrameUtils.trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts);\n        track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n        audioFrameUtils.prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime); // we have to build the index from byte locations to\n        // samples (that is, adts frames) in the audio data\n\n        track.samples = audioFrameUtils.generateSampleTable(frames); // concatenate the audio data to constuct the mdat\n\n        mdat = mp4Generator.mdat(audioFrameUtils.concatenateFrameData(frames));\n        adtsFrames = [];\n        moof = mp4Generator.moof(sequenceNumber, [track]);\n        boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // bump the sequence number for next time\n\n        sequenceNumber++;\n        boxes.set(moof);\n        boxes.set(mdat, moof.byteLength);\n        trackDecodeInfo.clearDtsInfo(track);\n        frameDuration = Math.ceil(ONE_SECOND_IN_TS$3 * 1024 / track.samplerate); // TODO this check was added to maintain backwards compatibility (particularly with\n        // tests) on adding the timingInfo event. However, it seems unlikely that there's a\n        // valid use-case where an init segment/data should be triggered without associated\n        // frames. Leaving for now, but should be looked into.\n\n        if (frames.length) {\n          this.trigger('timingInfo', {\n            start: frames[0].dts,\n            end: frames[0].dts + frames.length * frameDuration\n          });\n        }\n\n        this.trigger('data', {\n          track: track,\n          boxes: boxes\n        });\n        this.trigger('done', 'AudioSegmentStream');\n      };\n\n      this.reset = function () {\n        trackDecodeInfo.clearDtsInfo(track);\n        adtsFrames = [];\n        this.trigger('reset');\n      };\n    };\n\n    _AudioSegmentStream.prototype = new stream();\n    /**\n     * Constructs a single-track, ISO BMFF media segment from H264 data\n     * events. The output of this stream can be fed to a SourceBuffer\n     * configured with a suitable initialization segment.\n     * @param track {object} track metadata configuration\n     * @param options {object} transmuxer options object\n     * @param options.alignGopsAtEnd {boolean} If true, start from the end of the\n     *        gopsToAlignWith list when attempting to align gop pts\n     * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n     *        in the source; false to adjust the first segment to start at 0.\n     */\n\n    _VideoSegmentStream = function VideoSegmentStream(track, options) {\n      var sequenceNumber = 0,\n          nalUnits = [],\n          gopsToAlignWith = [],\n          config,\n          pps;\n      options = options || {};\n\n      _VideoSegmentStream.prototype.init.call(this);\n\n      delete track.minPTS;\n      this.gopCache_ = [];\n      /**\n        * Constructs a ISO BMFF segment given H264 nalUnits\n        * @param {Object} nalUnit A data event representing a nalUnit\n        * @param {String} nalUnit.nalUnitType\n        * @param {Object} nalUnit.config Properties for a mp4 track\n        * @param {Uint8Array} nalUnit.data The nalUnit bytes\n        * @see lib/codecs/h264.js\n       **/\n\n      this.push = function (nalUnit) {\n        trackDecodeInfo.collectDtsInfo(track, nalUnit); // record the track config\n\n        if (nalUnit.nalUnitType === 'seq_parameter_set_rbsp' && !config) {\n          config = nalUnit.config;\n          track.sps = [nalUnit.data];\n          VIDEO_PROPERTIES.forEach(function (prop) {\n            track[prop] = config[prop];\n          }, this);\n        }\n\n        if (nalUnit.nalUnitType === 'pic_parameter_set_rbsp' && !pps) {\n          pps = nalUnit.data;\n          track.pps = [nalUnit.data];\n        } // buffer video until flush() is called\n\n\n        nalUnits.push(nalUnit);\n      };\n      /**\n        * Pass constructed ISO BMFF track and boxes on to the\n        * next stream in the pipeline\n       **/\n\n\n      this.flush = function () {\n        var frames,\n            gopForFusion,\n            gops,\n            moof,\n            mdat,\n            boxes,\n            prependedContentDuration = 0,\n            firstGop,\n            lastGop; // Throw away nalUnits at the start of the byte stream until\n        // we find the first AUD\n\n        while (nalUnits.length) {\n          if (nalUnits[0].nalUnitType === 'access_unit_delimiter_rbsp') {\n            break;\n          }\n\n          nalUnits.shift();\n        } // Return early if no video data has been observed\n\n\n        if (nalUnits.length === 0) {\n          this.resetStream_();\n          this.trigger('done', 'VideoSegmentStream');\n          return;\n        } // Organize the raw nal-units into arrays that represent\n        // higher-level constructs such as frames and gops\n        // (group-of-pictures)\n\n\n        frames = frameUtils.groupNalsIntoFrames(nalUnits);\n        gops = frameUtils.groupFramesIntoGops(frames); // If the first frame of this fragment is not a keyframe we have\n        // a problem since MSE (on Chrome) requires a leading keyframe.\n        //\n        // We have two approaches to repairing this situation:\n        // 1) GOP-FUSION:\n        //    This is where we keep track of the GOPS (group-of-pictures)\n        //    from previous fragments and attempt to find one that we can\n        //    prepend to the current fragment in order to create a valid\n        //    fragment.\n        // 2) KEYFRAME-PULLING:\n        //    Here we search for the first keyframe in the fragment and\n        //    throw away all the frames between the start of the fragment\n        //    and that keyframe. We then extend the duration and pull the\n        //    PTS of the keyframe forward so that it covers the time range\n        //    of the frames that were disposed of.\n        //\n        // #1 is far prefereable over #2 which can cause \"stuttering\" but\n        // requires more things to be just right.\n\n        if (!gops[0][0].keyFrame) {\n          // Search for a gop for fusion from our gopCache\n          gopForFusion = this.getGopForFusion_(nalUnits[0], track);\n\n          if (gopForFusion) {\n            // in order to provide more accurate timing information about the segment, save\n            // the number of seconds prepended to the original segment due to GOP fusion\n            prependedContentDuration = gopForFusion.duration;\n            gops.unshift(gopForFusion); // Adjust Gops' metadata to account for the inclusion of the\n            // new gop at the beginning\n\n            gops.byteLength += gopForFusion.byteLength;\n            gops.nalCount += gopForFusion.nalCount;\n            gops.pts = gopForFusion.pts;\n            gops.dts = gopForFusion.dts;\n            gops.duration += gopForFusion.duration;\n          } else {\n            // If we didn't find a candidate gop fall back to keyframe-pulling\n            gops = frameUtils.extendFirstKeyFrame(gops);\n          }\n        } // Trim gops to align with gopsToAlignWith\n\n\n        if (gopsToAlignWith.length) {\n          var alignedGops;\n\n          if (options.alignGopsAtEnd) {\n            alignedGops = this.alignGopsAtEnd_(gops);\n          } else {\n            alignedGops = this.alignGopsAtStart_(gops);\n          }\n\n          if (!alignedGops) {\n            // save all the nals in the last GOP into the gop cache\n            this.gopCache_.unshift({\n              gop: gops.pop(),\n              pps: track.pps,\n              sps: track.sps\n            }); // Keep a maximum of 6 GOPs in the cache\n\n            this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n            nalUnits = []; // return early no gops can be aligned with desired gopsToAlignWith\n\n            this.resetStream_();\n            this.trigger('done', 'VideoSegmentStream');\n            return;\n          } // Some gops were trimmed. clear dts info so minSegmentDts and pts are correct\n          // when recalculated before sending off to CoalesceStream\n\n\n          trackDecodeInfo.clearDtsInfo(track);\n          gops = alignedGops;\n        }\n\n        trackDecodeInfo.collectDtsInfo(track, gops); // First, we have to build the index from byte locations to\n        // samples (that is, frames) in the video data\n\n        track.samples = frameUtils.generateSampleTable(gops); // Concatenate the video data and construct the mdat\n\n        mdat = mp4Generator.mdat(frameUtils.concatenateNalData(gops));\n        track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n        this.trigger('processedGopsInfo', gops.map(function (gop) {\n          return {\n            pts: gop.pts,\n            dts: gop.dts,\n            byteLength: gop.byteLength\n          };\n        }));\n        firstGop = gops[0];\n        lastGop = gops[gops.length - 1];\n        this.trigger('segmentTimingInfo', generateVideoSegmentTimingInfo(track.baseMediaDecodeTime, firstGop.dts, firstGop.pts, lastGop.dts + lastGop.duration, lastGop.pts + lastGop.duration, prependedContentDuration));\n        this.trigger('timingInfo', {\n          start: gops[0].dts,\n          end: gops[gops.length - 1].dts + gops[gops.length - 1].duration\n        }); // save all the nals in the last GOP into the gop cache\n\n        this.gopCache_.unshift({\n          gop: gops.pop(),\n          pps: track.pps,\n          sps: track.sps\n        }); // Keep a maximum of 6 GOPs in the cache\n\n        this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n        nalUnits = [];\n        this.trigger('baseMediaDecodeTime', track.baseMediaDecodeTime);\n        this.trigger('timelineStartInfo', track.timelineStartInfo);\n        moof = mp4Generator.moof(sequenceNumber, [track]); // it would be great to allocate this array up front instead of\n        // throwing away hundreds of media segment fragments\n\n        boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // Bump the sequence number for next time\n\n        sequenceNumber++;\n        boxes.set(moof);\n        boxes.set(mdat, moof.byteLength);\n        this.trigger('data', {\n          track: track,\n          boxes: boxes\n        });\n        this.resetStream_(); // Continue with the flush process now\n\n        this.trigger('done', 'VideoSegmentStream');\n      };\n\n      this.reset = function () {\n        this.resetStream_();\n        nalUnits = [];\n        this.gopCache_.length = 0;\n        gopsToAlignWith.length = 0;\n        this.trigger('reset');\n      };\n\n      this.resetStream_ = function () {\n        trackDecodeInfo.clearDtsInfo(track); // reset config and pps because they may differ across segments\n        // for instance, when we are rendition switching\n\n        config = undefined;\n        pps = undefined;\n      }; // Search for a candidate Gop for gop-fusion from the gop cache and\n      // return it or return null if no good candidate was found\n\n\n      this.getGopForFusion_ = function (nalUnit) {\n        var halfSecond = 45000,\n            // Half-a-second in a 90khz clock\n        allowableOverlap = 10000,\n            // About 3 frames @ 30fps\n        nearestDistance = Infinity,\n            dtsDistance,\n            nearestGopObj,\n            currentGop,\n            currentGopObj,\n            i; // Search for the GOP nearest to the beginning of this nal unit\n\n        for (i = 0; i < this.gopCache_.length; i++) {\n          currentGopObj = this.gopCache_[i];\n          currentGop = currentGopObj.gop; // Reject Gops with different SPS or PPS\n\n          if (!(track.pps && arrayEquals(track.pps[0], currentGopObj.pps[0])) || !(track.sps && arrayEquals(track.sps[0], currentGopObj.sps[0]))) {\n            continue;\n          } // Reject Gops that would require a negative baseMediaDecodeTime\n\n\n          if (currentGop.dts < track.timelineStartInfo.dts) {\n            continue;\n          } // The distance between the end of the gop and the start of the nalUnit\n\n\n          dtsDistance = nalUnit.dts - currentGop.dts - currentGop.duration; // Only consider GOPS that start before the nal unit and end within\n          // a half-second of the nal unit\n\n          if (dtsDistance >= -allowableOverlap && dtsDistance <= halfSecond) {\n            // Always use the closest GOP we found if there is more than\n            // one candidate\n            if (!nearestGopObj || nearestDistance > dtsDistance) {\n              nearestGopObj = currentGopObj;\n              nearestDistance = dtsDistance;\n            }\n          }\n        }\n\n        if (nearestGopObj) {\n          return nearestGopObj.gop;\n        }\n\n        return null;\n      }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n      // of gopsToAlignWith starting from the START of the list\n\n\n      this.alignGopsAtStart_ = function (gops) {\n        var alignIndex, gopIndex, align, gop, byteLength, nalCount, duration, alignedGops;\n        byteLength = gops.byteLength;\n        nalCount = gops.nalCount;\n        duration = gops.duration;\n        alignIndex = gopIndex = 0;\n\n        while (alignIndex < gopsToAlignWith.length && gopIndex < gops.length) {\n          align = gopsToAlignWith[alignIndex];\n          gop = gops[gopIndex];\n\n          if (align.pts === gop.pts) {\n            break;\n          }\n\n          if (gop.pts > align.pts) {\n            // this current gop starts after the current gop we want to align on, so increment\n            // align index\n            alignIndex++;\n            continue;\n          } // current gop starts before the current gop we want to align on. so increment gop\n          // index\n\n\n          gopIndex++;\n          byteLength -= gop.byteLength;\n          nalCount -= gop.nalCount;\n          duration -= gop.duration;\n        }\n\n        if (gopIndex === 0) {\n          // no gops to trim\n          return gops;\n        }\n\n        if (gopIndex === gops.length) {\n          // all gops trimmed, skip appending all gops\n          return null;\n        }\n\n        alignedGops = gops.slice(gopIndex);\n        alignedGops.byteLength = byteLength;\n        alignedGops.duration = duration;\n        alignedGops.nalCount = nalCount;\n        alignedGops.pts = alignedGops[0].pts;\n        alignedGops.dts = alignedGops[0].dts;\n        return alignedGops;\n      }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n      // of gopsToAlignWith starting from the END of the list\n\n\n      this.alignGopsAtEnd_ = function (gops) {\n        var alignIndex, gopIndex, align, gop, alignEndIndex, matchFound;\n        alignIndex = gopsToAlignWith.length - 1;\n        gopIndex = gops.length - 1;\n        alignEndIndex = null;\n        matchFound = false;\n\n        while (alignIndex >= 0 && gopIndex >= 0) {\n          align = gopsToAlignWith[alignIndex];\n          gop = gops[gopIndex];\n\n          if (align.pts === gop.pts) {\n            matchFound = true;\n            break;\n          }\n\n          if (align.pts > gop.pts) {\n            alignIndex--;\n            continue;\n          }\n\n          if (alignIndex === gopsToAlignWith.length - 1) {\n            // gop.pts is greater than the last alignment candidate. If no match is found\n            // by the end of this loop, we still want to append gops that come after this\n            // point\n            alignEndIndex = gopIndex;\n          }\n\n          gopIndex--;\n        }\n\n        if (!matchFound && alignEndIndex === null) {\n          return null;\n        }\n\n        var trimIndex;\n\n        if (matchFound) {\n          trimIndex = gopIndex;\n        } else {\n          trimIndex = alignEndIndex;\n        }\n\n        if (trimIndex === 0) {\n          return gops;\n        }\n\n        var alignedGops = gops.slice(trimIndex);\n        var metadata = alignedGops.reduce(function (total, gop) {\n          total.byteLength += gop.byteLength;\n          total.duration += gop.duration;\n          total.nalCount += gop.nalCount;\n          return total;\n        }, {\n          byteLength: 0,\n          duration: 0,\n          nalCount: 0\n        });\n        alignedGops.byteLength = metadata.byteLength;\n        alignedGops.duration = metadata.duration;\n        alignedGops.nalCount = metadata.nalCount;\n        alignedGops.pts = alignedGops[0].pts;\n        alignedGops.dts = alignedGops[0].dts;\n        return alignedGops;\n      };\n\n      this.alignGopsWith = function (newGopsToAlignWith) {\n        gopsToAlignWith = newGopsToAlignWith;\n      };\n    };\n\n    _VideoSegmentStream.prototype = new stream();\n    /**\n     * A Stream that can combine multiple streams (ie. audio & video)\n     * into a single output segment for MSE. Also supports audio-only\n     * and video-only streams.\n     * @param options {object} transmuxer options object\n     * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n     *        in the source; false to adjust the first segment to start at media timeline start.\n     */\n\n    _CoalesceStream = function CoalesceStream(options, metadataStream) {\n      // Number of Tracks per output segment\n      // If greater than 1, we combine multiple\n      // tracks into a single segment\n      this.numberOfTracks = 0;\n      this.metadataStream = metadataStream;\n      options = options || {};\n\n      if (typeof options.remux !== 'undefined') {\n        this.remuxTracks = !!options.remux;\n      } else {\n        this.remuxTracks = true;\n      }\n\n      if (typeof options.keepOriginalTimestamps === 'boolean') {\n        this.keepOriginalTimestamps = options.keepOriginalTimestamps;\n      } else {\n        this.keepOriginalTimestamps = false;\n      }\n\n      this.pendingTracks = [];\n      this.videoTrack = null;\n      this.pendingBoxes = [];\n      this.pendingCaptions = [];\n      this.pendingMetadata = [];\n      this.pendingBytes = 0;\n      this.emittedTracks = 0;\n\n      _CoalesceStream.prototype.init.call(this); // Take output from multiple\n\n\n      this.push = function (output) {\n        // buffer incoming captions until the associated video segment\n        // finishes\n        if (output.text) {\n          return this.pendingCaptions.push(output);\n        } // buffer incoming id3 tags until the final flush\n\n\n        if (output.frames) {\n          return this.pendingMetadata.push(output);\n        } // Add this track to the list of pending tracks and store\n        // important information required for the construction of\n        // the final segment\n\n\n        this.pendingTracks.push(output.track);\n        this.pendingBytes += output.boxes.byteLength; // TODO: is there an issue for this against chrome?\n        // We unshift audio and push video because\n        // as of Chrome 75 when switching from\n        // one init segment to another if the video\n        // mdat does not appear after the audio mdat\n        // only audio will play for the duration of our transmux.\n\n        if (output.track.type === 'video') {\n          this.videoTrack = output.track;\n          this.pendingBoxes.push(output.boxes);\n        }\n\n        if (output.track.type === 'audio') {\n          this.audioTrack = output.track;\n          this.pendingBoxes.unshift(output.boxes);\n        }\n      };\n    };\n\n    _CoalesceStream.prototype = new stream();\n\n    _CoalesceStream.prototype.flush = function (flushSource) {\n      var offset = 0,\n          event = {\n        captions: [],\n        captionStreams: {},\n        metadata: [],\n        info: {}\n      },\n          caption,\n          id3,\n          initSegment,\n          timelineStartPts = 0,\n          i;\n\n      if (this.pendingTracks.length < this.numberOfTracks) {\n        if (flushSource !== 'VideoSegmentStream' && flushSource !== 'AudioSegmentStream') {\n          // Return because we haven't received a flush from a data-generating\n          // portion of the segment (meaning that we have only recieved meta-data\n          // or captions.)\n          return;\n        } else if (this.remuxTracks) {\n          // Return until we have enough tracks from the pipeline to remux (if we\n          // are remuxing audio and video into a single MP4)\n          return;\n        } else if (this.pendingTracks.length === 0) {\n          // In the case where we receive a flush without any data having been\n          // received we consider it an emitted track for the purposes of coalescing\n          // `done` events.\n          // We do this for the case where there is an audio and video track in the\n          // segment but no audio data. (seen in several playlists with alternate\n          // audio tracks and no audio present in the main TS segments.)\n          this.emittedTracks++;\n\n          if (this.emittedTracks >= this.numberOfTracks) {\n            this.trigger('done');\n            this.emittedTracks = 0;\n          }\n\n          return;\n        }\n      }\n\n      if (this.videoTrack) {\n        timelineStartPts = this.videoTrack.timelineStartInfo.pts;\n        VIDEO_PROPERTIES.forEach(function (prop) {\n          event.info[prop] = this.videoTrack[prop];\n        }, this);\n      } else if (this.audioTrack) {\n        timelineStartPts = this.audioTrack.timelineStartInfo.pts;\n        AUDIO_PROPERTIES.forEach(function (prop) {\n          event.info[prop] = this.audioTrack[prop];\n        }, this);\n      }\n\n      if (this.videoTrack || this.audioTrack) {\n        if (this.pendingTracks.length === 1) {\n          event.type = this.pendingTracks[0].type;\n        } else {\n          event.type = 'combined';\n        }\n\n        this.emittedTracks += this.pendingTracks.length;\n        initSegment = mp4Generator.initSegment(this.pendingTracks); // Create a new typed array to hold the init segment\n\n        event.initSegment = new Uint8Array(initSegment.byteLength); // Create an init segment containing a moov\n        // and track definitions\n\n        event.initSegment.set(initSegment); // Create a new typed array to hold the moof+mdats\n\n        event.data = new Uint8Array(this.pendingBytes); // Append each moof+mdat (one per track) together\n\n        for (i = 0; i < this.pendingBoxes.length; i++) {\n          event.data.set(this.pendingBoxes[i], offset);\n          offset += this.pendingBoxes[i].byteLength;\n        } // Translate caption PTS times into second offsets to match the\n        // video timeline for the segment, and add track info\n\n\n        for (i = 0; i < this.pendingCaptions.length; i++) {\n          caption = this.pendingCaptions[i];\n          caption.startTime = clock.metadataTsToSeconds(caption.startPts, timelineStartPts, this.keepOriginalTimestamps);\n          caption.endTime = clock.metadataTsToSeconds(caption.endPts, timelineStartPts, this.keepOriginalTimestamps);\n          event.captionStreams[caption.stream] = true;\n          event.captions.push(caption);\n        } // Translate ID3 frame PTS times into second offsets to match the\n        // video timeline for the segment\n\n\n        for (i = 0; i < this.pendingMetadata.length; i++) {\n          id3 = this.pendingMetadata[i];\n          id3.cueTime = clock.metadataTsToSeconds(id3.pts, timelineStartPts, this.keepOriginalTimestamps);\n          event.metadata.push(id3);\n        } // We add this to every single emitted segment even though we only need\n        // it for the first\n\n\n        event.metadata.dispatchType = this.metadataStream.dispatchType; // Reset stream state\n\n        this.pendingTracks.length = 0;\n        this.videoTrack = null;\n        this.pendingBoxes.length = 0;\n        this.pendingCaptions.length = 0;\n        this.pendingBytes = 0;\n        this.pendingMetadata.length = 0; // Emit the built segment\n        // We include captions and ID3 tags for backwards compatibility,\n        // ideally we should send only video and audio in the data event\n\n        this.trigger('data', event); // Emit each caption to the outside world\n        // Ideally, this would happen immediately on parsing captions,\n        // but we need to ensure that video data is sent back first\n        // so that caption timing can be adjusted to match video timing\n\n        for (i = 0; i < event.captions.length; i++) {\n          caption = event.captions[i];\n          this.trigger('caption', caption);\n        } // Emit each id3 tag to the outside world\n        // Ideally, this would happen immediately on parsing the tag,\n        // but we need to ensure that video data is sent back first\n        // so that ID3 frame timing can be adjusted to match video timing\n\n\n        for (i = 0; i < event.metadata.length; i++) {\n          id3 = event.metadata[i];\n          this.trigger('id3Frame', id3);\n        }\n      } // Only emit `done` if all tracks have been flushed and emitted\n\n\n      if (this.emittedTracks >= this.numberOfTracks) {\n        this.trigger('done');\n        this.emittedTracks = 0;\n      }\n    };\n\n    _CoalesceStream.prototype.setRemux = function (val) {\n      this.remuxTracks = val;\n    };\n    /**\n     * A Stream that expects MP2T binary data as input and produces\n     * corresponding media segments, suitable for use with Media Source\n     * Extension (MSE) implementations that support the ISO BMFF byte\n     * stream format, like Chrome.\n     */\n\n\n    _Transmuxer = function Transmuxer(options) {\n      var self = this,\n          hasFlushed = true,\n          videoTrack,\n          audioTrack;\n\n      _Transmuxer.prototype.init.call(this);\n\n      options = options || {};\n      this.baseMediaDecodeTime = options.baseMediaDecodeTime || 0;\n      this.transmuxPipeline_ = {};\n\n      this.setupAacPipeline = function () {\n        var pipeline = {};\n        this.transmuxPipeline_ = pipeline;\n        pipeline.type = 'aac';\n        pipeline.metadataStream = new m2ts_1.MetadataStream(); // set up the parsing pipeline\n\n        pipeline.aacStream = new aac();\n        pipeline.audioTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('audio');\n        pipeline.timedMetadataTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('timed-metadata');\n        pipeline.adtsStream = new adts();\n        pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n        pipeline.headOfPipeline = pipeline.aacStream;\n        pipeline.aacStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);\n        pipeline.aacStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream);\n        pipeline.metadataStream.on('timestamp', function (frame) {\n          pipeline.aacStream.setTimestamp(frame.timeStamp);\n        });\n        pipeline.aacStream.on('data', function (data) {\n          if (data.type === 'timed-metadata' && !pipeline.audioSegmentStream) {\n            audioTrack = audioTrack || {\n              timelineStartInfo: {\n                baseMediaDecodeTime: self.baseMediaDecodeTime\n              },\n              codec: 'adts',\n              type: 'audio'\n            }; // hook up the audio segment stream to the first track with aac data\n\n            pipeline.coalesceStream.numberOfTracks++;\n            pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options);\n            pipeline.audioSegmentStream.on('timingInfo', self.trigger.bind(self, 'audioTimingInfo')); // Set up the final part of the audio pipeline\n\n            pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n          } // emit pmt info\n\n\n          self.trigger('trackinfo', {\n            hasAudio: !!audioTrack,\n            hasVideo: !!videoTrack\n          });\n        }); // Re-emit any data coming from the coalesce stream to the outside world\n\n        pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data')); // Let the consumer know we have finished flushing the entire pipeline\n\n        pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n      };\n\n      this.setupTsPipeline = function () {\n        var pipeline = {};\n        this.transmuxPipeline_ = pipeline;\n        pipeline.type = 'ts';\n        pipeline.metadataStream = new m2ts_1.MetadataStream(); // set up the parsing pipeline\n\n        pipeline.packetStream = new m2ts_1.TransportPacketStream();\n        pipeline.parseStream = new m2ts_1.TransportParseStream();\n        pipeline.elementaryStream = new m2ts_1.ElementaryStream();\n        pipeline.timestampRolloverStream = new m2ts_1.TimestampRolloverStream();\n        pipeline.adtsStream = new adts();\n        pipeline.h264Stream = new H264Stream();\n        pipeline.captionStream = new m2ts_1.CaptionStream();\n        pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n        pipeline.headOfPipeline = pipeline.packetStream; // disassemble MPEG2-TS packets into elementary streams\n\n        pipeline.packetStream.pipe(pipeline.parseStream).pipe(pipeline.elementaryStream).pipe(pipeline.timestampRolloverStream); // !!THIS ORDER IS IMPORTANT!!\n        // demux the streams\n\n        pipeline.timestampRolloverStream.pipe(pipeline.h264Stream);\n        pipeline.timestampRolloverStream.pipe(pipeline.adtsStream);\n        pipeline.timestampRolloverStream.pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream); // Hook up CEA-608/708 caption stream\n\n        pipeline.h264Stream.pipe(pipeline.captionStream).pipe(pipeline.coalesceStream);\n        pipeline.elementaryStream.on('data', function (data) {\n          var i;\n\n          if (data.type === 'metadata') {\n            i = data.tracks.length; // scan the tracks listed in the metadata\n\n            while (i--) {\n              if (!videoTrack && data.tracks[i].type === 'video') {\n                videoTrack = data.tracks[i];\n                videoTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n              } else if (!audioTrack && data.tracks[i].type === 'audio') {\n                audioTrack = data.tracks[i];\n                audioTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n              }\n            } // hook up the video segment stream to the first track with h264 data\n\n\n            if (videoTrack && !pipeline.videoSegmentStream) {\n              pipeline.coalesceStream.numberOfTracks++;\n              pipeline.videoSegmentStream = new _VideoSegmentStream(videoTrack, options);\n              pipeline.videoSegmentStream.on('timelineStartInfo', function (timelineStartInfo) {\n                // When video emits timelineStartInfo data after a flush, we forward that\n                // info to the AudioSegmentStream, if it exists, because video timeline\n                // data takes precedence.\n                if (audioTrack) {\n                  audioTrack.timelineStartInfo = timelineStartInfo; // On the first segment we trim AAC frames that exist before the\n                  // very earliest DTS we have seen in video because Chrome will\n                  // interpret any video track with a baseMediaDecodeTime that is\n                  // non-zero as a gap.\n\n                  pipeline.audioSegmentStream.setEarliestDts(timelineStartInfo.dts);\n                }\n              });\n              pipeline.videoSegmentStream.on('processedGopsInfo', self.trigger.bind(self, 'gopInfo'));\n              pipeline.videoSegmentStream.on('segmentTimingInfo', self.trigger.bind(self, 'videoSegmentTimingInfo'));\n              pipeline.videoSegmentStream.on('baseMediaDecodeTime', function (baseMediaDecodeTime) {\n                if (audioTrack) {\n                  pipeline.audioSegmentStream.setVideoBaseMediaDecodeTime(baseMediaDecodeTime);\n                }\n              });\n              pipeline.videoSegmentStream.on('timingInfo', self.trigger.bind(self, 'videoTimingInfo')); // Set up the final part of the video pipeline\n\n              pipeline.h264Stream.pipe(pipeline.videoSegmentStream).pipe(pipeline.coalesceStream);\n            }\n\n            if (audioTrack && !pipeline.audioSegmentStream) {\n              // hook up the audio segment stream to the first track with aac data\n              pipeline.coalesceStream.numberOfTracks++;\n              pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options);\n              pipeline.audioSegmentStream.on('timingInfo', self.trigger.bind(self, 'audioTimingInfo')); // Set up the final part of the audio pipeline\n\n              pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n            } // emit pmt info\n\n\n            self.trigger('trackinfo', {\n              hasAudio: !!audioTrack,\n              hasVideo: !!videoTrack\n            });\n          }\n        }); // Re-emit any data coming from the coalesce stream to the outside world\n\n        pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data'));\n        pipeline.coalesceStream.on('id3Frame', function (id3Frame) {\n          id3Frame.dispatchType = pipeline.metadataStream.dispatchType;\n          self.trigger('id3Frame', id3Frame);\n        });\n        pipeline.coalesceStream.on('caption', this.trigger.bind(this, 'caption')); // Let the consumer know we have finished flushing the entire pipeline\n\n        pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n      }; // hook up the segment streams once track metadata is delivered\n\n\n      this.setBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n        var pipeline = this.transmuxPipeline_;\n\n        if (!options.keepOriginalTimestamps) {\n          this.baseMediaDecodeTime = baseMediaDecodeTime;\n        }\n\n        if (audioTrack) {\n          audioTrack.timelineStartInfo.dts = undefined;\n          audioTrack.timelineStartInfo.pts = undefined;\n          trackDecodeInfo.clearDtsInfo(audioTrack);\n\n          if (!options.keepOriginalTimestamps) {\n            audioTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n          }\n\n          if (pipeline.audioTimestampRolloverStream) {\n            pipeline.audioTimestampRolloverStream.discontinuity();\n          }\n        }\n\n        if (videoTrack) {\n          if (pipeline.videoSegmentStream) {\n            pipeline.videoSegmentStream.gopCache_ = [];\n          }\n\n          videoTrack.timelineStartInfo.dts = undefined;\n          videoTrack.timelineStartInfo.pts = undefined;\n          trackDecodeInfo.clearDtsInfo(videoTrack);\n          pipeline.captionStream.reset();\n\n          if (!options.keepOriginalTimestamps) {\n            videoTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n          }\n        }\n\n        if (pipeline.timestampRolloverStream) {\n          pipeline.timestampRolloverStream.discontinuity();\n        }\n      };\n\n      this.setAudioAppendStart = function (timestamp) {\n        if (audioTrack) {\n          this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(timestamp);\n        }\n      };\n\n      this.setRemux = function (val) {\n        var pipeline = this.transmuxPipeline_;\n        options.remux = val;\n\n        if (pipeline && pipeline.coalesceStream) {\n          pipeline.coalesceStream.setRemux(val);\n        }\n      };\n\n      this.alignGopsWith = function (gopsToAlignWith) {\n        if (videoTrack && this.transmuxPipeline_.videoSegmentStream) {\n          this.transmuxPipeline_.videoSegmentStream.alignGopsWith(gopsToAlignWith);\n        }\n      }; // feed incoming data to the front of the parsing pipeline\n\n\n      this.push = function (data) {\n        if (hasFlushed) {\n          var isAac = isLikelyAacData$1(data);\n\n          if (isAac && this.transmuxPipeline_.type !== 'aac') {\n            this.setupAacPipeline();\n          } else if (!isAac && this.transmuxPipeline_.type !== 'ts') {\n            this.setupTsPipeline();\n          }\n\n          hasFlushed = false;\n        }\n\n        this.transmuxPipeline_.headOfPipeline.push(data);\n      }; // flush any buffered data\n\n\n      this.flush = function () {\n        hasFlushed = true; // Start at the top of the pipeline and flush all pending work\n\n        this.transmuxPipeline_.headOfPipeline.flush();\n      };\n\n      this.endTimeline = function () {\n        this.transmuxPipeline_.headOfPipeline.endTimeline();\n      };\n\n      this.reset = function () {\n        if (this.transmuxPipeline_.headOfPipeline) {\n          this.transmuxPipeline_.headOfPipeline.reset();\n        }\n      }; // Caption data has to be reset when seeking outside buffered range\n\n\n      this.resetCaptions = function () {\n        if (this.transmuxPipeline_.captionStream) {\n          this.transmuxPipeline_.captionStream.reset();\n        }\n      };\n    };\n\n    _Transmuxer.prototype = new stream();\n    var transmuxer = {\n      Transmuxer: _Transmuxer,\n      VideoSegmentStream: _VideoSegmentStream,\n      AudioSegmentStream: _AudioSegmentStream,\n      AUDIO_PROPERTIES: AUDIO_PROPERTIES,\n      VIDEO_PROPERTIES: VIDEO_PROPERTIES,\n      // exported for testing\n      generateVideoSegmentTimingInfo: generateVideoSegmentTimingInfo\n    };\n\n    var classCallCheck = function classCallCheck(instance, Constructor) {\n      if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n      }\n    };\n\n    var createClass = function () {\n      function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) defineProperties(Constructor, staticProps);\n        return Constructor;\n      };\n    }();\n    /**\n     * @file transmuxer-worker.js\n     */\n\n    /**\n     * Re-emits transmuxer events by converting them into messages to the\n     * world outside the worker.\n     *\n     * @param {Object} transmuxer the transmuxer to wire events on\n     * @private\n     */\n\n\n    var wireTransmuxerEvents = function wireTransmuxerEvents(self, transmuxer$$1) {\n      transmuxer$$1.on('data', function (segment) {\n        // transfer ownership of the underlying ArrayBuffer\n        // instead of doing a copy to save memory\n        // ArrayBuffers are transferable but generic TypedArrays are not\n        // @link https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers#Passing_data_by_transferring_ownership_(transferable_objects)\n        var initArray = segment.initSegment;\n        segment.initSegment = {\n          data: initArray.buffer,\n          byteOffset: initArray.byteOffset,\n          byteLength: initArray.byteLength\n        };\n        var typedArray = segment.data;\n        segment.data = typedArray.buffer;\n        self.postMessage({\n          action: 'data',\n          segment: segment,\n          byteOffset: typedArray.byteOffset,\n          byteLength: typedArray.byteLength\n        }, [segment.data]);\n      });\n\n      if (transmuxer$$1.captionStream) {\n        transmuxer$$1.captionStream.on('data', function (caption) {\n          self.postMessage({\n            action: 'caption',\n            data: caption\n          });\n        });\n      }\n\n      transmuxer$$1.on('done', function (data) {\n        self.postMessage({\n          action: 'done'\n        });\n      });\n      transmuxer$$1.on('gopInfo', function (gopInfo) {\n        self.postMessage({\n          action: 'gopInfo',\n          gopInfo: gopInfo\n        });\n      });\n      transmuxer$$1.on('videoSegmentTimingInfo', function (videoSegmentTimingInfo) {\n        self.postMessage({\n          action: 'videoSegmentTimingInfo',\n          videoSegmentTimingInfo: videoSegmentTimingInfo\n        });\n      });\n    };\n    /**\n     * All incoming messages route through this hash. If no function exists\n     * to handle an incoming message, then we ignore the message.\n     *\n     * @class MessageHandlers\n     * @param {Object} options the options to initialize with\n     */\n\n\n    var MessageHandlers = function () {\n      function MessageHandlers(self, options) {\n        classCallCheck(this, MessageHandlers);\n        this.options = options || {};\n        this.self = self;\n        this.init();\n      }\n      /**\n       * initialize our web worker and wire all the events.\n       */\n\n\n      createClass(MessageHandlers, [{\n        key: 'init',\n        value: function init() {\n          if (this.transmuxer) {\n            this.transmuxer.dispose();\n          }\n\n          this.transmuxer = new transmuxer.Transmuxer(this.options);\n          wireTransmuxerEvents(this.self, this.transmuxer);\n        }\n        /**\n         * Adds data (a ts segment) to the start of the transmuxer pipeline for\n         * processing.\n         *\n         * @param {ArrayBuffer} data data to push into the muxer\n         */\n\n      }, {\n        key: 'push',\n        value: function push(data) {\n          // Cast array buffer to correct type for transmuxer\n          var segment = new Uint8Array(data.data, data.byteOffset, data.byteLength);\n          this.transmuxer.push(segment);\n        }\n        /**\n         * Recreate the transmuxer so that the next segment added via `push`\n         * start with a fresh transmuxer.\n         */\n\n      }, {\n        key: 'reset',\n        value: function reset() {\n          this.init();\n        }\n        /**\n         * Set the value that will be used as the `baseMediaDecodeTime` time for the\n         * next segment pushed in. Subsequent segments will have their `baseMediaDecodeTime`\n         * set relative to the first based on the PTS values.\n         *\n         * @param {Object} data used to set the timestamp offset in the muxer\n         */\n\n      }, {\n        key: 'setTimestampOffset',\n        value: function setTimestampOffset(data) {\n          var timestampOffset = data.timestampOffset || 0;\n          this.transmuxer.setBaseMediaDecodeTime(Math.round(timestampOffset * 90000));\n        }\n      }, {\n        key: 'setAudioAppendStart',\n        value: function setAudioAppendStart(data) {\n          this.transmuxer.setAudioAppendStart(Math.ceil(data.appendStart * 90000));\n        }\n        /**\n         * Forces the pipeline to finish processing the last segment and emit it's\n         * results.\n         *\n         * @param {Object} data event data, not really used\n         */\n\n      }, {\n        key: 'flush',\n        value: function flush(data) {\n          this.transmuxer.flush();\n        }\n      }, {\n        key: 'resetCaptions',\n        value: function resetCaptions() {\n          this.transmuxer.resetCaptions();\n        }\n      }, {\n        key: 'alignGopsWith',\n        value: function alignGopsWith(data) {\n          this.transmuxer.alignGopsWith(data.gopsToAlignWith.slice());\n        }\n      }]);\n      return MessageHandlers;\n    }();\n    /**\n     * Our web wroker interface so that things can talk to mux.js\n     * that will be running in a web worker. the scope is passed to this by\n     * webworkify.\n     *\n     * @param {Object} self the scope for the web worker\n     */\n\n\n    var TransmuxerWorker = function TransmuxerWorker(self) {\n      self.onmessage = function (event) {\n        if (event.data.action === 'init' && event.data.options) {\n          this.messageHandlers = new MessageHandlers(self, event.data.options);\n          return;\n        }\n\n        if (!this.messageHandlers) {\n          this.messageHandlers = new MessageHandlers(self);\n        }\n\n        if (event.data && event.data.action && event.data.action !== 'init') {\n          if (this.messageHandlers[event.data.action]) {\n            this.messageHandlers[event.data.action](event.data);\n          }\n        }\n      };\n    };\n\n    var transmuxerWorker = new TransmuxerWorker(self);\n    return transmuxerWorker;\n  }();\n});\n/**\n * @file - codecs.js - Handles tasks regarding codec strings such as translating them to\n * codec strings, or translating codec strings into objects that can be examined.\n */\n// Default codec parameters if none were provided for video and/or audio\n\nvar defaultCodecs = {\n  videoCodec: 'avc1',\n  videoObjectTypeIndicator: '.4d400d',\n  // AAC-LC\n  audioProfile: '2'\n};\n/**\n * Replace the old apple-style `avc1.<dd>.<dd>` codec string with the standard\n * `avc1.<hhhhhh>`\n *\n * @param {Array} codecs an array of codec strings to fix\n * @return {Array} the translated codec array\n * @private\n */\n\nvar translateLegacyCodecs = function translateLegacyCodecs(codecs) {\n  return codecs.map(function (codec) {\n    return codec.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function (orig, profile, avcLevel) {\n      var profileHex = ('00' + Number(profile).toString(16)).slice(-2);\n      var avcLevelHex = ('00' + Number(avcLevel).toString(16)).slice(-2);\n      return 'avc1.' + profileHex + '00' + avcLevelHex;\n    });\n  });\n};\n/**\n * Parses a codec string to retrieve the number of codecs specified,\n * the video codec and object type indicator, and the audio profile.\n */\n\n\nvar parseCodecs = function parseCodecs() {\n  var codecs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var result = {\n    codecCount: 0\n  };\n  var parsed = void 0;\n  result.codecCount = codecs.split(',').length;\n  result.codecCount = result.codecCount || 2; // parse the video codec\n\n  parsed = /(^|\\s|,)+(avc[13])([^ ,]*)/i.exec(codecs);\n\n  if (parsed) {\n    result.videoCodec = parsed[2];\n    result.videoObjectTypeIndicator = parsed[3];\n  } // parse the last field of the audio codec\n\n\n  result.audioProfile = /(^|\\s|,)+mp4a.[0-9A-Fa-f]+\\.([0-9A-Fa-f]+)/i.exec(codecs);\n  result.audioProfile = result.audioProfile && result.audioProfile[2];\n  return result;\n};\n/**\n * Replace codecs in the codec string with the old apple-style `avc1.<dd>.<dd>` to the\n * standard `avc1.<hhhhhh>`.\n *\n * @param codecString {String} the codec string\n * @return {String} the codec string with old apple-style codecs replaced\n *\n * @private\n */\n\n\nvar mapLegacyAvcCodecs = function mapLegacyAvcCodecs(codecString) {\n  return codecString.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function (match) {\n    return translateLegacyCodecs([match])[0];\n  });\n};\n/**\n * Build a media mime-type string from a set of parameters\n * @param {String} type either 'audio' or 'video'\n * @param {String} container either 'mp2t' or 'mp4'\n * @param {Array} codecs an array of codec strings to add\n * @return {String} a valid media mime-type\n */\n\n\nvar makeMimeTypeString = function makeMimeTypeString(type, container, codecs) {\n  // The codecs array is filtered so that falsey values are\n  // dropped and don't cause Array#join to create spurious\n  // commas\n  return type + '/' + container + '; codecs=\"' + codecs.filter(function (c) {\n    return !!c;\n  }).join(', ') + '\"';\n};\n/**\n * Returns the type container based on information in the playlist\n * @param {Playlist} media the current media playlist\n * @return {String} a valid media container type\n */\n\n\nvar getContainerType = function getContainerType(media) {\n  // An initialization segment means the media playlist is an iframe\n  // playlist or is using the mp4 container. We don't currently\n  // support iframe playlists, so assume this is signalling mp4\n  // fragments.\n  if (media.segments && media.segments.length && media.segments[0].map) {\n    return 'mp4';\n  }\n\n  return 'mp2t';\n};\n/**\n * Returns a set of codec strings parsed from the playlist or the default\n * codec strings if no codecs were specified in the playlist\n * @param {Playlist} media the current media playlist\n * @return {Object} an object with the video and audio codecs\n */\n\n\nvar getCodecs = function getCodecs(media) {\n  // if the codecs were explicitly specified, use them instead of the\n  // defaults\n  var mediaAttributes = media.attributes || {};\n\n  if (mediaAttributes.CODECS) {\n    return parseCodecs(mediaAttributes.CODECS);\n  }\n\n  return defaultCodecs;\n};\n\nvar audioProfileFromDefault = function audioProfileFromDefault(master, audioGroupId) {\n  if (!master.mediaGroups.AUDIO || !audioGroupId) {\n    return null;\n  }\n\n  var audioGroup = master.mediaGroups.AUDIO[audioGroupId];\n\n  if (!audioGroup) {\n    return null;\n  }\n\n  for (var name in audioGroup) {\n    var audioType = audioGroup[name];\n\n    if (audioType[\"default\"] && audioType.playlists) {\n      // codec should be the same for all playlists within the audio type\n      return parseCodecs(audioType.playlists[0].attributes.CODECS).audioProfile;\n    }\n  }\n\n  return null;\n};\n/**\n * Calculates the MIME type strings for a working configuration of\n * SourceBuffers to play variant streams in a master playlist. If\n * there is no possible working configuration, an empty array will be\n * returned.\n *\n * @param master {Object} the m3u8 object for the master playlist\n * @param media {Object} the m3u8 object for the variant playlist\n * @return {Array} the MIME type strings. If the array has more than\n * one entry, the first element should be applied to the video\n * SourceBuffer and the second to the audio SourceBuffer.\n *\n * @private\n */\n\n\nvar mimeTypesForPlaylist = function mimeTypesForPlaylist(master, media) {\n  var containerType = getContainerType(media);\n  var codecInfo = getCodecs(media);\n  var mediaAttributes = media.attributes || {}; // Default condition for a traditional HLS (no demuxed audio/video)\n\n  var isMuxed = true;\n  var isMaat = false;\n\n  if (!media) {\n    // Not enough information\n    return [];\n  }\n\n  if (master.mediaGroups.AUDIO && mediaAttributes.AUDIO) {\n    var audioGroup = master.mediaGroups.AUDIO[mediaAttributes.AUDIO]; // Handle the case where we are in a multiple-audio track scenario\n\n    if (audioGroup) {\n      isMaat = true; // Start with the everything demuxed then...\n\n      isMuxed = false; // ...check to see if any audio group tracks are muxed (ie. lacking a uri)\n\n      for (var groupId in audioGroup) {\n        // either a uri is present (if the case of HLS and an external playlist), or\n        // playlists is present (in the case of DASH where we don't have external audio\n        // playlists)\n        if (!audioGroup[groupId].uri && !audioGroup[groupId].playlists) {\n          isMuxed = true;\n          break;\n        }\n      }\n    }\n  } // HLS with multiple-audio tracks must always get an audio codec.\n  // Put another way, there is no way to have a video-only multiple-audio HLS!\n\n\n  if (isMaat && !codecInfo.audioProfile) {\n    if (!isMuxed) {\n      // It is possible for codecs to be specified on the audio media group playlist but\n      // not on the rendition playlist. This is mostly the case for DASH, where audio and\n      // video are always separate (and separately specified).\n      codecInfo.audioProfile = audioProfileFromDefault(master, mediaAttributes.AUDIO);\n    }\n\n    if (!codecInfo.audioProfile) {\n      videojs$1.log.warn('Multiple audio tracks present but no audio codec string is specified. ' + 'Attempting to use the default audio codec (mp4a.40.2)');\n      codecInfo.audioProfile = defaultCodecs.audioProfile;\n    }\n  } // Generate the final codec strings from the codec object generated above\n\n\n  var codecStrings = {};\n\n  if (codecInfo.videoCodec) {\n    codecStrings.video = '' + codecInfo.videoCodec + codecInfo.videoObjectTypeIndicator;\n  }\n\n  if (codecInfo.audioProfile) {\n    codecStrings.audio = 'mp4a.40.' + codecInfo.audioProfile;\n  } // Finally, make and return an array with proper mime-types depending on\n  // the configuration\n\n\n  var justAudio = makeMimeTypeString('audio', containerType, [codecStrings.audio]);\n  var justVideo = makeMimeTypeString('video', containerType, [codecStrings.video]);\n  var bothVideoAudio = makeMimeTypeString('video', containerType, [codecStrings.video, codecStrings.audio]);\n\n  if (isMaat) {\n    if (!isMuxed && codecStrings.video) {\n      return [justVideo, justAudio];\n    }\n\n    if (!isMuxed && !codecStrings.video) {\n      // There is no muxed content and no video codec string, so this is an audio only\n      // stream with alternate audio.\n      return [justAudio, justAudio];\n    } // There exists the possiblity that this will return a `video/container`\n    // mime-type for the first entry in the array even when there is only audio.\n    // This doesn't appear to be a problem and simplifies the code.\n\n\n    return [bothVideoAudio, justAudio];\n  } // If there is no video codec at all, always just return a single\n  // audio/<container> mime-type\n\n\n  if (!codecStrings.video) {\n    return [justAudio];\n  } // When not using separate audio media groups, audio and video is\n  // *always* muxed\n\n\n  return [bothVideoAudio];\n};\n/**\n * Parse a content type header into a type and parameters\n * object\n *\n * @param {String} type the content type header\n * @return {Object} the parsed content-type\n * @private\n */\n\n\nvar parseContentType = function parseContentType(type) {\n  var object = {\n    type: '',\n    parameters: {}\n  };\n  var parameters = type.trim().split(';'); // first parameter should always be content-type\n\n  object.type = parameters.shift().trim();\n  parameters.forEach(function (parameter) {\n    var pair = parameter.trim().split('=');\n\n    if (pair.length > 1) {\n      var name = pair[0].replace(/\"/g, '').trim();\n      var value = pair[1].replace(/\"/g, '').trim();\n      object.parameters[name] = value;\n    }\n  });\n  return object;\n};\n/**\n * Check if a codec string refers to an audio codec.\n *\n * @param {String} codec codec string to check\n * @return {Boolean} if this is an audio codec\n * @private\n */\n\n\nvar isAudioCodec = function isAudioCodec(codec) {\n  return /mp4a\\.\\d+.\\d+/i.test(codec);\n};\n/**\n * Check if a codec string refers to a video codec.\n *\n * @param {String} codec codec string to check\n * @return {Boolean} if this is a video codec\n * @private\n */\n\n\nvar isVideoCodec = function isVideoCodec(codec) {\n  return /avc1\\.[\\da-f]+/i.test(codec);\n};\n/**\n * Returns a list of gops in the buffer that have a pts value of 3 seconds or more in\n * front of current time.\n *\n * @param {Array} buffer\n *        The current buffer of gop information\n * @param {Number} currentTime\n *        The current time\n * @param {Double} mapping\n *        Offset to map display time to stream presentation time\n * @return {Array}\n *         List of gops considered safe to append over\n */\n\n\nvar gopsSafeToAlignWith = function gopsSafeToAlignWith(buffer, currentTime, mapping) {\n  if (typeof currentTime === 'undefined' || currentTime === null || !buffer.length) {\n    return [];\n  } // pts value for current time + 3 seconds to give a bit more wiggle room\n\n\n  var currentTimePts = Math.ceil((currentTime - mapping + 3) * 90000);\n  var i = void 0;\n\n  for (i = 0; i < buffer.length; i++) {\n    if (buffer[i].pts > currentTimePts) {\n      break;\n    }\n  }\n\n  return buffer.slice(i);\n};\n/**\n * Appends gop information (timing and byteLength) received by the transmuxer for the\n * gops appended in the last call to appendBuffer\n *\n * @param {Array} buffer\n *        The current buffer of gop information\n * @param {Array} gops\n *        List of new gop information\n * @param {boolean} replace\n *        If true, replace the buffer with the new gop information. If false, append the\n *        new gop information to the buffer in the right location of time.\n * @return {Array}\n *         Updated list of gop information\n */\n\n\nvar updateGopBuffer = function updateGopBuffer(buffer, gops, replace) {\n  if (!gops.length) {\n    return buffer;\n  }\n\n  if (replace) {\n    // If we are in safe append mode, then completely overwrite the gop buffer\n    // with the most recent appeneded data. This will make sure that when appending\n    // future segments, we only try to align with gops that are both ahead of current\n    // time and in the last segment appended.\n    return gops.slice();\n  }\n\n  var start = gops[0].pts;\n  var i = 0;\n\n  for (i; i < buffer.length; i++) {\n    if (buffer[i].pts >= start) {\n      break;\n    }\n  }\n\n  return buffer.slice(0, i).concat(gops);\n};\n/**\n * Removes gop information in buffer that overlaps with provided start and end\n *\n * @param {Array} buffer\n *        The current buffer of gop information\n * @param {Double} start\n *        position to start the remove at\n * @param {Double} end\n *        position to end the remove at\n * @param {Double} mapping\n *        Offset to map display time to stream presentation time\n */\n\n\nvar removeGopBuffer = function removeGopBuffer(buffer, start, end, mapping) {\n  var startPts = Math.ceil((start - mapping) * 90000);\n  var endPts = Math.ceil((end - mapping) * 90000);\n  var updatedBuffer = buffer.slice();\n  var i = buffer.length;\n\n  while (i--) {\n    if (buffer[i].pts <= endPts) {\n      break;\n    }\n  }\n\n  if (i === -1) {\n    // no removal because end of remove range is before start of buffer\n    return updatedBuffer;\n  }\n\n  var j = i + 1;\n\n  while (j--) {\n    if (buffer[j].pts <= startPts) {\n      break;\n    }\n  } // clamp remove range start to 0 index\n\n\n  j = Math.max(j, 0);\n  updatedBuffer.splice(j, i - j + 1);\n  return updatedBuffer;\n};\n\nvar buffered = function buffered(videoBuffer, audioBuffer, audioDisabled) {\n  var start = null;\n  var end = null;\n  var arity = 0;\n  var extents = [];\n  var ranges = []; // neither buffer has been created yet\n\n  if (!videoBuffer && !audioBuffer) {\n    return videojs$1.createTimeRange();\n  } // only one buffer is configured\n\n\n  if (!videoBuffer) {\n    return audioBuffer.buffered;\n  }\n\n  if (!audioBuffer) {\n    return videoBuffer.buffered;\n  } // both buffers are configured\n\n\n  if (audioDisabled) {\n    return videoBuffer.buffered;\n  } // both buffers are empty\n\n\n  if (videoBuffer.buffered.length === 0 && audioBuffer.buffered.length === 0) {\n    return videojs$1.createTimeRange();\n  } // Handle the case where we have both buffers and create an\n  // intersection of the two\n\n\n  var videoBuffered = videoBuffer.buffered;\n  var audioBuffered = audioBuffer.buffered;\n  var count = videoBuffered.length; // A) Gather up all start and end times\n\n  while (count--) {\n    extents.push({\n      time: videoBuffered.start(count),\n      type: 'start'\n    });\n    extents.push({\n      time: videoBuffered.end(count),\n      type: 'end'\n    });\n  }\n\n  count = audioBuffered.length;\n\n  while (count--) {\n    extents.push({\n      time: audioBuffered.start(count),\n      type: 'start'\n    });\n    extents.push({\n      time: audioBuffered.end(count),\n      type: 'end'\n    });\n  } // B) Sort them by time\n\n\n  extents.sort(function (a, b) {\n    return a.time - b.time;\n  }); // C) Go along one by one incrementing arity for start and decrementing\n  //    arity for ends\n\n  for (count = 0; count < extents.length; count++) {\n    if (extents[count].type === 'start') {\n      arity++; // D) If arity is ever incremented to 2 we are entering an\n      //    overlapping range\n\n      if (arity === 2) {\n        start = extents[count].time;\n      }\n    } else if (extents[count].type === 'end') {\n      arity--; // E) If arity is ever decremented to 1 we leaving an\n      //    overlapping range\n\n      if (arity === 1) {\n        end = extents[count].time;\n      }\n    } // F) Record overlapping ranges\n\n\n    if (start !== null && end !== null) {\n      ranges.push([start, end]);\n      start = null;\n      end = null;\n    }\n  }\n\n  return videojs$1.createTimeRanges(ranges);\n};\n/**\n * @file virtual-source-buffer.js\n */\n\n\nvar ONE_SECOND_IN_TS = 90000; // We create a wrapper around the SourceBuffer so that we can manage the\n// state of the `updating` property manually. We have to do this because\n// Firefox changes `updating` to false long before triggering `updateend`\n// events and that was causing strange problems in videojs-contrib-hls\n\nvar makeWrappedSourceBuffer = function makeWrappedSourceBuffer(mediaSource, mimeType) {\n  var sourceBuffer = mediaSource.addSourceBuffer(mimeType);\n  var wrapper = Object.create(null);\n  wrapper.updating = false;\n  wrapper.realBuffer_ = sourceBuffer;\n\n  var _loop = function _loop(key) {\n    if (typeof sourceBuffer[key] === 'function') {\n      wrapper[key] = function () {\n        return sourceBuffer[key].apply(sourceBuffer, arguments);\n      };\n    } else if (typeof wrapper[key] === 'undefined') {\n      Object.defineProperty(wrapper, key, {\n        get: function get$$1() {\n          return sourceBuffer[key];\n        },\n        set: function set$$1(v) {\n          return sourceBuffer[key] = v;\n        }\n      });\n    }\n  };\n\n  for (var key in sourceBuffer) {\n    _loop(key);\n  }\n\n  return wrapper;\n};\n/**\n * VirtualSourceBuffers exist so that we can transmux non native formats\n * into a native format, but keep the same api as a native source buffer.\n * It creates a transmuxer, that works in its own thread (a web worker) and\n * that transmuxer muxes the data into a native format. VirtualSourceBuffer will\n * then send all of that data to the naive sourcebuffer so that it is\n * indestinguishable from a natively supported format.\n *\n * @param {HtmlMediaSource} mediaSource the parent mediaSource\n * @param {Array} codecs array of codecs that we will be dealing with\n * @class VirtualSourceBuffer\n * @extends video.js.EventTarget\n */\n\n\nvar VirtualSourceBuffer = function (_videojs$EventTarget) {\n  inherits(VirtualSourceBuffer, _videojs$EventTarget);\n\n  function VirtualSourceBuffer(mediaSource, codecs) {\n    classCallCheck(this, VirtualSourceBuffer);\n\n    var _this = possibleConstructorReturn(this, (VirtualSourceBuffer.__proto__ || Object.getPrototypeOf(VirtualSourceBuffer)).call(this, videojs$1.EventTarget));\n\n    _this.timestampOffset_ = 0;\n    _this.pendingBuffers_ = [];\n    _this.bufferUpdating_ = false;\n    _this.mediaSource_ = mediaSource;\n    _this.codecs_ = codecs;\n    _this.audioCodec_ = null;\n    _this.videoCodec_ = null;\n    _this.audioDisabled_ = false;\n    _this.appendAudioInitSegment_ = true;\n    _this.gopBuffer_ = [];\n    _this.timeMapping_ = 0;\n    _this.safeAppend_ = videojs$1.browser.IE_VERSION >= 11;\n    var options = {\n      remux: false,\n      alignGopsAtEnd: _this.safeAppend_\n    };\n\n    _this.codecs_.forEach(function (codec) {\n      if (isAudioCodec(codec)) {\n        _this.audioCodec_ = codec;\n      } else if (isVideoCodec(codec)) {\n        _this.videoCodec_ = codec;\n      }\n    }); // append muxed segments to their respective native buffers as\n    // soon as they are available\n\n\n    _this.transmuxer_ = new TransmuxWorker();\n\n    _this.transmuxer_.postMessage({\n      action: 'init',\n      options: options\n    });\n\n    _this.transmuxer_.onmessage = function (event) {\n      if (event.data.action === 'data') {\n        return _this.data_(event);\n      }\n\n      if (event.data.action === 'done') {\n        return _this.done_(event);\n      }\n\n      if (event.data.action === 'gopInfo') {\n        return _this.appendGopInfo_(event);\n      }\n\n      if (event.data.action === 'videoSegmentTimingInfo') {\n        return _this.videoSegmentTimingInfo_(event.data.videoSegmentTimingInfo);\n      }\n    }; // this timestampOffset is a property with the side-effect of resetting\n    // baseMediaDecodeTime in the transmuxer on the setter\n\n\n    Object.defineProperty(_this, 'timestampOffset', {\n      get: function get$$1() {\n        return this.timestampOffset_;\n      },\n      set: function set$$1(val) {\n        if (typeof val === 'number' && val >= 0) {\n          this.timestampOffset_ = val;\n          this.appendAudioInitSegment_ = true; // reset gop buffer on timestampoffset as this signals a change in timeline\n\n          this.gopBuffer_.length = 0;\n          this.timeMapping_ = 0; // We have to tell the transmuxer to set the baseMediaDecodeTime to\n          // the desired timestampOffset for the next segment\n\n          this.transmuxer_.postMessage({\n            action: 'setTimestampOffset',\n            timestampOffset: val\n          });\n        }\n      }\n    }); // setting the append window affects both source buffers\n\n    Object.defineProperty(_this, 'appendWindowStart', {\n      get: function get$$1() {\n        return (this.videoBuffer_ || this.audioBuffer_).appendWindowStart;\n      },\n      set: function set$$1(start) {\n        if (this.videoBuffer_) {\n          this.videoBuffer_.appendWindowStart = start;\n        }\n\n        if (this.audioBuffer_) {\n          this.audioBuffer_.appendWindowStart = start;\n        }\n      }\n    }); // this buffer is \"updating\" if either of its native buffers are\n\n    Object.defineProperty(_this, 'updating', {\n      get: function get$$1() {\n        return !!(this.bufferUpdating_ || !this.audioDisabled_ && this.audioBuffer_ && this.audioBuffer_.updating || this.videoBuffer_ && this.videoBuffer_.updating);\n      }\n    }); // the buffered property is the intersection of the buffered\n    // ranges of the native source buffers\n\n    Object.defineProperty(_this, 'buffered', {\n      get: function get$$1() {\n        return buffered(this.videoBuffer_, this.audioBuffer_, this.audioDisabled_);\n      }\n    });\n    return _this;\n  }\n  /**\n   * When we get a data event from the transmuxer\n   * we call this function and handle the data that\n   * was sent to us\n   *\n   * @private\n   * @param {Event} event the data event from the transmuxer\n   */\n\n\n  createClass(VirtualSourceBuffer, [{\n    key: 'data_',\n    value: function data_(event) {\n      var segment = event.data.segment; // Cast ArrayBuffer to TypedArray\n\n      segment.data = new Uint8Array(segment.data, event.data.byteOffset, event.data.byteLength);\n      segment.initSegment = new Uint8Array(segment.initSegment.data, segment.initSegment.byteOffset, segment.initSegment.byteLength);\n      createTextTracksIfNecessary(this, this.mediaSource_, segment); // Add the segments to the pendingBuffers array\n\n      this.pendingBuffers_.push(segment);\n      return;\n    }\n    /**\n     * When we get a done event from the transmuxer\n     * we call this function and we process all\n     * of the pending data that we have been saving in the\n     * data_ function\n     *\n     * @private\n     * @param {Event} event the done event from the transmuxer\n     */\n\n  }, {\n    key: 'done_',\n    value: function done_(event) {\n      // Don't process and append data if the mediaSource is closed\n      if (this.mediaSource_.readyState === 'closed') {\n        this.pendingBuffers_.length = 0;\n        return;\n      } // All buffers should have been flushed from the muxer\n      // start processing anything we have received\n\n\n      this.processPendingSegments_();\n      return;\n    }\n  }, {\n    key: 'videoSegmentTimingInfo_',\n    value: function videoSegmentTimingInfo_(timingInfo) {\n      var timingInfoInSeconds = {\n        start: {\n          decode: timingInfo.start.dts / ONE_SECOND_IN_TS,\n          presentation: timingInfo.start.pts / ONE_SECOND_IN_TS\n        },\n        end: {\n          decode: timingInfo.end.dts / ONE_SECOND_IN_TS,\n          presentation: timingInfo.end.pts / ONE_SECOND_IN_TS\n        },\n        baseMediaDecodeTime: timingInfo.baseMediaDecodeTime / ONE_SECOND_IN_TS\n      };\n\n      if (timingInfo.prependedContentDuration) {\n        timingInfoInSeconds.prependedContentDuration = timingInfo.prependedContentDuration / ONE_SECOND_IN_TS;\n      }\n\n      this.trigger({\n        type: 'videoSegmentTimingInfo',\n        videoSegmentTimingInfo: timingInfoInSeconds\n      });\n    }\n    /**\n     * Create our internal native audio/video source buffers and add\n     * event handlers to them with the following conditions:\n     * 1. they do not already exist on the mediaSource\n     * 2. this VSB has a codec for them\n     *\n     * @private\n     */\n\n  }, {\n    key: 'createRealSourceBuffers_',\n    value: function createRealSourceBuffers_() {\n      var _this2 = this;\n\n      var types = ['audio', 'video'];\n      types.forEach(function (type) {\n        // Don't create a SourceBuffer of this type if we don't have a\n        // codec for it\n        if (!_this2[type + 'Codec_']) {\n          return;\n        } // Do nothing if a SourceBuffer of this type already exists\n\n\n        if (_this2[type + 'Buffer_']) {\n          return;\n        }\n\n        var buffer = null; // If the mediasource already has a SourceBuffer for the codec\n        // use that\n\n        if (_this2.mediaSource_[type + 'Buffer_']) {\n          buffer = _this2.mediaSource_[type + 'Buffer_']; // In multiple audio track cases, the audio source buffer is disabled\n          // on the main VirtualSourceBuffer by the HTMLMediaSource much earlier\n          // than createRealSourceBuffers_ is called to create the second\n          // VirtualSourceBuffer because that happens as a side-effect of\n          // videojs-contrib-hls starting the audioSegmentLoader. As a result,\n          // the audioBuffer is essentially \"ownerless\" and no one will toggle\n          // the `updating` state back to false once the `updateend` event is received\n          //\n          // Setting `updating` to false manually will work around this\n          // situation and allow work to continue\n\n          buffer.updating = false;\n        } else {\n          var codecProperty = type + 'Codec_';\n          var mimeType = type + '/mp4;codecs=\"' + _this2[codecProperty] + '\"';\n          buffer = makeWrappedSourceBuffer(_this2.mediaSource_.nativeMediaSource_, mimeType);\n          _this2.mediaSource_[type + 'Buffer_'] = buffer;\n        }\n\n        _this2[type + 'Buffer_'] = buffer; // Wire up the events to the SourceBuffer\n\n        ['update', 'updatestart', 'updateend'].forEach(function (event) {\n          buffer.addEventListener(event, function () {\n            // if audio is disabled\n            if (type === 'audio' && _this2.audioDisabled_) {\n              return;\n            }\n\n            if (event === 'updateend') {\n              _this2[type + 'Buffer_'].updating = false;\n            }\n\n            var shouldTrigger = types.every(function (t) {\n              // skip checking audio's updating status if audio\n              // is not enabled\n              if (t === 'audio' && _this2.audioDisabled_) {\n                return true;\n              } // if the other type is updating we don't trigger\n\n\n              if (type !== t && _this2[t + 'Buffer_'] && _this2[t + 'Buffer_'].updating) {\n                return false;\n              }\n\n              return true;\n            });\n\n            if (shouldTrigger) {\n              return _this2.trigger(event);\n            }\n          });\n        });\n      });\n    }\n    /**\n     * Emulate the native mediasource function, but our function will\n     * send all of the proposed segments to the transmuxer so that we\n     * can transmux them before we append them to our internal\n     * native source buffers in the correct format.\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/appendBuffer\n     * @param {Uint8Array} segment the segment to append to the buffer\n     */\n\n  }, {\n    key: 'appendBuffer',\n    value: function appendBuffer(segment) {\n      // Start the internal \"updating\" state\n      this.bufferUpdating_ = true;\n\n      if (this.audioBuffer_ && this.audioBuffer_.buffered.length) {\n        var audioBuffered = this.audioBuffer_.buffered;\n        this.transmuxer_.postMessage({\n          action: 'setAudioAppendStart',\n          appendStart: audioBuffered.end(audioBuffered.length - 1)\n        });\n      }\n\n      if (this.videoBuffer_) {\n        this.transmuxer_.postMessage({\n          action: 'alignGopsWith',\n          gopsToAlignWith: gopsSafeToAlignWith(this.gopBuffer_, this.mediaSource_.player_ ? this.mediaSource_.player_.currentTime() : null, this.timeMapping_)\n        });\n      }\n\n      this.transmuxer_.postMessage({\n        action: 'push',\n        // Send the typed-array of data as an ArrayBuffer so that\n        // it can be sent as a \"Transferable\" and avoid the costly\n        // memory copy\n        data: segment.buffer,\n        // To recreate the original typed-array, we need information\n        // about what portion of the ArrayBuffer it was a view into\n        byteOffset: segment.byteOffset,\n        byteLength: segment.byteLength\n      }, [segment.buffer]);\n      this.transmuxer_.postMessage({\n        action: 'flush'\n      });\n    }\n    /**\n     * Appends gop information (timing and byteLength) received by the transmuxer for the\n     * gops appended in the last call to appendBuffer\n     *\n     * @param {Event} event\n     *        The gopInfo event from the transmuxer\n     * @param {Array} event.data.gopInfo\n     *        List of gop info to append\n     */\n\n  }, {\n    key: 'appendGopInfo_',\n    value: function appendGopInfo_(event) {\n      this.gopBuffer_ = updateGopBuffer(this.gopBuffer_, event.data.gopInfo, this.safeAppend_);\n    }\n    /**\n     * Emulate the native mediasource function and remove parts\n     * of the buffer from any of our internal buffers that exist\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/remove\n     * @param {Double} start position to start the remove at\n     * @param {Double} end position to end the remove at\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(start, end) {\n      if (this.videoBuffer_) {\n        this.videoBuffer_.updating = true;\n        this.videoBuffer_.remove(start, end);\n        this.gopBuffer_ = removeGopBuffer(this.gopBuffer_, start, end, this.timeMapping_);\n      }\n\n      if (!this.audioDisabled_ && this.audioBuffer_) {\n        this.audioBuffer_.updating = true;\n        this.audioBuffer_.remove(start, end);\n      } // Remove Metadata Cues (id3)\n\n\n      removeCuesFromTrack(start, end, this.metadataTrack_); // Remove Any Captions\n\n      if (this.inbandTextTracks_) {\n        for (var track in this.inbandTextTracks_) {\n          removeCuesFromTrack(start, end, this.inbandTextTracks_[track]);\n        }\n      }\n    }\n    /**\n     * Process any segments that the muxer has output\n     * Concatenate segments together based on type and append them into\n     * their respective sourceBuffers\n     *\n     * @private\n     */\n\n  }, {\n    key: 'processPendingSegments_',\n    value: function processPendingSegments_() {\n      var sortedSegments = {\n        video: {\n          segments: [],\n          bytes: 0\n        },\n        audio: {\n          segments: [],\n          bytes: 0\n        },\n        captions: [],\n        metadata: []\n      };\n\n      if (!this.pendingBuffers_.length) {\n        // We are no longer in the internal \"updating\" state\n        this.trigger('updateend');\n        this.bufferUpdating_ = false;\n        return;\n      } // Sort segments into separate video/audio arrays and\n      // keep track of their total byte lengths\n\n\n      sortedSegments = this.pendingBuffers_.reduce(function (segmentObj, segment) {\n        var type = segment.type;\n        var data = segment.data;\n        var initSegment = segment.initSegment;\n        segmentObj[type].segments.push(data);\n        segmentObj[type].bytes += data.byteLength;\n        segmentObj[type].initSegment = initSegment; // Gather any captions into a single array\n\n        if (segment.captions) {\n          segmentObj.captions = segmentObj.captions.concat(segment.captions);\n        }\n\n        if (segment.info) {\n          segmentObj[type].info = segment.info;\n        } // Gather any metadata into a single array\n\n\n        if (segment.metadata) {\n          segmentObj.metadata = segmentObj.metadata.concat(segment.metadata);\n        }\n\n        return segmentObj;\n      }, sortedSegments); // Create the real source buffers if they don't exist by now since we\n      // finally are sure what tracks are contained in the source\n\n      if (!this.videoBuffer_ && !this.audioBuffer_) {\n        // Remove any codecs that may have been specified by default but\n        // are no longer applicable now\n        if (sortedSegments.video.bytes === 0) {\n          this.videoCodec_ = null;\n        }\n\n        if (sortedSegments.audio.bytes === 0) {\n          this.audioCodec_ = null;\n        }\n\n        this.createRealSourceBuffers_();\n      }\n\n      if (sortedSegments.audio.info) {\n        this.mediaSource_.trigger({\n          type: 'audioinfo',\n          info: sortedSegments.audio.info\n        });\n      }\n\n      if (sortedSegments.video.info) {\n        this.mediaSource_.trigger({\n          type: 'videoinfo',\n          info: sortedSegments.video.info\n        });\n      }\n\n      if (this.appendAudioInitSegment_) {\n        if (!this.audioDisabled_ && this.audioBuffer_) {\n          sortedSegments.audio.segments.unshift(sortedSegments.audio.initSegment);\n          sortedSegments.audio.bytes += sortedSegments.audio.initSegment.byteLength;\n        }\n\n        this.appendAudioInitSegment_ = false;\n      }\n\n      var triggerUpdateend = false; // Merge multiple video and audio segments into one and append\n\n      if (this.videoBuffer_ && sortedSegments.video.bytes) {\n        sortedSegments.video.segments.unshift(sortedSegments.video.initSegment);\n        sortedSegments.video.bytes += sortedSegments.video.initSegment.byteLength;\n        this.concatAndAppendSegments_(sortedSegments.video, this.videoBuffer_);\n      } else if (this.videoBuffer_ && (this.audioDisabled_ || !this.audioBuffer_)) {\n        // The transmuxer did not return any bytes of video, meaning it was all trimmed\n        // for gop alignment. Since we have a video buffer and audio is disabled, updateend\n        // will never be triggered by this source buffer, which will cause contrib-hls\n        // to be stuck forever waiting for updateend. If audio is not disabled, updateend\n        // will be triggered by the audio buffer, which will be sent upwards since the video\n        // buffer will not be in an updating state.\n        triggerUpdateend = true;\n      } // Add text-track data for all\n\n\n      addTextTrackData(this, sortedSegments.captions, sortedSegments.metadata);\n\n      if (!this.audioDisabled_ && this.audioBuffer_) {\n        this.concatAndAppendSegments_(sortedSegments.audio, this.audioBuffer_);\n      }\n\n      this.pendingBuffers_.length = 0;\n\n      if (triggerUpdateend) {\n        this.trigger('updateend');\n      } // We are no longer in the internal \"updating\" state\n\n\n      this.bufferUpdating_ = false;\n    }\n    /**\n     * Combine all segments into a single Uint8Array and then append them\n     * to the destination buffer\n     *\n     * @param {Object} segmentObj\n     * @param {SourceBuffer} destinationBuffer native source buffer to append data to\n     * @private\n     */\n\n  }, {\n    key: 'concatAndAppendSegments_',\n    value: function concatAndAppendSegments_(segmentObj, destinationBuffer) {\n      var offset = 0;\n      var tempBuffer = void 0;\n\n      if (segmentObj.bytes) {\n        tempBuffer = new Uint8Array(segmentObj.bytes); // Combine the individual segments into one large typed-array\n\n        segmentObj.segments.forEach(function (segment) {\n          tempBuffer.set(segment, offset);\n          offset += segment.byteLength;\n        });\n\n        try {\n          destinationBuffer.updating = true;\n          destinationBuffer.appendBuffer(tempBuffer);\n        } catch (error) {\n          if (this.mediaSource_.player_) {\n            this.mediaSource_.player_.error({\n              code: -3,\n              type: 'APPEND_BUFFER_ERR',\n              message: error.message,\n              originalError: error\n            });\n          }\n        }\n      }\n    }\n    /**\n     * Emulate the native mediasource function. abort any soureBuffer\n     * actions and throw out any un-appended data.\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/abort\n     */\n\n  }, {\n    key: 'abort',\n    value: function abort() {\n      if (this.videoBuffer_) {\n        this.videoBuffer_.abort();\n      }\n\n      if (!this.audioDisabled_ && this.audioBuffer_) {\n        this.audioBuffer_.abort();\n      }\n\n      if (this.transmuxer_) {\n        this.transmuxer_.postMessage({\n          action: 'reset'\n        });\n      }\n\n      this.pendingBuffers_.length = 0;\n      this.bufferUpdating_ = false;\n    }\n  }]);\n  return VirtualSourceBuffer;\n}(videojs$1.EventTarget);\n/**\n * @file html-media-source.js\n */\n\n/**\n * Our MediaSource implementation in HTML, mimics native\n * MediaSource where/if possible.\n *\n * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource\n * @class HtmlMediaSource\n * @extends videojs.EventTarget\n */\n\n\nvar HtmlMediaSource = function (_videojs$EventTarget) {\n  inherits(HtmlMediaSource, _videojs$EventTarget);\n\n  function HtmlMediaSource() {\n    classCallCheck(this, HtmlMediaSource);\n\n    var _this = possibleConstructorReturn(this, (HtmlMediaSource.__proto__ || Object.getPrototypeOf(HtmlMediaSource)).call(this));\n\n    var property = void 0;\n    _this.nativeMediaSource_ = new window$1.MediaSource(); // delegate to the native MediaSource's methods by default\n\n    for (property in _this.nativeMediaSource_) {\n      if (!(property in HtmlMediaSource.prototype) && typeof _this.nativeMediaSource_[property] === 'function') {\n        _this[property] = _this.nativeMediaSource_[property].bind(_this.nativeMediaSource_);\n      }\n    } // emulate `duration` and `seekable` until seeking can be\n    // handled uniformly for live streams\n    // see https://github.com/w3c/media-source/issues/5\n\n\n    _this.duration_ = NaN;\n    Object.defineProperty(_this, 'duration', {\n      get: function get$$1() {\n        if (this.duration_ === Infinity) {\n          return this.duration_;\n        }\n\n        return this.nativeMediaSource_.duration;\n      },\n      set: function set$$1(duration) {\n        this.duration_ = duration;\n\n        if (duration !== Infinity) {\n          this.nativeMediaSource_.duration = duration;\n          return;\n        }\n      }\n    });\n    Object.defineProperty(_this, 'seekable', {\n      get: function get$$1() {\n        if (this.duration_ === Infinity) {\n          return videojs$1.createTimeRanges([[0, this.nativeMediaSource_.duration]]);\n        }\n\n        return this.nativeMediaSource_.seekable;\n      }\n    });\n    Object.defineProperty(_this, 'readyState', {\n      get: function get$$1() {\n        return this.nativeMediaSource_.readyState;\n      }\n    });\n    Object.defineProperty(_this, 'activeSourceBuffers', {\n      get: function get$$1() {\n        return this.activeSourceBuffers_;\n      }\n    }); // the list of virtual and native SourceBuffers created by this\n    // MediaSource\n\n    _this.sourceBuffers = [];\n    _this.activeSourceBuffers_ = [];\n    /**\n     * update the list of active source buffers based upon various\n     * imformation from HLS and video.js\n     *\n     * @private\n     */\n\n    _this.updateActiveSourceBuffers_ = function () {\n      // Retain the reference but empty the array\n      _this.activeSourceBuffers_.length = 0; // If there is only one source buffer, then it will always be active and audio will\n      // be disabled based on the codec of the source buffer\n\n      if (_this.sourceBuffers.length === 1) {\n        var sourceBuffer = _this.sourceBuffers[0];\n        sourceBuffer.appendAudioInitSegment_ = true;\n        sourceBuffer.audioDisabled_ = !sourceBuffer.audioCodec_;\n\n        _this.activeSourceBuffers_.push(sourceBuffer);\n\n        return;\n      } // There are 2 source buffers, a combined (possibly video only) source buffer and\n      // and an audio only source buffer.\n      // By default, the audio in the combined virtual source buffer is enabled\n      // and the audio-only source buffer (if it exists) is disabled.\n\n\n      var disableCombined = false;\n      var disableAudioOnly = true; // TODO: maybe we can store the sourcebuffers on the track objects?\n      // safari may do something like this\n\n      for (var i = 0; i < _this.player_.audioTracks().length; i++) {\n        var track = _this.player_.audioTracks()[i];\n\n        if (track.enabled && track.kind !== 'main') {\n          // The enabled track is an alternate audio track so disable the audio in\n          // the combined source buffer and enable the audio-only source buffer.\n          disableCombined = true;\n          disableAudioOnly = false;\n          break;\n        }\n      }\n\n      _this.sourceBuffers.forEach(function (sourceBuffer, index) {\n        /* eslinst-disable */\n        // TODO once codecs are required, we can switch to using the codecs to determine\n        //      what stream is the video stream, rather than relying on videoTracks\n\n        /* eslinst-enable */\n        sourceBuffer.appendAudioInitSegment_ = true;\n\n        if (sourceBuffer.videoCodec_ && sourceBuffer.audioCodec_) {\n          // combined\n          sourceBuffer.audioDisabled_ = disableCombined;\n        } else if (sourceBuffer.videoCodec_ && !sourceBuffer.audioCodec_) {\n          // If the \"combined\" source buffer is video only, then we do not want\n          // disable the audio-only source buffer (this is mostly for demuxed\n          // audio and video hls)\n          sourceBuffer.audioDisabled_ = true;\n          disableAudioOnly = false;\n        } else if (!sourceBuffer.videoCodec_ && sourceBuffer.audioCodec_) {\n          // audio only\n          // In the case of audio only with alternate audio and disableAudioOnly is true\n          // this means we want to disable the audio on the alternate audio sourcebuffer\n          // but not the main \"combined\" source buffer. The \"combined\" source buffer is\n          // always at index 0, so this ensures audio won't be disabled in both source\n          // buffers.\n          sourceBuffer.audioDisabled_ = index ? disableAudioOnly : !disableAudioOnly;\n\n          if (sourceBuffer.audioDisabled_) {\n            return;\n          }\n        }\n\n        _this.activeSourceBuffers_.push(sourceBuffer);\n      });\n    };\n\n    _this.onPlayerMediachange_ = function () {\n      _this.sourceBuffers.forEach(function (sourceBuffer) {\n        sourceBuffer.appendAudioInitSegment_ = true;\n      });\n    };\n\n    _this.onHlsReset_ = function () {\n      _this.sourceBuffers.forEach(function (sourceBuffer) {\n        if (sourceBuffer.transmuxer_) {\n          sourceBuffer.transmuxer_.postMessage({\n            action: 'resetCaptions'\n          });\n        }\n      });\n    };\n\n    _this.onHlsSegmentTimeMapping_ = function (event) {\n      _this.sourceBuffers.forEach(function (buffer) {\n        return buffer.timeMapping_ = event.mapping;\n      });\n    }; // Re-emit MediaSource events on the polyfill\n\n\n    ['sourceopen', 'sourceclose', 'sourceended'].forEach(function (eventName) {\n      this.nativeMediaSource_.addEventListener(eventName, this.trigger.bind(this));\n    }, _this); // capture the associated player when the MediaSource is\n    // successfully attached\n\n    _this.on('sourceopen', function (event) {\n      // Get the player this MediaSource is attached to\n      var video = document.querySelector('[src=\"' + _this.url_ + '\"]');\n\n      if (!video) {\n        return;\n      }\n\n      _this.player_ = videojs$1(video.parentNode);\n\n      if (!_this.player_) {\n        return;\n      } // hls-reset is fired by videojs.Hls on to the tech after the main SegmentLoader\n      // resets its state and flushes the buffer\n\n\n      _this.player_.tech_.on('hls-reset', _this.onHlsReset_); // hls-segment-time-mapping is fired by videojs.Hls on to the tech after the main\n      // SegmentLoader inspects an MTS segment and has an accurate stream to display\n      // time mapping\n\n\n      _this.player_.tech_.on('hls-segment-time-mapping', _this.onHlsSegmentTimeMapping_);\n\n      if (_this.player_.audioTracks && _this.player_.audioTracks()) {\n        _this.player_.audioTracks().on('change', _this.updateActiveSourceBuffers_);\n\n        _this.player_.audioTracks().on('addtrack', _this.updateActiveSourceBuffers_);\n\n        _this.player_.audioTracks().on('removetrack', _this.updateActiveSourceBuffers_);\n      }\n\n      _this.player_.on('mediachange', _this.onPlayerMediachange_);\n    });\n\n    _this.on('sourceended', function (event) {\n      var duration = durationOfVideo(_this.duration);\n\n      for (var i = 0; i < _this.sourceBuffers.length; i++) {\n        var sourcebuffer = _this.sourceBuffers[i];\n        var cues = sourcebuffer.metadataTrack_ && sourcebuffer.metadataTrack_.cues;\n\n        if (cues && cues.length) {\n          cues[cues.length - 1].endTime = duration;\n        }\n      }\n    }); // explicitly terminate any WebWorkers that were created\n    // by SourceHandlers\n\n\n    _this.on('sourceclose', function (event) {\n      this.sourceBuffers.forEach(function (sourceBuffer) {\n        if (sourceBuffer.transmuxer_) {\n          sourceBuffer.transmuxer_.terminate();\n        }\n      });\n      this.sourceBuffers.length = 0;\n\n      if (!this.player_) {\n        return;\n      }\n\n      if (this.player_.audioTracks && this.player_.audioTracks()) {\n        this.player_.audioTracks().off('change', this.updateActiveSourceBuffers_);\n        this.player_.audioTracks().off('addtrack', this.updateActiveSourceBuffers_);\n        this.player_.audioTracks().off('removetrack', this.updateActiveSourceBuffers_);\n      } // We can only change this if the player hasn't been disposed of yet\n      // because `off` eventually tries to use the el_ property. If it has\n      // been disposed of, then don't worry about it because there are no\n      // event handlers left to unbind anyway\n\n\n      if (this.player_.el_) {\n        this.player_.off('mediachange', this.onPlayerMediachange_);\n      }\n\n      if (this.player_.tech_ && this.player_.tech_.el_) {\n        this.player_.tech_.off('hls-reset', this.onHlsReset_);\n        this.player_.tech_.off('hls-segment-time-mapping', this.onHlsSegmentTimeMapping_);\n      }\n    });\n\n    return _this;\n  }\n  /**\n   * Add a range that that can now be seeked to.\n   *\n   * @param {Double} start where to start the addition\n   * @param {Double} end where to end the addition\n   * @private\n   */\n\n\n  createClass(HtmlMediaSource, [{\n    key: 'addSeekableRange_',\n    value: function addSeekableRange_(start, end) {\n      var error = void 0;\n\n      if (this.duration !== Infinity) {\n        error = new Error('MediaSource.addSeekableRange() can only be invoked ' + 'when the duration is Infinity');\n        error.name = 'InvalidStateError';\n        error.code = 11;\n        throw error;\n      }\n\n      if (end > this.nativeMediaSource_.duration || isNaN(this.nativeMediaSource_.duration)) {\n        this.nativeMediaSource_.duration = end;\n      }\n    }\n    /**\n     * Add a source buffer to the media source.\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/addSourceBuffer\n     * @param {String} type the content-type of the content\n     * @return {Object} the created source buffer\n     */\n\n  }, {\n    key: 'addSourceBuffer',\n    value: function addSourceBuffer(type) {\n      var buffer = void 0;\n      var parsedType = parseContentType(type); // Create a VirtualSourceBuffer to transmux MPEG-2 transport\n      // stream segments into fragmented MP4s\n\n      if (/^(video|audio)\\/mp2t$/i.test(parsedType.type)) {\n        var codecs = [];\n\n        if (parsedType.parameters && parsedType.parameters.codecs) {\n          codecs = parsedType.parameters.codecs.split(',');\n          codecs = translateLegacyCodecs(codecs);\n          codecs = codecs.filter(function (codec) {\n            return isAudioCodec(codec) || isVideoCodec(codec);\n          });\n        }\n\n        if (codecs.length === 0) {\n          codecs = ['avc1.4d400d', 'mp4a.40.2'];\n        }\n\n        buffer = new VirtualSourceBuffer(this, codecs);\n\n        if (this.sourceBuffers.length !== 0) {\n          // If another VirtualSourceBuffer already exists, then we are creating a\n          // SourceBuffer for an alternate audio track and therefore we know that\n          // the source has both an audio and video track.\n          // That means we should trigger the manual creation of the real\n          // SourceBuffers instead of waiting for the transmuxer to return data\n          this.sourceBuffers[0].createRealSourceBuffers_();\n          buffer.createRealSourceBuffers_(); // Automatically disable the audio on the first source buffer if\n          // a second source buffer is ever created\n\n          this.sourceBuffers[0].audioDisabled_ = true;\n        }\n      } else {\n        // delegate to the native implementation\n        buffer = this.nativeMediaSource_.addSourceBuffer(type);\n      }\n\n      this.sourceBuffers.push(buffer);\n      return buffer;\n    }\n  }]);\n  return HtmlMediaSource;\n}(videojs$1.EventTarget);\n/**\n * @file videojs-contrib-media-sources.js\n */\n\n\nvar urlCount = 0; // ------------\n// Media Source\n// ------------\n// store references to the media sources so they can be connected\n// to a video element (a swf object)\n// TODO: can we store this somewhere local to this module?\n\nvideojs$1.mediaSources = {};\n/**\n * Provide a method for a swf object to notify JS that a\n * media source is now open.\n *\n * @param {String} msObjectURL string referencing the MSE Object URL\n * @param {String} swfId the swf id\n */\n\nvar open = function open(msObjectURL, swfId) {\n  var mediaSource = videojs$1.mediaSources[msObjectURL];\n\n  if (mediaSource) {\n    mediaSource.trigger({\n      type: 'sourceopen',\n      swfId: swfId\n    });\n  } else {\n    throw new Error('Media Source not found (Video.js)');\n  }\n};\n/**\n * Check to see if the native MediaSource object exists and supports\n * an MP4 container with both H.264 video and AAC-LC audio.\n *\n * @return {Boolean} if  native media sources are supported\n */\n\n\nvar supportsNativeMediaSources = function supportsNativeMediaSources() {\n  return !!window$1.MediaSource && !!window$1.MediaSource.isTypeSupported && window$1.MediaSource.isTypeSupported('video/mp4;codecs=\"avc1.4d400d,mp4a.40.2\"');\n};\n/**\n * An emulation of the MediaSource API so that we can support\n * native and non-native functionality. returns an instance of\n * HtmlMediaSource.\n *\n * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/MediaSource\n */\n\n\nvar MediaSource = function MediaSource() {\n  this.MediaSource = {\n    open: open,\n    supportsNativeMediaSources: supportsNativeMediaSources\n  };\n\n  if (supportsNativeMediaSources()) {\n    return new HtmlMediaSource();\n  }\n\n  throw new Error('Cannot use create a virtual MediaSource for this video');\n};\n\nMediaSource.open = open;\nMediaSource.supportsNativeMediaSources = supportsNativeMediaSources;\n/**\n * A wrapper around the native URL for our MSE object\n * implementation, this object is exposed under videojs.URL\n *\n * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/URL\n */\n\nvar URL$1 = {\n  /**\n   * A wrapper around the native createObjectURL for our objects.\n   * This function maps a native or emulated mediaSource to a blob\n   * url so that it can be loaded into video.js\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n   * @param {MediaSource} object the object to create a blob url to\n   */\n  createObjectURL: function createObjectURL(object) {\n    var objectUrlPrefix = 'blob:vjs-media-source/';\n    var url = void 0; // use the native MediaSource to generate an object URL\n\n    if (object instanceof HtmlMediaSource) {\n      url = window$1.URL.createObjectURL(object.nativeMediaSource_);\n      object.url_ = url;\n      return url;\n    } // if the object isn't an emulated MediaSource, delegate to the\n    // native implementation\n\n\n    if (!(object instanceof HtmlMediaSource)) {\n      url = window$1.URL.createObjectURL(object);\n      object.url_ = url;\n      return url;\n    } // build a URL that can be used to map back to the emulated\n    // MediaSource\n\n\n    url = objectUrlPrefix + urlCount;\n    urlCount++; // setup the mapping back to object\n\n    videojs$1.mediaSources[url] = object;\n    return url;\n  }\n};\nvideojs$1.MediaSource = MediaSource;\nvideojs$1.URL = URL$1;\nvar EventTarget$1$1 = videojs$1.EventTarget,\n    mergeOptions$2 = videojs$1.mergeOptions;\n/**\n * Returns a new master manifest that is the result of merging an updated master manifest\n * into the original version.\n *\n * @param {Object} oldMaster\n *        The old parsed mpd object\n * @param {Object} newMaster\n *        The updated parsed mpd object\n * @return {Object}\n *         A new object representing the original master manifest with the updated media\n *         playlists merged in\n */\n\nvar updateMaster$1 = function updateMaster$$1(oldMaster, newMaster) {\n  var noChanges = void 0;\n  var update = mergeOptions$2(oldMaster, {\n    // These are top level properties that can be updated\n    duration: newMaster.duration,\n    minimumUpdatePeriod: newMaster.minimumUpdatePeriod\n  }); // First update the playlists in playlist list\n\n  for (var i = 0; i < newMaster.playlists.length; i++) {\n    var playlistUpdate = updateMaster(update, newMaster.playlists[i]);\n\n    if (playlistUpdate) {\n      update = playlistUpdate;\n    } else {\n      noChanges = true;\n    }\n  } // Then update media group playlists\n\n\n  forEachMediaGroup(newMaster, function (properties, type, group, label) {\n    if (properties.playlists && properties.playlists.length) {\n      var uri = properties.playlists[0].uri;\n\n      var _playlistUpdate = updateMaster(update, properties.playlists[0]);\n\n      if (_playlistUpdate) {\n        update = _playlistUpdate; // update the playlist reference within media groups\n\n        update.mediaGroups[type][group][label].playlists[0] = update.playlists[uri];\n        noChanges = false;\n      }\n    }\n  });\n\n  if (noChanges) {\n    return null;\n  }\n\n  return update;\n};\n\nvar generateSidxKey = function generateSidxKey(sidxInfo) {\n  // should be non-inclusive\n  var sidxByteRangeEnd = sidxInfo.byterange.offset + sidxInfo.byterange.length - 1;\n  return sidxInfo.uri + '-' + sidxInfo.byterange.offset + '-' + sidxByteRangeEnd;\n}; // SIDX should be equivalent if the URI and byteranges of the SIDX match.\n// If the SIDXs have maps, the two maps should match,\n// both `a` and `b` missing SIDXs is considered matching.\n// If `a` or `b` but not both have a map, they aren't matching.\n\n\nvar equivalentSidx = function equivalentSidx(a, b) {\n  var neitherMap = Boolean(!a.map && !b.map);\n  var equivalentMap = neitherMap || Boolean(a.map && b.map && a.map.byterange.offset === b.map.byterange.offset && a.map.byterange.length === b.map.byterange.length);\n  return equivalentMap && a.uri === b.uri && a.byterange.offset === b.byterange.offset && a.byterange.length === b.byterange.length;\n}; // exported for testing\n\n\nvar compareSidxEntry = function compareSidxEntry(playlists, oldSidxMapping) {\n  var newSidxMapping = {};\n\n  for (var uri in playlists) {\n    var playlist = playlists[uri];\n    var currentSidxInfo = playlist.sidx;\n\n    if (currentSidxInfo) {\n      var key = generateSidxKey(currentSidxInfo);\n\n      if (!oldSidxMapping[key]) {\n        break;\n      }\n\n      var savedSidxInfo = oldSidxMapping[key].sidxInfo;\n\n      if (equivalentSidx(savedSidxInfo, currentSidxInfo)) {\n        newSidxMapping[key] = oldSidxMapping[key];\n      }\n    }\n  }\n\n  return newSidxMapping;\n};\n/**\n *  A function that filters out changed items as they need to be requested separately.\n *\n *  The method is exported for testing\n *\n *  @param {Object} masterXml the mpd XML\n *  @param {string} srcUrl the mpd url\n *  @param {Date} clientOffset a time difference between server and client (passed through and not used)\n *  @param {Object} oldSidxMapping the SIDX to compare against\n */\n\n\nvar filterChangedSidxMappings = function filterChangedSidxMappings(masterXml, srcUrl, clientOffset, oldSidxMapping) {\n  // Don't pass current sidx mapping\n  var master = parse(masterXml, {\n    manifestUri: srcUrl,\n    clientOffset: clientOffset\n  });\n  var videoSidx = compareSidxEntry(master.playlists, oldSidxMapping);\n  var mediaGroupSidx = videoSidx;\n  forEachMediaGroup(master, function (properties, mediaType, groupKey, labelKey) {\n    if (properties.playlists && properties.playlists.length) {\n      var playlists = properties.playlists;\n      mediaGroupSidx = mergeOptions$2(mediaGroupSidx, compareSidxEntry(playlists, oldSidxMapping));\n    }\n  });\n  return mediaGroupSidx;\n}; // exported for testing\n\n\nvar requestSidx_ = function requestSidx_(sidxRange, playlist, xhr, options, finishProcessingFn) {\n  var sidxInfo = {\n    // resolve the segment URL relative to the playlist\n    uri: resolveManifestRedirect(options.handleManifestRedirects, sidxRange.resolvedUri),\n    // resolvedUri: sidxRange.resolvedUri,\n    byterange: sidxRange.byterange,\n    // the segment's playlist\n    playlist: playlist\n  };\n  var sidxRequestOptions = videojs$1.mergeOptions(sidxInfo, {\n    responseType: 'arraybuffer',\n    headers: segmentXhrHeaders(sidxInfo)\n  });\n  return xhr(sidxRequestOptions, finishProcessingFn);\n};\n\nvar DashPlaylistLoader = function (_EventTarget) {\n  inherits(DashPlaylistLoader, _EventTarget); // DashPlaylistLoader must accept either a src url or a playlist because subsequent\n  // playlist loader setups from media groups will expect to be able to pass a playlist\n  // (since there aren't external URLs to media playlists with DASH)\n\n  function DashPlaylistLoader(srcUrlOrPlaylist, hls) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var masterPlaylistLoader = arguments[3];\n    classCallCheck(this, DashPlaylistLoader);\n\n    var _this = possibleConstructorReturn(this, (DashPlaylistLoader.__proto__ || Object.getPrototypeOf(DashPlaylistLoader)).call(this));\n\n    var _options$withCredenti = options.withCredentials,\n        withCredentials = _options$withCredenti === undefined ? false : _options$withCredenti,\n        _options$handleManife = options.handleManifestRedirects,\n        handleManifestRedirects = _options$handleManife === undefined ? false : _options$handleManife;\n    _this.hls_ = hls;\n    _this.withCredentials = withCredentials;\n    _this.handleManifestRedirects = handleManifestRedirects;\n\n    if (!srcUrlOrPlaylist) {\n      throw new Error('A non-empty playlist URL or playlist is required');\n    } // event naming?\n\n\n    _this.on('minimumUpdatePeriod', function () {\n      _this.refreshXml_();\n    }); // live playlist staleness timeout\n\n\n    _this.on('mediaupdatetimeout', function () {\n      _this.refreshMedia_(_this.media().uri);\n    });\n\n    _this.state = 'HAVE_NOTHING';\n    _this.loadedPlaylists_ = {}; // initialize the loader state\n    // The masterPlaylistLoader will be created with a string\n\n    if (typeof srcUrlOrPlaylist === 'string') {\n      _this.srcUrl = srcUrlOrPlaylist; // TODO: reset sidxMapping between period changes\n      // once multi-period is refactored\n\n      _this.sidxMapping_ = {};\n      return possibleConstructorReturn(_this);\n    }\n\n    _this.setupChildLoader(masterPlaylistLoader, srcUrlOrPlaylist);\n\n    return _this;\n  }\n\n  createClass(DashPlaylistLoader, [{\n    key: 'setupChildLoader',\n    value: function setupChildLoader(masterPlaylistLoader, playlist) {\n      this.masterPlaylistLoader_ = masterPlaylistLoader;\n      this.childPlaylist_ = playlist;\n    }\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      this.stopRequest();\n      this.loadedPlaylists_ = {};\n      window$1.clearTimeout(this.minimumUpdatePeriodTimeout_);\n      window$1.clearTimeout(this.mediaRequest_);\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n    }\n  }, {\n    key: 'hasPendingRequest',\n    value: function hasPendingRequest() {\n      return this.request || this.mediaRequest_;\n    }\n  }, {\n    key: 'stopRequest',\n    value: function stopRequest() {\n      if (this.request) {\n        var oldRequest = this.request;\n        this.request = null;\n        oldRequest.onreadystatechange = null;\n        oldRequest.abort();\n      }\n    }\n  }, {\n    key: 'sidxRequestFinished_',\n    value: function sidxRequestFinished_(playlist, master, startingState, doneFn) {\n      var _this2 = this;\n\n      return function (err, request) {\n        // disposed\n        if (!_this2.request) {\n          return;\n        } // pending request is cleared\n\n\n        _this2.request = null;\n\n        if (err) {\n          _this2.error = {\n            status: request.status,\n            message: 'DASH playlist request error at URL: ' + playlist.uri,\n            response: request.response,\n            // MEDIA_ERR_NETWORK\n            code: 2\n          };\n\n          if (startingState) {\n            _this2.state = startingState;\n          }\n\n          _this2.trigger('error');\n\n          return doneFn(master, null);\n        }\n\n        var bytes = new Uint8Array(request.response);\n        var sidx = mp4Inspector.parseSidx(bytes.subarray(8));\n        return doneFn(master, sidx);\n      };\n    }\n  }, {\n    key: 'media',\n    value: function media(playlist) {\n      var _this3 = this; // getter\n\n\n      if (!playlist) {\n        return this.media_;\n      } // setter\n\n\n      if (this.state === 'HAVE_NOTHING') {\n        throw new Error('Cannot switch media playlist from ' + this.state);\n      }\n\n      var startingState = this.state; // find the playlist object if the target playlist has been specified by URI\n\n      if (typeof playlist === 'string') {\n        if (!this.master.playlists[playlist]) {\n          throw new Error('Unknown playlist URI: ' + playlist);\n        }\n\n        playlist = this.master.playlists[playlist];\n      }\n\n      var mediaChange = !this.media_ || playlist.uri !== this.media_.uri; // switch to previously loaded playlists immediately\n\n      if (mediaChange && this.loadedPlaylists_[playlist.uri] && this.loadedPlaylists_[playlist.uri].endList) {\n        this.state = 'HAVE_METADATA';\n        this.media_ = playlist; // trigger media change if the active media has been updated\n\n        if (mediaChange) {\n          this.trigger('mediachanging');\n          this.trigger('mediachange');\n        }\n\n        return;\n      } // switching to the active playlist is a no-op\n\n\n      if (!mediaChange) {\n        return;\n      } // switching from an already loaded playlist\n\n\n      if (this.media_) {\n        this.trigger('mediachanging');\n      }\n\n      if (!playlist.sidx) {\n        // Continue asynchronously if there is no sidx\n        // wait one tick to allow haveMaster to run first on a child loader\n        this.mediaRequest_ = window$1.setTimeout(this.haveMetadata.bind(this, {\n          startingState: startingState,\n          playlist: playlist\n        }), 0); // exit early and don't do sidx work\n\n        return;\n      } // we have sidx mappings\n\n\n      var oldMaster = void 0;\n      var sidxMapping = void 0; // sidxMapping is used when parsing the masterXml, so store\n      // it on the masterPlaylistLoader\n\n      if (this.masterPlaylistLoader_) {\n        oldMaster = this.masterPlaylistLoader_.master;\n        sidxMapping = this.masterPlaylistLoader_.sidxMapping_;\n      } else {\n        oldMaster = this.master;\n        sidxMapping = this.sidxMapping_;\n      }\n\n      var sidxKey = generateSidxKey(playlist.sidx);\n      sidxMapping[sidxKey] = {\n        sidxInfo: playlist.sidx\n      };\n      this.request = requestSidx_(playlist.sidx, playlist, this.hls_.xhr, {\n        handleManifestRedirects: this.handleManifestRedirects\n      }, this.sidxRequestFinished_(playlist, oldMaster, startingState, function (newMaster, sidx) {\n        if (!newMaster || !sidx) {\n          throw new Error('failed to request sidx');\n        } // update loader's sidxMapping with parsed sidx box\n\n\n        sidxMapping[sidxKey].sidx = sidx; // everything is ready just continue to haveMetadata\n\n        _this3.haveMetadata({\n          startingState: startingState,\n          playlist: newMaster.playlists[playlist.uri]\n        });\n      }));\n    }\n  }, {\n    key: 'haveMetadata',\n    value: function haveMetadata(_ref) {\n      var startingState = _ref.startingState,\n          playlist = _ref.playlist;\n      this.state = 'HAVE_METADATA';\n      this.loadedPlaylists_[playlist.uri] = playlist;\n      this.mediaRequest_ = null; // This will trigger loadedplaylist\n\n      this.refreshMedia_(playlist.uri); // fire loadedmetadata the first time a media playlist is loaded\n      // to resolve setup of media groups\n\n      if (startingState === 'HAVE_MASTER') {\n        this.trigger('loadedmetadata');\n      } else {\n        // trigger media change if the active media has been updated\n        this.trigger('mediachange');\n      }\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      this.stopRequest();\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n      window$1.clearTimeout(this.minimumUpdatePeriodTimeout_);\n\n      if (this.state === 'HAVE_NOTHING') {\n        // If we pause the loader before any data has been retrieved, its as if we never\n        // started, so reset to an unstarted state.\n        this.started = false;\n      }\n    }\n  }, {\n    key: 'load',\n    value: function load(isFinalRendition) {\n      var _this4 = this;\n\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n      window$1.clearTimeout(this.minimumUpdatePeriodTimeout_);\n      var media = this.media();\n\n      if (isFinalRendition) {\n        var delay = media ? media.targetDuration / 2 * 1000 : 5 * 1000;\n        this.mediaUpdateTimeout = window$1.setTimeout(function () {\n          return _this4.load();\n        }, delay);\n        return;\n      } // because the playlists are internal to the manifest, load should either load the\n      // main manifest, or do nothing but trigger an event\n\n\n      if (!this.started) {\n        this.start();\n        return;\n      }\n\n      this.trigger('loadedplaylist');\n    }\n    /**\n     * Parses the master xml string and updates playlist uri references\n     *\n     * @return {Object}\n     *         The parsed mpd manifest object\n     */\n\n  }, {\n    key: 'parseMasterXml',\n    value: function parseMasterXml() {\n      var master = parse(this.masterXml_, {\n        manifestUri: this.srcUrl,\n        clientOffset: this.clientOffset_,\n        sidxMapping: this.sidxMapping_\n      });\n      master.uri = this.srcUrl; // Set up phony URIs for the playlists since we won't have external URIs for DASH\n      // but reference playlists by their URI throughout the project\n      // TODO: Should we create the dummy uris in mpd-parser as well (leaning towards yes).\n\n      for (var i = 0; i < master.playlists.length; i++) {\n        var phonyUri = 'placeholder-uri-' + i;\n        master.playlists[i].uri = phonyUri; // set up by URI references\n\n        master.playlists[phonyUri] = master.playlists[i];\n      } // set up phony URIs for the media group playlists since we won't have external\n      // URIs for DASH but reference playlists by their URI throughout the project\n\n\n      forEachMediaGroup(master, function (properties, mediaType, groupKey, labelKey) {\n        if (properties.playlists && properties.playlists.length) {\n          var _phonyUri = 'placeholder-uri-' + mediaType + '-' + groupKey + '-' + labelKey;\n\n          properties.playlists[0].uri = _phonyUri; // setup URI references\n\n          master.playlists[_phonyUri] = properties.playlists[0];\n        }\n      });\n      setupMediaPlaylists(master);\n      resolveMediaGroupUris(master);\n      return master;\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      var _this5 = this;\n\n      this.started = true; // We don't need to request the master manifest again\n      // Call this asynchronously to match the xhr request behavior below\n\n      if (this.masterPlaylistLoader_) {\n        this.mediaRequest_ = window$1.setTimeout(this.haveMaster_.bind(this), 0);\n        return;\n      } // request the specified URL\n\n\n      this.request = this.hls_.xhr({\n        uri: this.srcUrl,\n        withCredentials: this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this5.request) {\n          return;\n        } // clear the loader's request reference\n\n\n        _this5.request = null;\n\n        if (error) {\n          _this5.error = {\n            status: req.status,\n            message: 'DASH playlist request error at URL: ' + _this5.srcUrl,\n            responseText: req.responseText,\n            // MEDIA_ERR_NETWORK\n            code: 2\n          };\n\n          if (_this5.state === 'HAVE_NOTHING') {\n            _this5.started = false;\n          }\n\n          return _this5.trigger('error');\n        }\n\n        _this5.masterXml_ = req.responseText;\n\n        if (req.responseHeaders && req.responseHeaders.date) {\n          _this5.masterLoaded_ = Date.parse(req.responseHeaders.date);\n        } else {\n          _this5.masterLoaded_ = Date.now();\n        }\n\n        _this5.srcUrl = resolveManifestRedirect(_this5.handleManifestRedirects, _this5.srcUrl, req);\n\n        _this5.syncClientServerClock_(_this5.onClientServerClockSync_.bind(_this5));\n      });\n    }\n    /**\n     * Parses the master xml for UTCTiming node to sync the client clock to the server\n     * clock. If the UTCTiming node requires a HEAD or GET request, that request is made.\n     *\n     * @param {Function} done\n     *        Function to call when clock sync has completed\n     */\n\n  }, {\n    key: 'syncClientServerClock_',\n    value: function syncClientServerClock_(done) {\n      var _this6 = this;\n\n      var utcTiming = parseUTCTiming(this.masterXml_); // No UTCTiming element found in the mpd. Use Date header from mpd request as the\n      // server clock\n\n      if (utcTiming === null) {\n        this.clientOffset_ = this.masterLoaded_ - Date.now();\n        return done();\n      }\n\n      if (utcTiming.method === 'DIRECT') {\n        this.clientOffset_ = utcTiming.value - Date.now();\n        return done();\n      }\n\n      this.request = this.hls_.xhr({\n        uri: resolveUrl(this.srcUrl, utcTiming.value),\n        method: utcTiming.method,\n        withCredentials: this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this6.request) {\n          return;\n        }\n\n        if (error) {\n          // sync request failed, fall back to using date header from mpd\n          // TODO: log warning\n          _this6.clientOffset_ = _this6.masterLoaded_ - Date.now();\n          return done();\n        }\n\n        var serverTime = void 0;\n\n        if (utcTiming.method === 'HEAD') {\n          if (!req.responseHeaders || !req.responseHeaders.date) {\n            // expected date header not preset, fall back to using date header from mpd\n            // TODO: log warning\n            serverTime = _this6.masterLoaded_;\n          } else {\n            serverTime = Date.parse(req.responseHeaders.date);\n          }\n        } else {\n          serverTime = Date.parse(req.responseText);\n        }\n\n        _this6.clientOffset_ = serverTime - Date.now();\n        done();\n      });\n    }\n  }, {\n    key: 'haveMaster_',\n    value: function haveMaster_() {\n      this.state = 'HAVE_MASTER'; // clear media request\n\n      this.mediaRequest_ = null;\n\n      if (!this.masterPlaylistLoader_) {\n        this.master = this.parseMasterXml(); // We have the master playlist at this point, so\n        // trigger this to allow MasterPlaylistController\n        // to make an initial playlist selection\n\n        this.trigger('loadedplaylist');\n      } else if (!this.media_) {\n        // no media playlist was specifically selected so select\n        // the one the child playlist loader was created with\n        this.media(this.childPlaylist_);\n      }\n    }\n    /**\n     * Handler for after client/server clock synchronization has happened. Sets up\n     * xml refresh timer if specificed by the manifest.\n     */\n\n  }, {\n    key: 'onClientServerClockSync_',\n    value: function onClientServerClockSync_() {\n      var _this7 = this;\n\n      this.haveMaster_();\n\n      if (!this.hasPendingRequest() && !this.media_) {\n        this.media(this.master.playlists[0]);\n      } // TODO: minimumUpdatePeriod can have a value of 0. Currently the manifest will not\n      // be refreshed when this is the case. The inter-op guide says that when the\n      // minimumUpdatePeriod is 0, the manifest should outline all currently available\n      // segments, but future segments may require an update. I think a good solution\n      // would be to update the manifest at the same rate that the media playlists\n      // are \"refreshed\", i.e. every targetDuration.\n\n\n      if (this.master && this.master.minimumUpdatePeriod) {\n        this.minimumUpdatePeriodTimeout_ = window$1.setTimeout(function () {\n          _this7.trigger('minimumUpdatePeriod');\n        }, this.master.minimumUpdatePeriod);\n      }\n    }\n    /**\n     * Sends request to refresh the master xml and updates the parsed master manifest\n     * TODO: Does the client offset need to be recalculated when the xml is refreshed?\n     */\n\n  }, {\n    key: 'refreshXml_',\n    value: function refreshXml_() {\n      var _this8 = this; // The srcUrl here *may* need to pass through handleManifestsRedirects when\n      // sidx is implemented\n\n\n      this.request = this.hls_.xhr({\n        uri: this.srcUrl,\n        withCredentials: this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this8.request) {\n          return;\n        } // clear the loader's request reference\n\n\n        _this8.request = null;\n\n        if (error) {\n          _this8.error = {\n            status: req.status,\n            message: 'DASH playlist request error at URL: ' + _this8.srcUrl,\n            responseText: req.responseText,\n            // MEDIA_ERR_NETWORK\n            code: 2\n          };\n\n          if (_this8.state === 'HAVE_NOTHING') {\n            _this8.started = false;\n          }\n\n          return _this8.trigger('error');\n        }\n\n        _this8.masterXml_ = req.responseText; // This will filter out updated sidx info from the mapping\n\n        _this8.sidxMapping_ = filterChangedSidxMappings(_this8.masterXml_, _this8.srcUrl, _this8.clientOffset_, _this8.sidxMapping_);\n\n        var master = _this8.parseMasterXml();\n\n        var updatedMaster = updateMaster$1(_this8.master, master);\n\n        var currentSidxInfo = _this8.media().sidx;\n\n        if (updatedMaster) {\n          if (currentSidxInfo) {\n            var sidxKey = generateSidxKey(currentSidxInfo); // the sidx was updated, so the previous mapping was removed\n\n            if (!_this8.sidxMapping_[sidxKey]) {\n              var playlist = _this8.media();\n\n              _this8.request = requestSidx_(playlist.sidx, playlist, _this8.hls_.xhr, {\n                handleManifestRedirects: _this8.handleManifestRedirects\n              }, _this8.sidxRequestFinished_(playlist, master, _this8.state, function (newMaster, sidx) {\n                if (!newMaster || !sidx) {\n                  throw new Error('failed to request sidx on minimumUpdatePeriod');\n                } // update loader's sidxMapping with parsed sidx box\n\n\n                _this8.sidxMapping_[sidxKey].sidx = sidx;\n                _this8.minimumUpdatePeriodTimeout_ = window$1.setTimeout(function () {\n                  _this8.trigger('minimumUpdatePeriod');\n                }, _this8.master.minimumUpdatePeriod); // TODO: do we need to reload the current playlist?\n\n                _this8.refreshMedia_(_this8.media().uri);\n\n                return;\n              }));\n            }\n          } else {\n            _this8.master = updatedMaster;\n          }\n        }\n\n        _this8.minimumUpdatePeriodTimeout_ = window$1.setTimeout(function () {\n          _this8.trigger('minimumUpdatePeriod');\n        }, _this8.master.minimumUpdatePeriod);\n      });\n    }\n    /**\n     * Refreshes the media playlist by re-parsing the master xml and updating playlist\n     * references. If this is an alternate loader, the updated parsed manifest is retrieved\n     * from the master loader.\n     */\n\n  }, {\n    key: 'refreshMedia_',\n    value: function refreshMedia_(mediaUri) {\n      var _this9 = this;\n\n      if (!mediaUri) {\n        throw new Error('refreshMedia_ must take a media uri');\n      }\n\n      var oldMaster = void 0;\n      var newMaster = void 0;\n\n      if (this.masterPlaylistLoader_) {\n        oldMaster = this.masterPlaylistLoader_.master;\n        newMaster = this.masterPlaylistLoader_.parseMasterXml();\n      } else {\n        oldMaster = this.master;\n        newMaster = this.parseMasterXml();\n      }\n\n      var updatedMaster = updateMaster$1(oldMaster, newMaster);\n\n      if (updatedMaster) {\n        if (this.masterPlaylistLoader_) {\n          this.masterPlaylistLoader_.master = updatedMaster;\n        } else {\n          this.master = updatedMaster;\n        }\n\n        this.media_ = updatedMaster.playlists[mediaUri];\n      } else {\n        this.media_ = newMaster.playlists[mediaUri];\n        this.trigger('playlistunchanged');\n      }\n\n      if (!this.media().endList) {\n        this.mediaUpdateTimeout = window$1.setTimeout(function () {\n          _this9.trigger('mediaupdatetimeout');\n        }, refreshDelay(this.media(), !!updatedMaster));\n      }\n\n      this.trigger('loadedplaylist');\n    }\n  }]);\n  return DashPlaylistLoader;\n}(EventTarget$1$1);\n\nvar logger = function logger(source) {\n  if (videojs$1.log.debug) {\n    return videojs$1.log.debug.bind(videojs$1, 'VHS:', source + ' >');\n  }\n\n  return function () {};\n};\n\nfunction noop() {}\n/**\n * @file source-updater.js\n */\n\n/**\n * A queue of callbacks to be serialized and applied when a\n * MediaSource and its associated SourceBuffers are not in the\n * updating state. It is used by the segment loader to update the\n * underlying SourceBuffers when new data is loaded, for instance.\n *\n * @class SourceUpdater\n * @param {MediaSource} mediaSource the MediaSource to create the\n * SourceBuffer from\n * @param {String} mimeType the desired MIME type of the underlying\n * SourceBuffer\n * @param {Object} sourceBufferEmitter an event emitter that fires when a source buffer is\n * added to the media source\n */\n\n\nvar SourceUpdater = function () {\n  function SourceUpdater(mediaSource, mimeType, type, sourceBufferEmitter) {\n    classCallCheck(this, SourceUpdater);\n    this.callbacks_ = [];\n    this.pendingCallback_ = null;\n    this.timestampOffset_ = 0;\n    this.mediaSource = mediaSource;\n    this.processedAppend_ = false;\n    this.type_ = type;\n    this.mimeType_ = mimeType;\n    this.logger_ = logger('SourceUpdater[' + type + '][' + mimeType + ']');\n\n    if (mediaSource.readyState === 'closed') {\n      mediaSource.addEventListener('sourceopen', this.createSourceBuffer_.bind(this, mimeType, sourceBufferEmitter));\n    } else {\n      this.createSourceBuffer_(mimeType, sourceBufferEmitter);\n    }\n  }\n\n  createClass(SourceUpdater, [{\n    key: 'createSourceBuffer_',\n    value: function createSourceBuffer_(mimeType, sourceBufferEmitter) {\n      var _this = this;\n\n      this.sourceBuffer_ = this.mediaSource.addSourceBuffer(mimeType);\n      this.logger_('created SourceBuffer');\n\n      if (sourceBufferEmitter) {\n        sourceBufferEmitter.trigger('sourcebufferadded');\n\n        if (this.mediaSource.sourceBuffers.length < 2) {\n          // There's another source buffer we must wait for before we can start updating\n          // our own (or else we can get into a bad state, i.e., appending video/audio data\n          // before the other video/audio source buffer is available and leading to a video\n          // or audio only buffer).\n          sourceBufferEmitter.on('sourcebufferadded', function () {\n            _this.start_();\n          });\n          return;\n        }\n      }\n\n      this.start_();\n    }\n  }, {\n    key: 'start_',\n    value: function start_() {\n      var _this2 = this;\n\n      this.started_ = true; // run completion handlers and process callbacks as updateend\n      // events fire\n\n      this.onUpdateendCallback_ = function () {\n        var pendingCallback = _this2.pendingCallback_;\n        _this2.pendingCallback_ = null;\n        _this2.sourceBuffer_.removing = false;\n\n        _this2.logger_('buffered [' + printableRange(_this2.buffered()) + ']');\n\n        if (pendingCallback) {\n          pendingCallback();\n        }\n\n        _this2.runCallback_();\n      };\n\n      this.sourceBuffer_.addEventListener('updateend', this.onUpdateendCallback_);\n      this.runCallback_();\n    }\n    /**\n     * Aborts the current segment and resets the segment parser.\n     *\n     * @param {Function} done function to call when done\n     * @see http://w3c.github.io/media-source/#widl-SourceBuffer-abort-void\n     */\n\n  }, {\n    key: 'abort',\n    value: function abort(done) {\n      var _this3 = this;\n\n      if (this.processedAppend_) {\n        this.queueCallback_(function () {\n          _this3.sourceBuffer_.abort();\n        }, done);\n      }\n    }\n    /**\n     * Queue an update to append an ArrayBuffer.\n     *\n     * @param {ArrayBuffer} bytes\n     * @param {Function} done the function to call when done\n     * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-appendBuffer-void-ArrayBuffer-data\n     */\n\n  }, {\n    key: 'appendBuffer',\n    value: function appendBuffer(config, done) {\n      var _this4 = this;\n\n      this.processedAppend_ = true;\n      this.queueCallback_(function () {\n        if (config.videoSegmentTimingInfoCallback) {\n          _this4.sourceBuffer_.addEventListener('videoSegmentTimingInfo', config.videoSegmentTimingInfoCallback);\n        }\n\n        _this4.sourceBuffer_.appendBuffer(config.bytes);\n      }, function () {\n        if (config.videoSegmentTimingInfoCallback) {\n          _this4.sourceBuffer_.removeEventListener('videoSegmentTimingInfo', config.videoSegmentTimingInfoCallback);\n        }\n\n        done();\n      });\n    }\n    /**\n     * Indicates what TimeRanges are buffered in the managed SourceBuffer.\n     *\n     * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-buffered\n     */\n\n  }, {\n    key: 'buffered',\n    value: function buffered() {\n      if (!this.sourceBuffer_) {\n        return videojs$1.createTimeRanges();\n      }\n\n      return this.sourceBuffer_.buffered;\n    }\n    /**\n     * Queue an update to remove a time range from the buffer.\n     *\n     * @param {Number} start where to start the removal\n     * @param {Number} end where to end the removal\n     * @param {Function} [done=noop] optional callback to be executed when the remove\n     * operation is complete\n     * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-remove-void-double-start-unrestricted-double-end\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(start, end) {\n      var _this5 = this;\n\n      var done = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : noop;\n\n      if (this.processedAppend_) {\n        this.queueCallback_(function () {\n          _this5.logger_('remove [' + start + ' => ' + end + ']');\n\n          _this5.sourceBuffer_.removing = true;\n\n          _this5.sourceBuffer_.remove(start, end);\n        }, done);\n      }\n    }\n    /**\n     * Whether the underlying sourceBuffer is updating or not\n     *\n     * @return {Boolean} the updating status of the SourceBuffer\n     */\n\n  }, {\n    key: 'updating',\n    value: function updating() {\n      // we are updating if the sourcebuffer is updating or\n      return !this.sourceBuffer_ || this.sourceBuffer_.updating || // if we have a pending callback that is not our internal noop\n      !!this.pendingCallback_ && this.pendingCallback_ !== noop;\n    }\n    /**\n     * Set/get the timestampoffset on the SourceBuffer\n     *\n     * @return {Number} the timestamp offset\n     */\n\n  }, {\n    key: 'timestampOffset',\n    value: function timestampOffset(offset) {\n      var _this6 = this;\n\n      if (typeof offset !== 'undefined') {\n        this.queueCallback_(function () {\n          _this6.sourceBuffer_.timestampOffset = offset;\n\n          _this6.runCallback_();\n        });\n        this.timestampOffset_ = offset;\n      }\n\n      return this.timestampOffset_;\n    }\n    /**\n     * Queue a callback to run\n     */\n\n  }, {\n    key: 'queueCallback_',\n    value: function queueCallback_(callback, done) {\n      this.callbacks_.push([callback.bind(this), done]);\n      this.runCallback_();\n    }\n    /**\n     * Run a queued callback\n     */\n\n  }, {\n    key: 'runCallback_',\n    value: function runCallback_() {\n      var callbacks = void 0;\n\n      if (!this.updating() && this.callbacks_.length && this.started_) {\n        callbacks = this.callbacks_.shift();\n        this.pendingCallback_ = callbacks[1];\n        callbacks[0]();\n      }\n    }\n    /**\n     * dispose of the source updater and the underlying sourceBuffer\n     */\n\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      var _this7 = this;\n\n      var disposeFn = function disposeFn() {\n        if (_this7.sourceBuffer_ && _this7.mediaSource.readyState === 'open') {\n          _this7.sourceBuffer_.abort();\n        }\n\n        _this7.sourceBuffer_.removeEventListener('updateend', disposeFn);\n      };\n\n      this.sourceBuffer_.removeEventListener('updateend', this.onUpdateendCallback_);\n\n      if (this.sourceBuffer_.removing) {\n        this.sourceBuffer_.addEventListener('updateend', disposeFn);\n      } else {\n        disposeFn();\n      }\n    }\n  }]);\n  return SourceUpdater;\n}();\n\nvar Config = {\n  GOAL_BUFFER_LENGTH: 30,\n  MAX_GOAL_BUFFER_LENGTH: 60,\n  GOAL_BUFFER_LENGTH_RATE: 1,\n  // 0.5 MB/s\n  INITIAL_BANDWIDTH: 4194304,\n  // A fudge factor to apply to advertised playlist bitrates to account for\n  // temporary flucations in client bandwidth\n  BANDWIDTH_VARIANCE: 1.2,\n  // How much of the buffer must be filled before we consider upswitching\n  BUFFER_LOW_WATER_LINE: 0,\n  MAX_BUFFER_LOW_WATER_LINE: 30,\n  BUFFER_LOW_WATER_LINE_RATE: 1\n};\nvar REQUEST_ERRORS = {\n  FAILURE: 2,\n  TIMEOUT: -101,\n  ABORTED: -102\n};\n/**\n * Abort all requests\n *\n * @param {Object} activeXhrs - an object that tracks all XHR requests\n */\n\nvar abortAll = function abortAll(activeXhrs) {\n  activeXhrs.forEach(function (xhr) {\n    xhr.abort();\n  });\n};\n/**\n * Gather important bandwidth stats once a request has completed\n *\n * @param {Object} request - the XHR request from which to gather stats\n */\n\n\nvar getRequestStats = function getRequestStats(request) {\n  return {\n    bandwidth: request.bandwidth,\n    bytesReceived: request.bytesReceived || 0,\n    roundTripTime: request.roundTripTime || 0\n  };\n};\n/**\n * If possible gather bandwidth stats as a request is in\n * progress\n *\n * @param {Event} progressEvent - an event object from an XHR's progress event\n */\n\n\nvar getProgressStats = function getProgressStats(progressEvent) {\n  var request = progressEvent.target;\n  var roundTripTime = Date.now() - request.requestTime;\n  var stats = {\n    bandwidth: Infinity,\n    bytesReceived: 0,\n    roundTripTime: roundTripTime || 0\n  };\n  stats.bytesReceived = progressEvent.loaded; // This can result in Infinity if stats.roundTripTime is 0 but that is ok\n  // because we should only use bandwidth stats on progress to determine when\n  // abort a request early due to insufficient bandwidth\n\n  stats.bandwidth = Math.floor(stats.bytesReceived / stats.roundTripTime * 8 * 1000);\n  return stats;\n};\n/**\n * Handle all error conditions in one place and return an object\n * with all the information\n *\n * @param {Error|null} error - if non-null signals an error occured with the XHR\n * @param {Object} request -  the XHR request that possibly generated the error\n */\n\n\nvar handleErrors = function handleErrors(error, request) {\n  if (request.timedout) {\n    return {\n      status: request.status,\n      message: 'HLS request timed-out at URL: ' + request.uri,\n      code: REQUEST_ERRORS.TIMEOUT,\n      xhr: request\n    };\n  }\n\n  if (request.aborted) {\n    return {\n      status: request.status,\n      message: 'HLS request aborted at URL: ' + request.uri,\n      code: REQUEST_ERRORS.ABORTED,\n      xhr: request\n    };\n  }\n\n  if (error) {\n    return {\n      status: request.status,\n      message: 'HLS request errored at URL: ' + request.uri,\n      code: REQUEST_ERRORS.FAILURE,\n      xhr: request\n    };\n  }\n\n  return null;\n};\n/**\n * Handle responses for key data and convert the key data to the correct format\n * for the decryption step later\n *\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} finishProcessingFn - a callback to execute to continue processing\n *                                        this request\n */\n\n\nvar handleKeyResponse = function handleKeyResponse(segment, finishProcessingFn) {\n  return function (error, request) {\n    var response = request.response;\n    var errorObj = handleErrors(error, request);\n\n    if (errorObj) {\n      return finishProcessingFn(errorObj, segment);\n    }\n\n    if (response.byteLength !== 16) {\n      return finishProcessingFn({\n        status: request.status,\n        message: 'Invalid HLS key at URL: ' + request.uri,\n        code: REQUEST_ERRORS.FAILURE,\n        xhr: request\n      }, segment);\n    }\n\n    var view = new DataView(response);\n    segment.key.bytes = new Uint32Array([view.getUint32(0), view.getUint32(4), view.getUint32(8), view.getUint32(12)]);\n    return finishProcessingFn(null, segment);\n  };\n};\n/**\n * Handle init-segment responses\n *\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} finishProcessingFn - a callback to execute to continue processing\n *                                        this request\n */\n\n\nvar handleInitSegmentResponse = function handleInitSegmentResponse(segment, captionParser, finishProcessingFn) {\n  return function (error, request) {\n    var response = request.response;\n    var errorObj = handleErrors(error, request);\n\n    if (errorObj) {\n      return finishProcessingFn(errorObj, segment);\n    } // stop processing if received empty content\n\n\n    if (response.byteLength === 0) {\n      return finishProcessingFn({\n        status: request.status,\n        message: 'Empty HLS segment content at URL: ' + request.uri,\n        code: REQUEST_ERRORS.FAILURE,\n        xhr: request\n      }, segment);\n    }\n\n    segment.map.bytes = new Uint8Array(request.response); // Initialize CaptionParser if it hasn't been yet\n\n    if (captionParser && !captionParser.isInitialized()) {\n      captionParser.init();\n    }\n\n    segment.map.timescales = mp4probe.timescale(segment.map.bytes);\n    segment.map.videoTrackIds = mp4probe.videoTrackIds(segment.map.bytes);\n    return finishProcessingFn(null, segment);\n  };\n};\n/**\n * Response handler for segment-requests being sure to set the correct\n * property depending on whether the segment is encryped or not\n * Also records and keeps track of stats that are used for ABR purposes\n *\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} finishProcessingFn - a callback to execute to continue processing\n *                                        this request\n */\n\n\nvar handleSegmentResponse = function handleSegmentResponse(segment, captionParser, finishProcessingFn) {\n  return function (error, request) {\n    var response = request.response;\n    var errorObj = handleErrors(error, request);\n    var parsed = void 0;\n\n    if (errorObj) {\n      return finishProcessingFn(errorObj, segment);\n    } // stop processing if received empty content\n\n\n    if (response.byteLength === 0) {\n      return finishProcessingFn({\n        status: request.status,\n        message: 'Empty HLS segment content at URL: ' + request.uri,\n        code: REQUEST_ERRORS.FAILURE,\n        xhr: request\n      }, segment);\n    }\n\n    segment.stats = getRequestStats(request);\n\n    if (segment.key) {\n      segment.encryptedBytes = new Uint8Array(request.response);\n    } else {\n      segment.bytes = new Uint8Array(request.response);\n    } // This is likely an FMP4 and has the init segment.\n    // Run through the CaptionParser in case there are captions.\n\n\n    if (captionParser && segment.map && segment.map.bytes) {\n      // Initialize CaptionParser if it hasn't been yet\n      if (!captionParser.isInitialized()) {\n        captionParser.init();\n      }\n\n      parsed = captionParser.parse(segment.bytes, segment.map.videoTrackIds, segment.map.timescales);\n\n      if (parsed && parsed.captions) {\n        segment.captionStreams = parsed.captionStreams;\n        segment.fmp4Captions = parsed.captions;\n      }\n    }\n\n    return finishProcessingFn(null, segment);\n  };\n};\n/**\n * Decrypt the segment via the decryption web worker\n *\n * @param {WebWorker} decrypter - a WebWorker interface to AES-128 decryption routines\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} doneFn - a callback that is executed after decryption has completed\n */\n\n\nvar decryptSegment = function decryptSegment(decrypter, segment, doneFn) {\n  var decryptionHandler = function decryptionHandler(event) {\n    if (event.data.source === segment.requestId) {\n      decrypter.removeEventListener('message', decryptionHandler);\n      var decrypted = event.data.decrypted;\n      segment.bytes = new Uint8Array(decrypted.bytes, decrypted.byteOffset, decrypted.byteLength);\n      return doneFn(null, segment);\n    }\n  };\n\n  decrypter.addEventListener('message', decryptionHandler);\n  var keyBytes = void 0;\n\n  if (segment.key.bytes.slice) {\n    keyBytes = segment.key.bytes.slice();\n  } else {\n    keyBytes = new Uint32Array(Array.prototype.slice.call(segment.key.bytes));\n  } // this is an encrypted segment\n  // incrementally decrypt the segment\n\n\n  decrypter.postMessage(createTransferableMessage({\n    source: segment.requestId,\n    encrypted: segment.encryptedBytes,\n    key: keyBytes,\n    iv: segment.key.iv\n  }), [segment.encryptedBytes.buffer, keyBytes.buffer]);\n};\n/**\n * This function waits for all XHRs to finish (with either success or failure)\n * before continueing processing via it's callback. The function gathers errors\n * from each request into a single errors array so that the error status for\n * each request can be examined later.\n *\n * @param {Object} activeXhrs - an object that tracks all XHR requests\n * @param {WebWorker} decrypter - a WebWorker interface to AES-128 decryption routines\n * @param {Function} doneFn - a callback that is executed after all resources have been\n *                            downloaded and any decryption completed\n */\n\n\nvar waitForCompletion = function waitForCompletion(activeXhrs, decrypter, doneFn) {\n  var count = 0;\n  var didError = false;\n  return function (error, segment) {\n    if (didError) {\n      return;\n    }\n\n    if (error) {\n      didError = true; // If there are errors, we have to abort any outstanding requests\n\n      abortAll(activeXhrs); // Even though the requests above are aborted, and in theory we could wait until we\n      // handle the aborted events from those requests, there are some cases where we may\n      // never get an aborted event. For instance, if the network connection is lost and\n      // there were two requests, the first may have triggered an error immediately, while\n      // the second request remains unsent. In that case, the aborted algorithm will not\n      // trigger an abort: see https://xhr.spec.whatwg.org/#the-abort()-method\n      //\n      // We also can't rely on the ready state of the XHR, since the request that\n      // triggered the connection error may also show as a ready state of 0 (unsent).\n      // Therefore, we have to finish this group of requests immediately after the first\n      // seen error.\n\n      return doneFn(error, segment);\n    }\n\n    count += 1;\n\n    if (count === activeXhrs.length) {\n      // Keep track of when *all* of the requests have completed\n      segment.endOfAllRequests = Date.now();\n\n      if (segment.encryptedBytes) {\n        return decryptSegment(decrypter, segment, doneFn);\n      } // Otherwise, everything is ready just continue\n\n\n      return doneFn(null, segment);\n    }\n  };\n};\n/**\n * Simple progress event callback handler that gathers some stats before\n * executing a provided callback with the `segment` object\n *\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} progressFn - a callback that is executed each time a progress event\n *                                is received\n * @param {Event} event - the progress event object from XMLHttpRequest\n */\n\n\nvar handleProgress = function handleProgress(segment, progressFn) {\n  return function (event) {\n    segment.stats = videojs$1.mergeOptions(segment.stats, getProgressStats(event)); // record the time that we receive the first byte of data\n\n    if (!segment.stats.firstBytesReceivedAt && segment.stats.bytesReceived) {\n      segment.stats.firstBytesReceivedAt = Date.now();\n    }\n\n    return progressFn(event, segment);\n  };\n};\n/**\n * Load all resources and does any processing necessary for a media-segment\n *\n * Features:\n *   decrypts the media-segment if it has a key uri and an iv\n *   aborts *all* requests if *any* one request fails\n *\n * The segment object, at minimum, has the following format:\n * {\n *   resolvedUri: String,\n *   [byterange]: {\n *     offset: Number,\n *     length: Number\n *   },\n *   [key]: {\n *     resolvedUri: String\n *     [byterange]: {\n *       offset: Number,\n *       length: Number\n *     },\n *     iv: {\n *       bytes: Uint32Array\n *     }\n *   },\n *   [map]: {\n *     resolvedUri: String,\n *     [byterange]: {\n *       offset: Number,\n *       length: Number\n *     },\n *     [bytes]: Uint8Array\n *   }\n * }\n * ...where [name] denotes optional properties\n *\n * @param {Function} xhr - an instance of the xhr wrapper in xhr.js\n * @param {Object} xhrOptions - the base options to provide to all xhr requests\n * @param {WebWorker} decryptionWorker - a WebWorker interface to AES-128\n *                                       decryption routines\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} progressFn - a callback that receives progress events from the main\n *                                segment's xhr request\n * @param {Function} doneFn - a callback that is executed only once all requests have\n *                            succeeded or failed\n * @returns {Function} a function that, when invoked, immediately aborts all\n *                     outstanding requests\n */\n\n\nvar mediaSegmentRequest = function mediaSegmentRequest(xhr, xhrOptions, decryptionWorker, captionParser, segment, progressFn, doneFn) {\n  var activeXhrs = [];\n  var finishProcessingFn = waitForCompletion(activeXhrs, decryptionWorker, doneFn); // optionally, request the decryption key\n\n  if (segment.key && !segment.key.bytes) {\n    var keyRequestOptions = videojs$1.mergeOptions(xhrOptions, {\n      uri: segment.key.resolvedUri,\n      responseType: 'arraybuffer'\n    });\n    var keyRequestCallback = handleKeyResponse(segment, finishProcessingFn);\n    var keyXhr = xhr(keyRequestOptions, keyRequestCallback);\n    activeXhrs.push(keyXhr);\n  } // optionally, request the associated media init segment\n\n\n  if (segment.map && !segment.map.bytes) {\n    var initSegmentOptions = videojs$1.mergeOptions(xhrOptions, {\n      uri: segment.map.resolvedUri,\n      responseType: 'arraybuffer',\n      headers: segmentXhrHeaders(segment.map)\n    });\n    var initSegmentRequestCallback = handleInitSegmentResponse(segment, captionParser, finishProcessingFn);\n    var initSegmentXhr = xhr(initSegmentOptions, initSegmentRequestCallback);\n    activeXhrs.push(initSegmentXhr);\n  }\n\n  var segmentRequestOptions = videojs$1.mergeOptions(xhrOptions, {\n    uri: segment.resolvedUri,\n    responseType: 'arraybuffer',\n    headers: segmentXhrHeaders(segment)\n  });\n  var segmentRequestCallback = handleSegmentResponse(segment, captionParser, finishProcessingFn);\n  var segmentXhr = xhr(segmentRequestOptions, segmentRequestCallback);\n  segmentXhr.addEventListener('progress', handleProgress(segment, progressFn));\n  activeXhrs.push(segmentXhr);\n  return function () {\n    return abortAll(activeXhrs);\n  };\n}; // Utilities\n\n/**\n * Returns the CSS value for the specified property on an element\n * using `getComputedStyle`. Firefox has a long-standing issue where\n * getComputedStyle() may return null when running in an iframe with\n * `display: none`.\n *\n * @see https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n * @param {HTMLElement} el the htmlelement to work on\n * @param {string} the proprety to get the style for\n */\n\n\nvar safeGetComputedStyle = function safeGetComputedStyle(el, property) {\n  var result = void 0;\n\n  if (!el) {\n    return '';\n  }\n\n  result = window$1.getComputedStyle(el);\n\n  if (!result) {\n    return '';\n  }\n\n  return result[property];\n};\n/**\n * Resuable stable sort function\n *\n * @param {Playlists} array\n * @param {Function} sortFn Different comparators\n * @function stableSort\n */\n\n\nvar stableSort = function stableSort(array, sortFn) {\n  var newArray = array.slice();\n  array.sort(function (left, right) {\n    var cmp = sortFn(left, right);\n\n    if (cmp === 0) {\n      return newArray.indexOf(left) - newArray.indexOf(right);\n    }\n\n    return cmp;\n  });\n};\n/**\n * A comparator function to sort two playlist object by bandwidth.\n *\n * @param {Object} left a media playlist object\n * @param {Object} right a media playlist object\n * @return {Number} Greater than zero if the bandwidth attribute of\n * left is greater than the corresponding attribute of right. Less\n * than zero if the bandwidth of right is greater than left and\n * exactly zero if the two are equal.\n */\n\n\nvar comparePlaylistBandwidth = function comparePlaylistBandwidth(left, right) {\n  var leftBandwidth = void 0;\n  var rightBandwidth = void 0;\n\n  if (left.attributes.BANDWIDTH) {\n    leftBandwidth = left.attributes.BANDWIDTH;\n  }\n\n  leftBandwidth = leftBandwidth || window$1.Number.MAX_VALUE;\n\n  if (right.attributes.BANDWIDTH) {\n    rightBandwidth = right.attributes.BANDWIDTH;\n  }\n\n  rightBandwidth = rightBandwidth || window$1.Number.MAX_VALUE;\n  return leftBandwidth - rightBandwidth;\n};\n/**\n * A comparator function to sort two playlist object by resolution (width).\n * @param {Object} left a media playlist object\n * @param {Object} right a media playlist object\n * @return {Number} Greater than zero if the resolution.width attribute of\n * left is greater than the corresponding attribute of right. Less\n * than zero if the resolution.width of right is greater than left and\n * exactly zero if the two are equal.\n */\n\n\nvar comparePlaylistResolution = function comparePlaylistResolution(left, right) {\n  var leftWidth = void 0;\n  var rightWidth = void 0;\n\n  if (left.attributes.RESOLUTION && left.attributes.RESOLUTION.width) {\n    leftWidth = left.attributes.RESOLUTION.width;\n  }\n\n  leftWidth = leftWidth || window$1.Number.MAX_VALUE;\n\n  if (right.attributes.RESOLUTION && right.attributes.RESOLUTION.width) {\n    rightWidth = right.attributes.RESOLUTION.width;\n  }\n\n  rightWidth = rightWidth || window$1.Number.MAX_VALUE; // NOTE - Fallback to bandwidth sort as appropriate in cases where multiple renditions\n  // have the same media dimensions/ resolution\n\n  if (leftWidth === rightWidth && left.attributes.BANDWIDTH && right.attributes.BANDWIDTH) {\n    return left.attributes.BANDWIDTH - right.attributes.BANDWIDTH;\n  }\n\n  return leftWidth - rightWidth;\n};\n/**\n * Chooses the appropriate media playlist based on bandwidth and player size\n *\n * @param {Object} master\n *        Object representation of the master manifest\n * @param {Number} playerBandwidth\n *        Current calculated bandwidth of the player\n * @param {Number} playerWidth\n *        Current width of the player element\n * @param {Number} playerHeight\n *        Current height of the player element\n * @param {Boolean} limitRenditionByPlayerDimensions\n *        True if the player width and height should be used during the selection, false otherwise\n * @return {Playlist} the highest bitrate playlist less than the\n * currently detected bandwidth, accounting for some amount of\n * bandwidth variance\n */\n\n\nvar simpleSelector = function simpleSelector(master, playerBandwidth, playerWidth, playerHeight, limitRenditionByPlayerDimensions) {\n  // convert the playlists to an intermediary representation to make comparisons easier\n  var sortedPlaylistReps = master.playlists.map(function (playlist) {\n    var width = void 0;\n    var height = void 0;\n    var bandwidth = void 0;\n    width = playlist.attributes.RESOLUTION && playlist.attributes.RESOLUTION.width;\n    height = playlist.attributes.RESOLUTION && playlist.attributes.RESOLUTION.height;\n    bandwidth = playlist.attributes.BANDWIDTH;\n    bandwidth = bandwidth || window$1.Number.MAX_VALUE;\n    return {\n      bandwidth: bandwidth,\n      width: width,\n      height: height,\n      playlist: playlist\n    };\n  });\n  stableSort(sortedPlaylistReps, function (left, right) {\n    return left.bandwidth - right.bandwidth;\n  }); // filter out any playlists that have been excluded due to\n  // incompatible configurations\n\n  sortedPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n    return !Playlist.isIncompatible(rep.playlist);\n  }); // filter out any playlists that have been disabled manually through the representations\n  // api or blacklisted temporarily due to playback errors.\n\n  var enabledPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n    return Playlist.isEnabled(rep.playlist);\n  });\n\n  if (!enabledPlaylistReps.length) {\n    // if there are no enabled playlists, then they have all been blacklisted or disabled\n    // by the user through the representations api. In this case, ignore blacklisting and\n    // fallback to what the user wants by using playlists the user has not disabled.\n    enabledPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n      return !Playlist.isDisabled(rep.playlist);\n    });\n  } // filter out any variant that has greater effective bitrate\n  // than the current estimated bandwidth\n\n\n  var bandwidthPlaylistReps = enabledPlaylistReps.filter(function (rep) {\n    return rep.bandwidth * Config.BANDWIDTH_VARIANCE < playerBandwidth;\n  });\n  var highestRemainingBandwidthRep = bandwidthPlaylistReps[bandwidthPlaylistReps.length - 1]; // get all of the renditions with the same (highest) bandwidth\n  // and then taking the very first element\n\n  var bandwidthBestRep = bandwidthPlaylistReps.filter(function (rep) {\n    return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n  })[0]; // if we're not going to limit renditions by player size, make an early decision.\n\n  if (limitRenditionByPlayerDimensions === false) {\n    var _chosenRep = bandwidthBestRep || enabledPlaylistReps[0] || sortedPlaylistReps[0];\n\n    return _chosenRep ? _chosenRep.playlist : null;\n  } // filter out playlists without resolution information\n\n\n  var haveResolution = bandwidthPlaylistReps.filter(function (rep) {\n    return rep.width && rep.height;\n  }); // sort variants by resolution\n\n  stableSort(haveResolution, function (left, right) {\n    return left.width - right.width;\n  }); // if we have the exact resolution as the player use it\n\n  var resolutionBestRepList = haveResolution.filter(function (rep) {\n    return rep.width === playerWidth && rep.height === playerHeight;\n  });\n  highestRemainingBandwidthRep = resolutionBestRepList[resolutionBestRepList.length - 1]; // ensure that we pick the highest bandwidth variant that have exact resolution\n\n  var resolutionBestRep = resolutionBestRepList.filter(function (rep) {\n    return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n  })[0];\n  var resolutionPlusOneList = void 0;\n  var resolutionPlusOneSmallest = void 0;\n  var resolutionPlusOneRep = void 0; // find the smallest variant that is larger than the player\n  // if there is no match of exact resolution\n\n  if (!resolutionBestRep) {\n    resolutionPlusOneList = haveResolution.filter(function (rep) {\n      return rep.width > playerWidth || rep.height > playerHeight;\n    }); // find all the variants have the same smallest resolution\n\n    resolutionPlusOneSmallest = resolutionPlusOneList.filter(function (rep) {\n      return rep.width === resolutionPlusOneList[0].width && rep.height === resolutionPlusOneList[0].height;\n    }); // ensure that we also pick the highest bandwidth variant that\n    // is just-larger-than the video player\n\n    highestRemainingBandwidthRep = resolutionPlusOneSmallest[resolutionPlusOneSmallest.length - 1];\n    resolutionPlusOneRep = resolutionPlusOneSmallest.filter(function (rep) {\n      return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n    })[0];\n  } // fallback chain of variants\n\n\n  var chosenRep = resolutionPlusOneRep || resolutionBestRep || bandwidthBestRep || enabledPlaylistReps[0] || sortedPlaylistReps[0];\n  return chosenRep ? chosenRep.playlist : null;\n}; // Playlist Selectors\n\n/**\n * Chooses the appropriate media playlist based on the most recent\n * bandwidth estimate and the player size.\n *\n * Expects to be called within the context of an instance of HlsHandler\n *\n * @return {Playlist} the highest bitrate playlist less than the\n * currently detected bandwidth, accounting for some amount of\n * bandwidth variance\n */\n\n\nvar lastBandwidthSelector = function lastBandwidthSelector() {\n  return simpleSelector(this.playlists.master, this.systemBandwidth, parseInt(safeGetComputedStyle(this.tech_.el(), 'width'), 10), parseInt(safeGetComputedStyle(this.tech_.el(), 'height'), 10), this.limitRenditionByPlayerDimensions);\n};\n/**\n * Chooses the appropriate media playlist based on the potential to rebuffer\n *\n * @param {Object} settings\n *        Object of information required to use this selector\n * @param {Object} settings.master\n *        Object representation of the master manifest\n * @param {Number} settings.currentTime\n *        The current time of the player\n * @param {Number} settings.bandwidth\n *        Current measured bandwidth\n * @param {Number} settings.duration\n *        Duration of the media\n * @param {Number} settings.segmentDuration\n *        Segment duration to be used in round trip time calculations\n * @param {Number} settings.timeUntilRebuffer\n *        Time left in seconds until the player has to rebuffer\n * @param {Number} settings.currentTimeline\n *        The current timeline segments are being loaded from\n * @param {SyncController} settings.syncController\n *        SyncController for determining if we have a sync point for a given playlist\n * @return {Object|null}\n *         {Object} return.playlist\n *         The highest bandwidth playlist with the least amount of rebuffering\n *         {Number} return.rebufferingImpact\n *         The amount of time in seconds switching to this playlist will rebuffer. A\n *         negative value means that switching will cause zero rebuffering.\n */\n\n\nvar minRebufferMaxBandwidthSelector = function minRebufferMaxBandwidthSelector(settings) {\n  var master = settings.master,\n      currentTime = settings.currentTime,\n      bandwidth = settings.bandwidth,\n      duration$$1 = settings.duration,\n      segmentDuration = settings.segmentDuration,\n      timeUntilRebuffer = settings.timeUntilRebuffer,\n      currentTimeline = settings.currentTimeline,\n      syncController = settings.syncController; // filter out any playlists that have been excluded due to\n  // incompatible configurations\n\n  var compatiblePlaylists = master.playlists.filter(function (playlist) {\n    return !Playlist.isIncompatible(playlist);\n  }); // filter out any playlists that have been disabled manually through the representations\n  // api or blacklisted temporarily due to playback errors.\n\n  var enabledPlaylists = compatiblePlaylists.filter(Playlist.isEnabled);\n\n  if (!enabledPlaylists.length) {\n    // if there are no enabled playlists, then they have all been blacklisted or disabled\n    // by the user through the representations api. In this case, ignore blacklisting and\n    // fallback to what the user wants by using playlists the user has not disabled.\n    enabledPlaylists = compatiblePlaylists.filter(function (playlist) {\n      return !Playlist.isDisabled(playlist);\n    });\n  }\n\n  var bandwidthPlaylists = enabledPlaylists.filter(Playlist.hasAttribute.bind(null, 'BANDWIDTH'));\n  var rebufferingEstimates = bandwidthPlaylists.map(function (playlist) {\n    var syncPoint = syncController.getSyncPoint(playlist, duration$$1, currentTimeline, currentTime); // If there is no sync point for this playlist, switching to it will require a\n    // sync request first. This will double the request time\n\n    var numRequests = syncPoint ? 1 : 2;\n    var requestTimeEstimate = Playlist.estimateSegmentRequestTime(segmentDuration, bandwidth, playlist);\n    var rebufferingImpact = requestTimeEstimate * numRequests - timeUntilRebuffer;\n    return {\n      playlist: playlist,\n      rebufferingImpact: rebufferingImpact\n    };\n  });\n  var noRebufferingPlaylists = rebufferingEstimates.filter(function (estimate) {\n    return estimate.rebufferingImpact <= 0;\n  }); // Sort by bandwidth DESC\n\n  stableSort(noRebufferingPlaylists, function (a, b) {\n    return comparePlaylistBandwidth(b.playlist, a.playlist);\n  });\n\n  if (noRebufferingPlaylists.length) {\n    return noRebufferingPlaylists[0];\n  }\n\n  stableSort(rebufferingEstimates, function (a, b) {\n    return a.rebufferingImpact - b.rebufferingImpact;\n  });\n  return rebufferingEstimates[0] || null;\n};\n/**\n * Chooses the appropriate media playlist, which in this case is the lowest bitrate\n * one with video.  If no renditions with video exist, return the lowest audio rendition.\n *\n * Expects to be called within the context of an instance of HlsHandler\n *\n * @return {Object|null}\n *         {Object} return.playlist\n *         The lowest bitrate playlist that contains a video codec.  If no such rendition\n *         exists pick the lowest audio rendition.\n */\n\n\nvar lowestBitrateCompatibleVariantSelector = function lowestBitrateCompatibleVariantSelector() {\n  // filter out any playlists that have been excluded due to\n  // incompatible configurations or playback errors\n  var playlists = this.playlists.master.playlists.filter(Playlist.isEnabled); // Sort ascending by bitrate\n\n  stableSort(playlists, function (a, b) {\n    return comparePlaylistBandwidth(a, b);\n  }); // Parse and assume that playlists with no video codec have no video\n  // (this is not necessarily true, although it is generally true).\n  //\n  // If an entire manifest has no valid videos everything will get filtered\n  // out.\n\n  var playlistsWithVideo = playlists.filter(function (playlist) {\n    return parseCodecs(playlist.attributes.CODECS).videoCodec;\n  });\n  return playlistsWithVideo[0] || null;\n};\n/**\n * Create captions text tracks on video.js if they do not exist\n *\n * @param {Object} inbandTextTracks a reference to current inbandTextTracks\n * @param {Object} tech the video.js tech\n * @param {Object} captionStreams the caption streams to create\n * @private\n */\n\n\nvar createCaptionsTrackIfNotExists = function createCaptionsTrackIfNotExists(inbandTextTracks, tech, captionStreams) {\n  for (var trackId in captionStreams) {\n    if (!inbandTextTracks[trackId]) {\n      tech.trigger({\n        type: 'usage',\n        name: 'hls-608'\n      });\n      var track = tech.textTracks().getTrackById(trackId);\n\n      if (track) {\n        // Resuse an existing track with a CC# id because this was\n        // very likely created by videojs-contrib-hls from information\n        // in the m3u8 for us to use\n        inbandTextTracks[trackId] = track;\n      } else {\n        // Otherwise, create a track with the default `CC#` label and\n        // without a language\n        inbandTextTracks[trackId] = tech.addRemoteTextTrack({\n          kind: 'captions',\n          id: trackId,\n          label: trackId\n        }, false).track;\n      }\n    }\n  }\n};\n\nvar addCaptionData = function addCaptionData(_ref) {\n  var inbandTextTracks = _ref.inbandTextTracks,\n      captionArray = _ref.captionArray,\n      timestampOffset = _ref.timestampOffset;\n\n  if (!captionArray) {\n    return;\n  }\n\n  var Cue = window.WebKitDataCue || window.VTTCue;\n  captionArray.forEach(function (caption) {\n    var track = caption.stream;\n    var startTime = caption.startTime;\n    var endTime = caption.endTime;\n\n    if (!inbandTextTracks[track]) {\n      return;\n    }\n\n    startTime += timestampOffset;\n    endTime += timestampOffset;\n    inbandTextTracks[track].addCue(new Cue(startTime, endTime, caption.text));\n  });\n};\n/**\n * @file segment-loader.js\n */\n// in ms\n\n\nvar CHECK_BUFFER_DELAY = 500;\n/**\n * Determines if we should call endOfStream on the media source based\n * on the state of the buffer or if appened segment was the final\n * segment in the playlist.\n *\n * @param {Object} playlist a media playlist object\n * @param {Object} mediaSource the MediaSource object\n * @param {Number} segmentIndex the index of segment we last appended\n * @returns {Boolean} do we need to call endOfStream on the MediaSource\n */\n\nvar detectEndOfStream = function detectEndOfStream(playlist, mediaSource, segmentIndex) {\n  if (!playlist || !mediaSource) {\n    return false;\n  }\n\n  var segments = playlist.segments; // determine a few boolean values to help make the branch below easier\n  // to read\n\n  var appendedLastSegment = segmentIndex === segments.length; // if we've buffered to the end of the video, we need to call endOfStream\n  // so that MediaSources can trigger the `ended` event when it runs out of\n  // buffered data instead of waiting for me\n\n  return playlist.endList && mediaSource.readyState === 'open' && appendedLastSegment;\n};\n\nvar finite = function finite(num) {\n  return typeof num === 'number' && isFinite(num);\n};\n\nvar illegalMediaSwitch = function illegalMediaSwitch(loaderType, startingMedia, newSegmentMedia) {\n  // Although these checks should most likely cover non 'main' types, for now it narrows\n  // the scope of our checks.\n  if (loaderType !== 'main' || !startingMedia || !newSegmentMedia) {\n    return null;\n  }\n\n  if (!newSegmentMedia.containsAudio && !newSegmentMedia.containsVideo) {\n    return 'Neither audio nor video found in segment.';\n  }\n\n  if (startingMedia.containsVideo && !newSegmentMedia.containsVideo) {\n    return 'Only audio found in segment when we expected video.' + ' We can\\'t switch to audio only from a stream that had video.' + ' To get rid of this message, please add codec information to the manifest.';\n  }\n\n  if (!startingMedia.containsVideo && newSegmentMedia.containsVideo) {\n    return 'Video found in segment when we expected only audio.' + ' We can\\'t switch to a stream with video from an audio only stream.' + ' To get rid of this message, please add codec information to the manifest.';\n  }\n\n  return null;\n};\n/**\n * Calculates a time value that is safe to remove from the back buffer without interupting\n * playback.\n *\n * @param {TimeRange} seekable\n *        The current seekable range\n * @param {Number} currentTime\n *        The current time of the player\n * @param {Number} targetDuration\n *        The target duration of the current playlist\n * @return {Number}\n *         Time that is safe to remove from the back buffer without interupting playback\n */\n\n\nvar safeBackBufferTrimTime = function safeBackBufferTrimTime(seekable$$1, currentTime, targetDuration) {\n  var removeToTime = void 0;\n\n  if (seekable$$1.length && seekable$$1.start(0) > 0 && seekable$$1.start(0) < currentTime) {\n    // If we have a seekable range use that as the limit for what can be removed safely\n    removeToTime = seekable$$1.start(0);\n  } else {\n    // otherwise remove anything older than 30 seconds before the current play head\n    removeToTime = currentTime - 30;\n  } // Don't allow removing from the buffer within target duration of current time\n  // to avoid the possibility of removing the GOP currently being played which could\n  // cause playback stalls.\n\n\n  return Math.min(removeToTime, currentTime - targetDuration);\n};\n\nvar segmentInfoString = function segmentInfoString(segmentInfo) {\n  var _segmentInfo$segment = segmentInfo.segment,\n      start = _segmentInfo$segment.start,\n      end = _segmentInfo$segment.end,\n      _segmentInfo$playlist = segmentInfo.playlist,\n      seq = _segmentInfo$playlist.mediaSequence,\n      id = _segmentInfo$playlist.id,\n      _segmentInfo$playlist2 = _segmentInfo$playlist.segments,\n      segments = _segmentInfo$playlist2 === undefined ? [] : _segmentInfo$playlist2,\n      index = segmentInfo.mediaIndex,\n      timeline = segmentInfo.timeline;\n  return ['appending [' + index + '] of [' + seq + ', ' + (seq + segments.length) + '] from playlist [' + id + ']', '[' + start + ' => ' + end + '] in timeline [' + timeline + ']'].join(' ');\n};\n/**\n * An object that manages segment loading and appending.\n *\n * @class SegmentLoader\n * @param {Object} options required and optional options\n * @extends videojs.EventTarget\n */\n\n\nvar SegmentLoader = function (_videojs$EventTarget) {\n  inherits(SegmentLoader, _videojs$EventTarget);\n\n  function SegmentLoader(settings) {\n    classCallCheck(this, SegmentLoader); // check pre-conditions\n\n    var _this = possibleConstructorReturn(this, (SegmentLoader.__proto__ || Object.getPrototypeOf(SegmentLoader)).call(this));\n\n    if (!settings) {\n      throw new TypeError('Initialization settings are required');\n    }\n\n    if (typeof settings.currentTime !== 'function') {\n      throw new TypeError('No currentTime getter specified');\n    }\n\n    if (!settings.mediaSource) {\n      throw new TypeError('No MediaSource specified');\n    } // public properties\n\n\n    _this.bandwidth = settings.bandwidth;\n    _this.throughput = {\n      rate: 0,\n      count: 0\n    };\n    _this.roundTrip = NaN;\n\n    _this.resetStats_();\n\n    _this.mediaIndex = null; // private settings\n\n    _this.hasPlayed_ = settings.hasPlayed;\n    _this.currentTime_ = settings.currentTime;\n    _this.seekable_ = settings.seekable;\n    _this.seeking_ = settings.seeking;\n    _this.duration_ = settings.duration;\n    _this.mediaSource_ = settings.mediaSource;\n    _this.hls_ = settings.hls;\n    _this.loaderType_ = settings.loaderType;\n    _this.startingMedia_ = void 0;\n    _this.segmentMetadataTrack_ = settings.segmentMetadataTrack;\n    _this.goalBufferLength_ = settings.goalBufferLength;\n    _this.sourceType_ = settings.sourceType;\n    _this.inbandTextTracks_ = settings.inbandTextTracks;\n    _this.state_ = 'INIT'; // private instance variables\n\n    _this.checkBufferTimeout_ = null;\n    _this.error_ = void 0;\n    _this.currentTimeline_ = -1;\n    _this.pendingSegment_ = null;\n    _this.mimeType_ = null;\n    _this.sourceUpdater_ = null;\n    _this.xhrOptions_ = null; // Fragmented mp4 playback\n\n    _this.activeInitSegmentId_ = null;\n    _this.initSegments_ = {}; // HLSe playback\n\n    _this.cacheEncryptionKeys_ = settings.cacheEncryptionKeys;\n    _this.keyCache_ = {}; // Fmp4 CaptionParser\n\n    if (_this.loaderType_ === 'main') {\n      _this.captionParser_ = new CaptionParser();\n    } else {\n      _this.captionParser_ = null;\n    }\n\n    _this.decrypter_ = settings.decrypter; // Manages the tracking and generation of sync-points, mappings\n    // between a time in the display time and a segment index within\n    // a playlist\n\n    _this.syncController_ = settings.syncController;\n    _this.syncPoint_ = {\n      segmentIndex: 0,\n      time: 0\n    };\n\n    _this.syncController_.on('syncinfoupdate', function () {\n      return _this.trigger('syncinfoupdate');\n    });\n\n    _this.mediaSource_.addEventListener('sourceopen', function () {\n      return _this.ended_ = false;\n    }); // ...for determining the fetch location\n\n\n    _this.fetchAtBuffer_ = false;\n    _this.logger_ = logger('SegmentLoader[' + _this.loaderType_ + ']');\n    Object.defineProperty(_this, 'state', {\n      get: function get$$1() {\n        return this.state_;\n      },\n      set: function set$$1(newState) {\n        if (newState !== this.state_) {\n          this.logger_(this.state_ + ' -> ' + newState);\n          this.state_ = newState;\n        }\n      }\n    });\n    return _this;\n  }\n  /**\n   * reset all of our media stats\n   *\n   * @private\n   */\n\n\n  createClass(SegmentLoader, [{\n    key: 'resetStats_',\n    value: function resetStats_() {\n      this.mediaBytesTransferred = 0;\n      this.mediaRequests = 0;\n      this.mediaRequestsAborted = 0;\n      this.mediaRequestsTimedout = 0;\n      this.mediaRequestsErrored = 0;\n      this.mediaTransferDuration = 0;\n      this.mediaSecondsLoaded = 0;\n    }\n    /**\n     * dispose of the SegmentLoader and reset to the default state\n     */\n\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      this.state = 'DISPOSED';\n      this.pause();\n      this.abort_();\n\n      if (this.sourceUpdater_) {\n        this.sourceUpdater_.dispose();\n      }\n\n      this.resetStats_();\n\n      if (this.captionParser_) {\n        this.captionParser_.reset();\n      }\n    }\n    /**\n     * abort anything that is currently doing on with the SegmentLoader\n     * and reset to a default state\n     */\n\n  }, {\n    key: 'abort',\n    value: function abort() {\n      if (this.state !== 'WAITING') {\n        if (this.pendingSegment_) {\n          this.pendingSegment_ = null;\n        }\n\n        return;\n      }\n\n      this.abort_(); // We aborted the requests we were waiting on, so reset the loader's state to READY\n      // since we are no longer \"waiting\" on any requests. XHR callback is not always run\n      // when the request is aborted. This will prevent the loader from being stuck in the\n      // WAITING state indefinitely.\n\n      this.state = 'READY'; // don't wait for buffer check timeouts to begin fetching the\n      // next segment\n\n      if (!this.paused()) {\n        this.monitorBuffer_();\n      }\n    }\n    /**\n     * abort all pending xhr requests and null any pending segements\n     *\n     * @private\n     */\n\n  }, {\n    key: 'abort_',\n    value: function abort_() {\n      if (this.pendingSegment_) {\n        this.pendingSegment_.abortRequests();\n      } // clear out the segment being processed\n\n\n      this.pendingSegment_ = null;\n    }\n    /**\n     * set an error on the segment loader and null out any pending segements\n     *\n     * @param {Error} error the error to set on the SegmentLoader\n     * @return {Error} the error that was set or that is currently set\n     */\n\n  }, {\n    key: 'error',\n    value: function error(_error) {\n      if (typeof _error !== 'undefined') {\n        this.error_ = _error;\n      }\n\n      this.pendingSegment_ = null;\n      return this.error_;\n    }\n  }, {\n    key: 'endOfStream',\n    value: function endOfStream() {\n      this.ended_ = true;\n      this.pause();\n      this.trigger('ended');\n    }\n    /**\n     * Indicates which time ranges are buffered\n     *\n     * @return {TimeRange}\n     *         TimeRange object representing the current buffered ranges\n     */\n\n  }, {\n    key: 'buffered_',\n    value: function buffered_() {\n      if (!this.sourceUpdater_) {\n        return videojs$1.createTimeRanges();\n      }\n\n      return this.sourceUpdater_.buffered();\n    }\n    /**\n     * Gets and sets init segment for the provided map\n     *\n     * @param {Object} map\n     *        The map object representing the init segment to get or set\n     * @param {Boolean=} set\n     *        If true, the init segment for the provided map should be saved\n     * @return {Object}\n     *         map object for desired init segment\n     */\n\n  }, {\n    key: 'initSegment',\n    value: function initSegment(map) {\n      var set$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!map) {\n        return null;\n      }\n\n      var id = initSegmentId(map);\n      var storedMap = this.initSegments_[id];\n\n      if (set$$1 && !storedMap && map.bytes) {\n        this.initSegments_[id] = storedMap = {\n          resolvedUri: map.resolvedUri,\n          byterange: map.byterange,\n          bytes: map.bytes,\n          timescales: map.timescales,\n          videoTrackIds: map.videoTrackIds\n        };\n      }\n\n      return storedMap || map;\n    }\n    /**\n     * Gets and sets key for the provided key\n     *\n     * @param {Object} key\n     *        The key object representing the key to get or set\n     * @param {Boolean=} set\n     *        If true, the key for the provided key should be saved\n     * @return {Object}\n     *         Key object for desired key\n     */\n\n  }, {\n    key: 'segmentKey',\n    value: function segmentKey(key) {\n      var set$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!key) {\n        return null;\n      }\n\n      var id = segmentKeyId(key);\n      var storedKey = this.keyCache_[id]; // TODO: We should use the HTTP Expires header to invalidate our cache per\n      // https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-6.2.3\n\n      if (this.cacheEncryptionKeys_ && set$$1 && !storedKey && key.bytes) {\n        this.keyCache_[id] = storedKey = {\n          resolvedUri: key.resolvedUri,\n          bytes: key.bytes\n        };\n      }\n\n      var result = {\n        resolvedUri: (storedKey || key).resolvedUri\n      };\n\n      if (storedKey) {\n        result.bytes = storedKey.bytes;\n      }\n\n      return result;\n    }\n    /**\n     * Returns true if all configuration required for loading is present, otherwise false.\n     *\n     * @return {Boolean} True if the all configuration is ready for loading\n     * @private\n     */\n\n  }, {\n    key: 'couldBeginLoading_',\n    value: function couldBeginLoading_() {\n      return this.playlist_ && ( // the source updater is created when init_ is called, so either having a\n      // source updater or being in the INIT state with a mimeType is enough\n      // to say we have all the needed configuration to start loading.\n      this.sourceUpdater_ || this.mimeType_ && this.state === 'INIT') && !this.paused();\n    }\n    /**\n     * load a playlist and start to fill the buffer\n     */\n\n  }, {\n    key: 'load',\n    value: function load() {\n      // un-pause\n      this.monitorBuffer_(); // if we don't have a playlist yet, keep waiting for one to be\n      // specified\n\n      if (!this.playlist_) {\n        return;\n      } // not sure if this is the best place for this\n\n\n      this.syncController_.setDateTimeMapping(this.playlist_); // if all the configuration is ready, initialize and begin loading\n\n      if (this.state === 'INIT' && this.couldBeginLoading_()) {\n        return this.init_();\n      } // if we're in the middle of processing a segment already, don't\n      // kick off an additional segment request\n\n\n      if (!this.couldBeginLoading_() || this.state !== 'READY' && this.state !== 'INIT') {\n        return;\n      }\n\n      this.state = 'READY';\n    }\n    /**\n     * Once all the starting parameters have been specified, begin\n     * operation. This method should only be invoked from the INIT\n     * state.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'init_',\n    value: function init_() {\n      this.state = 'READY';\n      this.sourceUpdater_ = new SourceUpdater(this.mediaSource_, this.mimeType_, this.loaderType_, this.sourceBufferEmitter_);\n      this.resetEverything();\n      return this.monitorBuffer_();\n    }\n    /**\n     * set a playlist on the segment loader\n     *\n     * @param {PlaylistLoader} media the playlist to set on the segment loader\n     */\n\n  }, {\n    key: 'playlist',\n    value: function playlist(newPlaylist) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!newPlaylist) {\n        return;\n      }\n\n      var oldPlaylist = this.playlist_;\n      var segmentInfo = this.pendingSegment_;\n      this.playlist_ = newPlaylist;\n      this.xhrOptions_ = options; // when we haven't started playing yet, the start of a live playlist\n      // is always our zero-time so force a sync update each time the playlist\n      // is refreshed from the server\n\n      if (!this.hasPlayed_()) {\n        newPlaylist.syncInfo = {\n          mediaSequence: newPlaylist.mediaSequence,\n          time: 0\n        };\n      }\n\n      var oldId = null;\n\n      if (oldPlaylist) {\n        if (oldPlaylist.id) {\n          oldId = oldPlaylist.id;\n        } else if (oldPlaylist.uri) {\n          oldId = oldPlaylist.uri;\n        }\n      }\n\n      this.logger_('playlist update [' + oldId + ' => ' + (newPlaylist.id || newPlaylist.uri) + ']'); // in VOD, this is always a rendition switch (or we updated our syncInfo above)\n      // in LIVE, we always want to update with new playlists (including refreshes)\n\n      this.trigger('syncinfoupdate'); // if we were unpaused but waiting for a playlist, start\n      // buffering now\n\n      if (this.state === 'INIT' && this.couldBeginLoading_()) {\n        return this.init_();\n      }\n\n      if (!oldPlaylist || oldPlaylist.uri !== newPlaylist.uri) {\n        if (this.mediaIndex !== null) {\n          // we must \"resync\" the segment loader when we switch renditions and\n          // the segment loader is already synced to the previous rendition\n          this.resyncLoader();\n        } // the rest of this function depends on `oldPlaylist` being defined\n\n\n        return;\n      } // we reloaded the same playlist so we are in a live scenario\n      // and we will likely need to adjust the mediaIndex\n\n\n      var mediaSequenceDiff = newPlaylist.mediaSequence - oldPlaylist.mediaSequence;\n      this.logger_('live window shift [' + mediaSequenceDiff + ']'); // update the mediaIndex on the SegmentLoader\n      // this is important because we can abort a request and this value must be\n      // equal to the last appended mediaIndex\n\n      if (this.mediaIndex !== null) {\n        this.mediaIndex -= mediaSequenceDiff;\n      } // update the mediaIndex on the SegmentInfo object\n      // this is important because we will update this.mediaIndex with this value\n      // in `handleUpdateEnd_` after the segment has been successfully appended\n\n\n      if (segmentInfo) {\n        segmentInfo.mediaIndex -= mediaSequenceDiff; // we need to update the referenced segment so that timing information is\n        // saved for the new playlist's segment, however, if the segment fell off the\n        // playlist, we can leave the old reference and just lose the timing info\n\n        if (segmentInfo.mediaIndex >= 0) {\n          segmentInfo.segment = newPlaylist.segments[segmentInfo.mediaIndex];\n        }\n      }\n\n      this.syncController_.saveExpiredSegmentInfo(oldPlaylist, newPlaylist);\n    }\n    /**\n     * Prevent the loader from fetching additional segments. If there\n     * is a segment request outstanding, it will finish processing\n     * before the loader halts. A segment loader can be unpaused by\n     * calling load().\n     */\n\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (this.checkBufferTimeout_) {\n        window$1.clearTimeout(this.checkBufferTimeout_);\n        this.checkBufferTimeout_ = null;\n      }\n    }\n    /**\n     * Returns whether the segment loader is fetching additional\n     * segments when given the opportunity. This property can be\n     * modified through calls to pause() and load().\n     */\n\n  }, {\n    key: 'paused',\n    value: function paused() {\n      return this.checkBufferTimeout_ === null;\n    }\n    /**\n     * create/set the following mimetype on the SourceBuffer through a\n     * SourceUpdater\n     *\n     * @param {String} mimeType the mime type string to use\n     * @param {Object} sourceBufferEmitter an event emitter that fires when a source buffer\n     * is added to the media source\n     */\n\n  }, {\n    key: 'mimeType',\n    value: function mimeType(_mimeType, sourceBufferEmitter) {\n      if (this.mimeType_) {\n        return;\n      }\n\n      this.mimeType_ = _mimeType;\n      this.sourceBufferEmitter_ = sourceBufferEmitter; // if we were unpaused but waiting for a sourceUpdater, start\n      // buffering now\n\n      if (this.state === 'INIT' && this.couldBeginLoading_()) {\n        this.init_();\n      }\n    }\n    /**\n     * Delete all the buffered data and reset the SegmentLoader\n     * @param {Function} [done] an optional callback to be executed when the remove\n     * operation is complete\n     */\n\n  }, {\n    key: 'resetEverything',\n    value: function resetEverything(done) {\n      this.ended_ = false;\n      this.resetLoader();\n      this.remove(0, this.duration_(), done); // clears fmp4 captions\n\n      if (this.captionParser_) {\n        this.captionParser_.clearAllCaptions();\n      }\n\n      this.trigger('reseteverything');\n    }\n    /**\n     * Force the SegmentLoader to resync and start loading around the currentTime instead\n     * of starting at the end of the buffer\n     *\n     * Useful for fast quality changes\n     */\n\n  }, {\n    key: 'resetLoader',\n    value: function resetLoader() {\n      this.fetchAtBuffer_ = false;\n      this.resyncLoader();\n    }\n    /**\n     * Force the SegmentLoader to restart synchronization and make a conservative guess\n     * before returning to the simple walk-forward method\n     */\n\n  }, {\n    key: 'resyncLoader',\n    value: function resyncLoader() {\n      this.mediaIndex = null;\n      this.syncPoint_ = null;\n      this.abort();\n    }\n    /**\n     * Remove any data in the source buffer between start and end times\n     * @param {Number} start - the start time of the region to remove from the buffer\n     * @param {Number} end - the end time of the region to remove from the buffer\n     * @param {Function} [done] - an optional callback to be executed when the remove\n     * operation is complete\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(start, end, done) {\n      if (this.sourceUpdater_) {\n        this.sourceUpdater_.remove(start, end, done);\n      }\n\n      removeCuesFromTrack(start, end, this.segmentMetadataTrack_);\n\n      if (this.inbandTextTracks_) {\n        for (var id in this.inbandTextTracks_) {\n          removeCuesFromTrack(start, end, this.inbandTextTracks_[id]);\n        }\n      }\n    }\n    /**\n     * (re-)schedule monitorBufferTick_ to run as soon as possible\n     *\n     * @private\n     */\n\n  }, {\n    key: 'monitorBuffer_',\n    value: function monitorBuffer_() {\n      if (this.checkBufferTimeout_) {\n        window$1.clearTimeout(this.checkBufferTimeout_);\n      }\n\n      this.checkBufferTimeout_ = window$1.setTimeout(this.monitorBufferTick_.bind(this), 1);\n    }\n    /**\n     * As long as the SegmentLoader is in the READY state, periodically\n     * invoke fillBuffer_().\n     *\n     * @private\n     */\n\n  }, {\n    key: 'monitorBufferTick_',\n    value: function monitorBufferTick_() {\n      if (this.state === 'READY') {\n        this.fillBuffer_();\n      }\n\n      if (this.checkBufferTimeout_) {\n        window$1.clearTimeout(this.checkBufferTimeout_);\n      }\n\n      this.checkBufferTimeout_ = window$1.setTimeout(this.monitorBufferTick_.bind(this), CHECK_BUFFER_DELAY);\n    }\n    /**\n     * fill the buffer with segements unless the sourceBuffers are\n     * currently updating\n     *\n     * Note: this function should only ever be called by monitorBuffer_\n     * and never directly\n     *\n     * @private\n     */\n\n  }, {\n    key: 'fillBuffer_',\n    value: function fillBuffer_() {\n      if (this.sourceUpdater_.updating()) {\n        return;\n      }\n\n      if (!this.syncPoint_) {\n        this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_());\n      } // see if we need to begin loading immediately\n\n\n      var segmentInfo = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);\n\n      if (!segmentInfo) {\n        return;\n      }\n\n      if (this.isEndOfStream_(segmentInfo.mediaIndex)) {\n        this.endOfStream();\n        return;\n      }\n\n      if (segmentInfo.mediaIndex === this.playlist_.segments.length - 1 && this.mediaSource_.readyState === 'ended' && !this.seeking_()) {\n        return;\n      } // We will need to change timestampOffset of the sourceBuffer if:\n      // - The segment.timeline !== this.currentTimeline\n      //   (we are crossing a discontinuity somehow)\n      // - The \"timestampOffset\" for the start of this segment is less than\n      //   the currently set timestampOffset\n      // Also, clear captions if we are crossing a discontinuity boundary\n      // Previously, we changed the timestampOffset if the start of this segment\n      // is less than the currently set timestampOffset but this isn't wanted\n      // as it can produce bad behavior, especially around long running\n      // live streams\n\n\n      if (segmentInfo.timeline !== this.currentTimeline_) {\n        this.syncController_.reset();\n        segmentInfo.timestampOffset = segmentInfo.startOfSegment;\n\n        if (this.captionParser_) {\n          this.captionParser_.clearAllCaptions();\n        }\n      }\n\n      this.loadSegment_(segmentInfo);\n    }\n    /**\n     * Determines if this segment loader is at the end of it's stream.\n     *\n     * @param {Number} mediaIndex the index of segment we last appended\n     * @param {Object} [playlist=this.playlist_] a media playlist object\n     * @returns {Boolean} true if at end of stream, false otherwise.\n     */\n\n  }, {\n    key: 'isEndOfStream_',\n    value: function isEndOfStream_(mediaIndex) {\n      var playlist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.playlist_;\n      return detectEndOfStream(playlist, this.mediaSource_, mediaIndex) && !this.sourceUpdater_.updating();\n    }\n    /**\n     * Determines what segment request should be made, given current playback\n     * state.\n     *\n     * @param {TimeRanges} buffered - the state of the buffer\n     * @param {Object} playlist - the playlist object to fetch segments from\n     * @param {Number} mediaIndex - the previous mediaIndex fetched or null\n     * @param {Boolean} hasPlayed - a flag indicating whether we have played or not\n     * @param {Number} currentTime - the playback position in seconds\n     * @param {Object} syncPoint - a segment info object that describes the\n     * @returns {Object} a segment request object that describes the segment to load\n     */\n\n  }, {\n    key: 'checkBuffer_',\n    value: function checkBuffer_(buffered, playlist, mediaIndex, hasPlayed, currentTime, syncPoint) {\n      var lastBufferedEnd = 0;\n      var startOfSegment = void 0;\n\n      if (buffered.length) {\n        lastBufferedEnd = buffered.end(buffered.length - 1);\n      }\n\n      var bufferedTime = Math.max(0, lastBufferedEnd - currentTime);\n\n      if (!playlist.segments.length) {\n        return null;\n      } // if there is plenty of content buffered, and the video has\n      // been played before relax for awhile\n\n\n      if (bufferedTime >= this.goalBufferLength_()) {\n        return null;\n      } // if the video has not yet played once, and we already have\n      // one segment downloaded do nothing\n\n\n      if (!hasPlayed && bufferedTime >= 1) {\n        return null;\n      } // When the syncPoint is null, there is no way of determining a good\n      // conservative segment index to fetch from\n      // The best thing to do here is to get the kind of sync-point data by\n      // making a request\n\n\n      if (syncPoint === null) {\n        mediaIndex = this.getSyncSegmentCandidate_(playlist);\n        return this.generateSegmentInfo_(playlist, mediaIndex, null, true);\n      } // Under normal playback conditions fetching is a simple walk forward\n\n\n      if (mediaIndex !== null) {\n        var segment = playlist.segments[mediaIndex];\n        startOfSegment = lastBufferedEnd;\n        return this.generateSegmentInfo_(playlist, mediaIndex + 1, startOfSegment, false);\n      } // There is a sync-point but the lack of a mediaIndex indicates that\n      // we need to make a good conservative guess about which segment to\n      // fetch\n\n\n      if (this.fetchAtBuffer_) {\n        // Find the segment containing the end of the buffer\n        var mediaSourceInfo = Playlist.getMediaInfoForTime(playlist, lastBufferedEnd, syncPoint.segmentIndex, syncPoint.time);\n        mediaIndex = mediaSourceInfo.mediaIndex;\n        startOfSegment = mediaSourceInfo.startTime;\n      } else {\n        // Find the segment containing currentTime\n        var _mediaSourceInfo = Playlist.getMediaInfoForTime(playlist, currentTime, syncPoint.segmentIndex, syncPoint.time);\n\n        mediaIndex = _mediaSourceInfo.mediaIndex;\n        startOfSegment = _mediaSourceInfo.startTime;\n      }\n\n      return this.generateSegmentInfo_(playlist, mediaIndex, startOfSegment, false);\n    }\n    /**\n     * The segment loader has no recourse except to fetch a segment in the\n     * current playlist and use the internal timestamps in that segment to\n     * generate a syncPoint. This function returns a good candidate index\n     * for that process.\n     *\n     * @param {Object} playlist - the playlist object to look for a\n     * @returns {Number} An index of a segment from the playlist to load\n     */\n\n  }, {\n    key: 'getSyncSegmentCandidate_',\n    value: function getSyncSegmentCandidate_(playlist) {\n      var _this2 = this;\n\n      if (this.currentTimeline_ === -1) {\n        return 0;\n      }\n\n      var segmentIndexArray = playlist.segments.map(function (s, i) {\n        return {\n          timeline: s.timeline,\n          segmentIndex: i\n        };\n      }).filter(function (s) {\n        return s.timeline === _this2.currentTimeline_;\n      });\n\n      if (segmentIndexArray.length) {\n        return segmentIndexArray[Math.min(segmentIndexArray.length - 1, 1)].segmentIndex;\n      }\n\n      return Math.max(playlist.segments.length - 1, 0);\n    }\n  }, {\n    key: 'generateSegmentInfo_',\n    value: function generateSegmentInfo_(playlist, mediaIndex, startOfSegment, isSyncRequest) {\n      if (mediaIndex < 0 || mediaIndex >= playlist.segments.length) {\n        return null;\n      }\n\n      var segment = playlist.segments[mediaIndex];\n      return {\n        requestId: 'segment-loader-' + Math.random(),\n        // resolve the segment URL relative to the playlist\n        uri: segment.resolvedUri,\n        // the segment's mediaIndex at the time it was requested\n        mediaIndex: mediaIndex,\n        // whether or not to update the SegmentLoader's state with this\n        // segment's mediaIndex\n        isSyncRequest: isSyncRequest,\n        startOfSegment: startOfSegment,\n        // the segment's playlist\n        playlist: playlist,\n        // unencrypted bytes of the segment\n        bytes: null,\n        // when a key is defined for this segment, the encrypted bytes\n        encryptedBytes: null,\n        // The target timestampOffset for this segment when we append it\n        // to the source buffer\n        timestampOffset: null,\n        // The timeline that the segment is in\n        timeline: segment.timeline,\n        // The expected duration of the segment in seconds\n        duration: segment.duration,\n        // retain the segment in case the playlist updates while doing an async process\n        segment: segment\n      };\n    }\n    /**\n     * Determines if the network has enough bandwidth to complete the current segment\n     * request in a timely manner. If not, the request will be aborted early and bandwidth\n     * updated to trigger a playlist switch.\n     *\n     * @param {Object} stats\n     *        Object containing stats about the request timing and size\n     * @return {Boolean} True if the request was aborted, false otherwise\n     * @private\n     */\n\n  }, {\n    key: 'abortRequestEarly_',\n    value: function abortRequestEarly_(stats) {\n      if (this.hls_.tech_.paused() || // Don't abort if the current playlist is on the lowestEnabledRendition\n      // TODO: Replace using timeout with a boolean indicating whether this playlist is\n      //       the lowestEnabledRendition.\n      !this.xhrOptions_.timeout || // Don't abort if we have no bandwidth information to estimate segment sizes\n      !this.playlist_.attributes.BANDWIDTH) {\n        return false;\n      } // Wait at least 1 second since the first byte of data has been received before\n      // using the calculated bandwidth from the progress event to allow the bitrate\n      // to stabilize\n\n\n      if (Date.now() - (stats.firstBytesReceivedAt || Date.now()) < 1000) {\n        return false;\n      }\n\n      var currentTime = this.currentTime_();\n      var measuredBandwidth = stats.bandwidth;\n      var segmentDuration = this.pendingSegment_.duration;\n      var requestTimeRemaining = Playlist.estimateSegmentRequestTime(segmentDuration, measuredBandwidth, this.playlist_, stats.bytesReceived); // Subtract 1 from the timeUntilRebuffer so we still consider an early abort\n      // if we are only left with less than 1 second when the request completes.\n      // A negative timeUntilRebuffering indicates we are already rebuffering\n\n      var timeUntilRebuffer$$1 = timeUntilRebuffer(this.buffered_(), currentTime, this.hls_.tech_.playbackRate()) - 1; // Only consider aborting early if the estimated time to finish the download\n      // is larger than the estimated time until the player runs out of forward buffer\n\n      if (requestTimeRemaining <= timeUntilRebuffer$$1) {\n        return false;\n      }\n\n      var switchCandidate = minRebufferMaxBandwidthSelector({\n        master: this.hls_.playlists.master,\n        currentTime: currentTime,\n        bandwidth: measuredBandwidth,\n        duration: this.duration_(),\n        segmentDuration: segmentDuration,\n        timeUntilRebuffer: timeUntilRebuffer$$1,\n        currentTimeline: this.currentTimeline_,\n        syncController: this.syncController_\n      });\n\n      if (!switchCandidate) {\n        return;\n      }\n\n      var rebufferingImpact = requestTimeRemaining - timeUntilRebuffer$$1;\n      var timeSavedBySwitching = rebufferingImpact - switchCandidate.rebufferingImpact;\n      var minimumTimeSaving = 0.5; // If we are already rebuffering, increase the amount of variance we add to the\n      // potential round trip time of the new request so that we are not too aggressive\n      // with switching to a playlist that might save us a fraction of a second.\n\n      if (timeUntilRebuffer$$1 <= TIME_FUDGE_FACTOR) {\n        minimumTimeSaving = 1;\n      }\n\n      if (!switchCandidate.playlist || switchCandidate.playlist.uri === this.playlist_.uri || timeSavedBySwitching < minimumTimeSaving) {\n        return false;\n      } // set the bandwidth to that of the desired playlist being sure to scale by\n      // BANDWIDTH_VARIANCE and add one so the playlist selector does not exclude it\n      // don't trigger a bandwidthupdate as the bandwidth is artifial\n\n\n      this.bandwidth = switchCandidate.playlist.attributes.BANDWIDTH * Config.BANDWIDTH_VARIANCE + 1;\n      this.abort();\n      this.trigger('earlyabort');\n      return true;\n    }\n    /**\n     * XHR `progress` event handler\n     *\n     * @param {Event}\n     *        The XHR `progress` event\n     * @param {Object} simpleSegment\n     *        A simplified segment object copy\n     * @private\n     */\n\n  }, {\n    key: 'handleProgress_',\n    value: function handleProgress_(event, simpleSegment) {\n      if (!this.pendingSegment_ || simpleSegment.requestId !== this.pendingSegment_.requestId || this.abortRequestEarly_(simpleSegment.stats)) {\n        return;\n      }\n\n      this.trigger('progress');\n    }\n    /**\n     * load a specific segment from a request into the buffer\n     *\n     * @private\n     */\n\n  }, {\n    key: 'loadSegment_',\n    value: function loadSegment_(segmentInfo) {\n      this.state = 'WAITING';\n      this.pendingSegment_ = segmentInfo;\n      this.trimBackBuffer_(segmentInfo);\n      segmentInfo.abortRequests = mediaSegmentRequest(this.hls_.xhr, this.xhrOptions_, this.decrypter_, this.captionParser_, this.createSimplifiedSegmentObj_(segmentInfo), // progress callback\n      this.handleProgress_.bind(this), this.segmentRequestFinished_.bind(this));\n    }\n    /**\n     * trim the back buffer so that we don't have too much data\n     * in the source buffer\n     *\n     * @private\n     *\n     * @param {Object} segmentInfo - the current segment\n     */\n\n  }, {\n    key: 'trimBackBuffer_',\n    value: function trimBackBuffer_(segmentInfo) {\n      var removeToTime = safeBackBufferTrimTime(this.seekable_(), this.currentTime_(), this.playlist_.targetDuration || 10); // Chrome has a hard limit of 150MB of\n      // buffer and a very conservative \"garbage collector\"\n      // We manually clear out the old buffer to ensure\n      // we don't trigger the QuotaExceeded error\n      // on the source buffer during subsequent appends\n\n      if (removeToTime > 0) {\n        this.remove(0, removeToTime);\n      }\n    }\n    /**\n     * created a simplified copy of the segment object with just the\n     * information necessary to perform the XHR and decryption\n     *\n     * @private\n     *\n     * @param {Object} segmentInfo - the current segment\n     * @returns {Object} a simplified segment object copy\n     */\n\n  }, {\n    key: 'createSimplifiedSegmentObj_',\n    value: function createSimplifiedSegmentObj_(segmentInfo) {\n      var segment = segmentInfo.segment;\n      var simpleSegment = {\n        resolvedUri: segment.resolvedUri,\n        byterange: segment.byterange,\n        requestId: segmentInfo.requestId\n      };\n\n      if (segment.key) {\n        // if the media sequence is greater than 2^32, the IV will be incorrect\n        // assuming 10s segments, that would be about 1300 years\n        var iv = segment.key.iv || new Uint32Array([0, 0, 0, segmentInfo.mediaIndex + segmentInfo.playlist.mediaSequence]);\n        simpleSegment.key = this.segmentKey(segment.key);\n        simpleSegment.key.iv = iv;\n      }\n\n      if (segment.map) {\n        simpleSegment.map = this.initSegment(segment.map);\n      }\n\n      return simpleSegment;\n    }\n    /**\n     * Handle the callback from the segmentRequest function and set the\n     * associated SegmentLoader state and errors if necessary\n     *\n     * @private\n     */\n\n  }, {\n    key: 'segmentRequestFinished_',\n    value: function segmentRequestFinished_(error, simpleSegment) {\n      // every request counts as a media request even if it has been aborted\n      // or canceled due to a timeout\n      this.mediaRequests += 1;\n\n      if (simpleSegment.stats) {\n        this.mediaBytesTransferred += simpleSegment.stats.bytesReceived;\n        this.mediaTransferDuration += simpleSegment.stats.roundTripTime;\n      } // The request was aborted and the SegmentLoader has already been reset\n\n\n      if (!this.pendingSegment_) {\n        this.mediaRequestsAborted += 1;\n        return;\n      } // the request was aborted and the SegmentLoader has already started\n      // another request. this can happen when the timeout for an aborted\n      // request triggers due to a limitation in the XHR library\n      // do not count this as any sort of request or we risk double-counting\n\n\n      if (simpleSegment.requestId !== this.pendingSegment_.requestId) {\n        return;\n      } // an error occurred from the active pendingSegment_ so reset everything\n\n\n      if (error) {\n        this.pendingSegment_ = null;\n        this.state = 'READY'; // the requests were aborted just record the aborted stat and exit\n        // this is not a true error condition and nothing corrective needs\n        // to be done\n\n        if (error.code === REQUEST_ERRORS.ABORTED) {\n          this.mediaRequestsAborted += 1;\n          return;\n        }\n\n        this.pause(); // the error is really just that at least one of the requests timed-out\n        // set the bandwidth to a very low value and trigger an ABR switch to\n        // take emergency action\n\n        if (error.code === REQUEST_ERRORS.TIMEOUT) {\n          this.mediaRequestsTimedout += 1;\n          this.bandwidth = 1;\n          this.roundTrip = NaN;\n          this.trigger('bandwidthupdate');\n          return;\n        } // if control-flow has arrived here, then the error is real\n        // emit an error event to blacklist the current playlist\n\n\n        this.mediaRequestsErrored += 1;\n        this.error(error);\n        this.trigger('error');\n        return;\n      } // the response was a success so set any bandwidth stats the request\n      // generated for ABR purposes\n\n\n      this.bandwidth = simpleSegment.stats.bandwidth;\n      this.roundTrip = simpleSegment.stats.roundTripTime; // if this request included an initialization segment, save that data\n      // to the initSegment cache\n\n      if (simpleSegment.map) {\n        simpleSegment.map = this.initSegment(simpleSegment.map, true);\n      } // if this request included a segment key, save that data in the cache\n\n\n      if (simpleSegment.key) {\n        this.segmentKey(simpleSegment.key, true);\n      }\n\n      this.processSegmentResponse_(simpleSegment);\n    }\n    /**\n     * Move any important data from the simplified segment object\n     * back to the real segment object for future phases\n     *\n     * @private\n     */\n\n  }, {\n    key: 'processSegmentResponse_',\n    value: function processSegmentResponse_(simpleSegment) {\n      var segmentInfo = this.pendingSegment_;\n      segmentInfo.bytes = simpleSegment.bytes;\n\n      if (simpleSegment.map) {\n        segmentInfo.segment.map.bytes = simpleSegment.map.bytes;\n      }\n\n      segmentInfo.endOfAllRequests = simpleSegment.endOfAllRequests; // This has fmp4 captions, add them to text tracks\n\n      if (simpleSegment.fmp4Captions) {\n        createCaptionsTrackIfNotExists(this.inbandTextTracks_, this.hls_.tech_, simpleSegment.captionStreams);\n        addCaptionData({\n          inbandTextTracks: this.inbandTextTracks_,\n          captionArray: simpleSegment.fmp4Captions,\n          // fmp4s will not have a timestamp offset\n          timestampOffset: 0\n        }); // Reset stored captions since we added parsed\n        // captions to a text track at this point\n\n        if (this.captionParser_) {\n          this.captionParser_.clearParsedCaptions();\n        }\n      }\n\n      this.handleSegment_();\n    }\n    /**\n     * append a decrypted segement to the SourceBuffer through a SourceUpdater\n     *\n     * @private\n     */\n\n  }, {\n    key: 'handleSegment_',\n    value: function handleSegment_() {\n      var _this3 = this;\n\n      if (!this.pendingSegment_) {\n        this.state = 'READY';\n        return;\n      }\n\n      var segmentInfo = this.pendingSegment_;\n      var segment = segmentInfo.segment;\n      var timingInfo = this.syncController_.probeSegmentInfo(segmentInfo); // When we have our first timing info, determine what media types this loader is\n      // dealing with. Although we're maintaining extra state, it helps to preserve the\n      // separation of segment loader from the actual source buffers.\n\n      if (typeof this.startingMedia_ === 'undefined' && timingInfo && ( // Guard against cases where we're not getting timing info at all until we are\n      // certain that all streams will provide it.\n      timingInfo.containsAudio || timingInfo.containsVideo)) {\n        this.startingMedia_ = {\n          containsAudio: timingInfo.containsAudio,\n          containsVideo: timingInfo.containsVideo\n        };\n      }\n\n      var illegalMediaSwitchError = illegalMediaSwitch(this.loaderType_, this.startingMedia_, timingInfo);\n\n      if (illegalMediaSwitchError) {\n        this.error({\n          message: illegalMediaSwitchError,\n          blacklistDuration: Infinity\n        });\n        this.trigger('error');\n        return;\n      }\n\n      if (segmentInfo.isSyncRequest) {\n        this.trigger('syncinfoupdate');\n        this.pendingSegment_ = null;\n        this.state = 'READY';\n        return;\n      }\n\n      if (segmentInfo.timestampOffset !== null && segmentInfo.timestampOffset !== this.sourceUpdater_.timestampOffset()) {\n        // Subtract any difference between the PTS and DTS times of the first frame\n        // from the timeStampOffset (which currently equals the buffered.end) to prevent\n        // creating any gaps in the buffer\n        if (timingInfo && timingInfo.segmentTimestampInfo) {\n          var ptsStartTime = timingInfo.segmentTimestampInfo[0].ptsTime;\n          var dtsStartTime = timingInfo.segmentTimestampInfo[0].dtsTime;\n          segmentInfo.timestampOffset -= ptsStartTime - dtsStartTime;\n        }\n\n        this.sourceUpdater_.timestampOffset(segmentInfo.timestampOffset); // fired when a timestamp offset is set in HLS (can also identify discontinuities)\n\n        this.trigger('timestampoffset');\n      }\n\n      var timelineMapping = this.syncController_.mappingForTimeline(segmentInfo.timeline);\n\n      if (timelineMapping !== null) {\n        this.trigger({\n          type: 'segmenttimemapping',\n          mapping: timelineMapping\n        });\n      }\n\n      this.state = 'APPENDING'; // if the media initialization segment is changing, append it\n      // before the content segment\n\n      if (segment.map) {\n        var initId = initSegmentId(segment.map);\n\n        if (!this.activeInitSegmentId_ || this.activeInitSegmentId_ !== initId) {\n          var initSegment = this.initSegment(segment.map);\n          this.sourceUpdater_.appendBuffer({\n            bytes: initSegment.bytes\n          }, function () {\n            _this3.activeInitSegmentId_ = initId;\n          });\n        }\n      }\n\n      segmentInfo.byteLength = segmentInfo.bytes.byteLength;\n\n      if (typeof segment.start === 'number' && typeof segment.end === 'number') {\n        this.mediaSecondsLoaded += segment.end - segment.start;\n      } else {\n        this.mediaSecondsLoaded += segment.duration;\n      }\n\n      this.logger_(segmentInfoString(segmentInfo));\n      this.sourceUpdater_.appendBuffer({\n        bytes: segmentInfo.bytes,\n        videoSegmentTimingInfoCallback: this.handleVideoSegmentTimingInfo_.bind(this, segmentInfo.requestId)\n      }, this.handleUpdateEnd_.bind(this));\n    }\n  }, {\n    key: 'handleVideoSegmentTimingInfo_',\n    value: function handleVideoSegmentTimingInfo_(requestId, event) {\n      if (!this.pendingSegment_ || requestId !== this.pendingSegment_.requestId) {\n        return;\n      }\n\n      var segment = this.pendingSegment_.segment;\n\n      if (!segment.videoTimingInfo) {\n        segment.videoTimingInfo = {};\n      }\n\n      segment.videoTimingInfo.transmuxerPrependedSeconds = event.videoSegmentTimingInfo.prependedContentDuration || 0;\n      segment.videoTimingInfo.transmuxedPresentationStart = event.videoSegmentTimingInfo.start.presentation;\n      segment.videoTimingInfo.transmuxedPresentationEnd = event.videoSegmentTimingInfo.end.presentation; // mainly used as a reference for debugging\n\n      segment.videoTimingInfo.baseMediaDecodeTime = event.videoSegmentTimingInfo.baseMediaDecodeTime;\n    }\n    /**\n     * callback to run when appendBuffer is finished. detects if we are\n     * in a good state to do things with the data we got, or if we need\n     * to wait for more\n     *\n     * @private\n     */\n\n  }, {\n    key: 'handleUpdateEnd_',\n    value: function handleUpdateEnd_() {\n      if (!this.pendingSegment_) {\n        this.state = 'READY';\n\n        if (!this.paused()) {\n          this.monitorBuffer_();\n        }\n\n        return;\n      }\n\n      var segmentInfo = this.pendingSegment_;\n      var segment = segmentInfo.segment;\n      var isWalkingForward = this.mediaIndex !== null;\n      this.pendingSegment_ = null;\n      this.recordThroughput_(segmentInfo);\n      this.addSegmentMetadataCue_(segmentInfo);\n      this.state = 'READY';\n      this.mediaIndex = segmentInfo.mediaIndex;\n      this.fetchAtBuffer_ = true;\n      this.currentTimeline_ = segmentInfo.timeline; // We must update the syncinfo to recalculate the seekable range before\n      // the following conditional otherwise it may consider this a bad \"guess\"\n      // and attempt to resync when the post-update seekable window and live\n      // point would mean that this was the perfect segment to fetch\n\n      this.trigger('syncinfoupdate'); // If we previously appended a segment that ends more than 3 targetDurations before\n      // the currentTime_ that means that our conservative guess was too conservative.\n      // In that case, reset the loader state so that we try to use any information gained\n      // from the previous request to create a new, more accurate, sync-point.\n\n      if (segment.end && this.currentTime_() - segment.end > segmentInfo.playlist.targetDuration * 3) {\n        this.resetEverything();\n        return;\n      } // Don't do a rendition switch unless we have enough time to get a sync segment\n      // and conservatively guess\n\n\n      if (isWalkingForward) {\n        this.trigger('bandwidthupdate');\n      }\n\n      this.trigger('progress'); // any time an update finishes and the last segment is in the\n      // buffer, end the stream. this ensures the \"ended\" event will\n      // fire if playback reaches that point.\n\n      if (this.isEndOfStream_(segmentInfo.mediaIndex + 1, segmentInfo.playlist)) {\n        this.endOfStream();\n      }\n\n      if (!this.paused()) {\n        this.monitorBuffer_();\n      }\n    }\n    /**\n     * Records the current throughput of the decrypt, transmux, and append\n     * portion of the semgment pipeline. `throughput.rate` is a the cumulative\n     * moving average of the throughput. `throughput.count` is the number of\n     * data points in the average.\n     *\n     * @private\n     * @param {Object} segmentInfo the object returned by loadSegment\n     */\n\n  }, {\n    key: 'recordThroughput_',\n    value: function recordThroughput_(segmentInfo) {\n      var rate = this.throughput.rate; // Add one to the time to ensure that we don't accidentally attempt to divide\n      // by zero in the case where the throughput is ridiculously high\n\n      var segmentProcessingTime = Date.now() - segmentInfo.endOfAllRequests + 1; // Multiply by 8000 to convert from bytes/millisecond to bits/second\n\n      var segmentProcessingThroughput = Math.floor(segmentInfo.byteLength / segmentProcessingTime * 8 * 1000); // This is just a cumulative moving average calculation:\n      //   newAvg = oldAvg + (sample - oldAvg) / (sampleCount + 1)\n\n      this.throughput.rate += (segmentProcessingThroughput - rate) / ++this.throughput.count;\n    }\n    /**\n     * Adds a cue to the segment-metadata track with some metadata information about the\n     * segment\n     *\n     * @private\n     * @param {Object} segmentInfo\n     *        the object returned by loadSegment\n     * @method addSegmentMetadataCue_\n     */\n\n  }, {\n    key: 'addSegmentMetadataCue_',\n    value: function addSegmentMetadataCue_(segmentInfo) {\n      if (!this.segmentMetadataTrack_) {\n        return;\n      }\n\n      var segment = segmentInfo.segment;\n      var start = segment.start;\n      var end = segment.end; // Do not try adding the cue if the start and end times are invalid.\n\n      if (!finite(start) || !finite(end)) {\n        return;\n      }\n\n      removeCuesFromTrack(start, end, this.segmentMetadataTrack_);\n      var Cue = window$1.WebKitDataCue || window$1.VTTCue;\n      var value = {\n        custom: segment.custom,\n        dateTimeObject: segment.dateTimeObject,\n        dateTimeString: segment.dateTimeString,\n        bandwidth: segmentInfo.playlist.attributes.BANDWIDTH,\n        resolution: segmentInfo.playlist.attributes.RESOLUTION,\n        codecs: segmentInfo.playlist.attributes.CODECS,\n        byteLength: segmentInfo.byteLength,\n        uri: segmentInfo.uri,\n        timeline: segmentInfo.timeline,\n        playlist: segmentInfo.playlist.uri,\n        start: start,\n        end: end\n      };\n      var data = JSON.stringify(value);\n      var cue = new Cue(start, end, data); // Attach the metadata to the value property of the cue to keep consistency between\n      // the differences of WebKitDataCue in safari and VTTCue in other browsers\n\n      cue.value = value;\n      this.segmentMetadataTrack_.addCue(cue);\n    }\n  }]);\n  return SegmentLoader;\n}(videojs$1.EventTarget);\n\nvar uint8ToUtf8 = function uint8ToUtf8(uintArray) {\n  return decodeURIComponent(escape(String.fromCharCode.apply(null, uintArray)));\n};\n/**\n * @file vtt-segment-loader.js\n */\n\n\nvar VTT_LINE_TERMINATORS = new Uint8Array('\\n\\n'.split('').map(function (_char2) {\n  return _char2.charCodeAt(0);\n}));\n/**\n * An object that manages segment loading and appending.\n *\n * @class VTTSegmentLoader\n * @param {Object} options required and optional options\n * @extends videojs.EventTarget\n */\n\nvar VTTSegmentLoader = function (_SegmentLoader) {\n  inherits(VTTSegmentLoader, _SegmentLoader);\n\n  function VTTSegmentLoader(settings) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, VTTSegmentLoader); // SegmentLoader requires a MediaSource be specified or it will throw an error;\n    // however, VTTSegmentLoader has no need of a media source, so delete the reference\n\n    var _this = possibleConstructorReturn(this, (VTTSegmentLoader.__proto__ || Object.getPrototypeOf(VTTSegmentLoader)).call(this, settings, options));\n\n    _this.mediaSource_ = null;\n    _this.subtitlesTrack_ = null;\n    return _this;\n  }\n  /**\n   * Indicates which time ranges are buffered\n   *\n   * @return {TimeRange}\n   *         TimeRange object representing the current buffered ranges\n   */\n\n\n  createClass(VTTSegmentLoader, [{\n    key: 'buffered_',\n    value: function buffered_() {\n      if (!this.subtitlesTrack_ || !this.subtitlesTrack_.cues.length) {\n        return videojs$1.createTimeRanges();\n      }\n\n      var cues = this.subtitlesTrack_.cues;\n      var start = cues[0].startTime;\n      var end = cues[cues.length - 1].startTime;\n      return videojs$1.createTimeRanges([[start, end]]);\n    }\n    /**\n     * Gets and sets init segment for the provided map\n     *\n     * @param {Object} map\n     *        The map object representing the init segment to get or set\n     * @param {Boolean=} set\n     *        If true, the init segment for the provided map should be saved\n     * @return {Object}\n     *         map object for desired init segment\n     */\n\n  }, {\n    key: 'initSegment',\n    value: function initSegment(map) {\n      var set$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!map) {\n        return null;\n      }\n\n      var id = initSegmentId(map);\n      var storedMap = this.initSegments_[id];\n\n      if (set$$1 && !storedMap && map.bytes) {\n        // append WebVTT line terminators to the media initialization segment if it exists\n        // to follow the WebVTT spec (https://w3c.github.io/webvtt/#file-structure) that\n        // requires two or more WebVTT line terminators between the WebVTT header and the\n        // rest of the file\n        var combinedByteLength = VTT_LINE_TERMINATORS.byteLength + map.bytes.byteLength;\n        var combinedSegment = new Uint8Array(combinedByteLength);\n        combinedSegment.set(map.bytes);\n        combinedSegment.set(VTT_LINE_TERMINATORS, map.bytes.byteLength);\n        this.initSegments_[id] = storedMap = {\n          resolvedUri: map.resolvedUri,\n          byterange: map.byterange,\n          bytes: combinedSegment\n        };\n      }\n\n      return storedMap || map;\n    }\n    /**\n     * Returns true if all configuration required for loading is present, otherwise false.\n     *\n     * @return {Boolean} True if the all configuration is ready for loading\n     * @private\n     */\n\n  }, {\n    key: 'couldBeginLoading_',\n    value: function couldBeginLoading_() {\n      return this.playlist_ && this.subtitlesTrack_ && !this.paused();\n    }\n    /**\n     * Once all the starting parameters have been specified, begin\n     * operation. This method should only be invoked from the INIT\n     * state.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'init_',\n    value: function init_() {\n      this.state = 'READY';\n      this.resetEverything();\n      return this.monitorBuffer_();\n    }\n    /**\n     * Set a subtitle track on the segment loader to add subtitles to\n     *\n     * @param {TextTrack=} track\n     *        The text track to add loaded subtitles to\n     * @return {TextTrack}\n     *        Returns the subtitles track\n     */\n\n  }, {\n    key: 'track',\n    value: function track(_track) {\n      if (typeof _track === 'undefined') {\n        return this.subtitlesTrack_;\n      }\n\n      this.subtitlesTrack_ = _track; // if we were unpaused but waiting for a sourceUpdater, start\n      // buffering now\n\n      if (this.state === 'INIT' && this.couldBeginLoading_()) {\n        this.init_();\n      }\n\n      return this.subtitlesTrack_;\n    }\n    /**\n     * Remove any data in the source buffer between start and end times\n     * @param {Number} start - the start time of the region to remove from the buffer\n     * @param {Number} end - the end time of the region to remove from the buffer\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(start, end) {\n      removeCuesFromTrack(start, end, this.subtitlesTrack_);\n    }\n    /**\n     * fill the buffer with segements unless the sourceBuffers are\n     * currently updating\n     *\n     * Note: this function should only ever be called by monitorBuffer_\n     * and never directly\n     *\n     * @private\n     */\n\n  }, {\n    key: 'fillBuffer_',\n    value: function fillBuffer_() {\n      var _this2 = this;\n\n      if (!this.syncPoint_) {\n        this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_());\n      } // see if we need to begin loading immediately\n\n\n      var segmentInfo = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);\n      segmentInfo = this.skipEmptySegments_(segmentInfo);\n\n      if (!segmentInfo) {\n        return;\n      }\n\n      if (this.syncController_.timestampOffsetForTimeline(segmentInfo.timeline) === null) {\n        // We don't have the timestamp offset that we need to sync subtitles.\n        // Rerun on a timestamp offset or user interaction.\n        var checkTimestampOffset = function checkTimestampOffset() {\n          _this2.state = 'READY';\n\n          if (!_this2.paused()) {\n            // if not paused, queue a buffer check as soon as possible\n            _this2.monitorBuffer_();\n          }\n        };\n\n        this.syncController_.one('timestampoffset', checkTimestampOffset);\n        this.state = 'WAITING_ON_TIMELINE';\n        return;\n      }\n\n      this.loadSegment_(segmentInfo);\n    }\n    /**\n     * Prevents the segment loader from requesting segments we know contain no subtitles\n     * by walking forward until we find the next segment that we don't know whether it is\n     * empty or not.\n     *\n     * @param {Object} segmentInfo\n     *        a segment info object that describes the current segment\n     * @return {Object}\n     *         a segment info object that describes the current segment\n     */\n\n  }, {\n    key: 'skipEmptySegments_',\n    value: function skipEmptySegments_(segmentInfo) {\n      while (segmentInfo && segmentInfo.segment.empty) {\n        segmentInfo = this.generateSegmentInfo_(segmentInfo.playlist, segmentInfo.mediaIndex + 1, segmentInfo.startOfSegment + segmentInfo.duration, segmentInfo.isSyncRequest);\n      }\n\n      return segmentInfo;\n    }\n    /**\n     * append a decrypted segement to the SourceBuffer through a SourceUpdater\n     *\n     * @private\n     */\n\n  }, {\n    key: 'handleSegment_',\n    value: function handleSegment_() {\n      var _this3 = this;\n\n      if (!this.pendingSegment_ || !this.subtitlesTrack_) {\n        this.state = 'READY';\n        return;\n      }\n\n      this.state = 'APPENDING';\n      var segmentInfo = this.pendingSegment_;\n      var segment = segmentInfo.segment; // Make sure that vttjs has loaded, otherwise, wait till it finished loading\n\n      if (typeof window$1.WebVTT !== 'function' && this.subtitlesTrack_ && this.subtitlesTrack_.tech_) {\n        var loadHandler = void 0;\n\n        var errorHandler = function errorHandler() {\n          _this3.subtitlesTrack_.tech_.off('vttjsloaded', loadHandler);\n\n          _this3.error({\n            message: 'Error loading vtt.js'\n          });\n\n          _this3.state = 'READY';\n\n          _this3.pause();\n\n          _this3.trigger('error');\n        };\n\n        loadHandler = function loadHandler() {\n          _this3.subtitlesTrack_.tech_.off('vttjserror', errorHandler);\n\n          _this3.handleSegment_();\n        };\n\n        this.state = 'WAITING_ON_VTTJS';\n        this.subtitlesTrack_.tech_.one('vttjsloaded', loadHandler);\n        this.subtitlesTrack_.tech_.one('vttjserror', errorHandler);\n        return;\n      }\n\n      segment.requested = true;\n\n      try {\n        this.parseVTTCues_(segmentInfo);\n      } catch (e) {\n        this.error({\n          message: e.message\n        });\n        this.state = 'READY';\n        this.pause();\n        return this.trigger('error');\n      }\n\n      this.updateTimeMapping_(segmentInfo, this.syncController_.timelines[segmentInfo.timeline], this.playlist_);\n\n      if (segmentInfo.isSyncRequest) {\n        this.trigger('syncinfoupdate');\n        this.pendingSegment_ = null;\n        this.state = 'READY';\n        return;\n      }\n\n      segmentInfo.byteLength = segmentInfo.bytes.byteLength;\n      this.mediaSecondsLoaded += segment.duration;\n\n      if (segmentInfo.cues.length) {\n        // remove any overlapping cues to prevent doubling\n        this.remove(segmentInfo.cues[0].endTime, segmentInfo.cues[segmentInfo.cues.length - 1].endTime);\n      }\n\n      segmentInfo.cues.forEach(function (cue) {\n        _this3.subtitlesTrack_.addCue(cue);\n      });\n      this.handleUpdateEnd_();\n    }\n    /**\n     * Uses the WebVTT parser to parse the segment response\n     *\n     * @param {Object} segmentInfo\n     *        a segment info object that describes the current segment\n     * @private\n     */\n\n  }, {\n    key: 'parseVTTCues_',\n    value: function parseVTTCues_(segmentInfo) {\n      var decoder = void 0;\n      var decodeBytesToString = false;\n\n      if (typeof window$1.TextDecoder === 'function') {\n        decoder = new window$1.TextDecoder('utf8');\n      } else {\n        decoder = window$1.WebVTT.StringDecoder();\n        decodeBytesToString = true;\n      }\n\n      var parser = new window$1.WebVTT.Parser(window$1, window$1.vttjs, decoder);\n      segmentInfo.cues = [];\n      segmentInfo.timestampmap = {\n        MPEGTS: 0,\n        LOCAL: 0\n      };\n      parser.oncue = segmentInfo.cues.push.bind(segmentInfo.cues);\n\n      parser.ontimestampmap = function (map) {\n        return segmentInfo.timestampmap = map;\n      };\n\n      parser.onparsingerror = function (error) {\n        videojs$1.log.warn('Error encountered when parsing cues: ' + error.message);\n      };\n\n      if (segmentInfo.segment.map) {\n        var mapData = segmentInfo.segment.map.bytes;\n\n        if (decodeBytesToString) {\n          mapData = uint8ToUtf8(mapData);\n        }\n\n        parser.parse(mapData);\n      }\n\n      var segmentData = segmentInfo.bytes;\n\n      if (decodeBytesToString) {\n        segmentData = uint8ToUtf8(segmentData);\n      }\n\n      parser.parse(segmentData);\n      parser.flush();\n    }\n    /**\n     * Updates the start and end times of any cues parsed by the WebVTT parser using\n     * the information parsed from the X-TIMESTAMP-MAP header and a TS to media time mapping\n     * from the SyncController\n     *\n     * @param {Object} segmentInfo\n     *        a segment info object that describes the current segment\n     * @param {Object} mappingObj\n     *        object containing a mapping from TS to media time\n     * @param {Object} playlist\n     *        the playlist object containing the segment\n     * @private\n     */\n\n  }, {\n    key: 'updateTimeMapping_',\n    value: function updateTimeMapping_(segmentInfo, mappingObj, playlist) {\n      var segment = segmentInfo.segment;\n\n      if (!mappingObj) {\n        // If the sync controller does not have a mapping of TS to Media Time for the\n        // timeline, then we don't have enough information to update the cue\n        // start/end times\n        return;\n      }\n\n      if (!segmentInfo.cues.length) {\n        // If there are no cues, we also do not have enough information to figure out\n        // segment timing. Mark that the segment contains no cues so we don't re-request\n        // an empty segment.\n        segment.empty = true;\n        return;\n      }\n\n      var timestampmap = segmentInfo.timestampmap;\n      var diff = timestampmap.MPEGTS / 90000 - timestampmap.LOCAL + mappingObj.mapping;\n      segmentInfo.cues.forEach(function (cue) {\n        // First convert cue time to TS time using the timestamp-map provided within the vtt\n        cue.startTime += diff;\n        cue.endTime += diff;\n      });\n\n      if (!playlist.syncInfo) {\n        var firstStart = segmentInfo.cues[0].startTime;\n        var lastStart = segmentInfo.cues[segmentInfo.cues.length - 1].startTime;\n        playlist.syncInfo = {\n          mediaSequence: playlist.mediaSequence + segmentInfo.mediaIndex,\n          time: Math.min(firstStart, lastStart - segment.duration)\n        };\n      }\n    }\n  }]);\n  return VTTSegmentLoader;\n}(SegmentLoader);\n/**\n * @file ad-cue-tags.js\n */\n\n/**\n * Searches for an ad cue that overlaps with the given mediaTime\n */\n\n\nvar findAdCue = function findAdCue(track, mediaTime) {\n  var cues = track.cues;\n\n  for (var i = 0; i < cues.length; i++) {\n    var cue = cues[i];\n\n    if (mediaTime >= cue.adStartTime && mediaTime <= cue.adEndTime) {\n      return cue;\n    }\n  }\n\n  return null;\n};\n\nvar updateAdCues = function updateAdCues(media, track) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  if (!media.segments) {\n    return;\n  }\n\n  var mediaTime = offset;\n  var cue = void 0;\n\n  for (var i = 0; i < media.segments.length; i++) {\n    var segment = media.segments[i];\n\n    if (!cue) {\n      // Since the cues will span for at least the segment duration, adding a fudge\n      // factor of half segment duration will prevent duplicate cues from being\n      // created when timing info is not exact (e.g. cue start time initialized\n      // at 10.006677, but next call mediaTime is 10.003332 )\n      cue = findAdCue(track, mediaTime + segment.duration / 2);\n    }\n\n    if (cue) {\n      if ('cueIn' in segment) {\n        // Found a CUE-IN so end the cue\n        cue.endTime = mediaTime;\n        cue.adEndTime = mediaTime;\n        mediaTime += segment.duration;\n        cue = null;\n        continue;\n      }\n\n      if (mediaTime < cue.endTime) {\n        // Already processed this mediaTime for this cue\n        mediaTime += segment.duration;\n        continue;\n      } // otherwise extend cue until a CUE-IN is found\n\n\n      cue.endTime += segment.duration;\n    } else {\n      if ('cueOut' in segment) {\n        cue = new window$1.VTTCue(mediaTime, mediaTime + segment.duration, segment.cueOut);\n        cue.adStartTime = mediaTime; // Assumes tag format to be\n        // #EXT-X-CUE-OUT:30\n\n        cue.adEndTime = mediaTime + parseFloat(segment.cueOut);\n        track.addCue(cue);\n      }\n\n      if ('cueOutCont' in segment) {\n        // Entered into the middle of an ad cue\n        var adOffset = void 0;\n        var adTotal = void 0; // Assumes tag formate to be\n        // #EXT-X-CUE-OUT-CONT:10/30\n\n        var _segment$cueOutCont$s = segment.cueOutCont.split('/').map(parseFloat);\n\n        var _segment$cueOutCont$s2 = slicedToArray(_segment$cueOutCont$s, 2);\n\n        adOffset = _segment$cueOutCont$s2[0];\n        adTotal = _segment$cueOutCont$s2[1];\n        cue = new window$1.VTTCue(mediaTime, mediaTime + segment.duration, '');\n        cue.adStartTime = mediaTime - adOffset;\n        cue.adEndTime = cue.adStartTime + adTotal;\n        track.addCue(cue);\n      }\n    }\n\n    mediaTime += segment.duration;\n  }\n};\n/**\n * @file sync-controller.js\n */\n\n\nvar tsprobe = tsInspector.inspect;\nvar syncPointStrategies = [// Stategy \"VOD\": Handle the VOD-case where the sync-point is *always*\n//                the equivalence display-time 0 === segment-index 0\n{\n  name: 'VOD',\n  run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n    if (duration$$1 !== Infinity) {\n      var syncPoint = {\n        time: 0,\n        segmentIndex: 0\n      };\n      return syncPoint;\n    }\n\n    return null;\n  }\n}, // Stategy \"ProgramDateTime\": We have a program-date-time tag in this playlist\n{\n  name: 'ProgramDateTime',\n  run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n    if (!syncController.datetimeToDisplayTime) {\n      return null;\n    }\n\n    var segments = playlist.segments || [];\n    var syncPoint = null;\n    var lastDistance = null;\n    currentTime = currentTime || 0;\n\n    for (var i = 0; i < segments.length; i++) {\n      var segment = segments[i];\n\n      if (segment.dateTimeObject) {\n        var segmentTime = segment.dateTimeObject.getTime() / 1000;\n        var segmentStart = segmentTime + syncController.datetimeToDisplayTime;\n        var distance = Math.abs(currentTime - segmentStart); // Once the distance begins to increase, or if distance is 0, we have passed\n        // currentTime and can stop looking for better candidates\n\n        if (lastDistance !== null && (distance === 0 || lastDistance < distance)) {\n          break;\n        }\n\n        lastDistance = distance;\n        syncPoint = {\n          time: segmentStart,\n          segmentIndex: i\n        };\n      }\n    }\n\n    return syncPoint;\n  }\n}, // Stategy \"Segment\": We have a known time mapping for a timeline and a\n//                    segment in the current timeline with timing data\n{\n  name: 'Segment',\n  run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n    var segments = playlist.segments || [];\n    var syncPoint = null;\n    var lastDistance = null;\n    currentTime = currentTime || 0;\n\n    for (var i = 0; i < segments.length; i++) {\n      var segment = segments[i];\n\n      if (segment.timeline === currentTimeline && typeof segment.start !== 'undefined') {\n        var distance = Math.abs(currentTime - segment.start); // Once the distance begins to increase, we have passed\n        // currentTime and can stop looking for better candidates\n\n        if (lastDistance !== null && lastDistance < distance) {\n          break;\n        }\n\n        if (!syncPoint || lastDistance === null || lastDistance >= distance) {\n          lastDistance = distance;\n          syncPoint = {\n            time: segment.start,\n            segmentIndex: i\n          };\n        }\n      }\n    }\n\n    return syncPoint;\n  }\n}, // Stategy \"Discontinuity\": We have a discontinuity with a known\n//                          display-time\n{\n  name: 'Discontinuity',\n  run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n    var syncPoint = null;\n    currentTime = currentTime || 0;\n\n    if (playlist.discontinuityStarts && playlist.discontinuityStarts.length) {\n      var lastDistance = null;\n\n      for (var i = 0; i < playlist.discontinuityStarts.length; i++) {\n        var segmentIndex = playlist.discontinuityStarts[i];\n        var discontinuity = playlist.discontinuitySequence + i + 1;\n        var discontinuitySync = syncController.discontinuities[discontinuity];\n\n        if (discontinuitySync) {\n          var distance = Math.abs(currentTime - discontinuitySync.time); // Once the distance begins to increase, we have passed\n          // currentTime and can stop looking for better candidates\n\n          if (lastDistance !== null && lastDistance < distance) {\n            break;\n          }\n\n          if (!syncPoint || lastDistance === null || lastDistance >= distance) {\n            lastDistance = distance;\n            syncPoint = {\n              time: discontinuitySync.time,\n              segmentIndex: segmentIndex\n            };\n          }\n        }\n      }\n    }\n\n    return syncPoint;\n  }\n}, // Stategy \"Playlist\": We have a playlist with a known mapping of\n//                     segment index to display time\n{\n  name: 'Playlist',\n  run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n    if (playlist.syncInfo) {\n      var syncPoint = {\n        time: playlist.syncInfo.time,\n        segmentIndex: playlist.syncInfo.mediaSequence - playlist.mediaSequence\n      };\n      return syncPoint;\n    }\n\n    return null;\n  }\n}];\n\nvar SyncController = function (_videojs$EventTarget) {\n  inherits(SyncController, _videojs$EventTarget);\n\n  function SyncController() {\n    classCallCheck(this, SyncController); // Segment Loader state variables...\n    // ...for synching across variants\n\n    var _this = possibleConstructorReturn(this, (SyncController.__proto__ || Object.getPrototypeOf(SyncController)).call(this));\n\n    _this.inspectCache_ = undefined; // ...for synching across variants\n\n    _this.timelines = [];\n    _this.discontinuities = [];\n    _this.datetimeToDisplayTime = null;\n    _this.logger_ = logger('SyncController');\n    return _this;\n  }\n  /**\n   * Find a sync-point for the playlist specified\n   *\n   * A sync-point is defined as a known mapping from display-time to\n   * a segment-index in the current playlist.\n   *\n   * @param {Playlist} playlist\n   *        The playlist that needs a sync-point\n   * @param {Number} duration\n   *        Duration of the MediaSource (Infinite if playing a live source)\n   * @param {Number} currentTimeline\n   *        The last timeline from which a segment was loaded\n   * @returns {Object}\n   *          A sync-point object\n   */\n\n\n  createClass(SyncController, [{\n    key: 'getSyncPoint',\n    value: function getSyncPoint(playlist, duration$$1, currentTimeline, currentTime) {\n      var syncPoints = this.runStrategies_(playlist, duration$$1, currentTimeline, currentTime);\n\n      if (!syncPoints.length) {\n        // Signal that we need to attempt to get a sync-point manually\n        // by fetching a segment in the playlist and constructing\n        // a sync-point from that information\n        return null;\n      } // Now find the sync-point that is closest to the currentTime because\n      // that should result in the most accurate guess about which segment\n      // to fetch\n\n\n      return this.selectSyncPoint_(syncPoints, {\n        key: 'time',\n        value: currentTime\n      });\n    }\n    /**\n     * Calculate the amount of time that has expired off the playlist during playback\n     *\n     * @param {Playlist} playlist\n     *        Playlist object to calculate expired from\n     * @param {Number} duration\n     *        Duration of the MediaSource (Infinity if playling a live source)\n     * @returns {Number|null}\n     *          The amount of time that has expired off the playlist during playback. Null\n     *          if no sync-points for the playlist can be found.\n     */\n\n  }, {\n    key: 'getExpiredTime',\n    value: function getExpiredTime(playlist, duration$$1) {\n      if (!playlist || !playlist.segments) {\n        return null;\n      }\n\n      var syncPoints = this.runStrategies_(playlist, duration$$1, playlist.discontinuitySequence, 0); // Without sync-points, there is not enough information to determine the expired time\n\n      if (!syncPoints.length) {\n        return null;\n      }\n\n      var syncPoint = this.selectSyncPoint_(syncPoints, {\n        key: 'segmentIndex',\n        value: 0\n      }); // If the sync-point is beyond the start of the playlist, we want to subtract the\n      // duration from index 0 to syncPoint.segmentIndex instead of adding.\n\n      if (syncPoint.segmentIndex > 0) {\n        syncPoint.time *= -1;\n      }\n\n      return Math.abs(syncPoint.time + sumDurations(playlist, syncPoint.segmentIndex, 0));\n    }\n    /**\n     * Runs each sync-point strategy and returns a list of sync-points returned by the\n     * strategies\n     *\n     * @private\n     * @param {Playlist} playlist\n     *        The playlist that needs a sync-point\n     * @param {Number} duration\n     *        Duration of the MediaSource (Infinity if playing a live source)\n     * @param {Number} currentTimeline\n     *        The last timeline from which a segment was loaded\n     * @returns {Array}\n     *          A list of sync-point objects\n     */\n\n  }, {\n    key: 'runStrategies_',\n    value: function runStrategies_(playlist, duration$$1, currentTimeline, currentTime) {\n      var syncPoints = []; // Try to find a sync-point in by utilizing various strategies...\n\n      for (var i = 0; i < syncPointStrategies.length; i++) {\n        var strategy = syncPointStrategies[i];\n        var syncPoint = strategy.run(this, playlist, duration$$1, currentTimeline, currentTime);\n\n        if (syncPoint) {\n          syncPoint.strategy = strategy.name;\n          syncPoints.push({\n            strategy: strategy.name,\n            syncPoint: syncPoint\n          });\n        }\n      }\n\n      return syncPoints;\n    }\n    /**\n     * Selects the sync-point nearest the specified target\n     *\n     * @private\n     * @param {Array} syncPoints\n     *        List of sync-points to select from\n     * @param {Object} target\n     *        Object specifying the property and value we are targeting\n     * @param {String} target.key\n     *        Specifies the property to target. Must be either 'time' or 'segmentIndex'\n     * @param {Number} target.value\n     *        The value to target for the specified key.\n     * @returns {Object}\n     *          The sync-point nearest the target\n     */\n\n  }, {\n    key: 'selectSyncPoint_',\n    value: function selectSyncPoint_(syncPoints, target) {\n      var bestSyncPoint = syncPoints[0].syncPoint;\n      var bestDistance = Math.abs(syncPoints[0].syncPoint[target.key] - target.value);\n      var bestStrategy = syncPoints[0].strategy;\n\n      for (var i = 1; i < syncPoints.length; i++) {\n        var newDistance = Math.abs(syncPoints[i].syncPoint[target.key] - target.value);\n\n        if (newDistance < bestDistance) {\n          bestDistance = newDistance;\n          bestSyncPoint = syncPoints[i].syncPoint;\n          bestStrategy = syncPoints[i].strategy;\n        }\n      }\n\n      this.logger_('syncPoint for [' + target.key + ': ' + target.value + '] chosen with strategy' + (' [' + bestStrategy + ']: [time:' + bestSyncPoint.time + ',') + (' segmentIndex:' + bestSyncPoint.segmentIndex + ']'));\n      return bestSyncPoint;\n    }\n    /**\n     * Save any meta-data present on the segments when segments leave\n     * the live window to the playlist to allow for synchronization at the\n     * playlist level later.\n     *\n     * @param {Playlist} oldPlaylist - The previous active playlist\n     * @param {Playlist} newPlaylist - The updated and most current playlist\n     */\n\n  }, {\n    key: 'saveExpiredSegmentInfo',\n    value: function saveExpiredSegmentInfo(oldPlaylist, newPlaylist) {\n      var mediaSequenceDiff = newPlaylist.mediaSequence - oldPlaylist.mediaSequence; // When a segment expires from the playlist and it has a start time\n      // save that information as a possible sync-point reference in future\n\n      for (var i = mediaSequenceDiff - 1; i >= 0; i--) {\n        var lastRemovedSegment = oldPlaylist.segments[i];\n\n        if (lastRemovedSegment && typeof lastRemovedSegment.start !== 'undefined') {\n          newPlaylist.syncInfo = {\n            mediaSequence: oldPlaylist.mediaSequence + i,\n            time: lastRemovedSegment.start\n          };\n          this.logger_('playlist refresh sync: [time:' + newPlaylist.syncInfo.time + ',' + (' mediaSequence: ' + newPlaylist.syncInfo.mediaSequence + ']'));\n          this.trigger('syncinfoupdate');\n          break;\n        }\n      }\n    }\n    /**\n     * Save the mapping from playlist's ProgramDateTime to display. This should\n     * only ever happen once at the start of playback.\n     *\n     * @param {Playlist} playlist - The currently active playlist\n     */\n\n  }, {\n    key: 'setDateTimeMapping',\n    value: function setDateTimeMapping(playlist) {\n      if (!this.datetimeToDisplayTime && playlist.segments && playlist.segments.length && playlist.segments[0].dateTimeObject) {\n        var playlistTimestamp = playlist.segments[0].dateTimeObject.getTime() / 1000;\n        this.datetimeToDisplayTime = -playlistTimestamp;\n      }\n    }\n    /**\n     * Reset the state of the inspection cache when we do a rendition\n     * switch\n     */\n\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.inspectCache_ = undefined;\n    }\n    /**\n     * Probe or inspect a fmp4 or an mpeg2-ts segment to determine the start\n     * and end of the segment in it's internal \"media time\". Used to generate\n     * mappings from that internal \"media time\" to the display time that is\n     * shown on the player.\n     *\n     * @param {SegmentInfo} segmentInfo - The current active request information\n     */\n\n  }, {\n    key: 'probeSegmentInfo',\n    value: function probeSegmentInfo(segmentInfo) {\n      var segment = segmentInfo.segment;\n      var playlist = segmentInfo.playlist;\n      var timingInfo = void 0;\n\n      if (segment.map) {\n        timingInfo = this.probeMp4Segment_(segmentInfo);\n      } else {\n        timingInfo = this.probeTsSegment_(segmentInfo);\n      }\n\n      if (timingInfo) {\n        if (this.calculateSegmentTimeMapping_(segmentInfo, timingInfo)) {\n          this.saveDiscontinuitySyncInfo_(segmentInfo); // If the playlist does not have sync information yet, record that information\n          // now with segment timing information\n\n          if (!playlist.syncInfo) {\n            playlist.syncInfo = {\n              mediaSequence: playlist.mediaSequence + segmentInfo.mediaIndex,\n              time: segment.start\n            };\n          }\n        }\n      }\n\n      return timingInfo;\n    }\n    /**\n     * Probe an fmp4 or an mpeg2-ts segment to determine the start of the segment\n     * in it's internal \"media time\".\n     *\n     * @private\n     * @param {SegmentInfo} segmentInfo - The current active request information\n     * @return {object} The start and end time of the current segment in \"media time\"\n     */\n\n  }, {\n    key: 'probeMp4Segment_',\n    value: function probeMp4Segment_(segmentInfo) {\n      var segment = segmentInfo.segment;\n      var timescales = mp4probe.timescale(segment.map.bytes);\n      var startTime = mp4probe.startTime(timescales, segmentInfo.bytes);\n\n      if (segmentInfo.timestampOffset !== null) {\n        segmentInfo.timestampOffset -= startTime;\n      }\n\n      return {\n        start: startTime,\n        end: startTime + segment.duration\n      };\n    }\n    /**\n     * Probe an mpeg2-ts segment to determine the start and end of the segment\n     * in it's internal \"media time\".\n     *\n     * @private\n     * @param {SegmentInfo} segmentInfo - The current active request information\n     * @return {object} The start and end time of the current segment in \"media time\"\n     */\n\n  }, {\n    key: 'probeTsSegment_',\n    value: function probeTsSegment_(segmentInfo) {\n      var timeInfo = tsprobe(segmentInfo.bytes, this.inspectCache_);\n      var segmentStartTime = void 0;\n      var segmentEndTime = void 0;\n      var segmentTimestampInfo = void 0;\n\n      if (!timeInfo) {\n        return null;\n      }\n\n      if (timeInfo.video && timeInfo.video.length === 2) {\n        this.inspectCache_ = timeInfo.video[1].dts;\n        segmentStartTime = timeInfo.video[0].dtsTime;\n        segmentEndTime = timeInfo.video[1].dtsTime;\n        segmentTimestampInfo = timeInfo.video;\n      } else if (timeInfo.audio && timeInfo.audio.length === 2) {\n        this.inspectCache_ = timeInfo.audio[1].dts;\n        segmentStartTime = timeInfo.audio[0].dtsTime;\n        segmentEndTime = timeInfo.audio[1].dtsTime;\n        segmentTimestampInfo = timeInfo.audio;\n      }\n\n      var probedInfo = {\n        segmentTimestampInfo: segmentTimestampInfo,\n        start: segmentStartTime,\n        end: segmentEndTime,\n        containsVideo: timeInfo.video && timeInfo.video.length === 2,\n        containsAudio: timeInfo.audio && timeInfo.audio.length === 2\n      };\n      return probedInfo;\n    }\n  }, {\n    key: 'timestampOffsetForTimeline',\n    value: function timestampOffsetForTimeline(timeline) {\n      if (typeof this.timelines[timeline] === 'undefined') {\n        return null;\n      }\n\n      return this.timelines[timeline].time;\n    }\n  }, {\n    key: 'mappingForTimeline',\n    value: function mappingForTimeline(timeline) {\n      if (typeof this.timelines[timeline] === 'undefined') {\n        return null;\n      }\n\n      return this.timelines[timeline].mapping;\n    }\n    /**\n     * Use the \"media time\" for a segment to generate a mapping to \"display time\" and\n     * save that display time to the segment.\n     *\n     * @private\n     * @param {SegmentInfo} segmentInfo\n     *        The current active request information\n     * @param {object} timingInfo\n     *        The start and end time of the current segment in \"media time\"\n     * @returns {Boolean}\n     *          Returns false if segment time mapping could not be calculated\n     */\n\n  }, {\n    key: 'calculateSegmentTimeMapping_',\n    value: function calculateSegmentTimeMapping_(segmentInfo, timingInfo) {\n      var segment = segmentInfo.segment;\n      var mappingObj = this.timelines[segmentInfo.timeline];\n\n      if (segmentInfo.timestampOffset !== null) {\n        mappingObj = {\n          time: segmentInfo.startOfSegment,\n          mapping: segmentInfo.startOfSegment - timingInfo.start\n        };\n        this.timelines[segmentInfo.timeline] = mappingObj;\n        this.trigger('timestampoffset');\n        this.logger_('time mapping for timeline ' + segmentInfo.timeline + ': ' + ('[time: ' + mappingObj.time + '] [mapping: ' + mappingObj.mapping + ']'));\n        segment.start = segmentInfo.startOfSegment;\n        segment.end = timingInfo.end + mappingObj.mapping;\n      } else if (mappingObj) {\n        segment.start = timingInfo.start + mappingObj.mapping;\n        segment.end = timingInfo.end + mappingObj.mapping;\n      } else {\n        return false;\n      }\n\n      return true;\n    }\n    /**\n     * Each time we have discontinuity in the playlist, attempt to calculate the location\n     * in display of the start of the discontinuity and save that. We also save an accuracy\n     * value so that we save values with the most accuracy (closest to 0.)\n     *\n     * @private\n     * @param {SegmentInfo} segmentInfo - The current active request information\n     */\n\n  }, {\n    key: 'saveDiscontinuitySyncInfo_',\n    value: function saveDiscontinuitySyncInfo_(segmentInfo) {\n      var playlist = segmentInfo.playlist;\n      var segment = segmentInfo.segment; // If the current segment is a discontinuity then we know exactly where\n      // the start of the range and it's accuracy is 0 (greater accuracy values\n      // mean more approximation)\n\n      if (segment.discontinuity) {\n        this.discontinuities[segment.timeline] = {\n          time: segment.start,\n          accuracy: 0\n        };\n      } else if (playlist.discontinuityStarts && playlist.discontinuityStarts.length) {\n        // Search for future discontinuities that we can provide better timing\n        // information for and save that information for sync purposes\n        for (var i = 0; i < playlist.discontinuityStarts.length; i++) {\n          var segmentIndex = playlist.discontinuityStarts[i];\n          var discontinuity = playlist.discontinuitySequence + i + 1;\n          var mediaIndexDiff = segmentIndex - segmentInfo.mediaIndex;\n          var accuracy = Math.abs(mediaIndexDiff);\n\n          if (!this.discontinuities[discontinuity] || this.discontinuities[discontinuity].accuracy > accuracy) {\n            var time = void 0;\n\n            if (mediaIndexDiff < 0) {\n              time = segment.start - sumDurations(playlist, segmentInfo.mediaIndex, segmentIndex);\n            } else {\n              time = segment.end + sumDurations(playlist, segmentInfo.mediaIndex + 1, segmentIndex);\n            }\n\n            this.discontinuities[discontinuity] = {\n              time: time,\n              accuracy: accuracy\n            };\n          }\n        }\n      }\n    }\n  }]);\n  return SyncController;\n}(videojs$1.EventTarget);\n\nvar Decrypter$1 = new shimWorker(\"./decrypter-worker.worker.js\", function (window, document$$1) {\n  var self = this;\n\n  var decrypterWorker = function () {\n    /*\n     * pkcs7.pad\n     * https://github.com/brightcove/pkcs7\n     *\n     * Copyright (c) 2014 Brightcove\n     * Licensed under the apache2 license.\n     */\n\n    /**\n     * Returns the subarray of a Uint8Array without PKCS#7 padding.\n     * @param padded {Uint8Array} unencrypted bytes that have been padded\n     * @return {Uint8Array} the unpadded bytes\n     * @see http://tools.ietf.org/html/rfc5652\n     */\n    function unpad(padded) {\n      return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);\n    }\n\n    var classCallCheck = function classCallCheck(instance, Constructor) {\n      if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n      }\n    };\n\n    var createClass = function () {\n      function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) defineProperties(Constructor, staticProps);\n        return Constructor;\n      };\n    }();\n\n    var inherits = function inherits(subClass, superClass) {\n      if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n      }\n\n      subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n          value: subClass,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    };\n\n    var possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n      if (!self) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      }\n\n      return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n    };\n    /**\n     * @file aes.js\n     *\n     * This file contains an adaptation of the AES decryption algorithm\n     * from the Standford Javascript Cryptography Library. That work is\n     * covered by the following copyright and permissions notice:\n     *\n     * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.\n     * All rights reserved.\n     *\n     * Redistribution and use in source and binary forms, with or without\n     * modification, are permitted provided that the following conditions are\n     * met:\n     *\n     * 1. Redistributions of source code must retain the above copyright\n     *    notice, this list of conditions and the following disclaimer.\n     *\n     * 2. Redistributions in binary form must reproduce the above\n     *    copyright notice, this list of conditions and the following\n     *    disclaimer in the documentation and/or other materials provided\n     *    with the distribution.\n     *\n     * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR\n     * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n     * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n     * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE\n     * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n     * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n     * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n     * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n     * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n     * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN\n     * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n     *\n     * The views and conclusions contained in the software and documentation\n     * are those of the authors and should not be interpreted as representing\n     * official policies, either expressed or implied, of the authors.\n     */\n\n    /**\n     * Expand the S-box tables.\n     *\n     * @private\n     */\n\n\n    var precompute = function precompute() {\n      var tables = [[[], [], [], [], []], [[], [], [], [], []]];\n      var encTable = tables[0];\n      var decTable = tables[1];\n      var sbox = encTable[4];\n      var sboxInv = decTable[4];\n      var i = void 0;\n      var x = void 0;\n      var xInv = void 0;\n      var d = [];\n      var th = [];\n      var x2 = void 0;\n      var x4 = void 0;\n      var x8 = void 0;\n      var s = void 0;\n      var tEnc = void 0;\n      var tDec = void 0; // Compute double and third tables\n\n      for (i = 0; i < 256; i++) {\n        th[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\n      }\n\n      for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n        // Compute sbox\n        s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\n        s = s >> 8 ^ s & 255 ^ 99;\n        sbox[x] = s;\n        sboxInv[s] = x; // Compute MixColumns\n\n        x8 = d[x4 = d[x2 = d[x]]];\n        tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n        tEnc = d[s] * 0x101 ^ s * 0x1010100;\n\n        for (i = 0; i < 4; i++) {\n          encTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\n          decTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\n        }\n      } // Compactify. Considerable speedup on Firefox.\n\n\n      for (i = 0; i < 5; i++) {\n        encTable[i] = encTable[i].slice(0);\n        decTable[i] = decTable[i].slice(0);\n      }\n\n      return tables;\n    };\n\n    var aesTables = null;\n    /**\n     * Schedule out an AES key for both encryption and decryption. This\n     * is a low-level class. Use a cipher mode to do bulk encryption.\n     *\n     * @class AES\n     * @param key {Array} The key as an array of 4, 6 or 8 words.\n     */\n\n    var AES = function () {\n      function AES(key) {\n        classCallCheck(this, AES);\n        /**\n         * The expanded S-box and inverse S-box tables. These will be computed\n         * on the client so that we don't have to send them down the wire.\n         *\n         * There are two tables, _tables[0] is for encryption and\n         * _tables[1] is for decryption.\n         *\n         * The first 4 sub-tables are the expanded S-box with MixColumns. The\n         * last (_tables[01][4]) is the S-box itself.\n         *\n         * @private\n         */\n        // if we have yet to precompute the S-box tables\n        // do so now\n\n        if (!aesTables) {\n          aesTables = precompute();\n        } // then make a copy of that object for use\n\n\n        this._tables = [[aesTables[0][0].slice(), aesTables[0][1].slice(), aesTables[0][2].slice(), aesTables[0][3].slice(), aesTables[0][4].slice()], [aesTables[1][0].slice(), aesTables[1][1].slice(), aesTables[1][2].slice(), aesTables[1][3].slice(), aesTables[1][4].slice()]];\n        var i = void 0;\n        var j = void 0;\n        var tmp = void 0;\n        var encKey = void 0;\n        var decKey = void 0;\n        var sbox = this._tables[0][4];\n        var decTable = this._tables[1];\n        var keyLen = key.length;\n        var rcon = 1;\n\n        if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n          throw new Error('Invalid aes key size');\n        }\n\n        encKey = key.slice(0);\n        decKey = [];\n        this._key = [encKey, decKey]; // schedule encryption keys\n\n        for (i = keyLen; i < 4 * keyLen + 28; i++) {\n          tmp = encKey[i - 1]; // apply sbox\n\n          if (i % keyLen === 0 || keyLen === 8 && i % keyLen === 4) {\n            tmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255]; // shift rows and add rcon\n\n            if (i % keyLen === 0) {\n              tmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\n              rcon = rcon << 1 ^ (rcon >> 7) * 283;\n            }\n          }\n\n          encKey[i] = encKey[i - keyLen] ^ tmp;\n        } // schedule decryption keys\n\n\n        for (j = 0; i; j++, i--) {\n          tmp = encKey[j & 3 ? i : i - 4];\n\n          if (i <= 4 || j < 4) {\n            decKey[j] = tmp;\n          } else {\n            decKey[j] = decTable[0][sbox[tmp >>> 24]] ^ decTable[1][sbox[tmp >> 16 & 255]] ^ decTable[2][sbox[tmp >> 8 & 255]] ^ decTable[3][sbox[tmp & 255]];\n          }\n        }\n      }\n      /**\n       * Decrypt 16 bytes, specified as four 32-bit words.\n       *\n       * @param {Number} encrypted0 the first word to decrypt\n       * @param {Number} encrypted1 the second word to decrypt\n       * @param {Number} encrypted2 the third word to decrypt\n       * @param {Number} encrypted3 the fourth word to decrypt\n       * @param {Int32Array} out the array to write the decrypted words\n       * into\n       * @param {Number} offset the offset into the output array to start\n       * writing results\n       * @return {Array} The plaintext.\n       */\n\n\n      AES.prototype.decrypt = function decrypt$$1(encrypted0, encrypted1, encrypted2, encrypted3, out, offset) {\n        var key = this._key[1]; // state variables a,b,c,d are loaded with pre-whitened data\n\n        var a = encrypted0 ^ key[0];\n        var b = encrypted3 ^ key[1];\n        var c = encrypted2 ^ key[2];\n        var d = encrypted1 ^ key[3];\n        var a2 = void 0;\n        var b2 = void 0;\n        var c2 = void 0; // key.length === 2 ?\n\n        var nInnerRounds = key.length / 4 - 2;\n        var i = void 0;\n        var kIndex = 4;\n        var table = this._tables[1]; // load up the tables\n\n        var table0 = table[0];\n        var table1 = table[1];\n        var table2 = table[2];\n        var table3 = table[3];\n        var sbox = table[4]; // Inner rounds. Cribbed from OpenSSL.\n\n        for (i = 0; i < nInnerRounds; i++) {\n          a2 = table0[a >>> 24] ^ table1[b >> 16 & 255] ^ table2[c >> 8 & 255] ^ table3[d & 255] ^ key[kIndex];\n          b2 = table0[b >>> 24] ^ table1[c >> 16 & 255] ^ table2[d >> 8 & 255] ^ table3[a & 255] ^ key[kIndex + 1];\n          c2 = table0[c >>> 24] ^ table1[d >> 16 & 255] ^ table2[a >> 8 & 255] ^ table3[b & 255] ^ key[kIndex + 2];\n          d = table0[d >>> 24] ^ table1[a >> 16 & 255] ^ table2[b >> 8 & 255] ^ table3[c & 255] ^ key[kIndex + 3];\n          kIndex += 4;\n          a = a2;\n          b = b2;\n          c = c2;\n        } // Last round.\n\n\n        for (i = 0; i < 4; i++) {\n          out[(3 & -i) + offset] = sbox[a >>> 24] << 24 ^ sbox[b >> 16 & 255] << 16 ^ sbox[c >> 8 & 255] << 8 ^ sbox[d & 255] ^ key[kIndex++];\n          a2 = a;\n          a = b;\n          b = c;\n          c = d;\n          d = a2;\n        }\n      };\n\n      return AES;\n    }();\n    /**\n     * @file stream.js\n     */\n\n    /**\n     * A lightweight readable stream implemention that handles event dispatching.\n     *\n     * @class Stream\n     */\n\n\n    var Stream = function () {\n      function Stream() {\n        classCallCheck(this, Stream);\n        this.listeners = {};\n      }\n      /**\n       * Add a listener for a specified event type.\n       *\n       * @param {String} type the event name\n       * @param {Function} listener the callback to be invoked when an event of\n       * the specified type occurs\n       */\n\n\n      Stream.prototype.on = function on(type, listener) {\n        if (!this.listeners[type]) {\n          this.listeners[type] = [];\n        }\n\n        this.listeners[type].push(listener);\n      };\n      /**\n       * Remove a listener for a specified event type.\n       *\n       * @param {String} type the event name\n       * @param {Function} listener  a function previously registered for this\n       * type of event through `on`\n       * @return {Boolean} if we could turn it off or not\n       */\n\n\n      Stream.prototype.off = function off(type, listener) {\n        if (!this.listeners[type]) {\n          return false;\n        }\n\n        var index = this.listeners[type].indexOf(listener);\n        this.listeners[type].splice(index, 1);\n        return index > -1;\n      };\n      /**\n       * Trigger an event of the specified type on this stream. Any additional\n       * arguments to this function are passed as parameters to event listeners.\n       *\n       * @param {String} type the event name\n       */\n\n\n      Stream.prototype.trigger = function trigger(type) {\n        var callbacks = this.listeners[type];\n\n        if (!callbacks) {\n          return;\n        } // Slicing the arguments on every invocation of this method\n        // can add a significant amount of overhead. Avoid the\n        // intermediate object creation for the common case of a\n        // single callback argument\n\n\n        if (arguments.length === 2) {\n          var length = callbacks.length;\n\n          for (var i = 0; i < length; ++i) {\n            callbacks[i].call(this, arguments[1]);\n          }\n        } else {\n          var args = Array.prototype.slice.call(arguments, 1);\n          var _length = callbacks.length;\n\n          for (var _i = 0; _i < _length; ++_i) {\n            callbacks[_i].apply(this, args);\n          }\n        }\n      };\n      /**\n       * Destroys the stream and cleans up.\n       */\n\n\n      Stream.prototype.dispose = function dispose() {\n        this.listeners = {};\n      };\n      /**\n       * Forwards all `data` events on this stream to the destination stream. The\n       * destination stream should provide a method `push` to receive the data\n       * events as they arrive.\n       *\n       * @param {Stream} destination the stream that will receive all `data` events\n       * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n       */\n\n\n      Stream.prototype.pipe = function pipe(destination) {\n        this.on('data', function (data) {\n          destination.push(data);\n        });\n      };\n\n      return Stream;\n    }();\n    /**\n     * @file async-stream.js\n     */\n\n    /**\n     * A wrapper around the Stream class to use setTiemout\n     * and run stream \"jobs\" Asynchronously\n     *\n     * @class AsyncStream\n     * @extends Stream\n     */\n\n\n    var AsyncStream$$1 = function (_Stream) {\n      inherits(AsyncStream$$1, _Stream);\n\n      function AsyncStream$$1() {\n        classCallCheck(this, AsyncStream$$1);\n\n        var _this = possibleConstructorReturn(this, _Stream.call(this, Stream));\n\n        _this.jobs = [];\n        _this.delay = 1;\n        _this.timeout_ = null;\n        return _this;\n      }\n      /**\n       * process an async job\n       *\n       * @private\n       */\n\n\n      AsyncStream$$1.prototype.processJob_ = function processJob_() {\n        this.jobs.shift()();\n\n        if (this.jobs.length) {\n          this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n        } else {\n          this.timeout_ = null;\n        }\n      };\n      /**\n       * push a job into the stream\n       *\n       * @param {Function} job the job to push into the stream\n       */\n\n\n      AsyncStream$$1.prototype.push = function push(job) {\n        this.jobs.push(job);\n\n        if (!this.timeout_) {\n          this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n        }\n      };\n\n      return AsyncStream$$1;\n    }(Stream);\n    /**\n     * @file decrypter.js\n     *\n     * An asynchronous implementation of AES-128 CBC decryption with\n     * PKCS#7 padding.\n     */\n\n    /**\n     * Convert network-order (big-endian) bytes into their little-endian\n     * representation.\n     */\n\n\n    var ntoh = function ntoh(word) {\n      return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;\n    };\n    /**\n     * Decrypt bytes using AES-128 with CBC and PKCS#7 padding.\n     *\n     * @param {Uint8Array} encrypted the encrypted bytes\n     * @param {Uint32Array} key the bytes of the decryption key\n     * @param {Uint32Array} initVector the initialization vector (IV) to\n     * use for the first round of CBC.\n     * @return {Uint8Array} the decrypted bytes\n     *\n     * @see http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\n     * @see http://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_.28CBC.29\n     * @see https://tools.ietf.org/html/rfc2315\n     */\n\n\n    var decrypt$$1 = function decrypt$$1(encrypted, key, initVector) {\n      // word-level access to the encrypted bytes\n      var encrypted32 = new Int32Array(encrypted.buffer, encrypted.byteOffset, encrypted.byteLength >> 2);\n      var decipher = new AES(Array.prototype.slice.call(key)); // byte and word-level access for the decrypted output\n\n      var decrypted = new Uint8Array(encrypted.byteLength);\n      var decrypted32 = new Int32Array(decrypted.buffer); // temporary variables for working with the IV, encrypted, and\n      // decrypted data\n\n      var init0 = void 0;\n      var init1 = void 0;\n      var init2 = void 0;\n      var init3 = void 0;\n      var encrypted0 = void 0;\n      var encrypted1 = void 0;\n      var encrypted2 = void 0;\n      var encrypted3 = void 0; // iteration variable\n\n      var wordIx = void 0; // pull out the words of the IV to ensure we don't modify the\n      // passed-in reference and easier access\n\n      init0 = initVector[0];\n      init1 = initVector[1];\n      init2 = initVector[2];\n      init3 = initVector[3]; // decrypt four word sequences, applying cipher-block chaining (CBC)\n      // to each decrypted block\n\n      for (wordIx = 0; wordIx < encrypted32.length; wordIx += 4) {\n        // convert big-endian (network order) words into little-endian\n        // (javascript order)\n        encrypted0 = ntoh(encrypted32[wordIx]);\n        encrypted1 = ntoh(encrypted32[wordIx + 1]);\n        encrypted2 = ntoh(encrypted32[wordIx + 2]);\n        encrypted3 = ntoh(encrypted32[wordIx + 3]); // decrypt the block\n\n        decipher.decrypt(encrypted0, encrypted1, encrypted2, encrypted3, decrypted32, wordIx); // XOR with the IV, and restore network byte-order to obtain the\n        // plaintext\n\n        decrypted32[wordIx] = ntoh(decrypted32[wordIx] ^ init0);\n        decrypted32[wordIx + 1] = ntoh(decrypted32[wordIx + 1] ^ init1);\n        decrypted32[wordIx + 2] = ntoh(decrypted32[wordIx + 2] ^ init2);\n        decrypted32[wordIx + 3] = ntoh(decrypted32[wordIx + 3] ^ init3); // setup the IV for the next round\n\n        init0 = encrypted0;\n        init1 = encrypted1;\n        init2 = encrypted2;\n        init3 = encrypted3;\n      }\n\n      return decrypted;\n    };\n    /**\n     * The `Decrypter` class that manages decryption of AES\n     * data through `AsyncStream` objects and the `decrypt`\n     * function\n     *\n     * @param {Uint8Array} encrypted the encrypted bytes\n     * @param {Uint32Array} key the bytes of the decryption key\n     * @param {Uint32Array} initVector the initialization vector (IV) to\n     * @param {Function} done the function to run when done\n     * @class Decrypter\n     */\n\n\n    var Decrypter$$1 = function () {\n      function Decrypter$$1(encrypted, key, initVector, done) {\n        classCallCheck(this, Decrypter$$1);\n        var step = Decrypter$$1.STEP;\n        var encrypted32 = new Int32Array(encrypted.buffer);\n        var decrypted = new Uint8Array(encrypted.byteLength);\n        var i = 0;\n        this.asyncStream_ = new AsyncStream$$1(); // split up the encryption job and do the individual chunks asynchronously\n\n        this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n\n        for (i = step; i < encrypted32.length; i += step) {\n          initVector = new Uint32Array([ntoh(encrypted32[i - 4]), ntoh(encrypted32[i - 3]), ntoh(encrypted32[i - 2]), ntoh(encrypted32[i - 1])]);\n          this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n        } // invoke the done() callback when everything is finished\n\n\n        this.asyncStream_.push(function () {\n          // remove pkcs#7 padding from the decrypted bytes\n          done(null, unpad(decrypted));\n        });\n      }\n      /**\n       * a getter for step the maximum number of bytes to process at one time\n       *\n       * @return {Number} the value of step 32000\n       */\n\n      /**\n       * @private\n       */\n\n\n      Decrypter$$1.prototype.decryptChunk_ = function decryptChunk_(encrypted, key, initVector, decrypted) {\n        return function () {\n          var bytes = decrypt$$1(encrypted, key, initVector);\n          decrypted.set(bytes, encrypted.byteOffset);\n        };\n      };\n\n      createClass(Decrypter$$1, null, [{\n        key: 'STEP',\n        get: function get$$1() {\n          // 4 * 8000;\n          return 32000;\n        }\n      }]);\n      return Decrypter$$1;\n    }();\n    /**\n     * @file bin-utils.js\n     */\n\n    /**\n     * Creates an object for sending to a web worker modifying properties that are TypedArrays\n     * into a new object with seperated properties for the buffer, byteOffset, and byteLength.\n     *\n     * @param {Object} message\n     *        Object of properties and values to send to the web worker\n     * @return {Object}\n     *         Modified message with TypedArray values expanded\n     * @function createTransferableMessage\n     */\n\n\n    var createTransferableMessage = function createTransferableMessage(message) {\n      var transferable = {};\n      Object.keys(message).forEach(function (key) {\n        var value = message[key];\n\n        if (ArrayBuffer.isView(value)) {\n          transferable[key] = {\n            bytes: value.buffer,\n            byteOffset: value.byteOffset,\n            byteLength: value.byteLength\n          };\n        } else {\n          transferable[key] = value;\n        }\n      });\n      return transferable;\n    };\n    /**\n     * Our web worker interface so that things can talk to aes-decrypter\n     * that will be running in a web worker. the scope is passed to this by\n     * webworkify.\n     *\n     * @param {Object} self\n     *        the scope for the web worker\n     */\n\n\n    var DecrypterWorker = function DecrypterWorker(self) {\n      self.onmessage = function (event) {\n        var data = event.data;\n        var encrypted = new Uint8Array(data.encrypted.bytes, data.encrypted.byteOffset, data.encrypted.byteLength);\n        var key = new Uint32Array(data.key.bytes, data.key.byteOffset, data.key.byteLength / 4);\n        var iv = new Uint32Array(data.iv.bytes, data.iv.byteOffset, data.iv.byteLength / 4);\n        /* eslint-disable no-new, handle-callback-err */\n\n        new Decrypter$$1(encrypted, key, iv, function (err, bytes) {\n          self.postMessage(createTransferableMessage({\n            source: data.source,\n            decrypted: bytes\n          }), [bytes.buffer]);\n        });\n        /* eslint-enable */\n      };\n    };\n\n    var decrypterWorker = new DecrypterWorker(self);\n    return decrypterWorker;\n  }();\n});\n/**\n * Convert the properties of an HLS track into an audioTrackKind.\n *\n * @private\n */\n\nvar audioTrackKind_ = function audioTrackKind_(properties) {\n  var kind = properties[\"default\"] ? 'main' : 'alternative';\n\n  if (properties.characteristics && properties.characteristics.indexOf('public.accessibility.describes-video') >= 0) {\n    kind = 'main-desc';\n  }\n\n  return kind;\n};\n/**\n * Pause provided segment loader and playlist loader if active\n *\n * @param {SegmentLoader} segmentLoader\n *        SegmentLoader to pause\n * @param {Object} mediaType\n *        Active media type\n * @function stopLoaders\n */\n\n\nvar stopLoaders = function stopLoaders(segmentLoader, mediaType) {\n  segmentLoader.abort();\n  segmentLoader.pause();\n\n  if (mediaType && mediaType.activePlaylistLoader) {\n    mediaType.activePlaylistLoader.pause();\n    mediaType.activePlaylistLoader = null;\n  }\n};\n/**\n * Start loading provided segment loader and playlist loader\n *\n * @param {PlaylistLoader} playlistLoader\n *        PlaylistLoader to start loading\n * @param {Object} mediaType\n *        Active media type\n * @function startLoaders\n */\n\n\nvar startLoaders = function startLoaders(playlistLoader, mediaType) {\n  // Segment loader will be started after `loadedmetadata` or `loadedplaylist` from the\n  // playlist loader\n  mediaType.activePlaylistLoader = playlistLoader;\n  playlistLoader.load();\n};\n/**\n * Returns a function to be called when the media group changes. It performs a\n * non-destructive (preserve the buffer) resync of the SegmentLoader. This is because a\n * change of group is merely a rendition switch of the same content at another encoding,\n * rather than a change of content, such as switching audio from English to Spanish.\n *\n * @param {String} type\n *        MediaGroup type\n * @param {Object} settings\n *        Object containing required information for media groups\n * @return {Function}\n *         Handler for a non-destructive resync of SegmentLoader when the active media\n *         group changes.\n * @function onGroupChanged\n */\n\n\nvar onGroupChanged = function onGroupChanged(type, settings) {\n  return function () {\n    var _settings$segmentLoad = settings.segmentLoaders,\n        segmentLoader = _settings$segmentLoad[type],\n        mainSegmentLoader = _settings$segmentLoad.main,\n        mediaType = settings.mediaTypes[type];\n    var activeTrack = mediaType.activeTrack();\n    var activeGroup = mediaType.activeGroup(activeTrack);\n    var previousActiveLoader = mediaType.activePlaylistLoader;\n    stopLoaders(segmentLoader, mediaType);\n\n    if (!activeGroup) {\n      // there is no group active\n      return;\n    }\n\n    if (!activeGroup.playlistLoader) {\n      if (previousActiveLoader) {\n        // The previous group had a playlist loader but the new active group does not\n        // this means we are switching from demuxed to muxed audio. In this case we want to\n        // do a destructive reset of the main segment loader and not restart the audio\n        // loaders.\n        mainSegmentLoader.resetEverything();\n      }\n\n      return;\n    } // Non-destructive resync\n\n\n    segmentLoader.resyncLoader();\n    startLoaders(activeGroup.playlistLoader, mediaType);\n  };\n};\n/**\n * Returns a function to be called when the media track changes. It performs a\n * destructive reset of the SegmentLoader to ensure we start loading as close to\n * currentTime as possible.\n *\n * @param {String} type\n *        MediaGroup type\n * @param {Object} settings\n *        Object containing required information for media groups\n * @return {Function}\n *         Handler for a destructive reset of SegmentLoader when the active media\n *         track changes.\n * @function onTrackChanged\n */\n\n\nvar onTrackChanged = function onTrackChanged(type, settings) {\n  return function () {\n    var _settings$segmentLoad2 = settings.segmentLoaders,\n        segmentLoader = _settings$segmentLoad2[type],\n        mainSegmentLoader = _settings$segmentLoad2.main,\n        mediaType = settings.mediaTypes[type];\n    var activeTrack = mediaType.activeTrack();\n    var activeGroup = mediaType.activeGroup(activeTrack);\n    var previousActiveLoader = mediaType.activePlaylistLoader;\n    stopLoaders(segmentLoader, mediaType);\n\n    if (!activeGroup) {\n      // there is no group active so we do not want to restart loaders\n      return;\n    }\n\n    if (!activeGroup.playlistLoader) {\n      // when switching from demuxed audio/video to muxed audio/video (noted by no playlist\n      // loader for the audio group), we want to do a destructive reset of the main segment\n      // loader and not restart the audio loaders\n      mainSegmentLoader.resetEverything();\n      return;\n    }\n\n    if (previousActiveLoader === activeGroup.playlistLoader) {\n      // Nothing has actually changed. This can happen because track change events can fire\n      // multiple times for a \"single\" change. One for enabling the new active track, and\n      // one for disabling the track that was active\n      startLoaders(activeGroup.playlistLoader, mediaType);\n      return;\n    }\n\n    if (segmentLoader.track) {\n      // For WebVTT, set the new text track in the segmentloader\n      segmentLoader.track(activeTrack);\n    } // destructive reset\n\n\n    segmentLoader.resetEverything();\n    startLoaders(activeGroup.playlistLoader, mediaType);\n  };\n};\n\nvar onError = {\n  /**\n   * Returns a function to be called when a SegmentLoader or PlaylistLoader encounters\n   * an error.\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Error handler. Logs warning (or error if the playlist is blacklisted) to\n   *         console and switches back to default audio track.\n   * @function onError.AUDIO\n   */\n  AUDIO: function AUDIO(type, settings) {\n    return function () {\n      var segmentLoader = settings.segmentLoaders[type],\n          mediaType = settings.mediaTypes[type],\n          blacklistCurrentPlaylist = settings.blacklistCurrentPlaylist;\n      stopLoaders(segmentLoader, mediaType); // switch back to default audio track\n\n      var activeTrack = mediaType.activeTrack();\n      var activeGroup = mediaType.activeGroup();\n      var id = (activeGroup.filter(function (group) {\n        return group[\"default\"];\n      })[0] || activeGroup[0]).id;\n      var defaultTrack = mediaType.tracks[id];\n\n      if (activeTrack === defaultTrack) {\n        // Default track encountered an error. All we can do now is blacklist the current\n        // rendition and hope another will switch audio groups\n        blacklistCurrentPlaylist({\n          message: 'Problem encountered loading the default audio track.'\n        });\n        return;\n      }\n\n      videojs$1.log.warn('Problem encountered loading the alternate audio track.' + 'Switching back to default.');\n\n      for (var trackId in mediaType.tracks) {\n        mediaType.tracks[trackId].enabled = mediaType.tracks[trackId] === defaultTrack;\n      }\n\n      mediaType.onTrackChanged();\n    };\n  },\n\n  /**\n   * Returns a function to be called when a SegmentLoader or PlaylistLoader encounters\n   * an error.\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Error handler. Logs warning to console and disables the active subtitle track\n   * @function onError.SUBTITLES\n   */\n  SUBTITLES: function SUBTITLES(type, settings) {\n    return function () {\n      var segmentLoader = settings.segmentLoaders[type],\n          mediaType = settings.mediaTypes[type];\n      videojs$1.log.warn('Problem encountered loading the subtitle track.' + 'Disabling subtitle track.');\n      stopLoaders(segmentLoader, mediaType);\n      var track = mediaType.activeTrack();\n\n      if (track) {\n        track.mode = 'disabled';\n      }\n\n      mediaType.onTrackChanged();\n    };\n  }\n};\nvar setupListeners = {\n  /**\n   * Setup event listeners for audio playlist loader\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {PlaylistLoader|null} playlistLoader\n   *        PlaylistLoader to register listeners on\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @function setupListeners.AUDIO\n   */\n  AUDIO: function AUDIO(type, playlistLoader, settings) {\n    if (!playlistLoader) {\n      // no playlist loader means audio will be muxed with the video\n      return;\n    }\n\n    var tech = settings.tech,\n        requestOptions = settings.requestOptions,\n        segmentLoader = settings.segmentLoaders[type];\n    playlistLoader.on('loadedmetadata', function () {\n      var media = playlistLoader.media();\n      segmentLoader.playlist(media, requestOptions); // if the video is already playing, or if this isn't a live video and preload\n      // permits, start downloading segments\n\n      if (!tech.paused() || media.endList && tech.preload() !== 'none') {\n        segmentLoader.load();\n      }\n    });\n    playlistLoader.on('loadedplaylist', function () {\n      segmentLoader.playlist(playlistLoader.media(), requestOptions); // If the player isn't paused, ensure that the segment loader is running\n\n      if (!tech.paused()) {\n        segmentLoader.load();\n      }\n    });\n    playlistLoader.on('error', onError[type](type, settings));\n  },\n\n  /**\n   * Setup event listeners for subtitle playlist loader\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {PlaylistLoader|null} playlistLoader\n   *        PlaylistLoader to register listeners on\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @function setupListeners.SUBTITLES\n   */\n  SUBTITLES: function SUBTITLES(type, playlistLoader, settings) {\n    var tech = settings.tech,\n        requestOptions = settings.requestOptions,\n        segmentLoader = settings.segmentLoaders[type],\n        mediaType = settings.mediaTypes[type];\n    playlistLoader.on('loadedmetadata', function () {\n      var media = playlistLoader.media();\n      segmentLoader.playlist(media, requestOptions);\n      segmentLoader.track(mediaType.activeTrack()); // if the video is already playing, or if this isn't a live video and preload\n      // permits, start downloading segments\n\n      if (!tech.paused() || media.endList && tech.preload() !== 'none') {\n        segmentLoader.load();\n      }\n    });\n    playlistLoader.on('loadedplaylist', function () {\n      segmentLoader.playlist(playlistLoader.media(), requestOptions); // If the player isn't paused, ensure that the segment loader is running\n\n      if (!tech.paused()) {\n        segmentLoader.load();\n      }\n    });\n    playlistLoader.on('error', onError[type](type, settings));\n  }\n};\nvar initialize = {\n  /**\n   * Setup PlaylistLoaders and AudioTracks for the audio groups\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @function initialize.AUDIO\n   */\n  'AUDIO': function AUDIO(type, settings) {\n    var hls = settings.hls,\n        sourceType = settings.sourceType,\n        segmentLoader = settings.segmentLoaders[type],\n        requestOptions = settings.requestOptions,\n        mediaGroups = settings.master.mediaGroups,\n        _settings$mediaTypes$ = settings.mediaTypes[type],\n        groups = _settings$mediaTypes$.groups,\n        tracks = _settings$mediaTypes$.tracks,\n        masterPlaylistLoader = settings.masterPlaylistLoader; // force a default if we have none\n\n    if (!mediaGroups[type] || Object.keys(mediaGroups[type]).length === 0) {\n      mediaGroups[type] = {\n        main: {\n          \"default\": {\n            \"default\": true\n          }\n        }\n      };\n    }\n\n    for (var groupId in mediaGroups[type]) {\n      if (!groups[groupId]) {\n        groups[groupId] = [];\n      } // List of playlists that have an AUDIO attribute value matching the current\n      // group ID\n\n\n      for (var variantLabel in mediaGroups[type][groupId]) {\n        var properties = mediaGroups[type][groupId][variantLabel];\n        var playlistLoader = void 0;\n\n        if (properties.resolvedUri) {\n          playlistLoader = new PlaylistLoader(properties.resolvedUri, hls, requestOptions);\n        } else if (properties.playlists && sourceType === 'dash') {\n          playlistLoader = new DashPlaylistLoader(properties.playlists[0], hls, requestOptions, masterPlaylistLoader);\n        } else {\n          // no resolvedUri means the audio is muxed with the video when using this\n          // audio track\n          playlistLoader = null;\n        }\n\n        properties = videojs$1.mergeOptions({\n          id: variantLabel,\n          playlistLoader: playlistLoader\n        }, properties);\n        setupListeners[type](type, properties.playlistLoader, settings);\n        groups[groupId].push(properties);\n\n        if (typeof tracks[variantLabel] === 'undefined') {\n          var track = new videojs$1.AudioTrack({\n            id: variantLabel,\n            kind: audioTrackKind_(properties),\n            enabled: false,\n            language: properties.language,\n            \"default\": properties[\"default\"],\n            label: variantLabel\n          });\n          tracks[variantLabel] = track;\n        }\n      }\n    } // setup single error event handler for the segment loader\n\n\n    segmentLoader.on('error', onError[type](type, settings));\n  },\n\n  /**\n   * Setup PlaylistLoaders and TextTracks for the subtitle groups\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @function initialize.SUBTITLES\n   */\n  'SUBTITLES': function SUBTITLES(type, settings) {\n    var tech = settings.tech,\n        hls = settings.hls,\n        sourceType = settings.sourceType,\n        segmentLoader = settings.segmentLoaders[type],\n        requestOptions = settings.requestOptions,\n        mediaGroups = settings.master.mediaGroups,\n        _settings$mediaTypes$2 = settings.mediaTypes[type],\n        groups = _settings$mediaTypes$2.groups,\n        tracks = _settings$mediaTypes$2.tracks,\n        masterPlaylistLoader = settings.masterPlaylistLoader;\n\n    for (var groupId in mediaGroups[type]) {\n      if (!groups[groupId]) {\n        groups[groupId] = [];\n      }\n\n      for (var variantLabel in mediaGroups[type][groupId]) {\n        if (mediaGroups[type][groupId][variantLabel].forced) {\n          // Subtitle playlists with the forced attribute are not selectable in Safari.\n          // According to Apple's HLS Authoring Specification:\n          //   If content has forced subtitles and regular subtitles in a given language,\n          //   the regular subtitles track in that language MUST contain both the forced\n          //   subtitles and the regular subtitles for that language.\n          // Because of this requirement and that Safari does not add forced subtitles,\n          // forced subtitles are skipped here to maintain consistent experience across\n          // all platforms\n          continue;\n        }\n\n        var properties = mediaGroups[type][groupId][variantLabel];\n        var playlistLoader = void 0;\n\n        if (sourceType === 'hls') {\n          playlistLoader = new PlaylistLoader(properties.resolvedUri, hls, requestOptions);\n        } else if (sourceType === 'dash') {\n          playlistLoader = new DashPlaylistLoader(properties.playlists[0], hls, requestOptions, masterPlaylistLoader);\n        }\n\n        properties = videojs$1.mergeOptions({\n          id: variantLabel,\n          playlistLoader: playlistLoader\n        }, properties);\n        setupListeners[type](type, properties.playlistLoader, settings);\n        groups[groupId].push(properties);\n\n        if (typeof tracks[variantLabel] === 'undefined') {\n          var track = tech.addRemoteTextTrack({\n            id: variantLabel,\n            kind: 'subtitles',\n            \"default\": properties[\"default\"] && properties.autoselect,\n            language: properties.language,\n            label: variantLabel\n          }, false).track;\n          tracks[variantLabel] = track;\n        }\n      }\n    } // setup single error event handler for the segment loader\n\n\n    segmentLoader.on('error', onError[type](type, settings));\n  },\n\n  /**\n   * Setup TextTracks for the closed-caption groups\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @function initialize['CLOSED-CAPTIONS']\n   */\n  'CLOSED-CAPTIONS': function CLOSEDCAPTIONS(type, settings) {\n    var tech = settings.tech,\n        mediaGroups = settings.master.mediaGroups,\n        _settings$mediaTypes$3 = settings.mediaTypes[type],\n        groups = _settings$mediaTypes$3.groups,\n        tracks = _settings$mediaTypes$3.tracks;\n\n    for (var groupId in mediaGroups[type]) {\n      if (!groups[groupId]) {\n        groups[groupId] = [];\n      }\n\n      for (var variantLabel in mediaGroups[type][groupId]) {\n        var properties = mediaGroups[type][groupId][variantLabel]; // We only support CEA608 captions for now, so ignore anything that\n        // doesn't use a CCx INSTREAM-ID\n\n        if (!properties.instreamId.match(/CC\\d/)) {\n          continue;\n        } // No PlaylistLoader is required for Closed-Captions because the captions are\n        // embedded within the video stream\n\n\n        groups[groupId].push(videojs$1.mergeOptions({\n          id: variantLabel\n        }, properties));\n\n        if (typeof tracks[variantLabel] === 'undefined') {\n          var track = tech.addRemoteTextTrack({\n            id: properties.instreamId,\n            kind: 'captions',\n            \"default\": properties[\"default\"] && properties.autoselect,\n            language: properties.language,\n            label: variantLabel\n          }, false).track;\n          tracks[variantLabel] = track;\n        }\n      }\n    }\n  }\n};\n/**\n * Returns a function used to get the active group of the provided type\n *\n * @param {String} type\n *        MediaGroup type\n * @param {Object} settings\n *        Object containing required information for media groups\n * @return {Function}\n *         Function that returns the active media group for the provided type. Takes an\n *         optional parameter {TextTrack} track. If no track is provided, a list of all\n *         variants in the group, otherwise the variant corresponding to the provided\n *         track is returned.\n * @function activeGroup\n */\n\nvar activeGroup = function activeGroup(type, settings) {\n  return function (track) {\n    var masterPlaylistLoader = settings.masterPlaylistLoader,\n        groups = settings.mediaTypes[type].groups;\n    var media = masterPlaylistLoader.media();\n\n    if (!media) {\n      return null;\n    }\n\n    var variants = null;\n\n    if (media.attributes[type]) {\n      variants = groups[media.attributes[type]];\n    }\n\n    variants = variants || groups.main;\n\n    if (typeof track === 'undefined') {\n      return variants;\n    }\n\n    if (track === null) {\n      // An active track was specified so a corresponding group is expected. track === null\n      // means no track is currently active so there is no corresponding group\n      return null;\n    }\n\n    return variants.filter(function (props) {\n      return props.id === track.id;\n    })[0] || null;\n  };\n};\n\nvar activeTrack = {\n  /**\n   * Returns a function used to get the active track of type provided\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Function that returns the active media track for the provided type. Returns\n   *         null if no track is active\n   * @function activeTrack.AUDIO\n   */\n  AUDIO: function AUDIO(type, settings) {\n    return function () {\n      var tracks = settings.mediaTypes[type].tracks;\n\n      for (var id in tracks) {\n        if (tracks[id].enabled) {\n          return tracks[id];\n        }\n      }\n\n      return null;\n    };\n  },\n\n  /**\n   * Returns a function used to get the active track of type provided\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Function that returns the active media track for the provided type. Returns\n   *         null if no track is active\n   * @function activeTrack.SUBTITLES\n   */\n  SUBTITLES: function SUBTITLES(type, settings) {\n    return function () {\n      var tracks = settings.mediaTypes[type].tracks;\n\n      for (var id in tracks) {\n        if (tracks[id].mode === 'showing') {\n          return tracks[id];\n        }\n      }\n\n      return null;\n    };\n  }\n};\n/**\n * Setup PlaylistLoaders and Tracks for media groups (Audio, Subtitles,\n * Closed-Captions) specified in the master manifest.\n *\n * @param {Object} settings\n *        Object containing required information for setting up the media groups\n * @param {SegmentLoader} settings.segmentLoaders.AUDIO\n *        Audio segment loader\n * @param {SegmentLoader} settings.segmentLoaders.SUBTITLES\n *        Subtitle segment loader\n * @param {SegmentLoader} settings.segmentLoaders.main\n *        Main segment loader\n * @param {Tech} settings.tech\n *        The tech of the player\n * @param {Object} settings.requestOptions\n *        XHR request options used by the segment loaders\n * @param {PlaylistLoader} settings.masterPlaylistLoader\n *        PlaylistLoader for the master source\n * @param {HlsHandler} settings.hls\n *        HLS SourceHandler\n * @param {Object} settings.master\n *        The parsed master manifest\n * @param {Object} settings.mediaTypes\n *        Object to store the loaders, tracks, and utility methods for each media type\n * @param {Function} settings.blacklistCurrentPlaylist\n *        Blacklists the current rendition and forces a rendition switch.\n * @function setupMediaGroups\n */\n\nvar setupMediaGroups = function setupMediaGroups(settings) {\n  ['AUDIO', 'SUBTITLES', 'CLOSED-CAPTIONS'].forEach(function (type) {\n    initialize[type](type, settings);\n  });\n  var mediaTypes = settings.mediaTypes,\n      masterPlaylistLoader = settings.masterPlaylistLoader,\n      tech = settings.tech,\n      hls = settings.hls; // setup active group and track getters and change event handlers\n\n  ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n    mediaTypes[type].activeGroup = activeGroup(type, settings);\n    mediaTypes[type].activeTrack = activeTrack[type](type, settings);\n    mediaTypes[type].onGroupChanged = onGroupChanged(type, settings);\n    mediaTypes[type].onTrackChanged = onTrackChanged(type, settings);\n  }); // DO NOT enable the default subtitle or caption track.\n  // DO enable the default audio track\n\n  var audioGroup = mediaTypes.AUDIO.activeGroup();\n  var groupId = (audioGroup.filter(function (group) {\n    return group[\"default\"];\n  })[0] || audioGroup[0]).id;\n  mediaTypes.AUDIO.tracks[groupId].enabled = true;\n  mediaTypes.AUDIO.onTrackChanged();\n  masterPlaylistLoader.on('mediachange', function () {\n    ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n      return mediaTypes[type].onGroupChanged();\n    });\n  }); // custom audio track change event handler for usage event\n\n  var onAudioTrackChanged = function onAudioTrackChanged() {\n    mediaTypes.AUDIO.onTrackChanged();\n    tech.trigger({\n      type: 'usage',\n      name: 'hls-audio-change'\n    });\n  };\n\n  tech.audioTracks().addEventListener('change', onAudioTrackChanged);\n  tech.remoteTextTracks().addEventListener('change', mediaTypes.SUBTITLES.onTrackChanged);\n  hls.on('dispose', function () {\n    tech.audioTracks().removeEventListener('change', onAudioTrackChanged);\n    tech.remoteTextTracks().removeEventListener('change', mediaTypes.SUBTITLES.onTrackChanged);\n  }); // clear existing audio tracks and add the ones we just created\n\n  tech.clearTracks('audio');\n\n  for (var id in mediaTypes.AUDIO.tracks) {\n    tech.audioTracks().addTrack(mediaTypes.AUDIO.tracks[id]);\n  }\n};\n/**\n * Creates skeleton object used to store the loaders, tracks, and utility methods for each\n * media type\n *\n * @return {Object}\n *         Object to store the loaders, tracks, and utility methods for each media type\n * @function createMediaTypes\n */\n\n\nvar createMediaTypes = function createMediaTypes() {\n  var mediaTypes = {};\n  ['AUDIO', 'SUBTITLES', 'CLOSED-CAPTIONS'].forEach(function (type) {\n    mediaTypes[type] = {\n      groups: {},\n      tracks: {},\n      activePlaylistLoader: null,\n      activeGroup: noop,\n      activeTrack: noop,\n      onGroupChanged: noop,\n      onTrackChanged: noop\n    };\n  });\n  return mediaTypes;\n};\n/**\n * @file master-playlist-controller.js\n */\n\n\nvar ABORT_EARLY_BLACKLIST_SECONDS = 60 * 2;\nvar Hls = void 0; // SegmentLoader stats that need to have each loader's\n// values summed to calculate the final value\n\nvar loaderStats = ['mediaRequests', 'mediaRequestsAborted', 'mediaRequestsTimedout', 'mediaRequestsErrored', 'mediaTransferDuration', 'mediaBytesTransferred'];\n\nvar sumLoaderStat = function sumLoaderStat(stat) {\n  return this.audioSegmentLoader_[stat] + this.mainSegmentLoader_[stat];\n};\n/**\n * the master playlist controller controller all interactons\n * between playlists and segmentloaders. At this time this mainly\n * involves a master playlist and a series of audio playlists\n * if they are available\n *\n * @class MasterPlaylistController\n * @extends videojs.EventTarget\n */\n\n\nvar MasterPlaylistController = function (_videojs$EventTarget) {\n  inherits(MasterPlaylistController, _videojs$EventTarget);\n\n  function MasterPlaylistController(options) {\n    classCallCheck(this, MasterPlaylistController);\n\n    var _this = possibleConstructorReturn(this, (MasterPlaylistController.__proto__ || Object.getPrototypeOf(MasterPlaylistController)).call(this));\n\n    var url = options.url,\n        handleManifestRedirects = options.handleManifestRedirects,\n        withCredentials = options.withCredentials,\n        tech = options.tech,\n        bandwidth = options.bandwidth,\n        externHls = options.externHls,\n        useCueTags = options.useCueTags,\n        blacklistDuration = options.blacklistDuration,\n        enableLowInitialPlaylist = options.enableLowInitialPlaylist,\n        sourceType = options.sourceType,\n        seekTo = options.seekTo,\n        cacheEncryptionKeys = options.cacheEncryptionKeys;\n\n    if (!url) {\n      throw new Error('A non-empty playlist URL is required');\n    }\n\n    Hls = externHls;\n    _this.withCredentials = withCredentials;\n    _this.tech_ = tech;\n    _this.hls_ = tech.hls;\n    _this.seekTo_ = seekTo;\n    _this.sourceType_ = sourceType;\n    _this.useCueTags_ = useCueTags;\n    _this.blacklistDuration = blacklistDuration;\n    _this.enableLowInitialPlaylist = enableLowInitialPlaylist;\n\n    if (_this.useCueTags_) {\n      _this.cueTagsTrack_ = _this.tech_.addTextTrack('metadata', 'ad-cues');\n      _this.cueTagsTrack_.inBandMetadataTrackDispatchType = '';\n    }\n\n    _this.requestOptions_ = {\n      withCredentials: withCredentials,\n      handleManifestRedirects: handleManifestRedirects,\n      timeout: null\n    };\n    _this.mediaTypes_ = createMediaTypes();\n    _this.mediaSource = new videojs$1.MediaSource(); // load the media source into the player\n\n    _this.mediaSource.addEventListener('sourceopen', _this.handleSourceOpen_.bind(_this));\n\n    _this.seekable_ = videojs$1.createTimeRanges();\n\n    _this.hasPlayed_ = function () {\n      return false;\n    };\n\n    _this.syncController_ = new SyncController(options);\n    _this.segmentMetadataTrack_ = tech.addRemoteTextTrack({\n      kind: 'metadata',\n      label: 'segment-metadata'\n    }, false).track;\n    _this.decrypter_ = new Decrypter$1();\n    _this.inbandTextTracks_ = {};\n    var segmentLoaderSettings = {\n      hls: _this.hls_,\n      mediaSource: _this.mediaSource,\n      currentTime: _this.tech_.currentTime.bind(_this.tech_),\n      seekable: function seekable$$1() {\n        return _this.seekable();\n      },\n      seeking: function seeking() {\n        return _this.tech_.seeking();\n      },\n      duration: function duration$$1() {\n        return _this.mediaSource.duration;\n      },\n      hasPlayed: function hasPlayed() {\n        return _this.hasPlayed_();\n      },\n      goalBufferLength: function goalBufferLength() {\n        return _this.goalBufferLength();\n      },\n      bandwidth: bandwidth,\n      syncController: _this.syncController_,\n      decrypter: _this.decrypter_,\n      sourceType: _this.sourceType_,\n      inbandTextTracks: _this.inbandTextTracks_,\n      cacheEncryptionKeys: cacheEncryptionKeys\n    };\n    _this.masterPlaylistLoader_ = _this.sourceType_ === 'dash' ? new DashPlaylistLoader(url, _this.hls_, _this.requestOptions_) : new PlaylistLoader(url, _this.hls_, _this.requestOptions_);\n\n    _this.setupMasterPlaylistLoaderListeners_(); // setup segment loaders\n    // combined audio/video or just video when alternate audio track is selected\n\n\n    _this.mainSegmentLoader_ = new SegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n      segmentMetadataTrack: _this.segmentMetadataTrack_,\n      loaderType: 'main'\n    }), options); // alternate audio track\n\n    _this.audioSegmentLoader_ = new SegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n      loaderType: 'audio'\n    }), options);\n    _this.subtitleSegmentLoader_ = new VTTSegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n      loaderType: 'vtt'\n    }), options);\n\n    _this.setupSegmentLoaderListeners_(); // Create SegmentLoader stat-getters\n\n\n    loaderStats.forEach(function (stat) {\n      _this[stat + '_'] = sumLoaderStat.bind(_this, stat);\n    });\n    _this.logger_ = logger('MPC');\n\n    _this.masterPlaylistLoader_.load();\n\n    return _this;\n  }\n  /**\n   * Register event handlers on the master playlist loader. A helper\n   * function for construction time.\n   *\n   * @private\n   */\n\n\n  createClass(MasterPlaylistController, [{\n    key: 'setupMasterPlaylistLoaderListeners_',\n    value: function setupMasterPlaylistLoaderListeners_() {\n      var _this2 = this;\n\n      this.masterPlaylistLoader_.on('loadedmetadata', function () {\n        var media = _this2.masterPlaylistLoader_.media();\n\n        var requestTimeout = media.targetDuration * 1.5 * 1000; // If we don't have any more available playlists, we don't want to\n        // timeout the request.\n\n        if (isLowestEnabledRendition(_this2.masterPlaylistLoader_.master, _this2.masterPlaylistLoader_.media())) {\n          _this2.requestOptions_.timeout = 0;\n        } else {\n          _this2.requestOptions_.timeout = requestTimeout;\n        } // if this isn't a live video and preload permits, start\n        // downloading segments\n\n\n        if (media.endList && _this2.tech_.preload() !== 'none') {\n          _this2.mainSegmentLoader_.playlist(media, _this2.requestOptions_);\n\n          _this2.mainSegmentLoader_.load();\n        }\n\n        setupMediaGroups({\n          sourceType: _this2.sourceType_,\n          segmentLoaders: {\n            AUDIO: _this2.audioSegmentLoader_,\n            SUBTITLES: _this2.subtitleSegmentLoader_,\n            main: _this2.mainSegmentLoader_\n          },\n          tech: _this2.tech_,\n          requestOptions: _this2.requestOptions_,\n          masterPlaylistLoader: _this2.masterPlaylistLoader_,\n          hls: _this2.hls_,\n          master: _this2.master(),\n          mediaTypes: _this2.mediaTypes_,\n          blacklistCurrentPlaylist: _this2.blacklistCurrentPlaylist.bind(_this2)\n        });\n\n        _this2.triggerPresenceUsage_(_this2.master(), media);\n\n        try {\n          _this2.setupSourceBuffers_();\n        } catch (e) {\n          videojs$1.log.warn('Failed to create SourceBuffers', e);\n          return _this2.mediaSource.endOfStream('decode');\n        }\n\n        _this2.setupFirstPlay();\n\n        if (!_this2.mediaTypes_.AUDIO.activePlaylistLoader || _this2.mediaTypes_.AUDIO.activePlaylistLoader.media()) {\n          _this2.trigger('selectedinitialmedia');\n        } else {\n          // We must wait for the active audio playlist loader to\n          // finish setting up before triggering this event so the\n          // representations API and EME setup is correct\n          _this2.mediaTypes_.AUDIO.activePlaylistLoader.one('loadedmetadata', function () {\n            _this2.trigger('selectedinitialmedia');\n          });\n        }\n      });\n      this.masterPlaylistLoader_.on('loadedplaylist', function () {\n        var updatedPlaylist = _this2.masterPlaylistLoader_.media();\n\n        if (!updatedPlaylist) {\n          // blacklist any variants that are not supported by the browser before selecting\n          // an initial media as the playlist selectors do not consider browser support\n          _this2.excludeUnsupportedVariants_();\n\n          var selectedMedia = void 0;\n\n          if (_this2.enableLowInitialPlaylist) {\n            selectedMedia = _this2.selectInitialPlaylist();\n          }\n\n          if (!selectedMedia) {\n            selectedMedia = _this2.selectPlaylist();\n          }\n\n          _this2.initialMedia_ = selectedMedia;\n\n          _this2.masterPlaylistLoader_.media(_this2.initialMedia_);\n\n          return;\n        }\n\n        if (_this2.useCueTags_) {\n          _this2.updateAdCues_(updatedPlaylist);\n        } // TODO: Create a new event on the PlaylistLoader that signals\n        // that the segments have changed in some way and use that to\n        // update the SegmentLoader instead of doing it twice here and\n        // on `mediachange`\n\n\n        _this2.mainSegmentLoader_.playlist(updatedPlaylist, _this2.requestOptions_);\n\n        _this2.updateDuration(); // If the player isn't paused, ensure that the segment loader is running,\n        // as it is possible that it was temporarily stopped while waiting for\n        // a playlist (e.g., in case the playlist errored and we re-requested it).\n\n\n        if (!_this2.tech_.paused()) {\n          _this2.mainSegmentLoader_.load();\n\n          if (_this2.audioSegmentLoader_) {\n            _this2.audioSegmentLoader_.load();\n          }\n        }\n\n        if (!updatedPlaylist.endList) {\n          var addSeekableRange = function addSeekableRange() {\n            var seekable$$1 = _this2.seekable();\n\n            if (seekable$$1.length !== 0) {\n              _this2.mediaSource.addSeekableRange_(seekable$$1.start(0), seekable$$1.end(0));\n            }\n          };\n\n          if (_this2.duration() !== Infinity) {\n            var onDurationchange = function onDurationchange() {\n              if (_this2.duration() === Infinity) {\n                addSeekableRange();\n              } else {\n                _this2.tech_.one('durationchange', onDurationchange);\n              }\n            };\n\n            _this2.tech_.one('durationchange', onDurationchange);\n          } else {\n            addSeekableRange();\n          }\n        }\n      });\n      this.masterPlaylistLoader_.on('error', function () {\n        _this2.blacklistCurrentPlaylist(_this2.masterPlaylistLoader_.error);\n      });\n      this.masterPlaylistLoader_.on('mediachanging', function () {\n        _this2.mainSegmentLoader_.abort();\n\n        _this2.mainSegmentLoader_.pause();\n      });\n      this.masterPlaylistLoader_.on('mediachange', function () {\n        var media = _this2.masterPlaylistLoader_.media();\n\n        var requestTimeout = media.targetDuration * 1.5 * 1000; // If we don't have any more available playlists, we don't want to\n        // timeout the request.\n\n        if (isLowestEnabledRendition(_this2.masterPlaylistLoader_.master, _this2.masterPlaylistLoader_.media())) {\n          _this2.requestOptions_.timeout = 0;\n        } else {\n          _this2.requestOptions_.timeout = requestTimeout;\n        } // TODO: Create a new event on the PlaylistLoader that signals\n        // that the segments have changed in some way and use that to\n        // update the SegmentLoader instead of doing it twice here and\n        // on `loadedplaylist`\n\n\n        _this2.mainSegmentLoader_.playlist(media, _this2.requestOptions_);\n\n        _this2.mainSegmentLoader_.load();\n\n        _this2.tech_.trigger({\n          type: 'mediachange',\n          bubbles: true\n        });\n      });\n      this.masterPlaylistLoader_.on('playlistunchanged', function () {\n        var updatedPlaylist = _this2.masterPlaylistLoader_.media();\n\n        var playlistOutdated = _this2.stuckAtPlaylistEnd_(updatedPlaylist);\n\n        if (playlistOutdated) {\n          // Playlist has stopped updating and we're stuck at its end. Try to\n          // blacklist it and switch to another playlist in the hope that that\n          // one is updating (and give the player a chance to re-adjust to the\n          // safe live point).\n          _this2.blacklistCurrentPlaylist({\n            message: 'Playlist no longer updating.'\n          }); // useful for monitoring QoS\n\n\n          _this2.tech_.trigger('playliststuck');\n        }\n      });\n      this.masterPlaylistLoader_.on('renditiondisabled', function () {\n        _this2.tech_.trigger({\n          type: 'usage',\n          name: 'hls-rendition-disabled'\n        });\n      });\n      this.masterPlaylistLoader_.on('renditionenabled', function () {\n        _this2.tech_.trigger({\n          type: 'usage',\n          name: 'hls-rendition-enabled'\n        });\n      });\n    }\n    /**\n     * A helper function for triggerring presence usage events once per source\n     *\n     * @private\n     */\n\n  }, {\n    key: 'triggerPresenceUsage_',\n    value: function triggerPresenceUsage_(master, media) {\n      var mediaGroups = master.mediaGroups || {};\n      var defaultDemuxed = true;\n      var audioGroupKeys = Object.keys(mediaGroups.AUDIO);\n\n      for (var mediaGroup in mediaGroups.AUDIO) {\n        for (var label in mediaGroups.AUDIO[mediaGroup]) {\n          var properties = mediaGroups.AUDIO[mediaGroup][label];\n\n          if (!properties.uri) {\n            defaultDemuxed = false;\n          }\n        }\n      }\n\n      if (defaultDemuxed) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-demuxed'\n        });\n      }\n\n      if (Object.keys(mediaGroups.SUBTITLES).length) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-webvtt'\n        });\n      }\n\n      if (Hls.Playlist.isAes(media)) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-aes'\n        });\n      }\n\n      if (Hls.Playlist.isFmp4(media)) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-fmp4'\n        });\n      }\n\n      if (audioGroupKeys.length && Object.keys(mediaGroups.AUDIO[audioGroupKeys[0]]).length > 1) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-alternate-audio'\n        });\n      }\n\n      if (this.useCueTags_) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-playlist-cue-tags'\n        });\n      }\n    }\n    /**\n     * Register event handlers on the segment loaders. A helper function\n     * for construction time.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'setupSegmentLoaderListeners_',\n    value: function setupSegmentLoaderListeners_() {\n      var _this3 = this;\n\n      this.mainSegmentLoader_.on('bandwidthupdate', function () {\n        var nextPlaylist = _this3.selectPlaylist();\n\n        var currentPlaylist = _this3.masterPlaylistLoader_.media();\n\n        var buffered = _this3.tech_.buffered();\n\n        var forwardBuffer = buffered.length ? buffered.end(buffered.length - 1) - _this3.tech_.currentTime() : 0;\n\n        var bufferLowWaterLine = _this3.bufferLowWaterLine(); // If the playlist is live, then we want to not take low water line into account.\n        // This is because in LIVE, the player plays 3 segments from the end of the\n        // playlist, and if `BUFFER_LOW_WATER_LINE` is greater than the duration availble\n        // in those segments, a viewer will never experience a rendition upswitch.\n\n\n        if (!currentPlaylist.endList || // For the same reason as LIVE, we ignore the low water line when the VOD\n        // duration is below the max potential low water line\n        _this3.duration() < Config.MAX_BUFFER_LOW_WATER_LINE || // we want to switch down to lower resolutions quickly to continue playback, but\n        nextPlaylist.attributes.BANDWIDTH < currentPlaylist.attributes.BANDWIDTH || // ensure we have some buffer before we switch up to prevent us running out of\n        // buffer while loading a higher rendition.\n        forwardBuffer >= bufferLowWaterLine) {\n          _this3.masterPlaylistLoader_.media(nextPlaylist);\n        }\n\n        _this3.tech_.trigger('bandwidthupdate');\n      });\n      this.mainSegmentLoader_.on('progress', function () {\n        _this3.trigger('progress');\n      });\n      this.mainSegmentLoader_.on('error', function () {\n        _this3.blacklistCurrentPlaylist(_this3.mainSegmentLoader_.error());\n      });\n      this.mainSegmentLoader_.on('syncinfoupdate', function () {\n        _this3.onSyncInfoUpdate_();\n      });\n      this.mainSegmentLoader_.on('timestampoffset', function () {\n        _this3.tech_.trigger({\n          type: 'usage',\n          name: 'hls-timestamp-offset'\n        });\n      });\n      this.audioSegmentLoader_.on('syncinfoupdate', function () {\n        _this3.onSyncInfoUpdate_();\n      });\n      this.mainSegmentLoader_.on('ended', function () {\n        _this3.onEndOfStream();\n      });\n      this.mainSegmentLoader_.on('earlyabort', function () {\n        _this3.blacklistCurrentPlaylist({\n          message: 'Aborted early because there isn\\'t enough bandwidth to complete the ' + 'request without rebuffering.'\n        }, ABORT_EARLY_BLACKLIST_SECONDS);\n      });\n      this.mainSegmentLoader_.on('reseteverything', function () {\n        // If playing an MTS stream, a videojs.MediaSource is listening for\n        // hls-reset to reset caption parsing state in the transmuxer\n        _this3.tech_.trigger('hls-reset');\n      });\n      this.mainSegmentLoader_.on('segmenttimemapping', function (event) {\n        // If playing an MTS stream in html, a videojs.MediaSource is listening for\n        // hls-segment-time-mapping update its internal mapping of stream to display time\n        _this3.tech_.trigger({\n          type: 'hls-segment-time-mapping',\n          mapping: event.mapping\n        });\n      });\n      this.audioSegmentLoader_.on('ended', function () {\n        _this3.onEndOfStream();\n      });\n    }\n  }, {\n    key: 'mediaSecondsLoaded_',\n    value: function mediaSecondsLoaded_() {\n      return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded + this.mainSegmentLoader_.mediaSecondsLoaded);\n    }\n    /**\n     * Call load on our SegmentLoaders\n     */\n\n  }, {\n    key: 'load',\n    value: function load() {\n      this.mainSegmentLoader_.load();\n\n      if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n        this.audioSegmentLoader_.load();\n      }\n\n      if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n        this.subtitleSegmentLoader_.load();\n      }\n    }\n    /**\n     * Re-tune playback quality level for the current player\n     * conditions without performing destructive actions, like\n     * removing already buffered content\n     *\n     * @private\n     */\n\n  }, {\n    key: 'smoothQualityChange_',\n    value: function smoothQualityChange_() {\n      var media = this.selectPlaylist();\n\n      if (media !== this.masterPlaylistLoader_.media()) {\n        this.masterPlaylistLoader_.media(media);\n        this.mainSegmentLoader_.resetLoader(); // don't need to reset audio as it is reset when media changes\n      }\n    }\n    /**\n     * Re-tune playback quality level for the current player\n     * conditions. This method will perform destructive actions like removing\n     * already buffered content in order to readjust the currently active\n     * playlist quickly. This is good for manual quality changes\n     *\n     * @private\n     */\n\n  }, {\n    key: 'fastQualityChange_',\n    value: function fastQualityChange_() {\n      var _this4 = this;\n\n      var media = this.selectPlaylist();\n\n      if (media === this.masterPlaylistLoader_.media()) {\n        return;\n      }\n\n      this.masterPlaylistLoader_.media(media); // Delete all buffered data to allow an immediate quality switch, then seek to give\n      // the browser a kick to remove any cached frames from the previous rendtion (.04 seconds\n      // ahead is roughly the minimum that will accomplish this across a variety of content\n      // in IE and Edge, but seeking in place is sufficient on all other browsers)\n      // Edge/IE bug: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14600375/\n      // Chrome bug: https://bugs.chromium.org/p/chromium/issues/detail?id=651904\n\n      this.mainSegmentLoader_.resetEverything(function () {\n        // Since this is not a typical seek, we avoid the seekTo method which can cause segments\n        // from the previously enabled rendition to load before the new playlist has finished loading\n        if (videojs$1.browser.IE_VERSION || videojs$1.browser.IS_EDGE) {\n          _this4.tech_.setCurrentTime(_this4.tech_.currentTime() + 0.04);\n        } else {\n          _this4.tech_.setCurrentTime(_this4.tech_.currentTime());\n        }\n      }); // don't need to reset audio as it is reset when media changes\n    }\n    /**\n     * Begin playback.\n     */\n\n  }, {\n    key: 'play',\n    value: function play() {\n      if (this.setupFirstPlay()) {\n        return;\n      }\n\n      if (this.tech_.ended()) {\n        this.seekTo_(0);\n      }\n\n      if (this.hasPlayed_()) {\n        this.load();\n      }\n\n      var seekable$$1 = this.tech_.seekable(); // if the viewer has paused and we fell out of the live window,\n      // seek forward to the live point\n\n      if (this.tech_.duration() === Infinity) {\n        if (this.tech_.currentTime() < seekable$$1.start(0)) {\n          return this.seekTo_(seekable$$1.end(seekable$$1.length - 1));\n        }\n      }\n    }\n    /**\n     * Seek to the latest media position if this is a live video and the\n     * player and video are loaded and initialized.\n     */\n\n  }, {\n    key: 'setupFirstPlay',\n    value: function setupFirstPlay() {\n      var _this5 = this;\n\n      var media = this.masterPlaylistLoader_.media(); // Check that everything is ready to begin buffering for the first call to play\n      //  If 1) there is no active media\n      //     2) the player is paused\n      //     3) the first play has already been setup\n      // then exit early\n\n      if (!media || this.tech_.paused() || this.hasPlayed_()) {\n        return false;\n      } // when the video is a live stream\n\n\n      if (!media.endList) {\n        var seekable$$1 = this.seekable();\n\n        if (!seekable$$1.length) {\n          // without a seekable range, the player cannot seek to begin buffering at the live\n          // point\n          return false;\n        }\n\n        if (videojs$1.browser.IE_VERSION && this.tech_.readyState() === 0) {\n          // IE11 throws an InvalidStateError if you try to set currentTime while the\n          // readyState is 0, so it must be delayed until the tech fires loadedmetadata.\n          this.tech_.one('loadedmetadata', function () {\n            _this5.trigger('firstplay');\n\n            _this5.seekTo_(seekable$$1.end(0));\n\n            _this5.hasPlayed_ = function () {\n              return true;\n            };\n          });\n          return false;\n        } // trigger firstplay to inform the source handler to ignore the next seek event\n\n\n        this.trigger('firstplay'); // seek to the live point\n\n        this.seekTo_(seekable$$1.end(0));\n      }\n\n      this.hasPlayed_ = function () {\n        return true;\n      }; // we can begin loading now that everything is ready\n\n\n      this.load();\n      return true;\n    }\n    /**\n     * handle the sourceopen event on the MediaSource\n     *\n     * @private\n     */\n\n  }, {\n    key: 'handleSourceOpen_',\n    value: function handleSourceOpen_() {\n      // Only attempt to create the source buffer if none already exist.\n      // handleSourceOpen is also called when we are \"re-opening\" a source buffer\n      // after `endOfStream` has been called (in response to a seek for instance)\n      try {\n        this.setupSourceBuffers_();\n      } catch (e) {\n        videojs$1.log.warn('Failed to create Source Buffers', e);\n        return this.mediaSource.endOfStream('decode');\n      } // if autoplay is enabled, begin playback. This is duplicative of\n      // code in video.js but is required because play() must be invoked\n      // *after* the media source has opened.\n\n\n      if (this.tech_.autoplay()) {\n        var playPromise = this.tech_.play(); // Catch/silence error when a pause interrupts a play request\n        // on browsers which return a promise\n\n        if (typeof playPromise !== 'undefined' && typeof playPromise.then === 'function') {\n          playPromise.then(null, function (e) {});\n        }\n      }\n\n      this.trigger('sourceopen');\n    }\n    /**\n     * Calls endOfStream on the media source when all active stream types have called\n     * endOfStream\n     *\n     * @param {string} streamType\n     *        Stream type of the segment loader that called endOfStream\n     * @private\n     */\n\n  }, {\n    key: 'onEndOfStream',\n    value: function onEndOfStream() {\n      var isEndOfStream = this.mainSegmentLoader_.ended_;\n\n      if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n        // if the audio playlist loader exists, then alternate audio is active\n        if (!this.mainSegmentLoader_.startingMedia_ || this.mainSegmentLoader_.startingMedia_.containsVideo) {\n          // if we do not know if the main segment loader contains video yet or if we\n          // definitively know the main segment loader contains video, then we need to wait\n          // for both main and audio segment loaders to call endOfStream\n          isEndOfStream = isEndOfStream && this.audioSegmentLoader_.ended_;\n        } else {\n          // otherwise just rely on the audio loader\n          isEndOfStream = this.audioSegmentLoader_.ended_;\n        }\n      }\n\n      if (!isEndOfStream) {\n        return;\n      }\n\n      this.logger_('calling mediaSource.endOfStream()'); // on chrome calling endOfStream can sometimes cause an exception,\n      // even when the media source is in a valid state.\n\n      try {\n        this.mediaSource.endOfStream();\n      } catch (e) {\n        videojs$1.log.warn('Failed to call media source endOfStream', e);\n      }\n    }\n    /**\n     * Check if a playlist has stopped being updated\n     * @param {Object} playlist the media playlist object\n     * @return {boolean} whether the playlist has stopped being updated or not\n     */\n\n  }, {\n    key: 'stuckAtPlaylistEnd_',\n    value: function stuckAtPlaylistEnd_(playlist) {\n      var seekable$$1 = this.seekable();\n\n      if (!seekable$$1.length) {\n        // playlist doesn't have enough information to determine whether we are stuck\n        return false;\n      }\n\n      var expired = this.syncController_.getExpiredTime(playlist, this.mediaSource.duration);\n\n      if (expired === null) {\n        return false;\n      } // does not use the safe live end to calculate playlist end, since we\n      // don't want to say we are stuck while there is still content\n\n\n      var absolutePlaylistEnd = Hls.Playlist.playlistEnd(playlist, expired);\n      var currentTime = this.tech_.currentTime();\n      var buffered = this.tech_.buffered();\n\n      if (!buffered.length) {\n        // return true if the playhead reached the absolute end of the playlist\n        return absolutePlaylistEnd - currentTime <= SAFE_TIME_DELTA;\n      }\n\n      var bufferedEnd = buffered.end(buffered.length - 1); // return true if there is too little buffer left and buffer has reached absolute\n      // end of playlist\n\n      return bufferedEnd - currentTime <= SAFE_TIME_DELTA && absolutePlaylistEnd - bufferedEnd <= SAFE_TIME_DELTA;\n    }\n    /**\n     * Blacklists a playlist when an error occurs for a set amount of time\n     * making it unavailable for selection by the rendition selection algorithm\n     * and then forces a new playlist (rendition) selection.\n     *\n     * @param {Object=} error an optional error that may include the playlist\n     * to blacklist\n     * @param {Number=} blacklistDuration an optional number of seconds to blacklist the\n     * playlist\n     */\n\n  }, {\n    key: 'blacklistCurrentPlaylist',\n    value: function blacklistCurrentPlaylist() {\n      var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var blacklistDuration = arguments[1];\n      var currentPlaylist = void 0;\n      var nextPlaylist = void 0; // If the `error` was generated by the playlist loader, it will contain\n      // the playlist we were trying to load (but failed) and that should be\n      // blacklisted instead of the currently selected playlist which is likely\n      // out-of-date in this scenario\n\n      currentPlaylist = error.playlist || this.masterPlaylistLoader_.media();\n      blacklistDuration = blacklistDuration || error.blacklistDuration || this.blacklistDuration; // If there is no current playlist, then an error occurred while we were\n      // trying to load the master OR while we were disposing of the tech\n\n      if (!currentPlaylist) {\n        this.error = error;\n\n        try {\n          return this.mediaSource.endOfStream('network');\n        } catch (e) {\n          return this.trigger('error');\n        }\n      }\n\n      var isFinalRendition = this.masterPlaylistLoader_.master.playlists.filter(isEnabled).length === 1;\n      var playlists = this.masterPlaylistLoader_.master.playlists;\n\n      if (playlists.length === 1) {\n        // Never blacklisting this playlist because it's the only playlist\n        videojs$1.log.warn('Problem encountered with the current ' + 'HLS playlist. Trying again since it is the only playlist.');\n        this.tech_.trigger('retryplaylist');\n        return this.masterPlaylistLoader_.load(isFinalRendition);\n      }\n\n      if (isFinalRendition) {\n        // Since we're on the final non-blacklisted playlist, and we're about to blacklist\n        // it, instead of erring the player or retrying this playlist, clear out the current\n        // blacklist. This allows other playlists to be attempted in case any have been\n        // fixed.\n        videojs$1.log.warn('Removing all playlists from the blacklist because the last ' + 'rendition is about to be blacklisted.');\n        playlists.forEach(function (playlist) {\n          if (playlist.excludeUntil !== Infinity) {\n            delete playlist.excludeUntil;\n          }\n        }); // Technically we are retrying a playlist, in that we are simply retrying a previous\n        // playlist. This is needed for users relying on the retryplaylist event to catch a\n        // case where the player might be stuck and looping through \"dead\" playlists.\n\n        this.tech_.trigger('retryplaylist');\n      } // Blacklist this playlist\n\n\n      currentPlaylist.excludeUntil = Date.now() + blacklistDuration * 1000;\n      this.tech_.trigger('blacklistplaylist');\n      this.tech_.trigger({\n        type: 'usage',\n        name: 'hls-rendition-blacklisted'\n      }); // Select a new playlist\n\n      nextPlaylist = this.selectPlaylist();\n      videojs$1.log.warn('Problem encountered with the current HLS playlist.' + (error.message ? ' ' + error.message : '') + ' Switching to another playlist.');\n      return this.masterPlaylistLoader_.media(nextPlaylist, isFinalRendition);\n    }\n    /**\n     * Pause all segment loaders\n     */\n\n  }, {\n    key: 'pauseLoading',\n    value: function pauseLoading() {\n      this.mainSegmentLoader_.pause();\n\n      if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n        this.audioSegmentLoader_.pause();\n      }\n\n      if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n        this.subtitleSegmentLoader_.pause();\n      }\n    }\n    /**\n     * set the current time on all segment loaders\n     *\n     * @param {TimeRange} currentTime the current time to set\n     * @return {TimeRange} the current time\n     */\n\n  }, {\n    key: 'setCurrentTime',\n    value: function setCurrentTime(currentTime) {\n      var buffered = findRange(this.tech_.buffered(), currentTime);\n\n      if (!(this.masterPlaylistLoader_ && this.masterPlaylistLoader_.media())) {\n        // return immediately if the metadata is not ready yet\n        return 0;\n      } // it's clearly an edge-case but don't thrown an error if asked to\n      // seek within an empty playlist\n\n\n      if (!this.masterPlaylistLoader_.media().segments) {\n        return 0;\n      } // In flash playback, the segment loaders should be reset on every seek, even\n      // in buffer seeks. If the seek location is already buffered, continue buffering as\n      // usual\n      // TODO: redo this comment\n\n\n      if (buffered && buffered.length) {\n        return currentTime;\n      } // cancel outstanding requests so we begin buffering at the new\n      // location\n\n\n      this.mainSegmentLoader_.resetEverything();\n      this.mainSegmentLoader_.abort();\n\n      if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n        this.audioSegmentLoader_.resetEverything();\n        this.audioSegmentLoader_.abort();\n      }\n\n      if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n        this.subtitleSegmentLoader_.resetEverything();\n        this.subtitleSegmentLoader_.abort();\n      } // start segment loader loading in case they are paused\n\n\n      this.load();\n    }\n    /**\n     * get the current duration\n     *\n     * @return {TimeRange} the duration\n     */\n\n  }, {\n    key: 'duration',\n    value: function duration$$1() {\n      if (!this.masterPlaylistLoader_) {\n        return 0;\n      }\n\n      if (this.mediaSource) {\n        return this.mediaSource.duration;\n      }\n\n      return Hls.Playlist.duration(this.masterPlaylistLoader_.media());\n    }\n    /**\n     * check the seekable range\n     *\n     * @return {TimeRange} the seekable range\n     */\n\n  }, {\n    key: 'seekable',\n    value: function seekable$$1() {\n      return this.seekable_;\n    }\n  }, {\n    key: 'onSyncInfoUpdate_',\n    value: function onSyncInfoUpdate_() {\n      var mainSeekable = void 0;\n      var audioSeekable = void 0;\n\n      if (!this.masterPlaylistLoader_) {\n        return;\n      }\n\n      var media = this.masterPlaylistLoader_.media();\n\n      if (!media) {\n        return;\n      }\n\n      var expired = this.syncController_.getExpiredTime(media, this.mediaSource.duration);\n\n      if (expired === null) {\n        // not enough information to update seekable\n        return;\n      }\n\n      mainSeekable = Hls.Playlist.seekable(media, expired);\n\n      if (mainSeekable.length === 0) {\n        return;\n      }\n\n      if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n        media = this.mediaTypes_.AUDIO.activePlaylistLoader.media();\n        expired = this.syncController_.getExpiredTime(media, this.mediaSource.duration);\n\n        if (expired === null) {\n          return;\n        }\n\n        audioSeekable = Hls.Playlist.seekable(media, expired);\n\n        if (audioSeekable.length === 0) {\n          return;\n        }\n      }\n\n      var oldEnd = void 0;\n      var oldStart = void 0;\n\n      if (this.seekable_ && this.seekable_.length) {\n        oldEnd = this.seekable_.end(0);\n        oldStart = this.seekable_.start(0);\n      }\n\n      if (!audioSeekable) {\n        // seekable has been calculated based on buffering video data so it\n        // can be returned directly\n        this.seekable_ = mainSeekable;\n      } else if (audioSeekable.start(0) > mainSeekable.end(0) || mainSeekable.start(0) > audioSeekable.end(0)) {\n        // seekables are pretty far off, rely on main\n        this.seekable_ = mainSeekable;\n      } else {\n        this.seekable_ = videojs$1.createTimeRanges([[audioSeekable.start(0) > mainSeekable.start(0) ? audioSeekable.start(0) : mainSeekable.start(0), audioSeekable.end(0) < mainSeekable.end(0) ? audioSeekable.end(0) : mainSeekable.end(0)]]);\n      } // seekable is the same as last time\n\n\n      if (this.seekable_ && this.seekable_.length) {\n        if (this.seekable_.end(0) === oldEnd && this.seekable_.start(0) === oldStart) {\n          return;\n        }\n      }\n\n      this.logger_('seekable updated [' + printableRange(this.seekable_) + ']');\n      this.tech_.trigger('seekablechanged');\n    }\n    /**\n     * Update the player duration\n     */\n\n  }, {\n    key: 'updateDuration',\n    value: function updateDuration() {\n      var _this6 = this;\n\n      var oldDuration = this.mediaSource.duration;\n      var newDuration = Hls.Playlist.duration(this.masterPlaylistLoader_.media());\n      var buffered = this.tech_.buffered();\n\n      var setDuration = function setDuration() {\n        // on firefox setting the duration may sometimes cause an exception\n        // even if the media source is open and source buffers are not\n        // updating, something about the media source being in an invalid state.\n        _this6.logger_('Setting duration from ' + _this6.mediaSource.duration + ' => ' + newDuration);\n\n        try {\n          _this6.mediaSource.duration = newDuration;\n        } catch (e) {\n          videojs$1.log.warn('Failed to set media source duration', e);\n        }\n\n        _this6.tech_.trigger('durationchange');\n\n        _this6.mediaSource.removeEventListener('sourceopen', setDuration);\n      };\n\n      if (buffered.length > 0) {\n        newDuration = Math.max(newDuration, buffered.end(buffered.length - 1));\n      } // if the duration has changed, invalidate the cached value\n\n\n      if (oldDuration !== newDuration) {\n        // update the duration\n        if (this.mediaSource.readyState !== 'open') {\n          this.mediaSource.addEventListener('sourceopen', setDuration);\n        } else {\n          setDuration();\n        }\n      }\n    }\n    /**\n     * dispose of the MasterPlaylistController and everything\n     * that it controls\n     */\n\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      var _this7 = this;\n\n      this.decrypter_.terminate();\n      this.masterPlaylistLoader_.dispose();\n      this.mainSegmentLoader_.dispose();\n      ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n        var groups = _this7.mediaTypes_[type].groups;\n\n        for (var id in groups) {\n          groups[id].forEach(function (group) {\n            if (group.playlistLoader) {\n              group.playlistLoader.dispose();\n            }\n          });\n        }\n      });\n      this.audioSegmentLoader_.dispose();\n      this.subtitleSegmentLoader_.dispose();\n    }\n    /**\n     * return the master playlist object if we have one\n     *\n     * @return {Object} the master playlist object that we parsed\n     */\n\n  }, {\n    key: 'master',\n    value: function master() {\n      return this.masterPlaylistLoader_.master;\n    }\n    /**\n     * return the currently selected playlist\n     *\n     * @return {Object} the currently selected playlist object that we parsed\n     */\n\n  }, {\n    key: 'media',\n    value: function media() {\n      // playlist loader will not return media if it has not been fully loaded\n      return this.masterPlaylistLoader_.media() || this.initialMedia_;\n    }\n    /**\n     * setup our internal source buffers on our segment Loaders\n     *\n     * @private\n     */\n\n  }, {\n    key: 'setupSourceBuffers_',\n    value: function setupSourceBuffers_() {\n      var media = this.masterPlaylistLoader_.media();\n      var mimeTypes = void 0; // wait until a media playlist is available and the Media Source is\n      // attached\n\n      if (!media || this.mediaSource.readyState !== 'open') {\n        return;\n      }\n\n      mimeTypes = mimeTypesForPlaylist(this.masterPlaylistLoader_.master, media);\n\n      if (mimeTypes.length < 1) {\n        this.error = 'No compatible SourceBuffer configuration for the variant stream:' + media.resolvedUri;\n        return this.mediaSource.endOfStream('decode');\n      }\n\n      this.configureLoaderMimeTypes_(mimeTypes); // exclude any incompatible variant streams from future playlist\n      // selection\n\n      this.excludeIncompatibleVariants_(media);\n    }\n  }, {\n    key: 'configureLoaderMimeTypes_',\n    value: function configureLoaderMimeTypes_(mimeTypes) {\n      // If the content is demuxed, we can't start appending segments to a source buffer\n      // until both source buffers are set up, or else the browser may not let us add the\n      // second source buffer (it will assume we are playing either audio only or video\n      // only).\n      var sourceBufferEmitter = // If there is more than one mime type\n      mimeTypes.length > 1 && // and the first mime type does not have muxed video and audio\n      mimeTypes[0].indexOf(',') === -1 && // and the two mime types are different (they can be the same in the case of audio\n      // only with alternate audio)\n      mimeTypes[0] !== mimeTypes[1] ? // then we want to wait on the second source buffer\n      new videojs$1.EventTarget() : // otherwise there is no need to wait as the content is either audio only,\n      // video only, or muxed content.\n      null;\n      this.mainSegmentLoader_.mimeType(mimeTypes[0], sourceBufferEmitter);\n\n      if (mimeTypes[1]) {\n        this.audioSegmentLoader_.mimeType(mimeTypes[1], sourceBufferEmitter);\n      }\n    }\n    /**\n     * Blacklists playlists with codecs that are unsupported by the browser.\n     */\n\n  }, {\n    key: 'excludeUnsupportedVariants_',\n    value: function excludeUnsupportedVariants_() {\n      this.master().playlists.forEach(function (variant) {\n        if (variant.attributes.CODECS && window$1.MediaSource && window$1.MediaSource.isTypeSupported && !window$1.MediaSource.isTypeSupported('video/mp4; codecs=\"' + mapLegacyAvcCodecs(variant.attributes.CODECS) + '\"')) {\n          variant.excludeUntil = Infinity;\n        }\n      });\n    }\n    /**\n     * Blacklist playlists that are known to be codec or\n     * stream-incompatible with the SourceBuffer configuration. For\n     * instance, Media Source Extensions would cause the video element to\n     * stall waiting for video data if you switched from a variant with\n     * video and audio to an audio-only one.\n     *\n     * @param {Object} media a media playlist compatible with the current\n     * set of SourceBuffers. Variants in the current master playlist that\n     * do not appear to have compatible codec or stream configurations\n     * will be excluded from the default playlist selection algorithm\n     * indefinitely.\n     * @private\n     */\n\n  }, {\n    key: 'excludeIncompatibleVariants_',\n    value: function excludeIncompatibleVariants_(media) {\n      var codecCount = 2;\n      var videoCodec = null;\n      var codecs = void 0;\n\n      if (media.attributes.CODECS) {\n        codecs = parseCodecs(media.attributes.CODECS);\n        videoCodec = codecs.videoCodec;\n        codecCount = codecs.codecCount;\n      }\n\n      this.master().playlists.forEach(function (variant) {\n        var variantCodecs = {\n          codecCount: 2,\n          videoCodec: null\n        };\n\n        if (variant.attributes.CODECS) {\n          variantCodecs = parseCodecs(variant.attributes.CODECS);\n        } // if the streams differ in the presence or absence of audio or\n        // video, they are incompatible\n\n\n        if (variantCodecs.codecCount !== codecCount) {\n          variant.excludeUntil = Infinity;\n        } // if h.264 is specified on the current playlist, some flavor of\n        // it must be specified on all compatible variants\n\n\n        if (variantCodecs.videoCodec !== videoCodec) {\n          variant.excludeUntil = Infinity;\n        }\n      });\n    }\n  }, {\n    key: 'updateAdCues_',\n    value: function updateAdCues_(media) {\n      var offset = 0;\n      var seekable$$1 = this.seekable();\n\n      if (seekable$$1.length) {\n        offset = seekable$$1.start(0);\n      }\n\n      updateAdCues(media, this.cueTagsTrack_, offset);\n    }\n    /**\n     * Calculates the desired forward buffer length based on current time\n     *\n     * @return {Number} Desired forward buffer length in seconds\n     */\n\n  }, {\n    key: 'goalBufferLength',\n    value: function goalBufferLength() {\n      var currentTime = this.tech_.currentTime();\n      var initial = Config.GOAL_BUFFER_LENGTH;\n      var rate = Config.GOAL_BUFFER_LENGTH_RATE;\n      var max = Math.max(initial, Config.MAX_GOAL_BUFFER_LENGTH);\n      return Math.min(initial + currentTime * rate, max);\n    }\n    /**\n     * Calculates the desired buffer low water line based on current time\n     *\n     * @return {Number} Desired buffer low water line in seconds\n     */\n\n  }, {\n    key: 'bufferLowWaterLine',\n    value: function bufferLowWaterLine() {\n      var currentTime = this.tech_.currentTime();\n      var initial = Config.BUFFER_LOW_WATER_LINE;\n      var rate = Config.BUFFER_LOW_WATER_LINE_RATE;\n      var max = Math.max(initial, Config.MAX_BUFFER_LOW_WATER_LINE);\n      return Math.min(initial + currentTime * rate, max);\n    }\n  }]);\n  return MasterPlaylistController;\n}(videojs$1.EventTarget);\n/**\n * Returns a function that acts as the Enable/disable playlist function.\n *\n * @param {PlaylistLoader} loader - The master playlist loader\n * @param {String} playlistUri - uri of the playlist\n * @param {Function} changePlaylistFn - A function to be called after a\n * playlist's enabled-state has been changed. Will NOT be called if a\n * playlist's enabled-state is unchanged\n * @param {Boolean=} enable - Value to set the playlist enabled-state to\n * or if undefined returns the current enabled-state for the playlist\n * @return {Function} Function for setting/getting enabled\n */\n\n\nvar enableFunction = function enableFunction(loader, playlistUri, changePlaylistFn) {\n  return function (enable) {\n    var playlist = loader.master.playlists[playlistUri];\n    var incompatible = isIncompatible(playlist);\n    var currentlyEnabled = isEnabled(playlist);\n\n    if (typeof enable === 'undefined') {\n      return currentlyEnabled;\n    }\n\n    if (enable) {\n      delete playlist.disabled;\n    } else {\n      playlist.disabled = true;\n    }\n\n    if (enable !== currentlyEnabled && !incompatible) {\n      // Ensure the outside world knows about our changes\n      changePlaylistFn();\n\n      if (enable) {\n        loader.trigger('renditionenabled');\n      } else {\n        loader.trigger('renditiondisabled');\n      }\n    }\n\n    return enable;\n  };\n};\n/**\n * The representation object encapsulates the publicly visible information\n * in a media playlist along with a setter/getter-type function (enabled)\n * for changing the enabled-state of a particular playlist entry\n *\n * @class Representation\n */\n\n\nvar Representation = function Representation(hlsHandler, playlist, id) {\n  classCallCheck(this, Representation);\n  var mpc = hlsHandler.masterPlaylistController_,\n      smoothQualityChange = hlsHandler.options_.smoothQualityChange; // Get a reference to a bound version of the quality change function\n\n  var changeType = smoothQualityChange ? 'smooth' : 'fast';\n  var qualityChangeFunction = mpc[changeType + 'QualityChange_'].bind(mpc); // some playlist attributes are optional\n\n  if (playlist.attributes.RESOLUTION) {\n    var resolution = playlist.attributes.RESOLUTION;\n    this.width = resolution.width;\n    this.height = resolution.height;\n  }\n\n  this.bandwidth = playlist.attributes.BANDWIDTH; // The id is simply the ordinality of the media playlist\n  // within the master playlist\n\n  this.id = id; // Partially-apply the enableFunction to create a playlist-\n  // specific variant\n\n  this.enabled = enableFunction(hlsHandler.playlists, playlist.uri, qualityChangeFunction);\n};\n/**\n * A mixin function that adds the `representations` api to an instance\n * of the HlsHandler class\n * @param {HlsHandler} hlsHandler - An instance of HlsHandler to add the\n * representation API into\n */\n\n\nvar renditionSelectionMixin = function renditionSelectionMixin(hlsHandler) {\n  var playlists = hlsHandler.playlists; // Add a single API-specific function to the HlsHandler instance\n\n  hlsHandler.representations = function () {\n    return playlists.master.playlists.filter(function (media) {\n      return !isIncompatible(media);\n    }).map(function (e, i) {\n      return new Representation(hlsHandler, e, e.uri);\n    });\n  };\n};\n/**\n * @file playback-watcher.js\n *\n * Playback starts, and now my watch begins. It shall not end until my death. I shall\n * take no wait, hold no uncleared timeouts, father no bad seeks. I shall wear no crowns\n * and win no glory. I shall live and die at my post. I am the corrector of the underflow.\n * I am the watcher of gaps. I am the shield that guards the realms of seekable. I pledge\n * my life and honor to the Playback Watch, for this Player and all the Players to come.\n */\n// Set of events that reset the playback-watcher time check logic and clear the timeout\n\n\nvar timerCancelEvents = ['seeking', 'seeked', 'pause', 'playing', 'error'];\n/**\n * @class PlaybackWatcher\n */\n\nvar PlaybackWatcher = function () {\n  /**\n   * Represents an PlaybackWatcher object.\n   * @constructor\n   * @param {object} options an object that includes the tech and settings\n   */\n  function PlaybackWatcher(options) {\n    var _this = this;\n\n    classCallCheck(this, PlaybackWatcher);\n    this.tech_ = options.tech;\n    this.seekable = options.seekable;\n    this.seekTo = options.seekTo;\n    this.allowSeeksWithinUnsafeLiveWindow = options.allowSeeksWithinUnsafeLiveWindow;\n    this.media = options.media;\n    this.consecutiveUpdates = 0;\n    this.lastRecordedTime = null;\n    this.timer_ = null;\n    this.checkCurrentTimeTimeout_ = null;\n    this.logger_ = logger('PlaybackWatcher');\n    this.logger_('initialize');\n\n    var canPlayHandler = function canPlayHandler() {\n      return _this.monitorCurrentTime_();\n    };\n\n    var waitingHandler = function waitingHandler() {\n      return _this.techWaiting_();\n    };\n\n    var cancelTimerHandler = function cancelTimerHandler() {\n      return _this.cancelTimer_();\n    };\n\n    var fixesBadSeeksHandler = function fixesBadSeeksHandler() {\n      return _this.fixesBadSeeks_();\n    };\n\n    this.tech_.on('seekablechanged', fixesBadSeeksHandler);\n    this.tech_.on('waiting', waitingHandler);\n    this.tech_.on(timerCancelEvents, cancelTimerHandler);\n    this.tech_.on('canplay', canPlayHandler); // Define the dispose function to clean up our events\n\n    this.dispose = function () {\n      _this.logger_('dispose');\n\n      _this.tech_.off('seekablechanged', fixesBadSeeksHandler);\n\n      _this.tech_.off('waiting', waitingHandler);\n\n      _this.tech_.off(timerCancelEvents, cancelTimerHandler);\n\n      _this.tech_.off('canplay', canPlayHandler);\n\n      if (_this.checkCurrentTimeTimeout_) {\n        window$1.clearTimeout(_this.checkCurrentTimeTimeout_);\n      }\n\n      _this.cancelTimer_();\n    };\n  }\n  /**\n   * Periodically check current time to see if playback stopped\n   *\n   * @private\n   */\n\n\n  createClass(PlaybackWatcher, [{\n    key: 'monitorCurrentTime_',\n    value: function monitorCurrentTime_() {\n      this.checkCurrentTime_();\n\n      if (this.checkCurrentTimeTimeout_) {\n        window$1.clearTimeout(this.checkCurrentTimeTimeout_);\n      } // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n\n\n      this.checkCurrentTimeTimeout_ = window$1.setTimeout(this.monitorCurrentTime_.bind(this), 250);\n    }\n    /**\n     * The purpose of this function is to emulate the \"waiting\" event on\n     * browsers that do not emit it when they are waiting for more\n     * data to continue playback\n     *\n     * @private\n     */\n\n  }, {\n    key: 'checkCurrentTime_',\n    value: function checkCurrentTime_() {\n      if (this.tech_.seeking() && this.fixesBadSeeks_()) {\n        this.consecutiveUpdates = 0;\n        this.lastRecordedTime = this.tech_.currentTime();\n        return;\n      }\n\n      if (this.tech_.paused() || this.tech_.seeking()) {\n        return;\n      }\n\n      var currentTime = this.tech_.currentTime();\n      var buffered = this.tech_.buffered();\n\n      if (this.lastRecordedTime === currentTime && (!buffered.length || currentTime + SAFE_TIME_DELTA >= buffered.end(buffered.length - 1))) {\n        // If current time is at the end of the final buffered region, then any playback\n        // stall is most likely caused by buffering in a low bandwidth environment. The tech\n        // should fire a `waiting` event in this scenario, but due to browser and tech\n        // inconsistencies. Calling `techWaiting_` here allows us to simulate\n        // responding to a native `waiting` event when the tech fails to emit one.\n        return this.techWaiting_();\n      }\n\n      if (this.consecutiveUpdates >= 5 && currentTime === this.lastRecordedTime) {\n        this.consecutiveUpdates++;\n        this.waiting_();\n      } else if (currentTime === this.lastRecordedTime) {\n        this.consecutiveUpdates++;\n      } else {\n        this.consecutiveUpdates = 0;\n        this.lastRecordedTime = currentTime;\n      }\n    }\n    /**\n     * Cancels any pending timers and resets the 'timeupdate' mechanism\n     * designed to detect that we are stalled\n     *\n     * @private\n     */\n\n  }, {\n    key: 'cancelTimer_',\n    value: function cancelTimer_() {\n      this.consecutiveUpdates = 0;\n\n      if (this.timer_) {\n        this.logger_('cancelTimer_');\n        clearTimeout(this.timer_);\n      }\n\n      this.timer_ = null;\n    }\n    /**\n     * Fixes situations where there's a bad seek\n     *\n     * @return {Boolean} whether an action was taken to fix the seek\n     * @private\n     */\n\n  }, {\n    key: 'fixesBadSeeks_',\n    value: function fixesBadSeeks_() {\n      var seeking = this.tech_.seeking();\n\n      if (!seeking) {\n        return false;\n      }\n\n      var seekable = this.seekable();\n      var currentTime = this.tech_.currentTime();\n      var isAfterSeekableRange = this.afterSeekableWindow_(seekable, currentTime, this.media(), this.allowSeeksWithinUnsafeLiveWindow);\n      var seekTo = void 0;\n\n      if (isAfterSeekableRange) {\n        var seekableEnd = seekable.end(seekable.length - 1); // sync to live point (if VOD, our seekable was updated and we're simply adjusting)\n\n        seekTo = seekableEnd;\n      }\n\n      if (this.beforeSeekableWindow_(seekable, currentTime)) {\n        var seekableStart = seekable.start(0); // sync to the beginning of the live window\n        // provide a buffer of .1 seconds to handle rounding/imprecise numbers\n\n        seekTo = seekableStart + SAFE_TIME_DELTA;\n      }\n\n      if (typeof seekTo !== 'undefined') {\n        this.logger_('Trying to seek outside of seekable at time ' + currentTime + ' with ' + ('seekable range ' + printableRange(seekable) + '. Seeking to ') + (seekTo + '.'));\n        this.seekTo(seekTo);\n        return true;\n      }\n\n      return false;\n    }\n    /**\n     * Handler for situations when we determine the player is waiting.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'waiting_',\n    value: function waiting_() {\n      if (this.techWaiting_()) {\n        return;\n      } // All tech waiting checks failed. Use last resort correction\n\n\n      var currentTime = this.tech_.currentTime();\n      var buffered = this.tech_.buffered();\n      var currentRange = findRange(buffered, currentTime); // Sometimes the player can stall for unknown reasons within a contiguous buffered\n      // region with no indication that anything is amiss (seen in Firefox). Seeking to\n      // currentTime is usually enough to kickstart the player. This checks that the player\n      // is currently within a buffered region before attempting a corrective seek.\n      // Chrome does not appear to continue `timeupdate` events after a `waiting` event\n      // until there is ~ 3 seconds of forward buffer available. PlaybackWatcher should also\n      // make sure there is ~3 seconds of forward buffer before taking any corrective action\n      // to avoid triggering an `unknownwaiting` event when the network is slow.\n\n      if (currentRange.length && currentTime + 3 <= currentRange.end(0)) {\n        this.cancelTimer_();\n        this.seekTo(currentTime);\n        this.logger_('Stopped at ' + currentTime + ' while inside a buffered region ' + ('[' + currentRange.start(0) + ' -> ' + currentRange.end(0) + ']. Attempting to resume ') + 'playback by seeking to the current time.'); // unknown waiting corrections may be useful for monitoring QoS\n\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-unknown-waiting'\n        });\n        return;\n      }\n    }\n    /**\n     * Handler for situations when the tech fires a `waiting` event\n     *\n     * @return {Boolean}\n     *         True if an action (or none) was needed to correct the waiting. False if no\n     *         checks passed\n     * @private\n     */\n\n  }, {\n    key: 'techWaiting_',\n    value: function techWaiting_() {\n      var seekable = this.seekable();\n      var currentTime = this.tech_.currentTime();\n\n      if (this.tech_.seeking() && this.fixesBadSeeks_()) {\n        // Tech is seeking or bad seek fixed, no action needed\n        return true;\n      }\n\n      if (this.tech_.seeking() || this.timer_ !== null) {\n        // Tech is seeking or already waiting on another action, no action needed\n        return true;\n      }\n\n      if (this.beforeSeekableWindow_(seekable, currentTime)) {\n        var livePoint = seekable.end(seekable.length - 1);\n        this.logger_('Fell out of live window at time ' + currentTime + '. Seeking to ' + ('live point (seekable end) ' + livePoint));\n        this.cancelTimer_();\n        this.seekTo(livePoint); // live window resyncs may be useful for monitoring QoS\n\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-live-resync'\n        });\n        return true;\n      }\n\n      var buffered = this.tech_.buffered();\n      var nextRange = findNextRange(buffered, currentTime);\n\n      if (this.videoUnderflow_(nextRange, buffered, currentTime)) {\n        // Even though the video underflowed and was stuck in a gap, the audio overplayed\n        // the gap, leading currentTime into a buffered range. Seeking to currentTime\n        // allows the video to catch up to the audio position without losing any audio\n        // (only suffering ~3 seconds of frozen video and a pause in audio playback).\n        this.cancelTimer_();\n        this.seekTo(currentTime); // video underflow may be useful for monitoring QoS\n\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-video-underflow'\n        });\n        return true;\n      } // check for gap\n\n\n      if (nextRange.length > 0) {\n        var difference = nextRange.start(0) - currentTime;\n        this.logger_('Stopped at ' + currentTime + ', setting timer for ' + difference + ', seeking ' + ('to ' + nextRange.start(0)));\n        this.timer_ = setTimeout(this.skipTheGap_.bind(this), difference * 1000, currentTime);\n        return true;\n      } // All checks failed. Returning false to indicate failure to correct waiting\n\n\n      return false;\n    }\n  }, {\n    key: 'afterSeekableWindow_',\n    value: function afterSeekableWindow_(seekable, currentTime, playlist) {\n      var allowSeeksWithinUnsafeLiveWindow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (!seekable.length) {\n        // we can't make a solid case if there's no seekable, default to false\n        return false;\n      }\n\n      var allowedEnd = seekable.end(seekable.length - 1) + SAFE_TIME_DELTA;\n      var isLive = !playlist.endList;\n\n      if (isLive && allowSeeksWithinUnsafeLiveWindow) {\n        allowedEnd = seekable.end(seekable.length - 1) + playlist.targetDuration * 3;\n      }\n\n      if (currentTime > allowedEnd) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: 'beforeSeekableWindow_',\n    value: function beforeSeekableWindow_(seekable, currentTime) {\n      if (seekable.length && // can't fall before 0 and 0 seekable start identifies VOD stream\n      seekable.start(0) > 0 && currentTime < seekable.start(0) - SAFE_TIME_DELTA) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: 'videoUnderflow_',\n    value: function videoUnderflow_(nextRange, buffered, currentTime) {\n      if (nextRange.length === 0) {\n        // Even if there is no available next range, there is still a possibility we are\n        // stuck in a gap due to video underflow.\n        var gap = this.gapFromVideoUnderflow_(buffered, currentTime);\n\n        if (gap) {\n          this.logger_('Encountered a gap in video from ' + gap.start + ' to ' + gap.end + '. ' + ('Seeking to current time ' + currentTime));\n          return true;\n        }\n      }\n\n      return false;\n    }\n    /**\n     * Timer callback. If playback still has not proceeded, then we seek\n     * to the start of the next buffered region.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'skipTheGap_',\n    value: function skipTheGap_(scheduledCurrentTime) {\n      var buffered = this.tech_.buffered();\n      var currentTime = this.tech_.currentTime();\n      var nextRange = findNextRange(buffered, currentTime);\n      this.cancelTimer_();\n\n      if (nextRange.length === 0 || currentTime !== scheduledCurrentTime) {\n        return;\n      }\n\n      this.logger_('skipTheGap_:', 'currentTime:', currentTime, 'scheduled currentTime:', scheduledCurrentTime, 'nextRange start:', nextRange.start(0)); // only seek if we still have not played\n\n      this.seekTo(nextRange.start(0) + TIME_FUDGE_FACTOR);\n      this.tech_.trigger({\n        type: 'usage',\n        name: 'hls-gap-skip'\n      });\n    }\n  }, {\n    key: 'gapFromVideoUnderflow_',\n    value: function gapFromVideoUnderflow_(buffered, currentTime) {\n      // At least in Chrome, if there is a gap in the video buffer, the audio will continue\n      // playing for ~3 seconds after the video gap starts. This is done to account for\n      // video buffer underflow/underrun (note that this is not done when there is audio\n      // buffer underflow/underrun -- in that case the video will stop as soon as it\n      // encounters the gap, as audio stalls are more noticeable/jarring to a user than\n      // video stalls). The player's time will reflect the playthrough of audio, so the\n      // time will appear as if we are in a buffered region, even if we are stuck in a\n      // \"gap.\"\n      //\n      // Example:\n      // video buffer:   0 => 10.1, 10.2 => 20\n      // audio buffer:   0 => 20\n      // overall buffer: 0 => 10.1, 10.2 => 20\n      // current time: 13\n      //\n      // Chrome's video froze at 10 seconds, where the video buffer encountered the gap,\n      // however, the audio continued playing until it reached ~3 seconds past the gap\n      // (13 seconds), at which point it stops as well. Since current time is past the\n      // gap, findNextRange will return no ranges.\n      //\n      // To check for this issue, we see if there is a gap that starts somewhere within\n      // a 3 second range (3 seconds +/- 1 second) back from our current time.\n      var gaps = findGaps(buffered);\n\n      for (var i = 0; i < gaps.length; i++) {\n        var start = gaps.start(i);\n        var end = gaps.end(i); // gap is starts no more than 4 seconds back\n\n        if (currentTime - start < 4 && currentTime - start > 2) {\n          return {\n            start: start,\n            end: end\n          };\n        }\n      }\n\n      return null;\n    }\n  }]);\n  return PlaybackWatcher;\n}();\n\nvar defaultOptions = {\n  errorInterval: 30,\n  getSource: function getSource(next) {\n    var tech = this.tech({\n      IWillNotUseThisInPlugins: true\n    });\n    var sourceObj = tech.currentSource_;\n    return next(sourceObj);\n  }\n};\n/**\n * Main entry point for the plugin\n *\n * @param {Player} player a reference to a videojs Player instance\n * @param {Object} [options] an object with plugin options\n * @private\n */\n\nvar initPlugin = function initPlugin(player, options) {\n  var lastCalled = 0;\n  var seekTo = 0;\n  var localOptions = videojs$1.mergeOptions(defaultOptions, options);\n  player.ready(function () {\n    player.trigger({\n      type: 'usage',\n      name: 'hls-error-reload-initialized'\n    });\n  });\n  /**\n   * Player modifications to perform that must wait until `loadedmetadata`\n   * has been triggered\n   *\n   * @private\n   */\n\n  var loadedMetadataHandler = function loadedMetadataHandler() {\n    if (seekTo) {\n      player.currentTime(seekTo);\n    }\n  };\n  /**\n   * Set the source on the player element, play, and seek if necessary\n   *\n   * @param {Object} sourceObj An object specifying the source url and mime-type to play\n   * @private\n   */\n\n\n  var setSource = function setSource(sourceObj) {\n    if (sourceObj === null || sourceObj === undefined) {\n      return;\n    }\n\n    seekTo = player.duration() !== Infinity && player.currentTime() || 0;\n    player.one('loadedmetadata', loadedMetadataHandler);\n    player.src(sourceObj);\n    player.trigger({\n      type: 'usage',\n      name: 'hls-error-reload'\n    });\n    player.play();\n  };\n  /**\n   * Attempt to get a source from either the built-in getSource function\n   * or a custom function provided via the options\n   *\n   * @private\n   */\n\n\n  var errorHandler = function errorHandler() {\n    // Do not attempt to reload the source if a source-reload occurred before\n    // 'errorInterval' time has elapsed since the last source-reload\n    if (Date.now() - lastCalled < localOptions.errorInterval * 1000) {\n      player.trigger({\n        type: 'usage',\n        name: 'hls-error-reload-canceled'\n      });\n      return;\n    }\n\n    if (!localOptions.getSource || typeof localOptions.getSource !== 'function') {\n      videojs$1.log.error('ERROR: reloadSourceOnError - The option getSource must be a function!');\n      return;\n    }\n\n    lastCalled = Date.now();\n    return localOptions.getSource.call(player, setSource);\n  };\n  /**\n   * Unbind any event handlers that were bound by the plugin\n   *\n   * @private\n   */\n\n\n  var cleanupEvents = function cleanupEvents() {\n    player.off('loadedmetadata', loadedMetadataHandler);\n    player.off('error', errorHandler);\n    player.off('dispose', cleanupEvents);\n  };\n  /**\n   * Cleanup before re-initializing the plugin\n   *\n   * @param {Object} [newOptions] an object with plugin options\n   * @private\n   */\n\n\n  var reinitPlugin = function reinitPlugin(newOptions) {\n    cleanupEvents();\n    initPlugin(player, newOptions);\n  };\n\n  player.on('error', errorHandler);\n  player.on('dispose', cleanupEvents); // Overwrite the plugin function so that we can correctly cleanup before\n  // initializing the plugin\n\n  player.reloadSourceOnError = reinitPlugin;\n};\n/**\n * Reload the source when an error is detected as long as there\n * wasn't an error previously within the last 30 seconds\n *\n * @param {Object} [options] an object with plugin options\n */\n\n\nvar reloadSourceOnError = function reloadSourceOnError(options) {\n  initPlugin(this, options);\n};\n\nvar version$1 = \"1.10.6\"; // since VHS handles HLS and DASH (and in the future, more types), use * to capture all\n\nvideojs$1.use('*', function (player) {\n  return {\n    setSource: function setSource(srcObj, next) {\n      // pass null as the first argument to indicate that the source is not rejected\n      next(null, srcObj);\n    },\n    // VHS needs to know when seeks happen. For external seeks (generated at the player\n    // level), this middleware will capture the action. For internal seeks (generated at\n    // the tech level), we use a wrapped function so that we can handle it on our own\n    // (specified elsewhere).\n    setCurrentTime: function setCurrentTime(time) {\n      if (player.vhs && player.currentSource().src === player.vhs.source_.src) {\n        player.vhs.setCurrentTime(time);\n      }\n\n      return time;\n    },\n    // Sync VHS after play requests.\n    // This specifically handles replay where the order of actions is\n    // play, video element will seek to 0 (skipping the setCurrentTime middleware)\n    // then triggers a play event.\n    play: function play() {\n      if (player.vhs && player.currentSource().src === player.vhs.source_.src) {\n        player.vhs.setCurrentTime(player.tech_.currentTime());\n      }\n    }\n  };\n});\n/**\n * @file videojs-http-streaming.js\n *\n * The main file for the HLS project.\n * License: https://github.com/videojs/videojs-http-streaming/blob/master/LICENSE\n */\n\nvar Hls$1 = {\n  PlaylistLoader: PlaylistLoader,\n  Playlist: Playlist,\n  Decrypter: Decrypter,\n  AsyncStream: AsyncStream,\n  decrypt: decrypt,\n  utils: utils,\n  STANDARD_PLAYLIST_SELECTOR: lastBandwidthSelector,\n  INITIAL_PLAYLIST_SELECTOR: lowestBitrateCompatibleVariantSelector,\n  comparePlaylistBandwidth: comparePlaylistBandwidth,\n  comparePlaylistResolution: comparePlaylistResolution,\n  xhr: xhrFactory()\n}; // Define getter/setters for config properites\n\n['GOAL_BUFFER_LENGTH', 'MAX_GOAL_BUFFER_LENGTH', 'GOAL_BUFFER_LENGTH_RATE', 'BUFFER_LOW_WATER_LINE', 'MAX_BUFFER_LOW_WATER_LINE', 'BUFFER_LOW_WATER_LINE_RATE', 'BANDWIDTH_VARIANCE'].forEach(function (prop) {\n  Object.defineProperty(Hls$1, prop, {\n    get: function get$$1() {\n      videojs$1.log.warn('using Hls.' + prop + ' is UNSAFE be sure you know what you are doing');\n      return Config[prop];\n    },\n    set: function set$$1(value) {\n      videojs$1.log.warn('using Hls.' + prop + ' is UNSAFE be sure you know what you are doing');\n\n      if (typeof value !== 'number' || value < 0) {\n        videojs$1.log.warn('value of Hls.' + prop + ' must be greater than or equal to 0');\n        return;\n      }\n\n      Config[prop] = value;\n    }\n  });\n});\nvar LOCAL_STORAGE_KEY$1 = 'videojs-vhs';\n\nvar simpleTypeFromSourceType = function simpleTypeFromSourceType(type) {\n  var mpegurlRE = /^(audio|video|application)\\/(x-|vnd\\.apple\\.)?mpegurl/i;\n\n  if (mpegurlRE.test(type)) {\n    return 'hls';\n  }\n\n  var dashRE = /^application\\/dash\\+xml/i;\n\n  if (dashRE.test(type)) {\n    return 'dash';\n  }\n\n  return null;\n};\n/**\n * Updates the selectedIndex of the QualityLevelList when a mediachange happens in hls.\n *\n * @param {QualityLevelList} qualityLevels The QualityLevelList to update.\n * @param {PlaylistLoader} playlistLoader PlaylistLoader containing the new media info.\n * @function handleHlsMediaChange\n */\n\n\nvar handleHlsMediaChange = function handleHlsMediaChange(qualityLevels, playlistLoader) {\n  var newPlaylist = playlistLoader.media();\n  var selectedIndex = -1;\n\n  for (var i = 0; i < qualityLevels.length; i++) {\n    if (qualityLevels[i].id === newPlaylist.uri) {\n      selectedIndex = i;\n      break;\n    }\n  }\n\n  qualityLevels.selectedIndex_ = selectedIndex;\n  qualityLevels.trigger({\n    selectedIndex: selectedIndex,\n    type: 'change'\n  });\n};\n/**\n * Adds quality levels to list once playlist metadata is available\n *\n * @param {QualityLevelList} qualityLevels The QualityLevelList to attach events to.\n * @param {Object} hls Hls object to listen to for media events.\n * @function handleHlsLoadedMetadata\n */\n\n\nvar handleHlsLoadedMetadata = function handleHlsLoadedMetadata(qualityLevels, hls) {\n  hls.representations().forEach(function (rep) {\n    qualityLevels.addQualityLevel(rep);\n  });\n  handleHlsMediaChange(qualityLevels, hls.playlists);\n}; // HLS is a source handler, not a tech. Make sure attempts to use it\n// as one do not cause exceptions.\n\n\nHls$1.canPlaySource = function () {\n  return videojs$1.log.warn('HLS is no longer a tech. Please remove it from ' + 'your player\\'s techOrder.');\n};\n\nvar emeKeySystems = function emeKeySystems(keySystemOptions, videoPlaylist, audioPlaylist) {\n  if (!keySystemOptions) {\n    return keySystemOptions;\n  } // upsert the content types based on the selected playlist\n\n\n  var keySystemContentTypes = {};\n\n  for (var keySystem in keySystemOptions) {\n    keySystemContentTypes[keySystem] = {\n      audioContentType: 'audio/mp4; codecs=\"' + audioPlaylist.attributes.CODECS + '\"',\n      videoContentType: 'video/mp4; codecs=\"' + videoPlaylist.attributes.CODECS + '\"'\n    };\n\n    if (videoPlaylist.contentProtection && videoPlaylist.contentProtection[keySystem] && videoPlaylist.contentProtection[keySystem].pssh) {\n      keySystemContentTypes[keySystem].pssh = videoPlaylist.contentProtection[keySystem].pssh;\n    } // videojs-contrib-eme accepts the option of specifying: 'com.some.cdm': 'url'\n    // so we need to prevent overwriting the URL entirely\n\n\n    if (typeof keySystemOptions[keySystem] === 'string') {\n      keySystemContentTypes[keySystem].url = keySystemOptions[keySystem];\n    }\n  }\n\n  return videojs$1.mergeOptions(keySystemOptions, keySystemContentTypes);\n};\n\nvar setupEmeOptions = function setupEmeOptions(hlsHandler) {\n  if (hlsHandler.options_.sourceType !== 'dash') {\n    return;\n  }\n\n  var player = videojs$1.players[hlsHandler.tech_.options_.playerId];\n\n  if (player.eme) {\n    var sourceOptions = emeKeySystems(hlsHandler.source_.keySystems, hlsHandler.playlists.media(), hlsHandler.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());\n\n    if (sourceOptions) {\n      player.currentSource().keySystems = sourceOptions; // works around https://bugs.chromium.org/p/chromium/issues/detail?id=895449\n\n      if (player.eme.initializeMediaKeys) {\n        player.eme.initializeMediaKeys();\n      }\n    }\n  }\n};\n\nvar getVhsLocalStorage = function getVhsLocalStorage() {\n  if (!window.localStorage) {\n    return null;\n  }\n\n  var storedObject = window.localStorage.getItem(LOCAL_STORAGE_KEY$1);\n\n  if (!storedObject) {\n    return null;\n  }\n\n  try {\n    return JSON.parse(storedObject);\n  } catch (e) {\n    // someone may have tampered with the value\n    return null;\n  }\n};\n\nvar updateVhsLocalStorage = function updateVhsLocalStorage(options) {\n  if (!window.localStorage) {\n    return false;\n  }\n\n  var objectToStore = getVhsLocalStorage();\n  objectToStore = objectToStore ? videojs$1.mergeOptions(objectToStore, options) : options;\n\n  try {\n    window.localStorage.setItem(LOCAL_STORAGE_KEY$1, JSON.stringify(objectToStore));\n  } catch (e) {\n    // Throws if storage is full (e.g., always on iOS 5+ Safari private mode, where\n    // storage is set to 0).\n    // https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem#Exceptions\n    // No need to perform any operation.\n    return false;\n  }\n\n  return objectToStore;\n};\n/**\n * Whether the browser has built-in HLS support.\n */\n\n\nHls$1.supportsNativeHls = function () {\n  var video = document.createElement('video'); // native HLS is definitely not supported if HTML5 video isn't\n\n  if (!videojs$1.getTech('Html5').isSupported()) {\n    return false;\n  } // HLS manifests can go by many mime-types\n\n\n  var canPlay = [// Apple santioned\n  'application/vnd.apple.mpegurl', // Apple sanctioned for backwards compatibility\n  'audio/mpegurl', // Very common\n  'audio/x-mpegurl', // Very common\n  'application/x-mpegurl', // Included for completeness\n  'video/x-mpegurl', 'video/mpegurl', 'application/mpegurl'];\n  return canPlay.some(function (canItPlay) {\n    return /maybe|probably/i.test(video.canPlayType(canItPlay));\n  });\n}();\n\nHls$1.supportsNativeDash = function () {\n  if (!videojs$1.getTech('Html5').isSupported()) {\n    return false;\n  }\n\n  return /maybe|probably/i.test(document.createElement('video').canPlayType('application/dash+xml'));\n}();\n\nHls$1.supportsTypeNatively = function (type) {\n  if (type === 'hls') {\n    return Hls$1.supportsNativeHls;\n  }\n\n  if (type === 'dash') {\n    return Hls$1.supportsNativeDash;\n  }\n\n  return false;\n};\n/**\n * HLS is a source handler, not a tech. Make sure attempts to use it\n * as one do not cause exceptions.\n */\n\n\nHls$1.isSupported = function () {\n  return videojs$1.log.warn('HLS is no longer a tech. Please remove it from ' + 'your player\\'s techOrder.');\n};\n\nvar Component$1 = videojs$1.getComponent('Component');\n/**\n * The Hls Handler object, where we orchestrate all of the parts\n * of HLS to interact with video.js\n *\n * @class HlsHandler\n * @extends videojs.Component\n * @param {Object} source the soruce object\n * @param {Tech} tech the parent tech object\n * @param {Object} options optional and required options\n */\n\nvar HlsHandler = function (_Component) {\n  inherits(HlsHandler, _Component);\n\n  function HlsHandler(source, tech, options) {\n    classCallCheck(this, HlsHandler); // tech.player() is deprecated but setup a reference to HLS for\n    // backwards-compatibility\n\n    var _this = possibleConstructorReturn(this, (HlsHandler.__proto__ || Object.getPrototypeOf(HlsHandler)).call(this, tech, options.hls));\n\n    if (tech.options_ && tech.options_.playerId) {\n      var _player = videojs$1(tech.options_.playerId);\n\n      if (!_player.hasOwnProperty('hls')) {\n        Object.defineProperty(_player, 'hls', {\n          get: function get$$1() {\n            videojs$1.log.warn('player.hls is deprecated. Use player.tech().hls instead.');\n            tech.trigger({\n              type: 'usage',\n              name: 'hls-player-access'\n            });\n            return _this;\n          },\n          configurable: true\n        });\n      } // Set up a reference to the HlsHandler from player.vhs. This allows users to start\n      // migrating from player.tech_.hls... to player.vhs... for API access. Although this\n      // isn't the most appropriate form of reference for video.js (since all APIs should\n      // be provided through core video.js), it is a common pattern for plugins, and vhs\n      // will act accordingly.\n\n\n      _player.vhs = _this; // deprecated, for backwards compatibility\n\n      _player.dash = _this;\n      _this.player_ = _player;\n    }\n\n    _this.tech_ = tech;\n    _this.source_ = source;\n    _this.stats = {};\n\n    _this.setOptions_();\n\n    if (_this.options_.overrideNative && tech.overrideNativeAudioTracks && tech.overrideNativeVideoTracks) {\n      tech.overrideNativeAudioTracks(true);\n      tech.overrideNativeVideoTracks(true);\n    } else if (_this.options_.overrideNative && (tech.featuresNativeVideoTracks || tech.featuresNativeAudioTracks)) {\n      // overriding native HLS only works if audio tracks have been emulated\n      // error early if we're misconfigured\n      throw new Error('Overriding native HLS requires emulated tracks. ' + 'See https://git.io/vMpjB');\n    } // listen for fullscreenchange events for this player so that we\n    // can adjust our quality selection quickly\n\n\n    _this.on(document, ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange'], function (event) {\n      var fullscreenElement = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n\n      if (fullscreenElement && fullscreenElement.contains(_this.tech_.el())) {\n        _this.masterPlaylistController_.smoothQualityChange_();\n      }\n    }); // Handle seeking when looping - middleware doesn't handle this seek event from the tech\n\n\n    _this.on(_this.tech_, 'seeking', function () {\n      if (this.tech_.currentTime() === 0 && this.tech_.player_.loop()) {\n        this.setCurrentTime(0);\n      }\n    });\n\n    _this.on(_this.tech_, 'error', function () {\n      if (this.masterPlaylistController_) {\n        this.masterPlaylistController_.pauseLoading();\n      }\n    });\n\n    _this.on(_this.tech_, 'play', _this.play);\n\n    return _this;\n  }\n\n  createClass(HlsHandler, [{\n    key: 'setOptions_',\n    value: function setOptions_() {\n      var _this2 = this; // defaults\n\n\n      this.options_.withCredentials = this.options_.withCredentials || false;\n      this.options_.handleManifestRedirects = this.options_.handleManifestRedirects || false;\n      this.options_.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions === false ? false : true;\n      this.options_.smoothQualityChange = this.options_.smoothQualityChange || false;\n      this.options_.useBandwidthFromLocalStorage = typeof this.source_.useBandwidthFromLocalStorage !== 'undefined' ? this.source_.useBandwidthFromLocalStorage : this.options_.useBandwidthFromLocalStorage || false;\n      this.options_.customTagParsers = this.options_.customTagParsers || [];\n      this.options_.customTagMappers = this.options_.customTagMappers || [];\n      this.options_.cacheEncryptionKeys = this.options_.cacheEncryptionKeys || false;\n\n      if (typeof this.options_.blacklistDuration !== 'number') {\n        this.options_.blacklistDuration = 5 * 60;\n      }\n\n      if (typeof this.options_.bandwidth !== 'number') {\n        if (this.options_.useBandwidthFromLocalStorage) {\n          var storedObject = getVhsLocalStorage();\n\n          if (storedObject && storedObject.bandwidth) {\n            this.options_.bandwidth = storedObject.bandwidth;\n            this.tech_.trigger({\n              type: 'usage',\n              name: 'hls-bandwidth-from-local-storage'\n            });\n          }\n\n          if (storedObject && storedObject.throughput) {\n            this.options_.throughput = storedObject.throughput;\n            this.tech_.trigger({\n              type: 'usage',\n              name: 'hls-throughput-from-local-storage'\n            });\n          }\n        }\n      } // if bandwidth was not set by options or pulled from local storage, start playlist\n      // selection at a reasonable bandwidth\n\n\n      if (typeof this.options_.bandwidth !== 'number') {\n        this.options_.bandwidth = Config.INITIAL_BANDWIDTH;\n      } // If the bandwidth number is unchanged from the initial setting\n      // then this takes precedence over the enableLowInitialPlaylist option\n\n\n      this.options_.enableLowInitialPlaylist = this.options_.enableLowInitialPlaylist && this.options_.bandwidth === Config.INITIAL_BANDWIDTH; // grab options passed to player.src\n\n      ['withCredentials', 'limitRenditionByPlayerDimensions', 'bandwidth', 'smoothQualityChange', 'customTagParsers', 'customTagMappers', 'handleManifestRedirects', 'cacheEncryptionKeys'].forEach(function (option) {\n        if (typeof _this2.source_[option] !== 'undefined') {\n          _this2.options_[option] = _this2.source_[option];\n        }\n      });\n      this.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions;\n    }\n    /**\n     * called when player.src gets called, handle a new source\n     *\n     * @param {Object} src the source object to handle\n     */\n\n  }, {\n    key: 'src',\n    value: function src(_src, type) {\n      var _this3 = this; // do nothing if the src is falsey\n\n\n      if (!_src) {\n        return;\n      }\n\n      this.setOptions_(); // add master playlist controller options\n\n      this.options_.url = this.source_.src;\n      this.options_.tech = this.tech_;\n      this.options_.externHls = Hls$1;\n      this.options_.sourceType = simpleTypeFromSourceType(type); // Whenever we seek internally, we should update both the tech and call our own\n      // setCurrentTime function. This is needed because \"seeking\" events aren't always\n      // reliable. External seeks (via the player object) are handled via middleware.\n\n      this.options_.seekTo = function (time) {\n        _this3.tech_.setCurrentTime(time);\n\n        _this3.setCurrentTime(time);\n      };\n\n      this.masterPlaylistController_ = new MasterPlaylistController(this.options_);\n      this.playbackWatcher_ = new PlaybackWatcher(videojs$1.mergeOptions(this.options_, {\n        seekable: function seekable$$1() {\n          return _this3.seekable();\n        },\n        media: function media() {\n          return _this3.masterPlaylistController_.media();\n        }\n      }));\n      this.masterPlaylistController_.on('error', function () {\n        var player = videojs$1.players[_this3.tech_.options_.playerId];\n        player.error(_this3.masterPlaylistController_.error);\n      }); // `this` in selectPlaylist should be the HlsHandler for backwards\n      // compatibility with < v2\n\n      this.masterPlaylistController_.selectPlaylist = this.selectPlaylist ? this.selectPlaylist.bind(this) : Hls$1.STANDARD_PLAYLIST_SELECTOR.bind(this);\n      this.masterPlaylistController_.selectInitialPlaylist = Hls$1.INITIAL_PLAYLIST_SELECTOR.bind(this); // re-expose some internal objects for backwards compatibility with < v2\n\n      this.playlists = this.masterPlaylistController_.masterPlaylistLoader_;\n      this.mediaSource = this.masterPlaylistController_.mediaSource; // Proxy assignment of some properties to the master playlist\n      // controller. Using a custom property for backwards compatibility\n      // with < v2\n\n      Object.defineProperties(this, {\n        selectPlaylist: {\n          get: function get$$1() {\n            return this.masterPlaylistController_.selectPlaylist;\n          },\n          set: function set$$1(selectPlaylist) {\n            this.masterPlaylistController_.selectPlaylist = selectPlaylist.bind(this);\n          }\n        },\n        throughput: {\n          get: function get$$1() {\n            return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate;\n          },\n          set: function set$$1(throughput) {\n            this.masterPlaylistController_.mainSegmentLoader_.throughput.rate = throughput; // By setting `count` to 1 the throughput value becomes the starting value\n            // for the cumulative average\n\n            this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1;\n          }\n        },\n        bandwidth: {\n          get: function get$$1() {\n            return this.masterPlaylistController_.mainSegmentLoader_.bandwidth;\n          },\n          set: function set$$1(bandwidth) {\n            this.masterPlaylistController_.mainSegmentLoader_.bandwidth = bandwidth; // setting the bandwidth manually resets the throughput counter\n            // `count` is set to zero that current value of `rate` isn't included\n            // in the cumulative average\n\n            this.masterPlaylistController_.mainSegmentLoader_.throughput = {\n              rate: 0,\n              count: 0\n            };\n          }\n        },\n\n        /**\n         * `systemBandwidth` is a combination of two serial processes bit-rates. The first\n         * is the network bitrate provided by `bandwidth` and the second is the bitrate of\n         * the entire process after that - decryption, transmuxing, and appending - provided\n         * by `throughput`.\n         *\n         * Since the two process are serial, the overall system bandwidth is given by:\n         *   sysBandwidth = 1 / (1 / bandwidth + 1 / throughput)\n         */\n        systemBandwidth: {\n          get: function get$$1() {\n            var invBandwidth = 1 / (this.bandwidth || 1);\n            var invThroughput = void 0;\n\n            if (this.throughput > 0) {\n              invThroughput = 1 / this.throughput;\n            } else {\n              invThroughput = 0;\n            }\n\n            var systemBitrate = Math.floor(1 / (invBandwidth + invThroughput));\n            return systemBitrate;\n          },\n          set: function set$$1() {\n            videojs$1.log.error('The \"systemBandwidth\" property is read-only');\n          }\n        }\n      });\n\n      if (this.options_.bandwidth) {\n        this.bandwidth = this.options_.bandwidth;\n      }\n\n      if (this.options_.throughput) {\n        this.throughput = this.options_.throughput;\n      }\n\n      Object.defineProperties(this.stats, {\n        bandwidth: {\n          get: function get$$1() {\n            return _this3.bandwidth || 0;\n          },\n          enumerable: true\n        },\n        mediaRequests: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaRequests_() || 0;\n          },\n          enumerable: true\n        },\n        mediaRequestsAborted: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaRequestsAborted_() || 0;\n          },\n          enumerable: true\n        },\n        mediaRequestsTimedout: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaRequestsTimedout_() || 0;\n          },\n          enumerable: true\n        },\n        mediaRequestsErrored: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaRequestsErrored_() || 0;\n          },\n          enumerable: true\n        },\n        mediaTransferDuration: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaTransferDuration_() || 0;\n          },\n          enumerable: true\n        },\n        mediaBytesTransferred: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaBytesTransferred_() || 0;\n          },\n          enumerable: true\n        },\n        mediaSecondsLoaded: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaSecondsLoaded_() || 0;\n          },\n          enumerable: true\n        },\n        buffered: {\n          get: function get$$1() {\n            return timeRangesToArray(_this3.tech_.buffered());\n          },\n          enumerable: true\n        },\n        currentTime: {\n          get: function get$$1() {\n            return _this3.tech_.currentTime();\n          },\n          enumerable: true\n        },\n        currentSource: {\n          get: function get$$1() {\n            return _this3.tech_.currentSource_;\n          },\n          enumerable: true\n        },\n        currentTech: {\n          get: function get$$1() {\n            return _this3.tech_.name_;\n          },\n          enumerable: true\n        },\n        duration: {\n          get: function get$$1() {\n            return _this3.tech_.duration();\n          },\n          enumerable: true\n        },\n        master: {\n          get: function get$$1() {\n            return _this3.playlists.master;\n          },\n          enumerable: true\n        },\n        playerDimensions: {\n          get: function get$$1() {\n            return _this3.tech_.currentDimensions();\n          },\n          enumerable: true\n        },\n        seekable: {\n          get: function get$$1() {\n            return timeRangesToArray(_this3.tech_.seekable());\n          },\n          enumerable: true\n        },\n        timestamp: {\n          get: function get$$1() {\n            return Date.now();\n          },\n          enumerable: true\n        },\n        videoPlaybackQuality: {\n          get: function get$$1() {\n            return _this3.tech_.getVideoPlaybackQuality();\n          },\n          enumerable: true\n        }\n      });\n      this.tech_.one('canplay', this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_));\n      this.tech_.on('bandwidthupdate', function () {\n        if (_this3.options_.useBandwidthFromLocalStorage) {\n          updateVhsLocalStorage({\n            bandwidth: _this3.bandwidth,\n            throughput: Math.round(_this3.throughput)\n          });\n        }\n      });\n      this.masterPlaylistController_.on('selectedinitialmedia', function () {\n        // Add the manual rendition mix-in to HlsHandler\n        renditionSelectionMixin(_this3);\n        setupEmeOptions(_this3);\n      }); // the bandwidth of the primary segment loader is our best\n      // estimate of overall bandwidth\n\n      this.on(this.masterPlaylistController_, 'progress', function () {\n        this.tech_.trigger('progress');\n      });\n      this.tech_.ready(function () {\n        return _this3.setupQualityLevels_();\n      }); // do nothing if the tech has been disposed already\n      // this can occur if someone sets the src in player.ready(), for instance\n\n      if (!this.tech_.el()) {\n        return;\n      }\n\n      this.tech_.src(videojs$1.URL.createObjectURL(this.masterPlaylistController_.mediaSource));\n    }\n    /**\n     * Initializes the quality levels and sets listeners to update them.\n     *\n     * @method setupQualityLevels_\n     * @private\n     */\n\n  }, {\n    key: 'setupQualityLevels_',\n    value: function setupQualityLevels_() {\n      var _this4 = this;\n\n      var player = videojs$1.players[this.tech_.options_.playerId];\n\n      if (player && player.qualityLevels) {\n        this.qualityLevels_ = player.qualityLevels();\n        this.masterPlaylistController_.on('selectedinitialmedia', function () {\n          handleHlsLoadedMetadata(_this4.qualityLevels_, _this4);\n        });\n        this.playlists.on('mediachange', function () {\n          handleHlsMediaChange(_this4.qualityLevels_, _this4.playlists);\n        });\n      }\n    }\n    /**\n     * Begin playing the video.\n     */\n\n  }, {\n    key: 'play',\n    value: function play() {\n      this.masterPlaylistController_.play();\n    }\n    /**\n     * a wrapper around the function in MasterPlaylistController\n     */\n\n  }, {\n    key: 'setCurrentTime',\n    value: function setCurrentTime(currentTime) {\n      this.masterPlaylistController_.setCurrentTime(currentTime);\n    }\n    /**\n     * a wrapper around the function in MasterPlaylistController\n     */\n\n  }, {\n    key: 'duration',\n    value: function duration$$1() {\n      return this.masterPlaylistController_.duration();\n    }\n    /**\n     * a wrapper around the function in MasterPlaylistController\n     */\n\n  }, {\n    key: 'seekable',\n    value: function seekable$$1() {\n      return this.masterPlaylistController_.seekable();\n    }\n    /**\n     * Abort all outstanding work and cleanup.\n     */\n\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      if (this.playbackWatcher_) {\n        this.playbackWatcher_.dispose();\n      }\n\n      if (this.masterPlaylistController_) {\n        this.masterPlaylistController_.dispose();\n      }\n\n      if (this.qualityLevels_) {\n        this.qualityLevels_.dispose();\n      }\n\n      if (this.player_) {\n        delete this.player_.vhs;\n        delete this.player_.dash;\n        delete this.player_.hls;\n      }\n\n      if (this.tech_ && this.tech_.hls) {\n        delete this.tech_.hls;\n      }\n\n      get$1(HlsHandler.prototype.__proto__ || Object.getPrototypeOf(HlsHandler.prototype), 'dispose', this).call(this);\n    }\n  }, {\n    key: 'convertToProgramTime',\n    value: function convertToProgramTime(time, callback) {\n      return getProgramTime({\n        playlist: this.masterPlaylistController_.media(),\n        time: time,\n        callback: callback\n      });\n    } // the player must be playing before calling this\n\n  }, {\n    key: 'seekToProgramTime',\n    value: function seekToProgramTime$$1(programTime, callback) {\n      var pauseAfterSeek = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var retryCount = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 2;\n      return seekToProgramTime({\n        programTime: programTime,\n        playlist: this.masterPlaylistController_.media(),\n        retryCount: retryCount,\n        pauseAfterSeek: pauseAfterSeek,\n        seekTo: this.options_.seekTo,\n        tech: this.options_.tech,\n        callback: callback\n      });\n    }\n  }]);\n  return HlsHandler;\n}(Component$1);\n/**\n * The Source Handler object, which informs video.js what additional\n * MIME types are supported and sets up playback. It is registered\n * automatically to the appropriate tech based on the capabilities of\n * the browser it is running in. It is not necessary to use or modify\n * this object in normal usage.\n */\n\n\nvar HlsSourceHandler = {\n  name: 'videojs-http-streaming',\n  VERSION: version$1,\n  canHandleSource: function canHandleSource(srcObj) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var localOptions = videojs$1.mergeOptions(videojs$1.options, options);\n    return HlsSourceHandler.canPlayType(srcObj.type, localOptions);\n  },\n  handleSource: function handleSource(source, tech) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var localOptions = videojs$1.mergeOptions(videojs$1.options, options);\n    tech.hls = new HlsHandler(source, tech, localOptions);\n    tech.hls.xhr = xhrFactory();\n    tech.hls.src(source.src, source.type);\n    return tech.hls;\n  },\n  canPlayType: function canPlayType(type) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _videojs$mergeOptions = videojs$1.mergeOptions(videojs$1.options, options),\n        overrideNative = _videojs$mergeOptions.hls.overrideNative;\n\n    var supportedType = simpleTypeFromSourceType(type);\n    var canUseMsePlayback = supportedType && (!Hls$1.supportsTypeNatively(supportedType) || overrideNative);\n    return canUseMsePlayback ? 'maybe' : '';\n  }\n};\n\nif (typeof videojs$1.MediaSource === 'undefined' || typeof videojs$1.URL === 'undefined') {\n  videojs$1.MediaSource = MediaSource;\n  videojs$1.URL = URL$1;\n} // register source handlers with the appropriate techs\n\n\nif (MediaSource.supportsNativeMediaSources()) {\n  videojs$1.getTech('Html5').registerSourceHandler(HlsSourceHandler, 0);\n}\n\nvideojs$1.HlsHandler = HlsHandler;\nvideojs$1.HlsSourceHandler = HlsSourceHandler;\nvideojs$1.Hls = Hls$1;\n\nif (!videojs$1.use) {\n  videojs$1.registerComponent('Hls', Hls$1);\n}\n\nvideojs$1.options.hls = videojs$1.options.hls || {};\n\nif (videojs$1.registerPlugin) {\n  videojs$1.registerPlugin('reloadSourceOnError', reloadSourceOnError);\n} else {\n  videojs$1.plugin('reloadSourceOnError', reloadSourceOnError);\n}\n\nexport default videojs$1;\n","<template>\r\n    <div>\r\n        <video ref=\"vPlayer\" class=\"video-js vjs-big-play-centered\"></video>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import videojs from 'video.js'\r\n    const SeekBar = videojs.getComponent('SeekBar')\r\n\r\n    SeekBar.prototype.getPercent = function getPercent() {\r\n        // Allows for smooth scrubbing, when player can't keep up.\r\n        // const time = (this.player_.scrubbing()) ?\r\n        //   this.player_.getCache().currentTime :\r\n        //   this.player_.currentTime()\r\n        const time = this.player_.currentTime()\r\n        const percent = time / this.player_.duration()\r\n        return percent >= 1 ? 1 : percent\r\n    }\r\n\r\n    SeekBar.prototype.handleMouseMove = function handleMouseMove(event) {\r\n        let newTime = this.calculateDistance(event) * this.player_.duration()\r\n        if (newTime === this.player_.duration()) {\r\n            newTime = newTime - 0.1\r\n        }\r\n        this.player_.currentTime(newTime)\r\n        this.update()\r\n    }\r\n    export default {\r\n        name: \"VPlayer\",\r\n        props: {\r\n            options: {\r\n                type: Object,\r\n                default() {\r\n                    return {};\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                player: null\r\n            }\r\n        },\r\n        watch: {\r\n            src() {\r\n                this.player.src(this.src);\r\n            }\r\n        },\r\n        computed: {\r\n            src() {\r\n                return this.options.sources[0].src;\r\n            },\r\n        },\r\n        mounted() {\r\n            this.player = videojs(this.$refs.vPlayer, this.options, function onPlayerReady() {\r\n                // eslint-disable-next-line no-console\r\n                // console.log('onPlayerReady', this);\r\n            })\r\n        },\r\n        beforeDestroy() {\r\n            if (this.player) {\r\n                this.player.dispose()\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vplayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vplayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vplayer.vue?vue&type=template&id=64181bb5&scoped=true&\"\nimport script from \"./vplayer.vue?vue&type=script&lang=js&\"\nexport * from \"./vplayer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64181bb5\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <el-container>\r\n        <el-aside width=\"200px\">\r\n            <div class=\"rankTitle\">\r\n                Weekly Ranking\r\n            </div>\r\n            <div v-for=\"video in videoRank\" :key=\"video.id\">\r\n                <el-card class=\"video-card\" @click.native=\"goVideo(video)\" :body-style=\"{ padding: '5px' }\" shadow=\"hover\">\r\n                    <img class=\"image\" :src=\"video.avatar\">\r\n                    <div>\r\n                        <div class=\"rank-title\" >{{video.title}}</div>\r\n                    </div>\r\n                </el-card>\r\n            </div>\r\n        </el-aside>\r\n        <el-container>\r\n            <el-header>\r\n                <div class=\"video-title\">{{video.title}}</div>\r\n                <div class=\"video-data\">\r\n                    {{video.created_at}} \r\n                    {{video.view}}\r\n                </div>\r\n            </el-header>\r\n            <el-main>\r\n                <div>\r\n                    <VPlayer class=\"\" :options=\"videoOptions\"></VPlayer>\r\n                </div>\r\n                <el-divider>Video Describe</el-divider>\r\n                <div>\r\n                    <pre>{{video.info}}</pre>\r\n                </div>\r\n            </el-main>\r\n        </el-container>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\n    import * as API from \"../api/video/index.js\"\r\n    import 'video.js/dist/video-js.css'\r\n    import VPlayer from \"../components/vplayer\";\r\n\r\n    export default {\r\n        name: \"ShowVideo\",\r\n        components: {\r\n            VPlayer\r\n        },\r\n        data() {\r\n            return {\r\n                video: {},\r\n                videoRank: {},\r\n                videoOptions: {\r\n                    // videojs options\r\n                    controls: true,\r\n                    muted: false,\r\n                    fluid: true,\r\n                    aspectRatio: '16:9',\r\n                    preload: 'auto',\r\n\r\n                    sources: [{\r\n                        type: \"video/mp4\",\r\n                        src: \"\",\r\n                    }],\r\n                    children: [\r\n                        'bigPlayButton',\r\n                        'controlBar'\r\n                    ],\r\n                    // controlBar: {\r\n                    //     children: [\r\n                    //         \"playToggle\",\r\n                    //         \"volumePanel\",\r\n                    //         \"currentTimeDisplay\",\r\n                    //         \"timeDivider\",\r\n                    //         \"durationDisplay\",\r\n                    //         \"progressControl\",\r\n                    //         \"playbackRateMenuButton\",\r\n                    //         \"fullscreenToggle\"\r\n                    //     ]\r\n                    // },\r\n                    errorDisplay: true,\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            load() {\r\n                API.getVideo(this.$route.params.videoID).then((res) => {\r\n                    //dataidtitleinfo codemsg\r\n                    this.video = res.data;\r\n                    let src = this.video.url;\r\n                    this.$set(this.videoOptions.sources, 0, {\r\n                        type: 'video/mp4',\r\n                        src: src,\r\n                    });\r\n                })\r\n\r\n                // eslint-disable-next-line no-console\r\n                console.log(this.videoOptions.sources[0])\r\n            },\r\n            loadRank() {\r\n                API.getWeeklyRank().then((res) => {\r\n                    this.videoRank = res.data;\r\n                    for (let item of this.videoRank) {\r\n                        if (item.avatar.length <= 1) {\r\n                            item.avatar = \"/default.jpg\"\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n            goVideo(video) {\r\n                this.$router.push({name:'showVideo', params:{videoID:video.id}}).catch(() => {})\r\n            },\r\n        },\r\n        mounted() {\r\n            this.load()\r\n            this.loadRank()\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .el-header {\r\n        font-size: 28px;\r\n        font-weight: 500;\r\n        line-height: 30px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n    }\r\n    .el-main {\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n        color: #3749b6;\r\n    }\r\n    .video-title {\r\n        color: #212121;\r\n        font-weight: 800;\r\n    }\r\n    .rank-title {\r\n        font-weight: 500;\r\n    }\r\n    .video-data {\r\n        font-weight: 500;\r\n        font-size: 14px;\r\n        color: #9c9c9f;\r\n    }\r\n    .video-self {\r\n        width: 960px;\r\n        height: 540px;\r\n    }\r\n    .rankTitle {\r\n        margin: 10px 0px 20px 0px;\r\n        font-weight: 700;\r\n        font-style: italic;\r\n        text-align:center;\r\n    }\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShowVideo.vue?vue&type=template&id=bd316694&scoped=true&\"\nimport script from \"./ShowVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./ShowVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShowVideo.vue?vue&type=style&index=0&id=bd316694&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd316694\",\n  null\n  \n)\n\nexport default component.exports","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['devicefarm'] = {};\nAWS.DeviceFarm = Service.defineService('devicefarm', ['2015-06-23']);\nObject.defineProperty(apiLoader.services['devicefarm'], '2015-06-23', {\n  get: function get() {\n    var model = require('../apis/devicefarm-2015-06-23.min.json');\n    model.paginators = require('../apis/devicefarm-2015-06-23.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.DeviceFarm;\n","var AWS = require('../core');\n\n// pull in CloudFront signer\nrequire('../cloudfront/signer');\n\nAWS.util.update(AWS.CloudFront.prototype, {\n\n  setupRequestListeners: function setupRequestListeners(request) {\n    request.addListener('extractData', AWS.util.hoistPayloadMember);\n  }\n\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['waf'] = {};\nAWS.WAF = Service.defineService('waf', ['2015-08-24']);\nObject.defineProperty(apiLoader.services['waf'], '2015-08-24', {\n  get: function get() {\n    var model = require('../apis/waf-2015-08-24.min.json');\n    model.paginators = require('../apis/waf-2015-08-24.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.WAF;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['connect'] = {};\nAWS.Connect = Service.defineService('connect', ['2017-08-08']);\nObject.defineProperty(apiLoader.services['connect'], '2017-08-08', {\n  get: function get() {\n    var model = require('../apis/connect-2017-08-08.min.json');\n    model.paginators = require('../apis/connect-2017-08-08.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Connect;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['efs'] = {};\nAWS.EFS = Service.defineService('efs', ['2015-02-01']);\nObject.defineProperty(apiLoader.services['efs'], '2015-02-01', {\n  get: function get() {\n    var model = require('../apis/elasticfilesystem-2015-02-01.min.json');\n    model.paginators = require('../apis/elasticfilesystem-2015-02-01.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.EFS;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cloudfront'] = {};\nAWS.CloudFront = Service.defineService('cloudfront', ['2013-05-12*', '2013-11-11*', '2014-05-31*', '2014-10-21*', '2014-11-06*', '2015-04-17*', '2015-07-27*', '2015-09-17*', '2016-01-13*', '2016-01-28*', '2016-08-01*', '2016-08-20*', '2016-09-07*', '2016-09-29*', '2016-11-25', '2016-11-25*', '2017-03-25', '2017-03-25*', '2017-10-30', '2017-10-30*', '2018-06-18', '2018-06-18*', '2018-11-05', '2018-11-05*', '2019-03-26']);\nrequire('../lib/services/cloudfront');\nObject.defineProperty(apiLoader.services['cloudfront'], '2016-11-25', {\n  get: function get() {\n    var model = require('../apis/cloudfront-2016-11-25.min.json');\n    model.paginators = require('../apis/cloudfront-2016-11-25.paginators.json').pagination;\n    model.waiters = require('../apis/cloudfront-2016-11-25.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(apiLoader.services['cloudfront'], '2017-03-25', {\n  get: function get() {\n    var model = require('../apis/cloudfront-2017-03-25.min.json');\n    model.paginators = require('../apis/cloudfront-2017-03-25.paginators.json').pagination;\n    model.waiters = require('../apis/cloudfront-2017-03-25.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(apiLoader.services['cloudfront'], '2017-10-30', {\n  get: function get() {\n    var model = require('../apis/cloudfront-2017-10-30.min.json');\n    model.paginators = require('../apis/cloudfront-2017-10-30.paginators.json').pagination;\n    model.waiters = require('../apis/cloudfront-2017-10-30.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(apiLoader.services['cloudfront'], '2018-06-18', {\n  get: function get() {\n    var model = require('../apis/cloudfront-2018-06-18.min.json');\n    model.paginators = require('../apis/cloudfront-2018-06-18.paginators.json').pagination;\n    model.waiters = require('../apis/cloudfront-2018-06-18.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(apiLoader.services['cloudfront'], '2018-11-05', {\n  get: function get() {\n    var model = require('../apis/cloudfront-2018-11-05.min.json');\n    model.paginators = require('../apis/cloudfront-2018-11-05.paginators.json').pagination;\n    model.waiters = require('../apis/cloudfront-2018-11-05.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(apiLoader.services['cloudfront'], '2019-03-26', {\n  get: function get() {\n    var model = require('../apis/cloudfront-2019-03-26.min.json');\n    model.paginators = require('../apis/cloudfront-2019-03-26.paginators.json').pagination;\n    model.waiters = require('../apis/cloudfront-2019-03-26.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CloudFront;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","function apiLoader(svc, version) {\n  if (!apiLoader.services.hasOwnProperty(svc)) {\n    throw new Error('InvalidService: Failed to load api for ' + svc);\n  }\n  return apiLoader.services[svc][version];\n}\n\n/**\n * @api private\n *\n * This member of AWS.apiLoader is private, but changing it will necessitate a\n * change to ../scripts/services-table-generator.ts\n */\napiLoader.services = {};\n\n/**\n * @api private\n */\nmodule.exports = apiLoader;\n","var AWS = require('../core');\nvar rest = AWS.Protocol.Rest;\n\n/**\n * A presigner object can be used to generate presigned urls for the Polly service.\n */\nAWS.Polly.Presigner = AWS.util.inherit({\n    /**\n     * Creates a presigner object with a set of configuration options.\n     *\n     * @option options params [map] An optional map of parameters to bind to every\n     *   request sent by this service object.\n     * @option options service [AWS.Polly] An optional pre-configured instance\n     *  of the AWS.Polly service object to use for requests. The object may\n     *  bound parameters used by the presigner.\n     * @see AWS.Polly.constructor\n     */\n    constructor: function Signer(options) {\n        options = options || {};\n        this.options = options;\n        this.service = options.service;\n        this.bindServiceObject(options);\n        this._operations = {};\n    },\n\n    /**\n     * @api private\n     */\n    bindServiceObject: function bindServiceObject(options) {\n        options = options || {};\n        if (!this.service) {\n            this.service = new AWS.Polly(options);\n        } else {\n            var config = AWS.util.copy(this.service.config);\n            this.service = new this.service.constructor.__super__(config);\n            this.service.config.params = AWS.util.merge(this.service.config.params || {}, options.params);\n        }\n    },\n\n    /**\n     * @api private\n     */\n    modifyInputMembers: function modifyInputMembers(input) {\n        // make copies of the input so we don't overwrite the api\n        // need to be careful to copy anything we access/modify\n        var modifiedInput = AWS.util.copy(input);\n        modifiedInput.members = AWS.util.copy(input.members);\n        AWS.util.each(input.members, function(name, member) {\n            modifiedInput.members[name] = AWS.util.copy(member);\n            // update location and locationName\n            if (!member.location || member.location === 'body') {\n                modifiedInput.members[name].location = 'querystring';\n                modifiedInput.members[name].locationName = name;\n            }\n        });\n        return modifiedInput;\n    },\n\n    /**\n     * @api private\n     */\n    convertPostToGet: function convertPostToGet(req) {\n        // convert method\n        req.httpRequest.method = 'GET';\n\n        var operation = req.service.api.operations[req.operation];\n        // get cached operation input first\n        var input = this._operations[req.operation];\n        if (!input) {\n            // modify the original input\n            this._operations[req.operation] = input = this.modifyInputMembers(operation.input);\n        }\n\n        var uri = rest.generateURI(req.httpRequest.endpoint.path, operation.httpPath, input, req.params);\n\n        req.httpRequest.path = uri;\n        req.httpRequest.body = '';\n\n        // don't need these headers on a GET request\n        delete req.httpRequest.headers['Content-Length'];\n        delete req.httpRequest.headers['Content-Type'];\n    },\n\n    /**\n     * @overload getSynthesizeSpeechUrl(params = {}, [expires = 3600], [callback])\n     *   Generate a presigned url for {AWS.Polly.synthesizeSpeech}.\n     *   @note You must ensure that you have static or previously resolved\n     *     credentials if you call this method synchronously (with no callback),\n     *     otherwise it may not properly sign the request. If you cannot guarantee\n     *     this (you are using an asynchronous credential provider, i.e., EC2\n     *     IAM roles), you should always call this method with an asynchronous\n     *     callback.\n     *   @param params [map] parameters to pass to the operation. See the {AWS.Polly.synthesizeSpeech}\n     *     operation for the expected operation parameters.\n     *   @param expires [Integer] (3600) the number of seconds to expire the pre-signed URL operation in.\n     *     Defaults to 1 hour.\n     *   @return [string] if called synchronously (with no callback), returns the signed URL.\n     *   @return [null] nothing is returned if a callback is provided.\n     *   @callback callback function (err, url)\n     *     If a callback is supplied, it is called when a signed URL has been generated.\n     *     @param err [Error] the error object returned from the presigner.\n     *     @param url [String] the signed URL.\n     *   @see AWS.Polly.synthesizeSpeech\n     */\n    getSynthesizeSpeechUrl: function getSynthesizeSpeechUrl(params, expires, callback) {\n        var self = this;\n        var request = this.service.makeRequest('synthesizeSpeech', params);\n        // remove existing build listeners\n        request.removeAllListeners('build');\n        request.on('build', function(req) {\n            self.convertPostToGet(req);\n        });\n        return request.presign(expires, callback);\n    }\n});\n","var trim = require('string.prototype.trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['lexmodelbuildingservice'] = {};\nAWS.LexModelBuildingService = Service.defineService('lexmodelbuildingservice', ['2017-04-19']);\nObject.defineProperty(apiLoader.services['lexmodelbuildingservice'], '2017-04-19', {\n  get: function get() {\n    var model = require('../apis/lex-models-2017-04-19.min.json');\n    model.paginators = require('../apis/lex-models-2017-04-19.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.LexModelBuildingService;\n","var escapeAttribute = require('./escape-attribute').escapeAttribute;\n\n/**\n * Represents an XML node.\n * @api private\n */\nfunction XmlNode(name, children) {\n    if (children === void 0) { children = []; }\n    this.name = name;\n    this.children = children;\n    this.attributes = {};\n}\nXmlNode.prototype.addAttribute = function (name, value) {\n    this.attributes[name] = value;\n    return this;\n};\nXmlNode.prototype.addChildNode = function (child) {\n    this.children.push(child);\n    return this;\n};\nXmlNode.prototype.removeAttribute = function (name) {\n    delete this.attributes[name];\n    return this;\n};\nXmlNode.prototype.toString = function () {\n    var hasChildren = Boolean(this.children.length);\n    var xmlText = '<' + this.name;\n    // add attributes\n    var attributes = this.attributes;\n    for (var i = 0, attributeNames = Object.keys(attributes); i < attributeNames.length; i++) {\n        var attributeName = attributeNames[i];\n        var attribute = attributes[attributeName];\n        if (typeof attribute !== 'undefined' && attribute !== null) {\n            xmlText += ' ' + attributeName + '=\\\"' + escapeAttribute('' + attribute) + '\\\"';\n        }\n    }\n    return xmlText += !hasChildren ? '/>' : '>' + this.children.map(function (c) { return c.toString(); }).join('') + '</' + this.name + '>';\n};\n\n/**\n * @api private\n */\nmodule.exports = {\n    XmlNode: XmlNode\n};\n","var AWS = require('./core');\nvar inherit = AWS.util.inherit;\nvar jmespath = require('jmespath');\n\n/**\n * This class encapsulates the response information\n * from a service request operation sent through {AWS.Request}.\n * The response object has two main properties for getting information\n * back from a request:\n *\n * ## The `data` property\n *\n * The `response.data` property contains the serialized object data\n * retrieved from the service request. For instance, for an\n * Amazon DynamoDB `listTables` method call, the response data might\n * look like:\n *\n * ```\n * > resp.data\n * { TableNames:\n *    [ 'table1', 'table2', ... ] }\n * ```\n *\n * The `data` property can be null if an error occurs (see below).\n *\n * ## The `error` property\n *\n * In the event of a service error (or transfer error), the\n * `response.error` property will be filled with the given\n * error data in the form:\n *\n * ```\n * { code: 'SHORT_UNIQUE_ERROR_CODE',\n *   message: 'Some human readable error message' }\n * ```\n *\n * In the case of an error, the `data` property will be `null`.\n * Note that if you handle events that can be in a failure state,\n * you should always check whether `response.error` is set\n * before attempting to access the `response.data` property.\n *\n * @!attribute data\n *   @readonly\n *   @!group Data Properties\n *   @note Inside of a {AWS.Request~httpData} event, this\n *     property contains a single raw packet instead of the\n *     full de-serialized service response.\n *   @return [Object] the de-serialized response data\n *     from the service.\n *\n * @!attribute error\n *   An structure containing information about a service\n *   or networking error.\n *   @readonly\n *   @!group Data Properties\n *   @note This attribute is only filled if a service or\n *     networking error occurs.\n *   @return [Error]\n *     * code [String] a unique short code representing the\n *       error that was emitted.\n *     * message [String] a longer human readable error message\n *     * retryable [Boolean] whether the error message is\n *       retryable.\n *     * statusCode [Numeric] in the case of a request that reached the service,\n *       this value contains the response status code.\n *     * time [Date] the date time object when the error occurred.\n *     * hostname [String] set when a networking error occurs to easily\n *       identify the endpoint of the request.\n *     * region [String] set when a networking error occurs to easily\n *       identify the region of the request.\n *\n * @!attribute requestId\n *   @readonly\n *   @!group Data Properties\n *   @return [String] the unique request ID associated with the response.\n *     Log this value when debugging requests for AWS support.\n *\n * @!attribute retryCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of retries that were\n *     attempted before the request was completed.\n *\n * @!attribute redirectCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of redirects that were\n *     followed before the request was completed.\n *\n * @!attribute httpResponse\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpResponse] the raw HTTP response object\n *     containing the response headers and body information\n *     from the server.\n *\n * @see AWS.Request\n */\nAWS.Response = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function Response(request) {\n    this.request = request;\n    this.data = null;\n    this.error = null;\n    this.retryCount = 0;\n    this.redirectCount = 0;\n    this.httpResponse = new AWS.HttpResponse();\n    if (request) {\n      this.maxRetries = request.service.numRetries();\n      this.maxRedirects = request.service.config.maxRedirects;\n    }\n  },\n\n  /**\n   * Creates a new request for the next page of response data, calling the\n   * callback with the page data if a callback is provided.\n   *\n   * @callback callback function(err, data)\n   *   Called when a page of data is returned from the next request.\n   *\n   *   @param err [Error] an error object, if an error occurred in the request\n   *   @param data [Object] the next page of data, or null, if there are no\n   *     more pages left.\n   * @return [AWS.Request] the request object for the next page of data\n   * @return [null] if no callback is provided and there are no pages left\n   *   to retrieve.\n   * @since v1.4.0\n   */\n  nextPage: function nextPage(callback) {\n    var config;\n    var service = this.request.service;\n    var operation = this.request.operation;\n    try {\n      config = service.paginationConfig(operation, true);\n    } catch (e) { this.error = e; }\n\n    if (!this.hasNextPage()) {\n      if (callback) callback(this.error, null);\n      else if (this.error) throw this.error;\n      return null;\n    }\n\n    var params = AWS.util.copy(this.request.params);\n    if (!this.nextPageTokens) {\n      return callback ? callback(null, null) : null;\n    } else {\n      var inputTokens = config.inputToken;\n      if (typeof inputTokens === 'string') inputTokens = [inputTokens];\n      for (var i = 0; i < inputTokens.length; i++) {\n        params[inputTokens[i]] = this.nextPageTokens[i];\n      }\n      return service.makeRequest(this.request.operation, params, callback);\n    }\n  },\n\n  /**\n   * @return [Boolean] whether more pages of data can be returned by further\n   *   requests\n   * @since v1.4.0\n   */\n  hasNextPage: function hasNextPage() {\n    this.cacheNextPageTokens();\n    if (this.nextPageTokens) return true;\n    if (this.nextPageTokens === undefined) return undefined;\n    else return false;\n  },\n\n  /**\n   * @api private\n   */\n  cacheNextPageTokens: function cacheNextPageTokens() {\n    if (Object.prototype.hasOwnProperty.call(this, 'nextPageTokens')) return this.nextPageTokens;\n    this.nextPageTokens = undefined;\n\n    var config = this.request.service.paginationConfig(this.request.operation);\n    if (!config) return this.nextPageTokens;\n\n    this.nextPageTokens = null;\n    if (config.moreResults) {\n      if (!jmespath.search(this.data, config.moreResults)) {\n        return this.nextPageTokens;\n      }\n    }\n\n    var exprs = config.outputToken;\n    if (typeof exprs === 'string') exprs = [exprs];\n    AWS.util.arrayEach.call(this, exprs, function (expr) {\n      var output = jmespath.search(this.data, expr);\n      if (output) {\n        this.nextPageTokens = this.nextPageTokens || [];\n        this.nextPageTokens.push(output);\n      }\n    });\n\n    return this.nextPageTokens;\n  }\n\n});\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['route53domains'] = {};\nAWS.Route53Domains = Service.defineService('route53domains', ['2014-05-15']);\nObject.defineProperty(apiLoader.services['route53domains'], '2014-05-15', {\n  get: function get() {\n    var model = require('../apis/route53domains-2014-05-15.min.json');\n    model.paginators = require('../apis/route53domains-2014-05-15.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Route53Domains;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['mobileanalytics'] = {};\nAWS.MobileAnalytics = Service.defineService('mobileanalytics', ['2014-06-05']);\nObject.defineProperty(apiLoader.services['mobileanalytics'], '2014-06-05', {\n  get: function get() {\n    var model = require('../apis/mobileanalytics-2014-06-05.min.json');\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.MobileAnalytics;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['iotdata'] = {};\nAWS.IotData = Service.defineService('iotdata', ['2015-05-28']);\nrequire('../lib/services/iotdata');\nObject.defineProperty(apiLoader.services['iotdata'], '2015-05-28', {\n  get: function get() {\n    var model = require('../apis/iot-data-2015-05-28.min.json');\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.IotData;\n","var AWS = require('./core');\nrequire('./credentials');\nrequire('./credentials/credential_provider_chain');\nvar PromisesDependency;\n\n/**\n * The main configuration class used by all service objects to set\n * the region, credentials, and other options for requests.\n *\n * By default, credentials and region settings are left unconfigured.\n * This should be configured by the application before using any\n * AWS service APIs.\n *\n * In order to set global configuration options, properties should\n * be assigned to the global {AWS.config} object.\n *\n * @see AWS.config\n *\n * @!group General Configuration Options\n *\n * @!attribute credentials\n *   @return [AWS.Credentials] the AWS credentials to sign requests with.\n *\n * @!attribute region\n *   @example Set the global region setting to us-west-2\n *     AWS.config.update({region: 'us-west-2'});\n *   @return [AWS.Credentials] The region to send service requests to.\n *   @see http://docs.amazonwebservices.com/general/latest/gr/rande.html\n *     A list of available endpoints for each AWS service\n *\n * @!attribute maxRetries\n *   @return [Integer] the maximum amount of retries to perform for a\n *     service request. By default this value is calculated by the specific\n *     service object that the request is being made to.\n *\n * @!attribute maxRedirects\n *   @return [Integer] the maximum amount of redirects to follow for a\n *     service request. Defaults to 10.\n *\n * @!attribute paramValidation\n *   @return [Boolean|map] whether input parameters should be validated against\n *     the operation description before sending the request. Defaults to true.\n *     Pass a map to enable any of the following specific validation features:\n *\n *     * **min** [Boolean] &mdash; Validates that a value meets the min\n *       constraint. This is enabled by default when paramValidation is set\n *       to `true`.\n *     * **max** [Boolean] &mdash; Validates that a value meets the max\n *       constraint.\n *     * **pattern** [Boolean] &mdash; Validates that a string value matches a\n *       regular expression.\n *     * **enum** [Boolean] &mdash; Validates that a string value matches one\n *       of the allowable enum values.\n *\n * @!attribute computeChecksums\n *   @return [Boolean] whether to compute checksums for payload bodies when\n *     the service accepts it (currently supported in S3 only).\n *\n * @!attribute convertResponseTypes\n *   @return [Boolean] whether types are converted when parsing response data.\n *     Currently only supported for JSON based services. Turning this off may\n *     improve performance on large response payloads. Defaults to `true`.\n *\n * @!attribute correctClockSkew\n *   @return [Boolean] whether to apply a clock skew correction and retry\n *     requests that fail because of an skewed client clock. Defaults to\n *     `false`.\n *\n * @!attribute sslEnabled\n *   @return [Boolean] whether SSL is enabled for requests\n *\n * @!attribute s3ForcePathStyle\n *   @return [Boolean] whether to force path style URLs for S3 objects\n *\n * @!attribute s3BucketEndpoint\n *   @note Setting this configuration option requires an `endpoint` to be\n *     provided explicitly to the service constructor.\n *   @return [Boolean] whether the provided endpoint addresses an individual\n *     bucket (false if it addresses the root API endpoint).\n *\n * @!attribute s3DisableBodySigning\n *   @return [Boolean] whether to disable S3 body signing when using signature version `v4`.\n *     Body signing can only be disabled when using https. Defaults to `true`.\n *\n * @!attribute useAccelerateEndpoint\n *   @note This configuration option is only compatible with S3 while accessing\n *     dns-compatible buckets.\n *   @return [Boolean] Whether to use the Accelerate endpoint with the S3 service.\n *     Defaults to `false`.\n *\n * @!attribute retryDelayOptions\n *   @example Set the base retry delay for all services to 300 ms\n *     AWS.config.update({retryDelayOptions: {base: 300}});\n *     // Delays with maxRetries = 3: 300, 600, 1200\n *   @example Set a custom backoff function to provide delay values on retries\n *     AWS.config.update({retryDelayOptions: {customBackoff: function(retryCount, err) {\n *       // returns delay in ms\n *     }}});\n *   @return [map] A set of options to configure the retry delay on retryable errors.\n *     Currently supported options are:\n *\n *     * **base** [Integer] &mdash; The base number of milliseconds to use in the\n *       exponential backoff for operation retries. Defaults to 100 ms for all services except\n *       DynamoDB, where it defaults to 50ms.\n *\n *     * **customBackoff ** [function] &mdash; A custom function that accepts a\n *       retry count and error and returns the amount of time to delay in\n *       milliseconds. If the result is a non-zero negative value, no further\n *       retry attempts will be made. The `base` option will be ignored if this\n *       option is supplied.\n *\n * @!attribute httpOptions\n *   @return [map] A set of options to pass to the low-level HTTP request.\n *     Currently supported options are:\n *\n *     * **proxy** [String] &mdash; the URL to proxy requests through\n *     * **agent** [http.Agent, https.Agent] &mdash; the Agent object to perform\n *       HTTP requests with. Used for connection pooling. Note that for\n *       SSL connections, a special Agent object is used in order to enable\n *       peer certificate verification. This feature is only supported in the\n *       Node.js environment.\n *     * **connectTimeout** [Integer] &mdash; Sets the socket to timeout after\n *       failing to establish a connection with the server after\n *       `connectTimeout` milliseconds. This timeout has no effect once a socket\n *       connection has been established.\n *     * **timeout** [Integer] &mdash; Sets the socket to timeout after timeout\n *       milliseconds of inactivity on the socket. Defaults to two minutes\n *       (120000)\n *     * **xhrAsync** [Boolean] &mdash; Whether the SDK will send asynchronous\n *       HTTP requests. Used in the browser environment only. Set to false to\n *       send requests synchronously. Defaults to true (async on).\n *     * **xhrWithCredentials** [Boolean] &mdash; Sets the \"withCredentials\"\n *       property of an XMLHttpRequest object. Used in the browser environment\n *       only. Defaults to false.\n * @!attribute logger\n *   @return [#write,#log] an object that responds to .write() (like a stream)\n *     or .log() (like the console object) in order to log information about\n *     requests\n *\n * @!attribute systemClockOffset\n *   @return [Number] an offset value in milliseconds to apply to all signing\n *     times. Use this to compensate for clock skew when your system may be\n *     out of sync with the service time. Note that this configuration option\n *     can only be applied to the global `AWS.config` object and cannot be\n *     overridden in service-specific configuration. Defaults to 0 milliseconds.\n *\n * @!attribute signatureVersion\n *   @return [String] the signature version to sign requests with (overriding\n *     the API configuration). Possible values are: 'v2', 'v3', 'v4'.\n *\n * @!attribute signatureCache\n *   @return [Boolean] whether the signature to sign requests with (overriding\n *     the API configuration) is cached. Only applies to the signature version 'v4'.\n *     Defaults to `true`.\n *\n * @!attribute endpointDiscoveryEnabled\n *   @return [Boolean] whether to enable endpoint discovery for operations that\n *     allow optionally using an endpoint returned by the service.\n *     Defaults to 'false'\n *\n * @!attribute endpointCacheSize\n *   @return [Number] the size of the global cache storing endpoints from endpoint\n *     discovery operations. Once endpoint cache is created, updating this setting\n *     cannot change existing cache size.\n *     Defaults to 1000\n *\n * @!attribute hostPrefixEnabled\n *   @return [Boolean] whether to marshal request parameters to the prefix of\n *     hostname. Defaults to `true`.\n *\n * @!attribute stsRegionalEndpoints\n *   @return ['legacy'|'regional'] whether to send sts request to global endpoints or\n *     regional endpoints.\n *     Defaults to 'legacy'\n */\nAWS.Config = AWS.util.inherit({\n  /**\n   * @!endgroup\n   */\n\n  /**\n   * Creates a new configuration object. This is the object that passes\n   * option data along to service requests, including credentials, security,\n   * region information, and some service specific settings.\n   *\n   * @example Creating a new configuration object with credentials and region\n   *   var config = new AWS.Config({\n   *     accessKeyId: 'AKID', secretAccessKey: 'SECRET', region: 'us-west-2'\n   *   });\n   * @option options accessKeyId [String] your AWS access key ID.\n   * @option options secretAccessKey [String] your AWS secret access key.\n   * @option options sessionToken [AWS.Credentials] the optional AWS\n   *   session token to sign requests with.\n   * @option options credentials [AWS.Credentials] the AWS credentials\n   *   to sign requests with. You can either specify this object, or\n   *   specify the accessKeyId and secretAccessKey options directly.\n   * @option options credentialProvider [AWS.CredentialProviderChain] the\n   *   provider chain used to resolve credentials if no static `credentials`\n   *   property is set.\n   * @option options region [String] the region to send service requests to.\n   *   See {region} for more information.\n   * @option options maxRetries [Integer] the maximum amount of retries to\n   *   attempt with a request. See {maxRetries} for more information.\n   * @option options maxRedirects [Integer] the maximum amount of redirects to\n   *   follow with a request. See {maxRedirects} for more information.\n   * @option options sslEnabled [Boolean] whether to enable SSL for\n   *   requests.\n   * @option options paramValidation [Boolean|map] whether input parameters\n   *   should be validated against the operation description before sending\n   *   the request. Defaults to true. Pass a map to enable any of the\n   *   following specific validation features:\n   *\n   *   * **min** [Boolean] &mdash; Validates that a value meets the min\n   *     constraint. This is enabled by default when paramValidation is set\n   *     to `true`.\n   *   * **max** [Boolean] &mdash; Validates that a value meets the max\n   *     constraint.\n   *   * **pattern** [Boolean] &mdash; Validates that a string value matches a\n   *     regular expression.\n   *   * **enum** [Boolean] &mdash; Validates that a string value matches one\n   *     of the allowable enum values.\n   * @option options computeChecksums [Boolean] whether to compute checksums\n   *   for payload bodies when the service accepts it (currently supported\n   *   in S3 only)\n   * @option options convertResponseTypes [Boolean] whether types are converted\n   *     when parsing response data. Currently only supported for JSON based\n   *     services. Turning this off may improve performance on large response\n   *     payloads. Defaults to `true`.\n   * @option options correctClockSkew [Boolean] whether to apply a clock skew\n   *     correction and retry requests that fail because of an skewed client\n   *     clock. Defaults to `false`.\n   * @option options s3ForcePathStyle [Boolean] whether to force path\n   *   style URLs for S3 objects.\n   * @option options s3BucketEndpoint [Boolean] whether the provided endpoint\n   *   addresses an individual bucket (false if it addresses the root API\n   *   endpoint). Note that setting this configuration option requires an\n   *   `endpoint` to be provided explicitly to the service constructor.\n   * @option options s3DisableBodySigning [Boolean] whether S3 body signing\n   *   should be disabled when using signature version `v4`. Body signing\n   *   can only be disabled when using https. Defaults to `true`.\n   *\n   * @option options retryDelayOptions [map] A set of options to configure\n   *   the retry delay on retryable errors. Currently supported options are:\n   *\n   *   * **base** [Integer] &mdash; The base number of milliseconds to use in the\n   *     exponential backoff for operation retries. Defaults to 100 ms for all\n   *     services except DynamoDB, where it defaults to 50ms.\n   *   * **customBackoff ** [function] &mdash; A custom function that accepts a\n   *     retry count and error and returns the amount of time to delay in\n   *     milliseconds. If the result is a non-zero negative value, no further\n   *     retry attempts will be made. The `base` option will be ignored if this\n   *     option is supplied.\n   * @option options httpOptions [map] A set of options to pass to the low-level\n   *   HTTP request. Currently supported options are:\n   *\n   *   * **proxy** [String] &mdash; the URL to proxy requests through\n   *   * **agent** [http.Agent, https.Agent] &mdash; the Agent object to perform\n   *     HTTP requests with. Used for connection pooling. Defaults to the global\n   *     agent (`http.globalAgent`) for non-SSL connections. Note that for\n   *     SSL connections, a special Agent object is used in order to enable\n   *     peer certificate verification. This feature is only available in the\n   *     Node.js environment.\n   *   * **connectTimeout** [Integer] &mdash; Sets the socket to timeout after\n   *     failing to establish a connection with the server after\n   *     `connectTimeout` milliseconds. This timeout has no effect once a socket\n   *     connection has been established.\n   *   * **timeout** [Integer] &mdash; Sets the socket to timeout after timeout\n   *     milliseconds of inactivity on the socket. Defaults to two minutes\n   *     (120000).\n   *   * **xhrAsync** [Boolean] &mdash; Whether the SDK will send asynchronous\n   *     HTTP requests. Used in the browser environment only. Set to false to\n   *     send requests synchronously. Defaults to true (async on).\n   *   * **xhrWithCredentials** [Boolean] &mdash; Sets the \"withCredentials\"\n   *     property of an XMLHttpRequest object. Used in the browser environment\n   *     only. Defaults to false.\n   * @option options apiVersion [String, Date] a String in YYYY-MM-DD format\n   *   (or a date) that represents the latest possible API version that can be\n   *   used in all services (unless overridden by `apiVersions`). Specify\n   *   'latest' to use the latest possible version.\n   * @option options apiVersions [map<String, String|Date>] a map of service\n   *   identifiers (the lowercase service class name) with the API version to\n   *   use when instantiating a service. Specify 'latest' for each individual\n   *   that can use the latest available version.\n   * @option options logger [#write,#log] an object that responds to .write()\n   *   (like a stream) or .log() (like the console object) in order to log\n   *   information about requests\n   * @option options systemClockOffset [Number] an offset value in milliseconds\n   *   to apply to all signing times. Use this to compensate for clock skew\n   *   when your system may be out of sync with the service time. Note that\n   *   this configuration option can only be applied to the global `AWS.config`\n   *   object and cannot be overridden in service-specific configuration.\n   *   Defaults to 0 milliseconds.\n   * @option options signatureVersion [String] the signature version to sign\n   *   requests with (overriding the API configuration). Possible values are:\n   *   'v2', 'v3', 'v4'.\n   * @option options signatureCache [Boolean] whether the signature to sign\n   *   requests with (overriding the API configuration) is cached. Only applies\n   *   to the signature version 'v4'. Defaults to `true`.\n   * @option options dynamoDbCrc32 [Boolean] whether to validate the CRC32\n   *   checksum of HTTP response bodies returned by DynamoDB. Default: `true`.\n   * @option options useAccelerateEndpoint [Boolean] Whether to use the\n   *   S3 Transfer Acceleration endpoint with the S3 service. Default: `false`.\n   * @option options clientSideMonitoring [Boolean] whether to collect and\n   *   publish this client's performance metrics of all its API requests.\n   * @option options endpointDiscoveryEnabled [Boolean] whether to enable endpoint\n   *   discovery for operations that allow optionally using an endpoint returned by\n   *   the service.\n   *   Defaults to 'false'\n   * @option options endpointCacheSize [Number] the size of the global cache storing\n   *   endpoints from endpoint discovery operations. Once endpoint cache is created,\n   *   updating this setting cannot change existing cache size.\n   *   Defaults to 1000\n   * @option options hostPrefixEnabled [Boolean] whether to marshal request\n   *   parameters to the prefix of hostname.\n   *   Defaults to `true`.\n   * @option options stsRegionalEndpoints ['legacy'|'regional'] whether to send sts request\n   *   to global endpoints or regional endpoints.\n   *   Defaults to 'legacy'.\n   */\n  constructor: function Config(options) {\n    if (options === undefined) options = {};\n    options = this.extractCredentials(options);\n\n    AWS.util.each.call(this, this.keys, function (key, value) {\n      this.set(key, options[key], value);\n    });\n  },\n\n  /**\n   * @!group Managing Credentials\n   */\n\n  /**\n   * Loads credentials from the configuration object. This is used internally\n   * by the SDK to ensure that refreshable {Credentials} objects are properly\n   * refreshed and loaded when sending a request. If you want to ensure that\n   * your credentials are loaded prior to a request, you can use this method\n   * directly to provide accurate credential data stored in the object.\n   *\n   * @note If you configure the SDK with static or environment credentials,\n   *   the credential data should already be present in {credentials} attribute.\n   *   This method is primarily necessary to load credentials from asynchronous\n   *   sources, or sources that can refresh credentials periodically.\n   * @example Getting your access key\n   *   AWS.config.getCredentials(function(err) {\n   *     if (err) console.log(err.stack); // credentials not loaded\n   *     else console.log(\"Access Key:\", AWS.config.credentials.accessKeyId);\n   *   })\n   * @callback callback function(err)\n   *   Called when the {credentials} have been properly set on the configuration\n   *   object.\n   *\n   *   @param err [Error] if this is set, credentials were not successfully\n   *     loaded and this error provides information why.\n   * @see credentials\n   * @see Credentials\n   */\n  getCredentials: function getCredentials(callback) {\n    var self = this;\n\n    function finish(err) {\n      callback(err, err ? null : self.credentials);\n    }\n\n    function credError(msg, err) {\n      return new AWS.util.error(err || new Error(), {\n        code: 'CredentialsError',\n        message: msg,\n        name: 'CredentialsError'\n      });\n    }\n\n    function getAsyncCredentials() {\n      self.credentials.get(function(err) {\n        if (err) {\n          var msg = 'Could not load credentials from ' +\n            self.credentials.constructor.name;\n          err = credError(msg, err);\n        }\n        finish(err);\n      });\n    }\n\n    function getStaticCredentials() {\n      var err = null;\n      if (!self.credentials.accessKeyId || !self.credentials.secretAccessKey) {\n        err = credError('Missing credentials');\n      }\n      finish(err);\n    }\n\n    if (self.credentials) {\n      if (typeof self.credentials.get === 'function') {\n        getAsyncCredentials();\n      } else { // static credentials\n        getStaticCredentials();\n      }\n    } else if (self.credentialProvider) {\n      self.credentialProvider.resolve(function(err, creds) {\n        if (err) {\n          err = credError('Could not load credentials from any providers', err);\n        }\n        self.credentials = creds;\n        finish(err);\n      });\n    } else {\n      finish(credError('No credentials to load'));\n    }\n  },\n\n  /**\n   * @!group Loading and Setting Configuration Options\n   */\n\n  /**\n   * @overload update(options, allowUnknownKeys = false)\n   *   Updates the current configuration object with new options.\n   *\n   *   @example Update maxRetries property of a configuration object\n   *     config.update({maxRetries: 10});\n   *   @param [Object] options a map of option keys and values.\n   *   @param [Boolean] allowUnknownKeys whether unknown keys can be set on\n   *     the configuration object. Defaults to `false`.\n   *   @see constructor\n   */\n  update: function update(options, allowUnknownKeys) {\n    allowUnknownKeys = allowUnknownKeys || false;\n    options = this.extractCredentials(options);\n    AWS.util.each.call(this, options, function (key, value) {\n      if (allowUnknownKeys || Object.prototype.hasOwnProperty.call(this.keys, key) ||\n          AWS.Service.hasService(key)) {\n        this.set(key, value);\n      }\n    });\n  },\n\n  /**\n   * Loads configuration data from a JSON file into this config object.\n   * @note Loading configuration will reset all existing configuration\n   *   on the object.\n   * @!macro nobrowser\n   * @param path [String] the path relative to your process's current\n   *    working directory to load configuration from.\n   * @return [AWS.Config] the same configuration object\n   */\n  loadFromPath: function loadFromPath(path) {\n    this.clear();\n\n    var options = JSON.parse(AWS.util.readFileSync(path));\n    var fileSystemCreds = new AWS.FileSystemCredentials(path);\n    var chain = new AWS.CredentialProviderChain();\n    chain.providers.unshift(fileSystemCreds);\n    chain.resolve(function (err, creds) {\n      if (err) throw err;\n      else options.credentials = creds;\n    });\n\n    this.constructor(options);\n\n    return this;\n  },\n\n  /**\n   * Clears configuration data on this object\n   *\n   * @api private\n   */\n  clear: function clear() {\n    /*jshint forin:false */\n    AWS.util.each.call(this, this.keys, function (key) {\n      delete this[key];\n    });\n\n    // reset credential provider\n    this.set('credentials', undefined);\n    this.set('credentialProvider', undefined);\n  },\n\n  /**\n   * Sets a property on the configuration object, allowing for a\n   * default value\n   * @api private\n   */\n  set: function set(property, value, defaultValue) {\n    if (value === undefined) {\n      if (defaultValue === undefined) {\n        defaultValue = this.keys[property];\n      }\n      if (typeof defaultValue === 'function') {\n        this[property] = defaultValue.call(this);\n      } else {\n        this[property] = defaultValue;\n      }\n    } else if (property === 'httpOptions' && this[property]) {\n      // deep merge httpOptions\n      this[property] = AWS.util.merge(this[property], value);\n    } else {\n      this[property] = value;\n    }\n  },\n\n  /**\n   * All of the keys with their default values.\n   *\n   * @constant\n   * @api private\n   */\n  keys: {\n    credentials: null,\n    credentialProvider: null,\n    region: null,\n    logger: null,\n    apiVersions: {},\n    apiVersion: null,\n    endpoint: undefined,\n    httpOptions: {\n      timeout: 120000\n    },\n    maxRetries: undefined,\n    maxRedirects: 10,\n    paramValidation: true,\n    sslEnabled: true,\n    s3ForcePathStyle: false,\n    s3BucketEndpoint: false,\n    s3DisableBodySigning: true,\n    computeChecksums: true,\n    convertResponseTypes: true,\n    correctClockSkew: false,\n    customUserAgent: null,\n    dynamoDbCrc32: true,\n    systemClockOffset: 0,\n    signatureVersion: null,\n    signatureCache: true,\n    retryDelayOptions: {},\n    useAccelerateEndpoint: false,\n    clientSideMonitoring: false,\n    endpointDiscoveryEnabled: false,\n    endpointCacheSize: 1000,\n    hostPrefixEnabled: true,\n    stsRegionalEndpoints: null\n  },\n\n  /**\n   * Extracts accessKeyId, secretAccessKey and sessionToken\n   * from a configuration hash.\n   *\n   * @api private\n   */\n  extractCredentials: function extractCredentials(options) {\n    if (options.accessKeyId && options.secretAccessKey) {\n      options = AWS.util.copy(options);\n      options.credentials = new AWS.Credentials(options);\n    }\n    return options;\n  },\n\n  /**\n   * Sets the promise dependency the SDK will use wherever Promises are returned.\n   * Passing `null` will force the SDK to use native Promises if they are available.\n   * If native Promises are not available, passing `null` will have no effect.\n   * @param [Constructor] dep A reference to a Promise constructor\n   */\n  setPromisesDependency: function setPromisesDependency(dep) {\n    PromisesDependency = dep;\n    // if null was passed in, we should try to use native promises\n    if (dep === null && typeof Promise === 'function') {\n      PromisesDependency = Promise;\n    }\n    var constructors = [AWS.Request, AWS.Credentials, AWS.CredentialProviderChain];\n    if (AWS.S3) {\n      constructors.push(AWS.S3);\n      if (AWS.S3.ManagedUpload) {\n        constructors.push(AWS.S3.ManagedUpload);\n      }\n    }\n    AWS.util.addPromises(constructors, PromisesDependency);\n  },\n\n  /**\n   * Gets the promise dependency set by `AWS.config.setPromisesDependency`.\n   */\n  getPromisesDependency: function getPromisesDependency() {\n    return PromisesDependency;\n  }\n});\n\n/**\n * @return [AWS.Config] The global configuration object singleton instance\n * @readonly\n * @see AWS.Config\n */\nAWS.config = new AWS.Config();\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['ecr'] = {};\nAWS.ECR = Service.defineService('ecr', ['2015-09-21']);\nObject.defineProperty(apiLoader.services['ecr'], '2015-09-21', {\n  get: function get() {\n    var model = require('../apis/ecr-2015-09-21.min.json');\n    model.paginators = require('../apis/ecr-2015-09-21.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ECR;\n","var escapeElement = require('./escape-element').escapeElement;\n\n/**\n * Represents an XML text value.\n * @api private\n */\nfunction XmlText(value) {\n    this.value = value;\n}\n\nXmlText.prototype.toString = function () {\n    return escapeElement('' + this.value);\n};\n\n/**\n * @api private\n */\nmodule.exports = {\n    XmlText: XmlText\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['rekognition'] = {};\nAWS.Rekognition = Service.defineService('rekognition', ['2016-06-27']);\nObject.defineProperty(apiLoader.services['rekognition'], '2016-06-27', {\n  get: function get() {\n    var model = require('../apis/rekognition-2016-06-27.min.json');\n    model.paginators = require('../apis/rekognition-2016-06-27.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Rekognition;\n","var parseMessage = require('./parse-message').parseMessage;\n\n/**\n *\n * @param {*} parser\n * @param {Buffer} message\n * @param {*} shape\n * @api private\n */\nfunction parseEvent(parser, message, shape) {\n    var parsedMessage = parseMessage(message);\n\n    // check if message is an event or error\n    var messageType = parsedMessage.headers[':message-type'];\n    if (messageType) {\n        if (messageType.value === 'error') {\n            throw parseError(parsedMessage);\n        } else if (messageType.value !== 'event') {\n            // not sure how to parse non-events/non-errors, ignore for now\n            return;\n        }\n    }\n\n    // determine event type\n    var eventType = parsedMessage.headers[':event-type'];\n    // check that the event type is modeled\n    var eventModel = shape.members[eventType.value];\n    if (!eventModel) {\n        return;\n    }\n\n    var result = {};\n    // check if an event payload exists\n    var eventPayloadMemberName = eventModel.eventPayloadMemberName;\n    if (eventPayloadMemberName) {\n        var payloadShape = eventModel.members[eventPayloadMemberName];\n        // if the shape is binary, return the byte array\n        if (payloadShape.type === 'binary') {\n            result[eventPayloadMemberName] = parsedMessage.body;\n        } else {\n            result[eventPayloadMemberName] = parser.parse(parsedMessage.body.toString(), payloadShape);\n        }\n    }\n\n    // read event headers\n    var eventHeaderNames = eventModel.eventHeaderMemberNames;\n    for (var i = 0; i < eventHeaderNames.length; i++) {\n        var name = eventHeaderNames[i];\n        if (parsedMessage.headers[name]) {\n            // parse the header!\n            result[name] = eventModel.members[name].toType(parsedMessage.headers[name].value);\n        }\n    }\n\n    var output = {};\n    output[eventType.value] = result;\n    return output;\n}\n\nfunction parseError(message) {\n    var errorCode = message.headers[':error-code'];\n    var errorMessage = message.headers[':error-message'];\n    var error = new Error(errorMessage.value || errorMessage);\n    error.code = error.name = errorCode.value || errorCode;\n    return error;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    parseEvent: parseEvent\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['costexplorer'] = {};\nAWS.CostExplorer = Service.defineService('costexplorer', ['2017-10-25']);\nObject.defineProperty(apiLoader.services['costexplorer'], '2017-10-25', {\n  get: function get() {\n    var model = require('../apis/ce-2017-10-25.min.json');\n    model.paginators = require('../apis/ce-2017-10-25.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CostExplorer;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['route53'] = {};\nAWS.Route53 = Service.defineService('route53', ['2013-04-01']);\nrequire('../lib/services/route53');\nObject.defineProperty(apiLoader.services['route53'], '2013-04-01', {\n  get: function get() {\n    var model = require('../apis/route53-2013-04-01.min.json');\n    model.paginators = require('../apis/route53-2013-04-01.paginators.json').pagination;\n    model.waiters = require('../apis/route53-2013-04-01.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Route53;\n","var AWS = require('../core');\nvar util = require('../util');\nvar Rest = require('./rest');\n\nfunction populateBody(req) {\n  var input = req.service.api.operations[req.operation].input;\n  var builder = new AWS.XML.Builder();\n  var params = req.params;\n\n  var payload = input.payload;\n  if (payload) {\n    var payloadMember = input.members[payload];\n    params = params[payload];\n    if (params === undefined) return;\n\n    if (payloadMember.type === 'structure') {\n      var rootElement = payloadMember.name;\n      req.httpRequest.body = builder.toXML(params, payloadMember, rootElement, true);\n    } else { // non-xml payload\n      req.httpRequest.body = params;\n    }\n  } else {\n    req.httpRequest.body = builder.toXML(params, input, input.name ||\n      input.shape || util.string.upperFirst(req.operation) + 'Request');\n  }\n}\n\nfunction buildRequest(req) {\n  Rest.buildRequest(req);\n\n  // never send body payload on GET/HEAD\n  if (['GET', 'HEAD'].indexOf(req.httpRequest.method) < 0) {\n    populateBody(req);\n  }\n}\n\nfunction extractError(resp) {\n  Rest.extractError(resp);\n\n  var data;\n  try {\n    data = new AWS.XML.Parser().parse(resp.httpResponse.body.toString());\n  } catch (e) {\n    data = {\n      Code: resp.httpResponse.statusCode,\n      Message: resp.httpResponse.statusMessage\n    };\n  }\n\n  if (data.Errors) data = data.Errors;\n  if (data.Error) data = data.Error;\n  if (data.Code) {\n    resp.error = util.error(new Error(), {\n      code: data.Code,\n      message: data.Message\n    });\n  } else {\n    resp.error = util.error(new Error(), {\n      code: resp.httpResponse.statusCode,\n      message: null\n    });\n  }\n}\n\nfunction extractData(resp) {\n  Rest.extractData(resp);\n\n  var parser;\n  var req = resp.request;\n  var body = resp.httpResponse.body;\n  var operation = req.service.api.operations[req.operation];\n  var output = operation.output;\n\n  var hasEventOutput = operation.hasEventOutput;\n\n  var payload = output.payload;\n  if (payload) {\n    var payloadMember = output.members[payload];\n    if (payloadMember.isEventStream) {\n      parser = new AWS.XML.Parser();\n      resp.data[payload] = util.createEventStream(\n        AWS.HttpClient.streamsApiVersion === 2 ? resp.httpResponse.stream : resp.httpResponse.body,\n        parser,\n        payloadMember\n      );\n    } else if (payloadMember.type === 'structure') {\n      parser = new AWS.XML.Parser();\n      resp.data[payload] = parser.parse(body.toString(), payloadMember);\n    } else if (payloadMember.type === 'binary' || payloadMember.isStreaming) {\n      resp.data[payload] = body;\n    } else {\n      resp.data[payload] = payloadMember.toType(body);\n    }\n  } else if (body.length > 0) {\n    parser = new AWS.XML.Parser();\n    var data = parser.parse(body.toString(), output);\n    util.update(resp.data, data);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var AWS = require('./core');\n\n/**\n * @api private\n * @!method on(eventName, callback)\n *   Registers an event listener callback for the event given by `eventName`.\n *   Parameters passed to the callback function depend on the individual event\n *   being triggered. See the event documentation for those parameters.\n *\n *   @param eventName [String] the event name to register the listener for\n *   @param callback [Function] the listener callback function\n *   @param toHead [Boolean] attach the listener callback to the head of callback array if set to true.\n *     Default to be false.\n *   @return [AWS.SequentialExecutor] the same object for chaining\n */\nAWS.SequentialExecutor = AWS.util.inherit({\n\n  constructor: function SequentialExecutor() {\n    this._events = {};\n  },\n\n  /**\n   * @api private\n   */\n  listeners: function listeners(eventName) {\n    return this._events[eventName] ? this._events[eventName].slice(0) : [];\n  },\n\n  on: function on(eventName, listener, toHead) {\n    if (this._events[eventName]) {\n      toHead ?\n        this._events[eventName].unshift(listener) :\n        this._events[eventName].push(listener);\n    } else {\n      this._events[eventName] = [listener];\n    }\n    return this;\n  },\n\n  onAsync: function onAsync(eventName, listener, toHead) {\n    listener._isAsync = true;\n    return this.on(eventName, listener, toHead);\n  },\n\n  removeListener: function removeListener(eventName, listener) {\n    var listeners = this._events[eventName];\n    if (listeners) {\n      var length = listeners.length;\n      var position = -1;\n      for (var i = 0; i < length; ++i) {\n        if (listeners[i] === listener) {\n          position = i;\n        }\n      }\n      if (position > -1) {\n        listeners.splice(position, 1);\n      }\n    }\n    return this;\n  },\n\n  removeAllListeners: function removeAllListeners(eventName) {\n    if (eventName) {\n      delete this._events[eventName];\n    } else {\n      this._events = {};\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  emit: function emit(eventName, eventArgs, doneCallback) {\n    if (!doneCallback) doneCallback = function() { };\n    var listeners = this.listeners(eventName);\n    var count = listeners.length;\n    this.callListeners(listeners, eventArgs, doneCallback);\n    return count > 0;\n  },\n\n  /**\n   * @api private\n   */\n  callListeners: function callListeners(listeners, args, doneCallback, prevError) {\n    var self = this;\n    var error = prevError || null;\n\n    function callNextListener(err) {\n      if (err) {\n        error = AWS.util.error(error || new Error(), err);\n        if (self._haltHandlersOnError) {\n          return doneCallback.call(self, error);\n        }\n      }\n      self.callListeners(listeners, args, doneCallback, error);\n    }\n\n    while (listeners.length > 0) {\n      var listener = listeners.shift();\n      if (listener._isAsync) { // asynchronous listener\n        listener.apply(self, args.concat([callNextListener]));\n        return; // stop here, callNextListener will continue\n      } else { // synchronous listener\n        try {\n          listener.apply(self, args);\n        } catch (err) {\n          error = AWS.util.error(error || new Error(), err);\n        }\n        if (error && self._haltHandlersOnError) {\n          doneCallback.call(self, error);\n          return;\n        }\n      }\n    }\n    doneCallback.call(self, error);\n  },\n\n  /**\n   * Adds or copies a set of listeners from another list of\n   * listeners or SequentialExecutor object.\n   *\n   * @param listeners [map<String,Array<Function>>, AWS.SequentialExecutor]\n   *   a list of events and callbacks, or an event emitter object\n   *   containing listeners to add to this emitter object.\n   * @return [AWS.SequentialExecutor] the emitter object, for chaining.\n   * @example Adding listeners from a map of listeners\n   *   emitter.addListeners({\n   *     event1: [function() { ... }, function() { ... }],\n   *     event2: [function() { ... }]\n   *   });\n   *   emitter.emit('event1'); // emitter has event1\n   *   emitter.emit('event2'); // emitter has event2\n   * @example Adding listeners from another emitter object\n   *   var emitter1 = new AWS.SequentialExecutor();\n   *   emitter1.on('event1', function() { ... });\n   *   emitter1.on('event2', function() { ... });\n   *   var emitter2 = new AWS.SequentialExecutor();\n   *   emitter2.addListeners(emitter1);\n   *   emitter2.emit('event1'); // emitter2 has event1\n   *   emitter2.emit('event2'); // emitter2 has event2\n   */\n  addListeners: function addListeners(listeners) {\n    var self = this;\n\n    // extract listeners if parameter is an SequentialExecutor object\n    if (listeners._events) listeners = listeners._events;\n\n    AWS.util.each(listeners, function(event, callbacks) {\n      if (typeof callbacks === 'function') callbacks = [callbacks];\n      AWS.util.arrayEach(callbacks, function(callback) {\n        self.on(event, callback);\n      });\n    });\n\n    return self;\n  },\n\n  /**\n   * Registers an event with {on} and saves the callback handle function\n   * as a property on the emitter object using a given `name`.\n   *\n   * @param name [String] the property name to set on this object containing\n   *   the callback function handle so that the listener can be removed in\n   *   the future.\n   * @param (see on)\n   * @return (see on)\n   * @example Adding a named listener DATA_CALLBACK\n   *   var listener = function() { doSomething(); };\n   *   emitter.addNamedListener('DATA_CALLBACK', 'data', listener);\n   *\n   *   // the following prints: true\n   *   console.log(emitter.DATA_CALLBACK == listener);\n   */\n  addNamedListener: function addNamedListener(name, eventName, callback, toHead) {\n    this[name] = callback;\n    this.addListener(eventName, callback, toHead);\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  addNamedAsyncListener: function addNamedAsyncListener(name, eventName, callback, toHead) {\n    callback._isAsync = true;\n    return this.addNamedListener(name, eventName, callback, toHead);\n  },\n\n  /**\n   * Helper method to add a set of named listeners using\n   * {addNamedListener}. The callback contains a parameter\n   * with a handle to the `addNamedListener` method.\n   *\n   * @callback callback function(add)\n   *   The callback function is called immediately in order to provide\n   *   the `add` function to the block. This simplifies the addition of\n   *   a large group of named listeners.\n   *   @param add [Function] the {addNamedListener} function to call\n   *     when registering listeners.\n   * @example Adding a set of named listeners\n   *   emitter.addNamedListeners(function(add) {\n   *     add('DATA_CALLBACK', 'data', function() { ... });\n   *     add('OTHER', 'otherEvent', function() { ... });\n   *     add('LAST', 'lastEvent', function() { ... });\n   *   });\n   *\n   *   // these properties are now set:\n   *   emitter.DATA_CALLBACK;\n   *   emitter.OTHER;\n   *   emitter.LAST;\n   */\n  addNamedListeners: function addNamedListeners(callback) {\n    var self = this;\n    callback(\n      function() {\n        self.addNamedListener.apply(self, arguments);\n      },\n      function() {\n        self.addNamedAsyncListener.apply(self, arguments);\n      }\n    );\n    return this;\n  }\n});\n\n/**\n * {on} is the prefered method.\n * @api private\n */\nAWS.SequentialExecutor.prototype.addListener = AWS.SequentialExecutor.prototype.on;\n\n/**\n * @api private\n */\nmodule.exports = AWS.SequentialExecutor;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostVideo.vue?vue&type=style&index=0&id=a71725a8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostVideo.vue?vue&type=style&index=0&id=a71725a8&scoped=true&lang=css&\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nvar toUnsigned = function(value) {\n  return value >>> 0;\n};\n\nvar toHexString = function(value) {\n  return ('00' + value.toString(16)).slice(-2);\n};\n\nmodule.exports = {\n  toUnsigned: toUnsigned,\n  toHexString: toHexString\n};\n","var util = require('../util');\n\nfunction QueryParamSerializer() {\n}\n\nQueryParamSerializer.prototype.serialize = function(params, shape, fn) {\n  serializeStructure('', params, shape, fn);\n};\n\nfunction ucfirst(shape) {\n  if (shape.isQueryName || shape.api.protocol !== 'ec2') {\n    return shape.name;\n  } else {\n    return shape.name[0].toUpperCase() + shape.name.substr(1);\n  }\n}\n\nfunction serializeStructure(prefix, struct, rules, fn) {\n  util.each(rules.members, function(name, member) {\n    var value = struct[name];\n    if (value === null || value === undefined) return;\n\n    var memberName = ucfirst(member);\n    memberName = prefix ? prefix + '.' + memberName : memberName;\n    serializeMember(memberName, value, member, fn);\n  });\n}\n\nfunction serializeMap(name, map, rules, fn) {\n  var i = 1;\n  util.each(map, function (key, value) {\n    var prefix = rules.flattened ? '.' : '.entry.';\n    var position = prefix + (i++) + '.';\n    var keyName = position + (rules.key.name || 'key');\n    var valueName = position + (rules.value.name || 'value');\n    serializeMember(name + keyName, key, rules.key, fn);\n    serializeMember(name + valueName, value, rules.value, fn);\n  });\n}\n\nfunction serializeList(name, list, rules, fn) {\n  var memberRules = rules.member || {};\n\n  if (list.length === 0) {\n    fn.call(this, name, null);\n    return;\n  }\n\n  util.arrayEach(list, function (v, n) {\n    var suffix = '.' + (n + 1);\n    if (rules.api.protocol === 'ec2') {\n      // Do nothing for EC2\n      suffix = suffix + ''; // make linter happy\n    } else if (rules.flattened) {\n      if (memberRules.name) {\n        var parts = name.split('.');\n        parts.pop();\n        parts.push(ucfirst(memberRules));\n        name = parts.join('.');\n      }\n    } else {\n      suffix = '.' + (memberRules.name ? memberRules.name : 'member') + suffix;\n    }\n    serializeMember(name + suffix, v, memberRules, fn);\n  });\n}\n\nfunction serializeMember(name, value, rules, fn) {\n  if (value === null || value === undefined) return;\n  if (rules.type === 'structure') {\n    serializeStructure(name, value, rules, fn);\n  } else if (rules.type === 'list') {\n    serializeList(name, value, rules, fn);\n  } else if (rules.type === 'map') {\n    serializeMap(name, value, rules, fn);\n  } else {\n    fn(name, rules.toWireFormat(value).toString());\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = QueryParamSerializer;\n","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['opsworks'] = {};\nAWS.OpsWorks = Service.defineService('opsworks', ['2013-02-18']);\nObject.defineProperty(apiLoader.services['opsworks'], '2013-02-18', {\n  get: function get() {\n    var model = require('../apis/opsworks-2013-02-18.min.json');\n    model.paginators = require('../apis/opsworks-2013-02-18.paginators.json').pagination;\n    model.waiters = require('../apis/opsworks-2013-02-18.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.OpsWorks;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedListNode = /** @class */ (function () {\n    function LinkedListNode(key, value) {\n        this.key = key;\n        this.value = value;\n    }\n    return LinkedListNode;\n}());\nvar LRUCache = /** @class */ (function () {\n    function LRUCache(size) {\n        this.nodeMap = {};\n        this.size = 0;\n        if (typeof size !== 'number' || size < 1) {\n            throw new Error('Cache size can only be positive number');\n        }\n        this.sizeLimit = size;\n    }\n    Object.defineProperty(LRUCache.prototype, \"length\", {\n        get: function () {\n            return this.size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LRUCache.prototype.prependToList = function (node) {\n        if (!this.headerNode) {\n            this.tailNode = node;\n        }\n        else {\n            this.headerNode.prev = node;\n            node.next = this.headerNode;\n        }\n        this.headerNode = node;\n        this.size++;\n    };\n    LRUCache.prototype.removeFromTail = function () {\n        if (!this.tailNode) {\n            return undefined;\n        }\n        var node = this.tailNode;\n        var prevNode = node.prev;\n        if (prevNode) {\n            prevNode.next = undefined;\n        }\n        node.prev = undefined;\n        this.tailNode = prevNode;\n        this.size--;\n        return node;\n    };\n    LRUCache.prototype.detachFromList = function (node) {\n        if (this.headerNode === node) {\n            this.headerNode = node.next;\n        }\n        if (this.tailNode === node) {\n            this.tailNode = node.prev;\n        }\n        if (node.prev) {\n            node.prev.next = node.next;\n        }\n        if (node.next) {\n            node.next.prev = node.prev;\n        }\n        node.next = undefined;\n        node.prev = undefined;\n        this.size--;\n    };\n    LRUCache.prototype.get = function (key) {\n        if (this.nodeMap[key]) {\n            var node = this.nodeMap[key];\n            this.detachFromList(node);\n            this.prependToList(node);\n            return node.value;\n        }\n    };\n    LRUCache.prototype.remove = function (key) {\n        if (this.nodeMap[key]) {\n            var node = this.nodeMap[key];\n            this.detachFromList(node);\n            delete this.nodeMap[key];\n        }\n    };\n    LRUCache.prototype.put = function (key, value) {\n        if (this.nodeMap[key]) {\n            this.remove(key);\n        }\n        else if (this.size === this.sizeLimit) {\n            var tailNode = this.removeFromTail();\n            var key_1 = tailNode.key;\n            delete this.nodeMap[key_1];\n        }\n        var newNode = new LinkedListNode(key, value);\n        this.nodeMap[key] = newNode;\n        this.prependToList(newNode);\n    };\n    LRUCache.prototype.empty = function () {\n        var keys = Object.keys(this.nodeMap);\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var node = this.nodeMap[key];\n            this.detachFromList(node);\n            delete this.nodeMap[key];\n        }\n    };\n    return LRUCache;\n}());\nexports.LRUCache = LRUCache;","/*! @name mpd-parser @version 0.8.1 @license Apache-2.0 */\nimport window$1 from 'global/window';\n\nvar version = \"0.8.1\";\n\nvar isObject = function isObject(obj) {\n  return !!obj && typeof obj === 'object';\n};\n\nvar merge = function merge() {\n  for (var _len = arguments.length, objects = new Array(_len), _key = 0; _key < _len; _key++) {\n    objects[_key] = arguments[_key];\n  }\n\n  return objects.reduce(function (result, source) {\n    Object.keys(source).forEach(function (key) {\n      if (Array.isArray(result[key]) && Array.isArray(source[key])) {\n        result[key] = result[key].concat(source[key]);\n      } else if (isObject(result[key]) && isObject(source[key])) {\n        result[key] = merge(result[key], source[key]);\n      } else {\n        result[key] = source[key];\n      }\n    });\n    return result;\n  }, {});\n};\nvar values = function values(o) {\n  return Object.keys(o).map(function (k) {\n    return o[k];\n  });\n};\n\nvar range = function range(start, end) {\n  var result = [];\n\n  for (var i = start; i < end; i++) {\n    result.push(i);\n  }\n\n  return result;\n};\nvar flatten = function flatten(lists) {\n  return lists.reduce(function (x, y) {\n    return x.concat(y);\n  }, []);\n};\nvar from = function from(list) {\n  if (!list.length) {\n    return [];\n  }\n\n  var result = [];\n\n  for (var i = 0; i < list.length; i++) {\n    result.push(list[i]);\n  }\n\n  return result;\n};\nvar findIndexes = function findIndexes(l, key) {\n  return l.reduce(function (a, e, i) {\n    if (e[key]) {\n      a.push(i);\n    }\n\n    return a;\n  }, []);\n};\n\nvar errors = {\n  INVALID_NUMBER_OF_PERIOD: 'INVALID_NUMBER_OF_PERIOD',\n  DASH_EMPTY_MANIFEST: 'DASH_EMPTY_MANIFEST',\n  DASH_INVALID_XML: 'DASH_INVALID_XML',\n  NO_BASE_URL: 'NO_BASE_URL',\n  MISSING_SEGMENT_INFORMATION: 'MISSING_SEGMENT_INFORMATION',\n  SEGMENT_TIME_UNSPECIFIED: 'SEGMENT_TIME_UNSPECIFIED',\n  UNSUPPORTED_UTC_TIMING_SCHEME: 'UNSUPPORTED_UTC_TIMING_SCHEME'\n};\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar urlToolkit = createCommonjsModule(function (module, exports) {\n// see https://tools.ietf.org/html/rfc1808\n\n/* jshint ignore:start */\n(function(root) { \n/* jshint ignore:end */\n\n  var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/\\?#]*\\/)*.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/;\n  var FIRST_SEGMENT_REGEX = /^([^\\/?#]*)(.*)$/;\n  var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\n  var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g;\n\n  var URLToolkit = { // jshint ignore:line\n    // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\n    // E.g\n    // With opts.alwaysNormalize = false (default, spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\n    // With opts.alwaysNormalize = true (not spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\n    buildAbsoluteURL: function(baseURL, relativeURL, opts) {\n      opts = opts || {};\n      // remove any remaining space and CRLF\n      baseURL = baseURL.trim();\n      relativeURL = relativeURL.trim();\n      if (!relativeURL) {\n        // 2a) If the embedded URL is entirely empty, it inherits the\n        // entire base URL (i.e., is set equal to the base URL)\n        // and we are done.\n        if (!opts.alwaysNormalize) {\n          return baseURL;\n        }\n        var basePartsForNormalise = URLToolkit.parseURL(baseURL);\n        if (!basePartsForNormalise) {\n          throw new Error('Error trying to parse base URL.');\n        }\n        basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\n        return URLToolkit.buildURLFromParts(basePartsForNormalise);\n      }\n      var relativeParts = URLToolkit.parseURL(relativeURL);\n      if (!relativeParts) {\n        throw new Error('Error trying to parse relative URL.');\n      }\n      if (relativeParts.scheme) {\n        // 2b) If the embedded URL starts with a scheme name, it is\n        // interpreted as an absolute URL and we are done.\n        if (!opts.alwaysNormalize) {\n          return relativeURL;\n        }\n        relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\n        return URLToolkit.buildURLFromParts(relativeParts);\n      }\n      var baseParts = URLToolkit.parseURL(baseURL);\n      if (!baseParts) {\n        throw new Error('Error trying to parse base URL.');\n      }\n      if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\n        // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\n        // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\n        var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\n        baseParts.netLoc = pathParts[1];\n        baseParts.path = pathParts[2];\n      }\n      if (baseParts.netLoc && !baseParts.path) {\n        baseParts.path = '/';\n      }\n      var builtParts = {\n        // 2c) Otherwise, the embedded URL inherits the scheme of\n        // the base URL.\n        scheme: baseParts.scheme,\n        netLoc: relativeParts.netLoc,\n        path: null,\n        params: relativeParts.params,\n        query: relativeParts.query,\n        fragment: relativeParts.fragment\n      };\n      if (!relativeParts.netLoc) {\n        // 3) If the embedded URL's <net_loc> is non-empty, we skip to\n        // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\n        // (if any) of the base URL.\n        builtParts.netLoc = baseParts.netLoc;\n        // 4) If the embedded URL path is preceded by a slash \"/\", the\n        // path is not relative and we skip to Step 7.\n        if (relativeParts.path[0] !== '/') {\n          if (!relativeParts.path) {\n            // 5) If the embedded URL path is empty (and not preceded by a\n            // slash), then the embedded URL inherits the base URL path\n            builtParts.path = baseParts.path;\n            // 5a) if the embedded URL's <params> is non-empty, we skip to\n            // step 7; otherwise, it inherits the <params> of the base\n            // URL (if any) and\n            if (!relativeParts.params) {\n              builtParts.params = baseParts.params;\n              // 5b) if the embedded URL's <query> is non-empty, we skip to\n              // step 7; otherwise, it inherits the <query> of the base\n              // URL (if any) and we skip to step 7.\n              if (!relativeParts.query) {\n                builtParts.query = baseParts.query;\n              }\n            }\n          } else {\n            // 6) The last segment of the base URL's path (anything\n            // following the rightmost slash \"/\", or the entire path if no\n            // slash is present) is removed and the embedded URL's path is\n            // appended in its place.\n            var baseURLPath = baseParts.path;\n            var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\n            builtParts.path = URLToolkit.normalizePath(newPath);\n          }\n        }\n      }\n      if (builtParts.path === null) {\n        builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\n      }\n      return URLToolkit.buildURLFromParts(builtParts);\n    },\n    parseURL: function(url) {\n      var parts = URL_REGEX.exec(url);\n      if (!parts) {\n        return null;\n      }\n      return {\n        scheme: parts[1] || '',\n        netLoc: parts[2] || '',\n        path: parts[3] || '',\n        params: parts[4] || '',\n        query: parts[5] || '',\n        fragment: parts[6] || ''\n      };\n    },\n    normalizePath: function(path) {\n      // The following operations are\n      // then applied, in order, to the new path:\n      // 6a) All occurrences of \"./\", where \".\" is a complete path\n      // segment, are removed.\n      // 6b) If the path ends with \".\" as a complete path segment,\n      // that \".\" is removed.\n      path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, '');\n      // 6c) All occurrences of \"<segment>/../\", where <segment> is a\n      // complete path segment not equal to \"..\", are removed.\n      // Removal of these path segments is performed iteratively,\n      // removing the leftmost matching pattern on each iteration,\n      // until no matching pattern remains.\n      // 6d) If the path ends with \"<segment>/..\", where <segment> is a\n      // complete path segment not equal to \"..\", that\n      // \"<segment>/..\" is removed.\n      while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {} // jshint ignore:line\n      return path.split('').reverse().join('');\n    },\n    buildURLFromParts: function(parts) {\n      return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\n    }\n  };\n\n/* jshint ignore:start */\n  module.exports = URLToolkit;\n})(commonjsGlobal);\n/* jshint ignore:end */\n});\n\nvar resolveUrl = function resolveUrl(baseUrl, relativeUrl) {\n  // return early if we don't need to resolve\n  if (/^[a-z]+:/i.test(relativeUrl)) {\n    return relativeUrl;\n  } // if the base URL is relative then combine with the current location\n\n\n  if (!/\\/\\//i.test(baseUrl)) {\n    baseUrl = urlToolkit.buildAbsoluteURL(window$1.location.href, baseUrl);\n  }\n\n  return urlToolkit.buildAbsoluteURL(baseUrl, relativeUrl);\n};\n\n/**\n * @typedef {Object} SingleUri\n * @property {string} uri - relative location of segment\n * @property {string} resolvedUri - resolved location of segment\n * @property {Object} byterange - Object containing information on how to make byte range\n *   requests following byte-range-spec per RFC2616.\n * @property {String} byterange.length - length of range request\n * @property {String} byterange.offset - byte offset of range request\n *\n * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.1\n */\n\n/**\n * Converts a URLType node (5.3.9.2.3 Table 13) to a segment object\n * that conforms to how m3u8-parser is structured\n *\n * @see https://github.com/videojs/m3u8-parser\n *\n * @param {string} baseUrl - baseUrl provided by <BaseUrl> nodes\n * @param {string} source - source url for segment\n * @param {string} range - optional range used for range calls,\n *   follows  RFC 2616, Clause 14.35.1\n * @return {SingleUri} full segment information transformed into a format similar\n *   to m3u8-parser\n */\n\nvar urlTypeToSegment = function urlTypeToSegment(_ref) {\n  var _ref$baseUrl = _ref.baseUrl,\n      baseUrl = _ref$baseUrl === void 0 ? '' : _ref$baseUrl,\n      _ref$source = _ref.source,\n      source = _ref$source === void 0 ? '' : _ref$source,\n      _ref$range = _ref.range,\n      range = _ref$range === void 0 ? '' : _ref$range,\n      _ref$indexRange = _ref.indexRange,\n      indexRange = _ref$indexRange === void 0 ? '' : _ref$indexRange;\n  var segment = {\n    uri: source,\n    resolvedUri: resolveUrl(baseUrl || '', source)\n  };\n\n  if (range || indexRange) {\n    var rangeStr = range ? range : indexRange;\n    var ranges = rangeStr.split('-');\n    var startRange = parseInt(ranges[0], 10);\n    var endRange = parseInt(ranges[1], 10); // byterange should be inclusive according to\n    // RFC 2616, Clause 14.35.1\n\n    segment.byterange = {\n      length: endRange - startRange + 1,\n      offset: startRange\n    };\n  }\n\n  return segment;\n};\nvar byteRangeToString = function byteRangeToString(byterange) {\n  // `endRange` is one less than `offset + length` because the HTTP range\n  // header uses inclusive ranges\n  var endRange = byterange.offset + byterange.length - 1;\n  return byterange.offset + \"-\" + endRange;\n};\n\n/**\n * Functions for calculating the range of available segments in static and dynamic\n * manifests.\n */\n\nvar segmentRange = {\n  /**\n   * Returns the entire range of available segments for a static MPD\n   *\n   * @param {Object} attributes\n   *        Inheritied MPD attributes\n   * @return {{ start: number, end: number }}\n   *         The start and end numbers for available segments\n   */\n  static: function _static(attributes) {\n    var duration = attributes.duration,\n        _attributes$timescale = attributes.timescale,\n        timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n        sourceDuration = attributes.sourceDuration;\n    return {\n      start: 0,\n      end: Math.ceil(sourceDuration / (duration / timescale))\n    };\n  },\n\n  /**\n   * Returns the current live window range of available segments for a dynamic MPD\n   *\n   * @param {Object} attributes\n   *        Inheritied MPD attributes\n   * @return {{ start: number, end: number }}\n   *         The start and end numbers for available segments\n   */\n  dynamic: function dynamic(attributes) {\n    var NOW = attributes.NOW,\n        clientOffset = attributes.clientOffset,\n        availabilityStartTime = attributes.availabilityStartTime,\n        _attributes$timescale2 = attributes.timescale,\n        timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n        duration = attributes.duration,\n        _attributes$start = attributes.start,\n        start = _attributes$start === void 0 ? 0 : _attributes$start,\n        _attributes$minimumUp = attributes.minimumUpdatePeriod,\n        minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp,\n        _attributes$timeShift = attributes.timeShiftBufferDepth,\n        timeShiftBufferDepth = _attributes$timeShift === void 0 ? Infinity : _attributes$timeShift;\n    var now = (NOW + clientOffset) / 1000;\n    var periodStartWC = availabilityStartTime + start;\n    var periodEndWC = now + minimumUpdatePeriod;\n    var periodDuration = periodEndWC - periodStartWC;\n    var segmentCount = Math.ceil(periodDuration * timescale / duration);\n    var availableStart = Math.floor((now - periodStartWC - timeShiftBufferDepth) * timescale / duration);\n    var availableEnd = Math.floor((now - periodStartWC) * timescale / duration);\n    return {\n      start: Math.max(0, availableStart),\n      end: Math.min(segmentCount, availableEnd)\n    };\n  }\n};\n/**\n * Maps a range of numbers to objects with information needed to build the corresponding\n * segment list\n *\n * @name toSegmentsCallback\n * @function\n * @param {number} number\n *        Number of the segment\n * @param {number} index\n *        Index of the number in the range list\n * @return {{ number: Number, duration: Number, timeline: Number, time: Number }}\n *         Object with segment timing and duration info\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping a range of numbers to\n * information needed to build the segment list.\n *\n * @param {Object} attributes\n *        Inherited MPD attributes\n * @return {toSegmentsCallback}\n *         Callback map function\n */\n\nvar toSegments = function toSegments(attributes) {\n  return function (number, index) {\n    var duration = attributes.duration,\n        _attributes$timescale3 = attributes.timescale,\n        timescale = _attributes$timescale3 === void 0 ? 1 : _attributes$timescale3,\n        periodIndex = attributes.periodIndex,\n        _attributes$startNumb = attributes.startNumber,\n        startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb;\n    return {\n      number: startNumber + number,\n      duration: duration / timescale,\n      timeline: periodIndex,\n      time: index * duration\n    };\n  };\n};\n/**\n * Returns a list of objects containing segment timing and duration info used for\n * building the list of segments. This uses the @duration attribute specified\n * in the MPD manifest to derive the range of segments.\n *\n * @param {Object} attributes\n *        Inherited MPD attributes\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\nvar parseByDuration = function parseByDuration(attributes) {\n  var _attributes$type = attributes.type,\n      type = _attributes$type === void 0 ? 'static' : _attributes$type,\n      duration = attributes.duration,\n      _attributes$timescale4 = attributes.timescale,\n      timescale = _attributes$timescale4 === void 0 ? 1 : _attributes$timescale4,\n      sourceDuration = attributes.sourceDuration;\n\n  var _segmentRange$type = segmentRange[type](attributes),\n      start = _segmentRange$type.start,\n      end = _segmentRange$type.end;\n\n  var segments = range(start, end).map(toSegments(attributes));\n\n  if (type === 'static') {\n    var index = segments.length - 1; // final segment may be less than full segment duration\n\n    segments[index].duration = sourceDuration - duration / timescale * index;\n  }\n\n  return segments;\n};\n\n/**\n * Translates SegmentBase into a set of segments.\n * (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n * node should be translated into segment.\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @return {Object.<Array>} list of segments\n */\n\nvar segmentsFromBase = function segmentsFromBase(attributes) {\n  var baseUrl = attributes.baseUrl,\n      _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ,\n      sourceDuration = attributes.sourceDuration,\n      _attributes$timescale = attributes.timescale,\n      timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n      _attributes$indexRang = attributes.indexRange,\n      indexRange = _attributes$indexRang === void 0 ? '' : _attributes$indexRang,\n      duration = attributes.duration; // base url is required for SegmentBase to work, per spec (Section 5.3.9.2.1)\n\n  if (!baseUrl) {\n    throw new Error(errors.NO_BASE_URL);\n  }\n\n  var initSegment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: initialization.sourceURL,\n    range: initialization.range\n  });\n  var segment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: baseUrl,\n    indexRange: indexRange\n  });\n  segment.map = initSegment; // If there is a duration, use it, otherwise use the given duration of the source\n  // (since SegmentBase is only for one total segment)\n\n  if (duration) {\n    var segmentTimeInfo = parseByDuration(attributes);\n\n    if (segmentTimeInfo.length) {\n      segment.duration = segmentTimeInfo[0].duration;\n      segment.timeline = segmentTimeInfo[0].timeline;\n    }\n  } else if (sourceDuration) {\n    segment.duration = sourceDuration / timescale;\n    segment.timeline = 0;\n  } // This is used for mediaSequence\n\n\n  segment.number = 0;\n  return [segment];\n};\n/**\n * Given a playlist, a sidx box, and a baseUrl, update the segment list of the playlist\n * according to the sidx information given.\n *\n * playlist.sidx has metadadata about the sidx where-as the sidx param\n * is the parsed sidx box itself.\n *\n * @param {Object} playlist the playlist to update the sidx information for\n * @param {Object} sidx the parsed sidx box\n * @return {Object} the playlist object with the updated sidx information\n */\n\nvar addSegmentsToPlaylist = function addSegmentsToPlaylist(playlist, sidx, baseUrl) {\n  // Retain init segment information\n  var initSegment = playlist.sidx.map ? playlist.sidx.map : null; // Retain source duration from initial master manifest parsing\n\n  var sourceDuration = playlist.sidx.duration; // Retain source timeline\n\n  var timeline = playlist.timeline || 0;\n  var sidxByteRange = playlist.sidx.byterange;\n  var sidxEnd = sidxByteRange.offset + sidxByteRange.length; // Retain timescale of the parsed sidx\n\n  var timescale = sidx.timescale; // referenceType 1 refers to other sidx boxes\n\n  var mediaReferences = sidx.references.filter(function (r) {\n    return r.referenceType !== 1;\n  });\n  var segments = []; // firstOffset is the offset from the end of the sidx box\n\n  var startIndex = sidxEnd + sidx.firstOffset;\n\n  for (var i = 0; i < mediaReferences.length; i++) {\n    var reference = sidx.references[i]; // size of the referenced (sub)segment\n\n    var size = reference.referencedSize; // duration of the referenced (sub)segment, in  the  timescale\n    // this will be converted to seconds when generating segments\n\n    var duration = reference.subsegmentDuration; // should be an inclusive range\n\n    var endIndex = startIndex + size - 1;\n    var indexRange = startIndex + \"-\" + endIndex;\n    var attributes = {\n      baseUrl: baseUrl,\n      timescale: timescale,\n      timeline: timeline,\n      // this is used in parseByDuration\n      periodIndex: timeline,\n      duration: duration,\n      sourceDuration: sourceDuration,\n      indexRange: indexRange\n    };\n    var segment = segmentsFromBase(attributes)[0];\n\n    if (initSegment) {\n      segment.map = initSegment;\n    }\n\n    segments.push(segment);\n    startIndex += size;\n  }\n\n  playlist.segments = segments;\n  return playlist;\n};\n\nvar mergeDiscontiguousPlaylists = function mergeDiscontiguousPlaylists(playlists) {\n  var mergedPlaylists = values(playlists.reduce(function (acc, playlist) {\n    // assuming playlist IDs are the same across periods\n    // TODO: handle multiperiod where representation sets are not the same\n    // across periods\n    var name = playlist.attributes.id + (playlist.attributes.lang || ''); // Periods after first\n\n    if (acc[name]) {\n      var _acc$name$segments;\n\n      // first segment of subsequent periods signal a discontinuity\n      if (playlist.segments[0]) {\n        playlist.segments[0].discontinuity = true;\n      }\n\n      (_acc$name$segments = acc[name].segments).push.apply(_acc$name$segments, playlist.segments); // bubble up contentProtection, this assumes all DRM content\n      // has the same contentProtection\n\n\n      if (playlist.attributes.contentProtection) {\n        acc[name].attributes.contentProtection = playlist.attributes.contentProtection;\n      }\n    } else {\n      // first Period\n      acc[name] = playlist;\n    }\n\n    return acc;\n  }, {}));\n  return mergedPlaylists.map(function (playlist) {\n    playlist.discontinuityStarts = findIndexes(playlist.segments, 'discontinuity');\n    return playlist;\n  });\n};\n\nvar addSegmentInfoFromSidx = function addSegmentInfoFromSidx(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  if (!Object.keys(sidxMapping).length) {\n    return playlists;\n  }\n\n  for (var i in playlists) {\n    var playlist = playlists[i];\n\n    if (!playlist.sidx) {\n      continue;\n    }\n\n    var sidxKey = playlist.sidx.uri + '-' + byteRangeToString(playlist.sidx.byterange);\n    var sidxMatch = sidxMapping[sidxKey] && sidxMapping[sidxKey].sidx;\n\n    if (playlist.sidx && sidxMatch) {\n      addSegmentsToPlaylist(playlist, sidxMatch, playlist.sidx.resolvedUri);\n    }\n  }\n\n  return playlists;\n};\n\nvar formatAudioPlaylist = function formatAudioPlaylist(_ref) {\n  var _attributes;\n\n  var attributes = _ref.attributes,\n      segments = _ref.segments,\n      sidx = _ref.sidx;\n  var playlist = {\n    attributes: (_attributes = {\n      NAME: attributes.id,\n      BANDWIDTH: attributes.bandwidth,\n      CODECS: attributes.codecs\n    }, _attributes['PROGRAM-ID'] = 1, _attributes),\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n\n  if (attributes.contentProtection) {\n    playlist.contentProtection = attributes.contentProtection;\n  }\n\n  if (sidx) {\n    playlist.sidx = sidx;\n  }\n\n  return playlist;\n};\nvar formatVttPlaylist = function formatVttPlaylist(_ref2) {\n  var _attributes2;\n\n  var attributes = _ref2.attributes,\n      segments = _ref2.segments;\n\n  if (typeof segments === 'undefined') {\n    // vtt tracks may use single file in BaseURL\n    segments = [{\n      uri: attributes.baseUrl,\n      timeline: attributes.periodIndex,\n      resolvedUri: attributes.baseUrl || '',\n      duration: attributes.sourceDuration,\n      number: 0\n    }]; // targetDuration should be the same duration as the only segment\n\n    attributes.duration = attributes.sourceDuration;\n  }\n\n  return {\n    attributes: (_attributes2 = {\n      NAME: attributes.id,\n      BANDWIDTH: attributes.bandwidth\n    }, _attributes2['PROGRAM-ID'] = 1, _attributes2),\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: attributes.baseUrl || '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n};\nvar organizeAudioPlaylists = function organizeAudioPlaylists(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  var mainPlaylist;\n  var formattedPlaylists = playlists.reduce(function (a, playlist) {\n    var role = playlist.attributes.role && playlist.attributes.role.value || '';\n    var language = playlist.attributes.lang || '';\n    var label = 'main';\n\n    if (language) {\n      var roleLabel = role ? \" (\" + role + \")\" : '';\n      label = \"\" + playlist.attributes.lang + roleLabel;\n    } // skip if we already have the highest quality audio for a language\n\n\n    if (a[label] && a[label].playlists[0].attributes.BANDWIDTH > playlist.attributes.bandwidth) {\n      return a;\n    }\n\n    a[label] = {\n      language: language,\n      autoselect: true,\n      default: role === 'main',\n      playlists: addSegmentInfoFromSidx([formatAudioPlaylist(playlist)], sidxMapping),\n      uri: ''\n    };\n\n    if (typeof mainPlaylist === 'undefined' && role === 'main') {\n      mainPlaylist = playlist;\n      mainPlaylist.default = true;\n    }\n\n    return a;\n  }, {}); // if no playlists have role \"main\", mark the first as main\n\n  if (!mainPlaylist) {\n    var firstLabel = Object.keys(formattedPlaylists)[0];\n    formattedPlaylists[firstLabel].default = true;\n  }\n\n  return formattedPlaylists;\n};\nvar organizeVttPlaylists = function organizeVttPlaylists(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  return playlists.reduce(function (a, playlist) {\n    var label = playlist.attributes.lang || 'text'; // skip if we already have subtitles\n\n    if (a[label]) {\n      return a;\n    }\n\n    a[label] = {\n      language: label,\n      default: false,\n      autoselect: false,\n      playlists: addSegmentInfoFromSidx([formatVttPlaylist(playlist)], sidxMapping),\n      uri: ''\n    };\n    return a;\n  }, {});\n};\nvar formatVideoPlaylist = function formatVideoPlaylist(_ref3) {\n  var _attributes3;\n\n  var attributes = _ref3.attributes,\n      segments = _ref3.segments,\n      sidx = _ref3.sidx;\n  var playlist = {\n    attributes: (_attributes3 = {\n      NAME: attributes.id,\n      AUDIO: 'audio',\n      SUBTITLES: 'subs',\n      RESOLUTION: {\n        width: attributes.width,\n        height: attributes.height\n      },\n      CODECS: attributes.codecs,\n      BANDWIDTH: attributes.bandwidth\n    }, _attributes3['PROGRAM-ID'] = 1, _attributes3),\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n\n  if (attributes.contentProtection) {\n    playlist.contentProtection = attributes.contentProtection;\n  }\n\n  if (sidx) {\n    playlist.sidx = sidx;\n  }\n\n  return playlist;\n};\nvar toM3u8 = function toM3u8(dashPlaylists, sidxMapping) {\n  var _mediaGroups;\n\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  if (!dashPlaylists.length) {\n    return {};\n  } // grab all master attributes\n\n\n  var _dashPlaylists$0$attr = dashPlaylists[0].attributes,\n      duration = _dashPlaylists$0$attr.sourceDuration,\n      _dashPlaylists$0$attr2 = _dashPlaylists$0$attr.minimumUpdatePeriod,\n      minimumUpdatePeriod = _dashPlaylists$0$attr2 === void 0 ? 0 : _dashPlaylists$0$attr2;\n\n  var videoOnly = function videoOnly(_ref4) {\n    var attributes = _ref4.attributes;\n    return attributes.mimeType === 'video/mp4' || attributes.contentType === 'video';\n  };\n\n  var audioOnly = function audioOnly(_ref5) {\n    var attributes = _ref5.attributes;\n    return attributes.mimeType === 'audio/mp4' || attributes.contentType === 'audio';\n  };\n\n  var vttOnly = function vttOnly(_ref6) {\n    var attributes = _ref6.attributes;\n    return attributes.mimeType === 'text/vtt' || attributes.contentType === 'text';\n  };\n\n  var videoPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(videoOnly)).map(formatVideoPlaylist);\n  var audioPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(audioOnly));\n  var vttPlaylists = dashPlaylists.filter(vttOnly);\n  var master = {\n    allowCache: true,\n    discontinuityStarts: [],\n    segments: [],\n    endList: true,\n    mediaGroups: (_mediaGroups = {\n      AUDIO: {},\n      VIDEO: {}\n    }, _mediaGroups['CLOSED-CAPTIONS'] = {}, _mediaGroups.SUBTITLES = {}, _mediaGroups),\n    uri: '',\n    duration: duration,\n    playlists: addSegmentInfoFromSidx(videoPlaylists, sidxMapping),\n    minimumUpdatePeriod: minimumUpdatePeriod * 1000\n  };\n\n  if (audioPlaylists.length) {\n    master.mediaGroups.AUDIO.audio = organizeAudioPlaylists(audioPlaylists, sidxMapping);\n  }\n\n  if (vttPlaylists.length) {\n    master.mediaGroups.SUBTITLES.subs = organizeVttPlaylists(vttPlaylists, sidxMapping);\n  }\n\n  return master;\n};\n\n/**\n * Calculates the R (repetition) value for a live stream (for the final segment\n * in a manifest where the r value is negative 1)\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {number} time\n *        current time (typically the total time up until the final segment)\n * @param {number} duration\n *        duration property for the given <S />\n *\n * @return {number}\n *        R value to reach the end of the given period\n */\nvar getLiveRValue = function getLiveRValue(attributes, time, duration) {\n  var NOW = attributes.NOW,\n      clientOffset = attributes.clientOffset,\n      availabilityStartTime = attributes.availabilityStartTime,\n      _attributes$timescale = attributes.timescale,\n      timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n      _attributes$start = attributes.start,\n      start = _attributes$start === void 0 ? 0 : _attributes$start,\n      _attributes$minimumUp = attributes.minimumUpdatePeriod,\n      minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp;\n  var now = (NOW + clientOffset) / 1000;\n  var periodStartWC = availabilityStartTime + start;\n  var periodEndWC = now + minimumUpdatePeriod;\n  var periodDuration = periodEndWC - periodStartWC;\n  return Math.ceil((periodDuration * timescale - time) / duration);\n};\n/**\n * Uses information provided by SegmentTemplate.SegmentTimeline to determine segment\n * timing and duration\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\n\nvar parseByTimeline = function parseByTimeline(attributes, segmentTimeline) {\n  var _attributes$type = attributes.type,\n      type = _attributes$type === void 0 ? 'static' : _attributes$type,\n      _attributes$minimumUp2 = attributes.minimumUpdatePeriod,\n      minimumUpdatePeriod = _attributes$minimumUp2 === void 0 ? 0 : _attributes$minimumUp2,\n      _attributes$media = attributes.media,\n      media = _attributes$media === void 0 ? '' : _attributes$media,\n      sourceDuration = attributes.sourceDuration,\n      _attributes$timescale2 = attributes.timescale,\n      timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n      _attributes$startNumb = attributes.startNumber,\n      startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb,\n      timeline = attributes.periodIndex;\n  var segments = [];\n  var time = -1;\n\n  for (var sIndex = 0; sIndex < segmentTimeline.length; sIndex++) {\n    var S = segmentTimeline[sIndex];\n    var duration = S.d;\n    var repeat = S.r || 0;\n    var segmentTime = S.t || 0;\n\n    if (time < 0) {\n      // first segment\n      time = segmentTime;\n    }\n\n    if (segmentTime && segmentTime > time) {\n      // discontinuity\n      // TODO: How to handle this type of discontinuity\n      // timeline++ here would treat it like HLS discontuity and content would\n      // get appended without gap\n      // E.G.\n      //  <S t=\"0\" d=\"1\" />\n      //  <S d=\"1\" />\n      //  <S d=\"1\" />\n      //  <S t=\"5\" d=\"1\" />\n      // would have $Time$ values of [0, 1, 2, 5]\n      // should this be appened at time positions [0, 1, 2, 3],(#EXT-X-DISCONTINUITY)\n      // or [0, 1, 2, gap, gap, 5]? (#EXT-X-GAP)\n      // does the value of sourceDuration consider this when calculating arbitrary\n      // negative @r repeat value?\n      // E.G. Same elements as above with this added at the end\n      //  <S d=\"1\" r=\"-1\" />\n      //  with a sourceDuration of 10\n      // Would the 2 gaps be included in the time duration calculations resulting in\n      // 8 segments with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9] or 10 segments\n      // with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9, 10, 11] ?\n      time = segmentTime;\n    }\n\n    var count = void 0;\n\n    if (repeat < 0) {\n      var nextS = sIndex + 1;\n\n      if (nextS === segmentTimeline.length) {\n        // last segment\n        if (type === 'dynamic' && minimumUpdatePeriod > 0 && media.indexOf('$Number$') > 0) {\n          count = getLiveRValue(attributes, time, duration);\n        } else {\n          // TODO: This may be incorrect depending on conclusion of TODO above\n          count = (sourceDuration * timescale - time) / duration;\n        }\n      } else {\n        count = (segmentTimeline[nextS].t - time) / duration;\n      }\n    } else {\n      count = repeat + 1;\n    }\n\n    var end = startNumber + segments.length + count;\n    var number = startNumber + segments.length;\n\n    while (number < end) {\n      segments.push({\n        number: number,\n        duration: duration / timescale,\n        time: time,\n        timeline: timeline\n      });\n      time += duration;\n      number++;\n    }\n  }\n\n  return segments;\n};\n\nvar identifierPattern = /\\$([A-z]*)(?:(%0)([0-9]+)d)?\\$/g;\n/**\n * Replaces template identifiers with corresponding values. To be used as the callback\n * for String.prototype.replace\n *\n * @name replaceCallback\n * @function\n * @param {string} match\n *        Entire match of identifier\n * @param {string} identifier\n *        Name of matched identifier\n * @param {string} format\n *        Format tag string. Its presence indicates that padding is expected\n * @param {string} width\n *        Desired length of the replaced value. Values less than this width shall be left\n *        zero padded\n * @return {string}\n *         Replacement for the matched identifier\n */\n\n/**\n * Returns a function to be used as a callback for String.prototype.replace to replace\n * template identifiers\n *\n * @param {Obect} values\n *        Object containing values that shall be used to replace known identifiers\n * @param {number} values.RepresentationID\n *        Value of the Representation@id attribute\n * @param {number} values.Number\n *        Number of the corresponding segment\n * @param {number} values.Bandwidth\n *        Value of the Representation@bandwidth attribute.\n * @param {number} values.Time\n *        Timestamp value of the corresponding segment\n * @return {replaceCallback}\n *         Callback to be used with String.prototype.replace to replace identifiers\n */\n\nvar identifierReplacement = function identifierReplacement(values) {\n  return function (match, identifier, format, width) {\n    if (match === '$$') {\n      // escape sequence\n      return '$';\n    }\n\n    if (typeof values[identifier] === 'undefined') {\n      return match;\n    }\n\n    var value = '' + values[identifier];\n\n    if (identifier === 'RepresentationID') {\n      // Format tag shall not be present with RepresentationID\n      return value;\n    }\n\n    if (!format) {\n      width = 1;\n    } else {\n      width = parseInt(width, 10);\n    }\n\n    if (value.length >= width) {\n      return value;\n    }\n\n    return \"\" + new Array(width - value.length + 1).join('0') + value;\n  };\n};\n/**\n * Constructs a segment url from a template string\n *\n * @param {string} url\n *        Template string to construct url from\n * @param {Obect} values\n *        Object containing values that shall be used to replace known identifiers\n * @param {number} values.RepresentationID\n *        Value of the Representation@id attribute\n * @param {number} values.Number\n *        Number of the corresponding segment\n * @param {number} values.Bandwidth\n *        Value of the Representation@bandwidth attribute.\n * @param {number} values.Time\n *        Timestamp value of the corresponding segment\n * @return {string}\n *         Segment url with identifiers replaced\n */\n\nvar constructTemplateUrl = function constructTemplateUrl(url, values) {\n  return url.replace(identifierPattern, identifierReplacement(values));\n};\n/**\n * Generates a list of objects containing timing and duration information about each\n * segment needed to generate segment uris and the complete segment object\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\nvar parseTemplateInfo = function parseTemplateInfo(attributes, segmentTimeline) {\n  if (!attributes.duration && !segmentTimeline) {\n    // if neither @duration or SegmentTimeline are present, then there shall be exactly\n    // one media segment\n    return [{\n      number: attributes.startNumber || 1,\n      duration: attributes.sourceDuration,\n      time: 0,\n      timeline: attributes.periodIndex\n    }];\n  }\n\n  if (attributes.duration) {\n    return parseByDuration(attributes);\n  }\n\n  return parseByTimeline(attributes, segmentTimeline);\n};\n/**\n * Generates a list of segments using information provided by the SegmentTemplate element\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {Object[]}\n *         List of segment objects\n */\n\nvar segmentsFromTemplate = function segmentsFromTemplate(attributes, segmentTimeline) {\n  var templateValues = {\n    RepresentationID: attributes.id,\n    Bandwidth: attributes.bandwidth || 0\n  };\n  var _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {\n    sourceURL: '',\n    range: ''\n  } : _attributes$initializ;\n  var mapSegment = urlTypeToSegment({\n    baseUrl: attributes.baseUrl,\n    source: constructTemplateUrl(initialization.sourceURL, templateValues),\n    range: initialization.range\n  });\n  var segments = parseTemplateInfo(attributes, segmentTimeline);\n  return segments.map(function (segment) {\n    templateValues.Number = segment.number;\n    templateValues.Time = segment.time;\n    var uri = constructTemplateUrl(attributes.media || '', templateValues);\n    return {\n      uri: uri,\n      timeline: segment.timeline,\n      duration: segment.duration,\n      resolvedUri: resolveUrl(attributes.baseUrl || '', uri),\n      map: mapSegment,\n      number: segment.number\n    };\n  });\n};\n\n/**\n * Converts a <SegmentUrl> (of type URLType from the DASH spec 5.3.9.2 Table 14)\n * to an object that matches the output of a segment in videojs/mpd-parser\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @param {Object} segmentUrl\n *   <SegmentURL> node to translate into a segment object\n * @return {Object} translated segment object\n */\n\nvar SegmentURLToSegmentObject = function SegmentURLToSegmentObject(attributes, segmentUrl) {\n  var baseUrl = attributes.baseUrl,\n      _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ;\n  var initSegment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: initialization.sourceURL,\n    range: initialization.range\n  });\n  var segment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: segmentUrl.media,\n    range: segmentUrl.mediaRange\n  });\n  segment.map = initSegment;\n  return segment;\n};\n/**\n * Generates a list of segments using information provided by the SegmentList element\n * SegmentList (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n * node should be translated into segment.\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {Object.<Array>} list of segments\n */\n\n\nvar segmentsFromList = function segmentsFromList(attributes, segmentTimeline) {\n  var duration = attributes.duration,\n      _attributes$segmentUr = attributes.segmentUrls,\n      segmentUrls = _attributes$segmentUr === void 0 ? [] : _attributes$segmentUr; // Per spec (5.3.9.2.1) no way to determine segment duration OR\n  // if both SegmentTimeline and @duration are defined, it is outside of spec.\n\n  if (!duration && !segmentTimeline || duration && segmentTimeline) {\n    throw new Error(errors.SEGMENT_TIME_UNSPECIFIED);\n  }\n\n  var segmentUrlMap = segmentUrls.map(function (segmentUrlObject) {\n    return SegmentURLToSegmentObject(attributes, segmentUrlObject);\n  });\n  var segmentTimeInfo;\n\n  if (duration) {\n    segmentTimeInfo = parseByDuration(attributes);\n  }\n\n  if (segmentTimeline) {\n    segmentTimeInfo = parseByTimeline(attributes, segmentTimeline);\n  }\n\n  var segments = segmentTimeInfo.map(function (segmentTime, index) {\n    if (segmentUrlMap[index]) {\n      var segment = segmentUrlMap[index];\n      segment.timeline = segmentTime.timeline;\n      segment.duration = segmentTime.duration;\n      segment.number = segmentTime.number;\n      return segment;\n    } // Since we're mapping we should get rid of any blank segments (in case\n    // the given SegmentTimeline is handling for more elements than we have\n    // SegmentURLs for).\n\n  }).filter(function (segment) {\n    return segment;\n  });\n  return segments;\n};\n\nvar generateSegments = function generateSegments(_ref) {\n  var attributes = _ref.attributes,\n      segmentInfo = _ref.segmentInfo;\n  var segmentAttributes;\n  var segmentsFn;\n\n  if (segmentInfo.template) {\n    segmentsFn = segmentsFromTemplate;\n    segmentAttributes = merge(attributes, segmentInfo.template);\n  } else if (segmentInfo.base) {\n    segmentsFn = segmentsFromBase;\n    segmentAttributes = merge(attributes, segmentInfo.base);\n  } else if (segmentInfo.list) {\n    segmentsFn = segmentsFromList;\n    segmentAttributes = merge(attributes, segmentInfo.list);\n  }\n\n  var segmentsInfo = {\n    attributes: attributes\n  };\n\n  if (!segmentsFn) {\n    return segmentsInfo;\n  }\n\n  var segments = segmentsFn(segmentAttributes, segmentInfo.timeline); // The @duration attribute will be used to determin the playlist's targetDuration which\n  // must be in seconds. Since we've generated the segment list, we no longer need\n  // @duration to be in @timescale units, so we can convert it here.\n\n  if (segmentAttributes.duration) {\n    var _segmentAttributes = segmentAttributes,\n        duration = _segmentAttributes.duration,\n        _segmentAttributes$ti = _segmentAttributes.timescale,\n        timescale = _segmentAttributes$ti === void 0 ? 1 : _segmentAttributes$ti;\n    segmentAttributes.duration = duration / timescale;\n  } else if (segments.length) {\n    // if there is no @duration attribute, use the largest segment duration as\n    // as target duration\n    segmentAttributes.duration = segments.reduce(function (max, segment) {\n      return Math.max(max, Math.ceil(segment.duration));\n    }, 0);\n  } else {\n    segmentAttributes.duration = 0;\n  }\n\n  segmentsInfo.attributes = segmentAttributes;\n  segmentsInfo.segments = segments; // This is a sidx box without actual segment information\n\n  if (segmentInfo.base && segmentAttributes.indexRange) {\n    segmentsInfo.sidx = segments[0];\n    segmentsInfo.segments = [];\n  }\n\n  return segmentsInfo;\n};\nvar toPlaylists = function toPlaylists(representations) {\n  return representations.map(generateSegments);\n};\n\nvar findChildren = function findChildren(element, name) {\n  return from(element.childNodes).filter(function (_ref) {\n    var tagName = _ref.tagName;\n    return tagName === name;\n  });\n};\nvar getContent = function getContent(element) {\n  return element.textContent.trim();\n};\n\nvar parseDuration = function parseDuration(str) {\n  var SECONDS_IN_YEAR = 365 * 24 * 60 * 60;\n  var SECONDS_IN_MONTH = 30 * 24 * 60 * 60;\n  var SECONDS_IN_DAY = 24 * 60 * 60;\n  var SECONDS_IN_HOUR = 60 * 60;\n  var SECONDS_IN_MIN = 60; // P10Y10M10DT10H10M10.1S\n\n  var durationRegex = /P(?:(\\d*)Y)?(?:(\\d*)M)?(?:(\\d*)D)?(?:T(?:(\\d*)H)?(?:(\\d*)M)?(?:([\\d.]*)S)?)?/;\n  var match = durationRegex.exec(str);\n\n  if (!match) {\n    return 0;\n  }\n\n  var _match$slice = match.slice(1),\n      year = _match$slice[0],\n      month = _match$slice[1],\n      day = _match$slice[2],\n      hour = _match$slice[3],\n      minute = _match$slice[4],\n      second = _match$slice[5];\n\n  return parseFloat(year || 0) * SECONDS_IN_YEAR + parseFloat(month || 0) * SECONDS_IN_MONTH + parseFloat(day || 0) * SECONDS_IN_DAY + parseFloat(hour || 0) * SECONDS_IN_HOUR + parseFloat(minute || 0) * SECONDS_IN_MIN + parseFloat(second || 0);\n};\nvar parseDate = function parseDate(str) {\n  // Date format without timezone according to ISO 8601\n  // YYY-MM-DDThh:mm:ss.ssssss\n  var dateRegex = /^\\d+-\\d+-\\d+T\\d+:\\d+:\\d+(\\.\\d+)?$/; // If the date string does not specifiy a timezone, we must specifiy UTC. This is\n  // expressed by ending with 'Z'\n\n  if (dateRegex.test(str)) {\n    str += 'Z';\n  }\n\n  return Date.parse(str);\n};\n\nvar parsers = {\n  /**\n   * Specifies the duration of the entire Media Presentation. Format is a duration string\n   * as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  mediaPresentationDuration: function mediaPresentationDuration(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the Segment availability start time for all Segments referred to in this\n   * MPD. For a dynamic manifest, it specifies the anchor for the earliest availability\n   * time. Format is a date string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The date as seconds from unix epoch\n   */\n  availabilityStartTime: function availabilityStartTime(value) {\n    return parseDate(value) / 1000;\n  },\n\n  /**\n   * Specifies the smallest period between potential changes to the MPD. Format is a\n   * duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  minimumUpdatePeriod: function minimumUpdatePeriod(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the duration of the smallest time shifting buffer for any Representation\n   * in the MPD. Format is a duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  timeShiftBufferDepth: function timeShiftBufferDepth(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the PeriodStart time of the Period relative to the availabilityStarttime.\n   * Format is a duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  start: function start(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the width of the visual presentation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed width\n   */\n  width: function width(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the height of the visual presentation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed height\n   */\n  height: function height(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the bitrate of the representation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed bandwidth\n   */\n  bandwidth: function bandwidth(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the number of the first Media Segment in this Representation in the Period\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed number\n   */\n  startNumber: function startNumber(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the timescale in units per seconds\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The aprsed timescale\n   */\n  timescale: function timescale(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the constant approximate Segment duration\n   * NOTE: The <Period> element also contains an @duration attribute. This duration\n   *       specifies the duration of the Period. This attribute is currently not\n   *       supported by the rest of the parser, however we still check for it to prevent\n   *       errors.\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed duration\n   */\n  duration: function duration(value) {\n    var parsedValue = parseInt(value, 10);\n\n    if (isNaN(parsedValue)) {\n      return parseDuration(value);\n    }\n\n    return parsedValue;\n  },\n\n  /**\n   * Specifies the Segment duration, in units of the value of the @timescale.\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed duration\n   */\n  d: function d(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the MPD start time, in @timescale units, the first Segment in the series\n   * starts relative to the beginning of the Period\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed time\n   */\n  t: function t(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the repeat count of the number of following contiguous Segments with the\n   * same duration expressed by the value of @d\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed number\n   */\n  r: function r(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Default parser for all other attributes. Acts as a no-op and just returns the value\n   * as a string\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {string}\n   *         Unparsed value\n   */\n  DEFAULT: function DEFAULT(value) {\n    return value;\n  }\n};\n/**\n * Gets all the attributes and values of the provided node, parses attributes with known\n * types, and returns an object with attribute names mapped to values.\n *\n * @param {Node} el\n *        The node to parse attributes from\n * @return {Object}\n *         Object with all attributes of el parsed\n */\n\nvar parseAttributes = function parseAttributes(el) {\n  if (!(el && el.attributes)) {\n    return {};\n  }\n\n  return from(el.attributes).reduce(function (a, e) {\n    var parseFn = parsers[e.name] || parsers.DEFAULT;\n    a[e.name] = parseFn(e.value);\n    return a;\n  }, {});\n};\n\nfunction decodeB64ToUint8Array(b64Text) {\n  var decodedString = window$1.atob(b64Text);\n  var array = new Uint8Array(decodedString.length);\n\n  for (var i = 0; i < decodedString.length; i++) {\n    array[i] = decodedString.charCodeAt(i);\n  }\n\n  return array;\n}\n\nvar keySystemsMap = {\n  'urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b': 'org.w3.clearkey',\n  'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed': 'com.widevine.alpha',\n  'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95': 'com.microsoft.playready',\n  'urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb': 'com.adobe.primetime'\n};\n/**\n * Builds a list of urls that is the product of the reference urls and BaseURL values\n *\n * @param {string[]} referenceUrls\n *        List of reference urls to resolve to\n * @param {Node[]} baseUrlElements\n *        List of BaseURL nodes from the mpd\n * @return {string[]}\n *         List of resolved urls\n */\n\nvar buildBaseUrls = function buildBaseUrls(referenceUrls, baseUrlElements) {\n  if (!baseUrlElements.length) {\n    return referenceUrls;\n  }\n\n  return flatten(referenceUrls.map(function (reference) {\n    return baseUrlElements.map(function (baseUrlElement) {\n      return resolveUrl(reference, getContent(baseUrlElement));\n    });\n  }));\n};\n/**\n * Contains all Segment information for its containing AdaptationSet\n *\n * @typedef {Object} SegmentInformation\n * @property {Object|undefined} template\n *           Contains the attributes for the SegmentTemplate node\n * @property {Object[]|undefined} timeline\n *           Contains a list of atrributes for each S node within the SegmentTimeline node\n * @property {Object|undefined} list\n *           Contains the attributes for the SegmentList node\n * @property {Object|undefined} base\n *           Contains the attributes for the SegmentBase node\n */\n\n/**\n * Returns all available Segment information contained within the AdaptationSet node\n *\n * @param {Node} adaptationSet\n *        The AdaptationSet node to get Segment information from\n * @return {SegmentInformation}\n *         The Segment information contained within the provided AdaptationSet\n */\n\nvar getSegmentInformation = function getSegmentInformation(adaptationSet) {\n  var segmentTemplate = findChildren(adaptationSet, 'SegmentTemplate')[0];\n  var segmentList = findChildren(adaptationSet, 'SegmentList')[0];\n  var segmentUrls = segmentList && findChildren(segmentList, 'SegmentURL').map(function (s) {\n    return merge({\n      tag: 'SegmentURL'\n    }, parseAttributes(s));\n  });\n  var segmentBase = findChildren(adaptationSet, 'SegmentBase')[0];\n  var segmentTimelineParentNode = segmentList || segmentTemplate;\n  var segmentTimeline = segmentTimelineParentNode && findChildren(segmentTimelineParentNode, 'SegmentTimeline')[0];\n  var segmentInitializationParentNode = segmentList || segmentBase || segmentTemplate;\n  var segmentInitialization = segmentInitializationParentNode && findChildren(segmentInitializationParentNode, 'Initialization')[0]; // SegmentTemplate is handled slightly differently, since it can have both\n  // @initialization and an <Initialization> node.  @initialization can be templated,\n  // while the node can have a url and range specified.  If the <SegmentTemplate> has\n  // both @initialization and an <Initialization> subelement we opt to override with\n  // the node, as this interaction is not defined in the spec.\n\n  var template = segmentTemplate && parseAttributes(segmentTemplate);\n\n  if (template && segmentInitialization) {\n    template.initialization = segmentInitialization && parseAttributes(segmentInitialization);\n  } else if (template && template.initialization) {\n    // If it is @initialization we convert it to an object since this is the format that\n    // later functions will rely on for the initialization segment.  This is only valid\n    // for <SegmentTemplate>\n    template.initialization = {\n      sourceURL: template.initialization\n    };\n  }\n\n  var segmentInfo = {\n    template: template,\n    timeline: segmentTimeline && findChildren(segmentTimeline, 'S').map(function (s) {\n      return parseAttributes(s);\n    }),\n    list: segmentList && merge(parseAttributes(segmentList), {\n      segmentUrls: segmentUrls,\n      initialization: parseAttributes(segmentInitialization)\n    }),\n    base: segmentBase && merge(parseAttributes(segmentBase), {\n      initialization: parseAttributes(segmentInitialization)\n    })\n  };\n  Object.keys(segmentInfo).forEach(function (key) {\n    if (!segmentInfo[key]) {\n      delete segmentInfo[key];\n    }\n  });\n  return segmentInfo;\n};\n/**\n * Contains Segment information and attributes needed to construct a Playlist object\n * from a Representation\n *\n * @typedef {Object} RepresentationInformation\n * @property {SegmentInformation} segmentInfo\n *           Segment information for this Representation\n * @property {Object} attributes\n *           Inherited attributes for this Representation\n */\n\n/**\n * Maps a Representation node to an object containing Segment information and attributes\n *\n * @name inheritBaseUrlsCallback\n * @function\n * @param {Node} representation\n *        Representation node from the mpd\n * @return {RepresentationInformation}\n *         Representation information needed to construct a Playlist object\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping Representation nodes to\n * Segment information and attributes using inherited BaseURL nodes.\n *\n * @param {Object} adaptationSetAttributes\n *        Contains attributes inherited by the AdaptationSet\n * @param {string[]} adaptationSetBaseUrls\n *        Contains list of resolved base urls inherited by the AdaptationSet\n * @param {SegmentInformation} adaptationSetSegmentInfo\n *        Contains Segment information for the AdaptationSet\n * @return {inheritBaseUrlsCallback}\n *         Callback map function\n */\n\nvar inheritBaseUrls = function inheritBaseUrls(adaptationSetAttributes, adaptationSetBaseUrls, adaptationSetSegmentInfo) {\n  return function (representation) {\n    var repBaseUrlElements = findChildren(representation, 'BaseURL');\n    var repBaseUrls = buildBaseUrls(adaptationSetBaseUrls, repBaseUrlElements);\n    var attributes = merge(adaptationSetAttributes, parseAttributes(representation));\n    var representationSegmentInfo = getSegmentInformation(representation);\n    return repBaseUrls.map(function (baseUrl) {\n      return {\n        segmentInfo: merge(adaptationSetSegmentInfo, representationSegmentInfo),\n        attributes: merge(attributes, {\n          baseUrl: baseUrl\n        })\n      };\n    });\n  };\n};\n/**\n * Tranforms a series of content protection nodes to\n * an object containing pssh data by key system\n *\n * @param {Node[]} contentProtectionNodes\n *        Content protection nodes\n * @return {Object}\n *        Object containing pssh data by key system\n */\n\nvar generateKeySystemInformation = function generateKeySystemInformation(contentProtectionNodes) {\n  return contentProtectionNodes.reduce(function (acc, node) {\n    var attributes = parseAttributes(node);\n    var keySystem = keySystemsMap[attributes.schemeIdUri];\n\n    if (keySystem) {\n      acc[keySystem] = {\n        attributes: attributes\n      };\n      var psshNode = findChildren(node, 'cenc:pssh')[0];\n\n      if (psshNode) {\n        var pssh = getContent(psshNode);\n        var psshBuffer = pssh && decodeB64ToUint8Array(pssh);\n        acc[keySystem].pssh = psshBuffer;\n      }\n    }\n\n    return acc;\n  }, {});\n};\n/**\n * Maps an AdaptationSet node to a list of Representation information objects\n *\n * @name toRepresentationsCallback\n * @function\n * @param {Node} adaptationSet\n *        AdaptationSet node from the mpd\n * @return {RepresentationInformation[]}\n *         List of objects containing Representaion information\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping AdaptationSet nodes to a list of\n * Representation information objects\n *\n * @param {Object} periodAttributes\n *        Contains attributes inherited by the Period\n * @param {string[]} periodBaseUrls\n *        Contains list of resolved base urls inherited by the Period\n * @param {string[]} periodSegmentInfo\n *        Contains Segment Information at the period level\n * @return {toRepresentationsCallback}\n *         Callback map function\n */\n\n\nvar toRepresentations = function toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo) {\n  return function (adaptationSet) {\n    var adaptationSetAttributes = parseAttributes(adaptationSet);\n    var adaptationSetBaseUrls = buildBaseUrls(periodBaseUrls, findChildren(adaptationSet, 'BaseURL'));\n    var role = findChildren(adaptationSet, 'Role')[0];\n    var roleAttributes = {\n      role: parseAttributes(role)\n    };\n    var attrs = merge(periodAttributes, adaptationSetAttributes, roleAttributes);\n    var contentProtection = generateKeySystemInformation(findChildren(adaptationSet, 'ContentProtection'));\n\n    if (Object.keys(contentProtection).length) {\n      attrs = merge(attrs, {\n        contentProtection: contentProtection\n      });\n    }\n\n    var segmentInfo = getSegmentInformation(adaptationSet);\n    var representations = findChildren(adaptationSet, 'Representation');\n    var adaptationSetSegmentInfo = merge(periodSegmentInfo, segmentInfo);\n    return flatten(representations.map(inheritBaseUrls(attrs, adaptationSetBaseUrls, adaptationSetSegmentInfo)));\n  };\n};\n/**\n * Maps an Period node to a list of Representation inforamtion objects for all\n * AdaptationSet nodes contained within the Period\n *\n * @name toAdaptationSetsCallback\n * @function\n * @param {Node} period\n *        Period node from the mpd\n * @param {number} periodIndex\n *        Index of the Period within the mpd\n * @return {RepresentationInformation[]}\n *         List of objects containing Representaion information\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping Period nodes to a list of\n * Representation information objects\n *\n * @param {Object} mpdAttributes\n *        Contains attributes inherited by the mpd\n * @param {string[]} mpdBaseUrls\n *        Contains list of resolved base urls inherited by the mpd\n * @return {toAdaptationSetsCallback}\n *         Callback map function\n */\n\nvar toAdaptationSets = function toAdaptationSets(mpdAttributes, mpdBaseUrls) {\n  return function (period, index) {\n    var periodBaseUrls = buildBaseUrls(mpdBaseUrls, findChildren(period, 'BaseURL'));\n    var periodAtt = parseAttributes(period);\n    var parsedPeriodId = parseInt(periodAtt.id, 10); // fallback to mapping index if Period@id is not a number\n\n    var periodIndex = window$1.isNaN(parsedPeriodId) ? index : parsedPeriodId;\n    var periodAttributes = merge(mpdAttributes, {\n      periodIndex: periodIndex\n    });\n    var adaptationSets = findChildren(period, 'AdaptationSet');\n    var periodSegmentInfo = getSegmentInformation(period);\n    return flatten(adaptationSets.map(toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo)));\n  };\n};\n/**\n * Traverses the mpd xml tree to generate a list of Representation information objects\n * that have inherited attributes from parent nodes\n *\n * @param {Node} mpd\n *        The root node of the mpd\n * @param {Object} options\n *        Available options for inheritAttributes\n * @param {string} options.manifestUri\n *        The uri source of the mpd\n * @param {number} options.NOW\n *        Current time per DASH IOP.  Default is current time in ms since epoch\n * @param {number} options.clientOffset\n *        Client time difference from NOW (in milliseconds)\n * @return {RepresentationInformation[]}\n *         List of objects containing Representation information\n */\n\nvar inheritAttributes = function inheritAttributes(mpd, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$manifestUri = _options.manifestUri,\n      manifestUri = _options$manifestUri === void 0 ? '' : _options$manifestUri,\n      _options$NOW = _options.NOW,\n      NOW = _options$NOW === void 0 ? Date.now() : _options$NOW,\n      _options$clientOffset = _options.clientOffset,\n      clientOffset = _options$clientOffset === void 0 ? 0 : _options$clientOffset;\n  var periods = findChildren(mpd, 'Period');\n\n  if (!periods.length) {\n    throw new Error(errors.INVALID_NUMBER_OF_PERIOD);\n  }\n\n  var mpdAttributes = parseAttributes(mpd);\n  var mpdBaseUrls = buildBaseUrls([manifestUri], findChildren(mpd, 'BaseURL'));\n  mpdAttributes.sourceDuration = mpdAttributes.mediaPresentationDuration || 0;\n  mpdAttributes.NOW = NOW;\n  mpdAttributes.clientOffset = clientOffset;\n  return flatten(periods.map(toAdaptationSets(mpdAttributes, mpdBaseUrls)));\n};\n\nvar stringToMpdXml = function stringToMpdXml(manifestString) {\n  if (manifestString === '') {\n    throw new Error(errors.DASH_EMPTY_MANIFEST);\n  }\n\n  var parser = new window$1.DOMParser();\n  var xml = parser.parseFromString(manifestString, 'application/xml');\n  var mpd = xml && xml.documentElement.tagName === 'MPD' ? xml.documentElement : null;\n\n  if (!mpd || mpd && mpd.getElementsByTagName('parsererror').length > 0) {\n    throw new Error(errors.DASH_INVALID_XML);\n  }\n\n  return mpd;\n};\n\n/**\n * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n *\n * @param {string} mpd\n *        XML string of the MPD manifest\n * @return {Object|null}\n *         Attributes of UTCTiming node specified in the manifest. Null if none found\n */\n\nvar parseUTCTimingScheme = function parseUTCTimingScheme(mpd) {\n  var UTCTimingNode = findChildren(mpd, 'UTCTiming')[0];\n\n  if (!UTCTimingNode) {\n    return null;\n  }\n\n  var attributes = parseAttributes(UTCTimingNode);\n\n  switch (attributes.schemeIdUri) {\n    case 'urn:mpeg:dash:utc:http-head:2014':\n    case 'urn:mpeg:dash:utc:http-head:2012':\n      attributes.method = 'HEAD';\n      break;\n\n    case 'urn:mpeg:dash:utc:http-xsdate:2014':\n    case 'urn:mpeg:dash:utc:http-iso:2014':\n    case 'urn:mpeg:dash:utc:http-xsdate:2012':\n    case 'urn:mpeg:dash:utc:http-iso:2012':\n      attributes.method = 'GET';\n      break;\n\n    case 'urn:mpeg:dash:utc:direct:2014':\n    case 'urn:mpeg:dash:utc:direct:2012':\n      attributes.method = 'DIRECT';\n      attributes.value = Date.parse(attributes.value);\n      break;\n\n    case 'urn:mpeg:dash:utc:http-ntp:2014':\n    case 'urn:mpeg:dash:utc:ntp:2014':\n    case 'urn:mpeg:dash:utc:sntp:2014':\n    default:\n      throw new Error(errors.UNSUPPORTED_UTC_TIMING_SCHEME);\n  }\n\n  return attributes;\n};\n\nvar VERSION = version;\nvar parse = function parse(manifestString, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return toM3u8(toPlaylists(inheritAttributes(stringToMpdXml(manifestString), options)), options.sidxMapping);\n};\n/**\n * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n *\n * @param {string} manifestString\n *        XML string of the MPD manifest\n * @return {Object|null}\n *         Attributes of UTCTiming node specified in the manifest. Null if none found\n */\n\nvar parseUTCTiming = function parseUTCTiming(manifestString) {\n  return parseUTCTimingScheme(stringToMpdXml(manifestString));\n};\n\nexport { VERSION, parse, parseUTCTiming };\n","var util = require('../util');\n\nfunction JsonParser() { }\n\nJsonParser.prototype.parse = function(value, shape) {\n  return translate(JSON.parse(value), shape);\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined) return undefined;\n\n  switch (shape.type) {\n    case 'structure': return translateStructure(value, shape);\n    case 'map': return translateMap(value, shape);\n    case 'list': return translateList(value, shape);\n    default: return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  if (structure == null) return undefined;\n\n  var struct = {};\n  var shapeMembers = shape.members;\n  util.each(shapeMembers, function(name, memberShape) {\n    var locationName = memberShape.isLocationName ? memberShape.name : name;\n    if (Object.prototype.hasOwnProperty.call(structure, locationName)) {\n      var value = structure[locationName];\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[name] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  if (list == null) return undefined;\n\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = translate(value, shape.member);\n    if (result === undefined) out.push(null);\n    else out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  if (map == null) return undefined;\n\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = translate(value, shape.value);\n    if (result === undefined) out[key] = null;\n    else out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toType(value);\n}\n\n/**\n * @api private\n */\nmodule.exports = JsonParser;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['comprehendmedical'] = {};\nAWS.ComprehendMedical = Service.defineService('comprehendmedical', ['2018-10-30']);\nObject.defineProperty(apiLoader.services['comprehendmedical'], '2018-10-30', {\n  get: function get() {\n    var model = require('../apis/comprehendmedical-2018-10-30.min.json');\n    model.paginators = require('../apis/comprehendmedical-2018-10-30.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ComprehendMedical;\n","var AWS = require('./core');\nvar AcceptorStateMachine = require('./state_machine');\nvar inherit = AWS.util.inherit;\nvar domain = AWS.util.domain;\nvar jmespath = require('jmespath');\n\n/**\n * @api private\n */\nvar hardErrorStates = {success: 1, error: 1, complete: 1};\n\nfunction isTerminalState(machine) {\n  return Object.prototype.hasOwnProperty.call(hardErrorStates, machine._asm.currentState);\n}\n\nvar fsm = new AcceptorStateMachine();\nfsm.setupStates = function() {\n  var transition = function(_, done) {\n    var self = this;\n    self._haltHandlersOnError = false;\n\n    self.emit(self._asm.currentState, function(err) {\n      if (err) {\n        if (isTerminalState(self)) {\n          if (domain && self.domain instanceof domain.Domain) {\n            err.domainEmitter = self;\n            err.domain = self.domain;\n            err.domainThrown = false;\n            self.domain.emit('error', err);\n          } else {\n            throw err;\n          }\n        } else {\n          self.response.error = err;\n          done(err);\n        }\n      } else {\n        done(self.response.error);\n      }\n    });\n\n  };\n\n  this.addState('validate', 'build', 'error', transition);\n  this.addState('build', 'afterBuild', 'restart', transition);\n  this.addState('afterBuild', 'sign', 'restart', transition);\n  this.addState('sign', 'send', 'retry', transition);\n  this.addState('retry', 'afterRetry', 'afterRetry', transition);\n  this.addState('afterRetry', 'sign', 'error', transition);\n  this.addState('send', 'validateResponse', 'retry', transition);\n  this.addState('validateResponse', 'extractData', 'extractError', transition);\n  this.addState('extractError', 'extractData', 'retry', transition);\n  this.addState('extractData', 'success', 'retry', transition);\n  this.addState('restart', 'build', 'error', transition);\n  this.addState('success', 'complete', 'complete', transition);\n  this.addState('error', 'complete', 'complete', transition);\n  this.addState('complete', null, null, transition);\n};\nfsm.setupStates();\n\n/**\n * ## Asynchronous Requests\n *\n * All requests made through the SDK are asynchronous and use a\n * callback interface. Each service method that kicks off a request\n * returns an `AWS.Request` object that you can use to register\n * callbacks.\n *\n * For example, the following service method returns the request\n * object as \"request\", which can be used to register callbacks:\n *\n * ```javascript\n * // request is an AWS.Request object\n * var request = ec2.describeInstances();\n *\n * // register callbacks on request to retrieve response data\n * request.on('success', function(response) {\n *   console.log(response.data);\n * });\n * ```\n *\n * When a request is ready to be sent, the {send} method should\n * be called:\n *\n * ```javascript\n * request.send();\n * ```\n *\n * Since registered callbacks may or may not be idempotent, requests should only\n * be sent once. To perform the same operation multiple times, you will need to\n * create multiple request objects, each with its own registered callbacks.\n *\n * ## Removing Default Listeners for Events\n *\n * Request objects are built with default listeners for the various events,\n * depending on the service type. In some cases, you may want to remove\n * some built-in listeners to customize behaviour. Doing this requires\n * access to the built-in listener functions, which are exposed through\n * the {AWS.EventListeners.Core} namespace. For instance, you may\n * want to customize the HTTP handler used when sending a request. In this\n * case, you can remove the built-in listener associated with the 'send'\n * event, the {AWS.EventListeners.Core.SEND} listener and add your own.\n *\n * ## Multiple Callbacks and Chaining\n *\n * You can register multiple callbacks on any request object. The\n * callbacks can be registered for different events, or all for the\n * same event. In addition, you can chain callback registration, for\n * example:\n *\n * ```javascript\n * request.\n *   on('success', function(response) {\n *     console.log(\"Success!\");\n *   }).\n *   on('error', function(error, response) {\n *     console.log(\"Error!\");\n *   }).\n *   on('complete', function(response) {\n *     console.log(\"Always!\");\n *   }).\n *   send();\n * ```\n *\n * The above example will print either \"Success! Always!\", or \"Error! Always!\",\n * depending on whether the request succeeded or not.\n *\n * @!attribute httpRequest\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpRequest] the raw HTTP request object\n *     containing request headers and body information\n *     sent by the service.\n *\n * @!attribute startTime\n *   @readonly\n *   @!group Operation Properties\n *   @return [Date] the time that the request started\n *\n * @!group Request Building Events\n *\n * @!event validate(request)\n *   Triggered when a request is being validated. Listeners\n *   should throw an error if the request should not be sent.\n *   @param request [Request] the request object being sent\n *   @see AWS.EventListeners.Core.VALIDATE_CREDENTIALS\n *   @see AWS.EventListeners.Core.VALIDATE_REGION\n *   @example Ensuring that a certain parameter is set before sending a request\n *     var req = s3.putObject(params);\n *     req.on('validate', function() {\n *       if (!req.params.Body.match(/^Hello\\s/)) {\n *         throw new Error('Body must start with \"Hello \"');\n *       }\n *     });\n *     req.send(function(err, data) { ... });\n *\n * @!event build(request)\n *   Triggered when the request payload is being built. Listeners\n *   should fill the necessary information to send the request\n *   over HTTP.\n *   @param (see AWS.Request~validate)\n *   @example Add a custom HTTP header to a request\n *     var req = s3.putObject(params);\n *     req.on('build', function() {\n *       req.httpRequest.headers['Custom-Header'] = 'value';\n *     });\n *     req.send(function(err, data) { ... });\n *\n * @!event sign(request)\n *   Triggered when the request is being signed. Listeners should\n *   add the correct authentication headers and/or adjust the body,\n *   depending on the authentication mechanism being used.\n *   @param (see AWS.Request~validate)\n *\n * @!group Request Sending Events\n *\n * @!event send(response)\n *   Triggered when the request is ready to be sent. Listeners\n *   should call the underlying transport layer to initiate\n *   the sending of the request.\n *   @param response [Response] the response object\n *   @context [Request] the request object that was sent\n *   @see AWS.EventListeners.Core.SEND\n *\n * @!event retry(response)\n *   Triggered when a request failed and might need to be retried or redirected.\n *   If the response is retryable, the listener should set the\n *   `response.error.retryable` property to `true`, and optionally set\n *   `response.error.retryDelay` to the millisecond delay for the next attempt.\n *   In the case of a redirect, `response.error.redirect` should be set to\n *   `true` with `retryDelay` set to an optional delay on the next request.\n *\n *   If a listener decides that a request should not be retried,\n *   it should set both `retryable` and `redirect` to false.\n *\n *   Note that a retryable error will be retried at most\n *   {AWS.Config.maxRetries} times (based on the service object's config).\n *   Similarly, a request that is redirected will only redirect at most\n *   {AWS.Config.maxRedirects} times.\n *\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @example Adding a custom retry for a 404 response\n *     request.on('retry', function(response) {\n *       // this resource is not yet available, wait 10 seconds to get it again\n *       if (response.httpResponse.statusCode === 404 && response.error) {\n *         response.error.retryable = true;   // retry this error\n *         response.error.retryDelay = 10000; // wait 10 seconds\n *       }\n *     });\n *\n * @!group Data Parsing Events\n *\n * @!event extractError(response)\n *   Triggered on all non-2xx requests so that listeners can extract\n *   error details from the response body. Listeners to this event\n *   should set the `response.error` property.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event extractData(response)\n *   Triggered in successful requests to allow listeners to\n *   de-serialize the response body into `response.data`.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!group Completion Events\n *\n * @!event success(response)\n *   Triggered when the request completed successfully.\n *   `response.data` will contain the response data and\n *   `response.error` will be null.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event error(error, response)\n *   Triggered when an error occurs at any point during the\n *   request. `response.error` will contain details about the error\n *   that occurred. `response.data` will be null.\n *   @param error [Error] the error object containing details about\n *     the error that occurred.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event complete(response)\n *   Triggered whenever a request cycle completes. `response.error`\n *   should be checked, since the request may have failed.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!group HTTP Events\n *\n * @!event httpHeaders(statusCode, headers, response, statusMessage)\n *   Triggered when headers are sent by the remote server\n *   @param statusCode [Integer] the HTTP response code\n *   @param headers [map<String,String>] the response headers\n *   @param (see AWS.Request~send)\n *   @param statusMessage [String] A status message corresponding to the HTTP\n *                                 response code\n *   @context (see AWS.Request~send)\n *\n * @!event httpData(chunk, response)\n *   Triggered when data is sent by the remote server\n *   @param chunk [Buffer] the buffer data containing the next data chunk\n *     from the server\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @see AWS.EventListeners.Core.HTTP_DATA\n *\n * @!event httpUploadProgress(progress, response)\n *   Triggered when the HTTP request has uploaded more data\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @note This event will not be emitted in Node.js 0.8.x.\n *\n * @!event httpDownloadProgress(progress, response)\n *   Triggered when the HTTP request has downloaded more data\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @note This event will not be emitted in Node.js 0.8.x.\n *\n * @!event httpError(error, response)\n *   Triggered when the HTTP request failed\n *   @param error [Error] the error object that was thrown\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event httpDone(response)\n *   Triggered when the server is finished sending data\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @see AWS.Response\n */\nAWS.Request = inherit({\n\n  /**\n   * Creates a request for an operation on a given service with\n   * a set of input parameters.\n   *\n   * @param service [AWS.Service] the service to perform the operation on\n   * @param operation [String] the operation to perform on the service\n   * @param params [Object] parameters to send to the operation.\n   *   See the operation's documentation for the format of the\n   *   parameters.\n   */\n  constructor: function Request(service, operation, params) {\n    var endpoint = service.endpoint;\n    var region = service.config.region;\n    var customUserAgent = service.config.customUserAgent;\n\n    // global endpoints sign as us-east-1\n    if (service.isGlobalEndpoint) region = 'us-east-1';\n\n    this.domain = domain && domain.active;\n    this.service = service;\n    this.operation = operation;\n    this.params = params || {};\n    this.httpRequest = new AWS.HttpRequest(endpoint, region);\n    this.httpRequest.appendToUserAgent(customUserAgent);\n    this.startTime = service.getSkewCorrectedDate();\n\n    this.response = new AWS.Response(this);\n    this._asm = new AcceptorStateMachine(fsm.states, 'validate');\n    this._haltHandlersOnError = false;\n\n    AWS.SequentialExecutor.call(this);\n    this.emit = this.emitEvent;\n  },\n\n  /**\n   * @!group Sending a Request\n   */\n\n  /**\n   * @overload send(callback = null)\n   *   Sends the request object.\n   *\n   *   @callback callback function(err, data)\n   *     If a callback is supplied, it is called when a response is returned\n   *     from the service.\n   *     @context [AWS.Request] the request object being sent.\n   *     @param err [Error] the error object returned from the request.\n   *       Set to `null` if the request is successful.\n   *     @param data [Object] the de-serialized data returned from\n   *       the request. Set to `null` if a request error occurs.\n   *   @example Sending a request with a callback\n   *     request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     request.send(function(err, data) { console.log(err, data); });\n   *   @example Sending a request with no callback (using event handlers)\n   *     request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     request.on('complete', function(response) { ... }); // register a callback\n   *     request.send();\n   */\n  send: function send(callback) {\n    if (callback) {\n      // append to user agent\n      this.httpRequest.appendToUserAgent('callback');\n      this.on('complete', function (resp) {\n        callback.call(resp, resp.error, resp.data);\n      });\n    }\n    this.runTo();\n\n    return this.response;\n  },\n\n  /**\n   * @!method  promise()\n   *   Sends the request and returns a 'thenable' promise.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(data)\n   *     Called if the promise is fulfilled.\n   *     @param data [Object] the de-serialized data returned from the request.\n   *   @callback rejectedCallback function(error)\n   *     Called if the promise is rejected.\n   *     @param error [Error] the error object returned from the request.\n   *   @return [Promise] A promise that represents the state of the request.\n   *   @example Sending a request using promises.\n   *     var request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     var result = request.promise();\n   *     result.then(function(data) { ... }, function(error) { ... });\n   */\n\n  /**\n   * @api private\n   */\n  build: function build(callback) {\n    return this.runTo('send', callback);\n  },\n\n  /**\n   * @api private\n   */\n  runTo: function runTo(state, done) {\n    this._asm.runTo(state, done, this);\n    return this;\n  },\n\n  /**\n   * Aborts a request, emitting the error and complete events.\n   *\n   * @!macro nobrowser\n   * @example Aborting a request after sending\n   *   var params = {\n   *     Bucket: 'bucket', Key: 'key',\n   *     Body: Buffer.alloc(1024 * 1024 * 5) // 5MB payload\n   *   };\n   *   var request = s3.putObject(params);\n   *   request.send(function (err, data) {\n   *     if (err) console.log(\"Error:\", err.code, err.message);\n   *     else console.log(data);\n   *   });\n   *\n   *   // abort request in 1 second\n   *   setTimeout(request.abort.bind(request), 1000);\n   *\n   *   // prints \"Error: RequestAbortedError Request aborted by user\"\n   * @return [AWS.Request] the same request object, for chaining.\n   * @since v1.4.0\n   */\n  abort: function abort() {\n    this.removeAllListeners('validateResponse');\n    this.removeAllListeners('extractError');\n    this.on('validateResponse', function addAbortedError(resp) {\n      resp.error = AWS.util.error(new Error('Request aborted by user'), {\n         code: 'RequestAbortedError', retryable: false\n      });\n    });\n\n    if (this.httpRequest.stream && !this.httpRequest.stream.didCallback) { // abort HTTP stream\n      this.httpRequest.stream.abort();\n      if (this.httpRequest._abortCallback) {\n         this.httpRequest._abortCallback();\n      } else {\n        this.removeAllListeners('send'); // haven't sent yet, so let's not\n      }\n    }\n\n    return this;\n  },\n\n  /**\n   * Iterates over each page of results given a pageable request, calling\n   * the provided callback with each page of data. After all pages have been\n   * retrieved, the callback is called with `null` data.\n   *\n   * @note This operation can generate multiple requests to a service.\n   * @example Iterating over multiple pages of objects in an S3 bucket\n   *   var pages = 1;\n   *   s3.listObjects().eachPage(function(err, data) {\n   *     if (err) return;\n   *     console.log(\"Page\", pages++);\n   *     console.log(data);\n   *   });\n   * @example Iterating over multiple pages with an asynchronous callback\n   *   s3.listObjects(params).eachPage(function(err, data, done) {\n   *     doSomethingAsyncAndOrExpensive(function() {\n   *       // The next page of results isn't fetched until done is called\n   *       done();\n   *     });\n   *   });\n   * @callback callback function(err, data, [doneCallback])\n   *   Called with each page of resulting data from the request. If the\n   *   optional `doneCallback` is provided in the function, it must be called\n   *   when the callback is complete.\n   *\n   *   @param err [Error] an error object, if an error occurred.\n   *   @param data [Object] a single page of response data. If there is no\n   *     more data, this object will be `null`.\n   *   @param doneCallback [Function] an optional done callback. If this\n   *     argument is defined in the function declaration, it should be called\n   *     when the next page is ready to be retrieved. This is useful for\n   *     controlling serial pagination across asynchronous operations.\n   *   @return [Boolean] if the callback returns `false`, pagination will\n   *     stop.\n   *\n   * @see AWS.Request.eachItem\n   * @see AWS.Response.nextPage\n   * @since v1.4.0\n   */\n  eachPage: function eachPage(callback) {\n    // Make all callbacks async-ish\n    callback = AWS.util.fn.makeAsync(callback, 3);\n\n    function wrappedCallback(response) {\n      callback.call(response, response.error, response.data, function (result) {\n        if (result === false) return;\n\n        if (response.hasNextPage()) {\n          response.nextPage().on('complete', wrappedCallback).send();\n        } else {\n          callback.call(response, null, null, AWS.util.fn.noop);\n        }\n      });\n    }\n\n    this.on('complete', wrappedCallback).send();\n  },\n\n  /**\n   * Enumerates over individual items of a request, paging the responses if\n   * necessary.\n   *\n   * @api experimental\n   * @since v1.4.0\n   */\n  eachItem: function eachItem(callback) {\n    var self = this;\n    function wrappedCallback(err, data) {\n      if (err) return callback(err, null);\n      if (data === null) return callback(null, null);\n\n      var config = self.service.paginationConfig(self.operation);\n      var resultKey = config.resultKey;\n      if (Array.isArray(resultKey)) resultKey = resultKey[0];\n      var items = jmespath.search(data, resultKey);\n      var continueIteration = true;\n      AWS.util.arrayEach(items, function(item) {\n        continueIteration = callback(null, item);\n        if (continueIteration === false) {\n          return AWS.util.abort;\n        }\n      });\n      return continueIteration;\n    }\n\n    this.eachPage(wrappedCallback);\n  },\n\n  /**\n   * @return [Boolean] whether the operation can return multiple pages of\n   *   response data.\n   * @see AWS.Response.eachPage\n   * @since v1.4.0\n   */\n  isPageable: function isPageable() {\n    return this.service.paginationConfig(this.operation) ? true : false;\n  },\n\n  /**\n   * Sends the request and converts the request object into a readable stream\n   * that can be read from or piped into a writable stream.\n   *\n   * @note The data read from a readable stream contains only\n   *   the raw HTTP body contents.\n   * @example Manually reading from a stream\n   *   request.createReadStream().on('data', function(data) {\n   *     console.log(\"Got data:\", data.toString());\n   *   });\n   * @example Piping a request body into a file\n   *   var out = fs.createWriteStream('/path/to/outfile.jpg');\n   *   s3.service.getObject(params).createReadStream().pipe(out);\n   * @return [Stream] the readable stream object that can be piped\n   *   or read from (by registering 'data' event listeners).\n   * @!macro nobrowser\n   */\n  createReadStream: function createReadStream() {\n    var streams = AWS.util.stream;\n    var req = this;\n    var stream = null;\n\n    if (AWS.HttpClient.streamsApiVersion === 2) {\n      stream = new streams.PassThrough();\n      process.nextTick(function() { req.send(); });\n    } else {\n      stream = new streams.Stream();\n      stream.readable = true;\n\n      stream.sent = false;\n      stream.on('newListener', function(event) {\n        if (!stream.sent && event === 'data') {\n          stream.sent = true;\n          process.nextTick(function() { req.send(); });\n        }\n      });\n    }\n\n    this.on('error', function(err) {\n      stream.emit('error', err);\n    });\n\n    this.on('httpHeaders', function streamHeaders(statusCode, headers, resp) {\n      if (statusCode < 300) {\n        req.removeListener('httpData', AWS.EventListeners.Core.HTTP_DATA);\n        req.removeListener('httpError', AWS.EventListeners.Core.HTTP_ERROR);\n        req.on('httpError', function streamHttpError(error) {\n          resp.error = error;\n          resp.error.retryable = false;\n        });\n\n        var shouldCheckContentLength = false;\n        var expectedLen;\n        if (req.httpRequest.method !== 'HEAD') {\n          expectedLen = parseInt(headers['content-length'], 10);\n        }\n        if (expectedLen !== undefined && !isNaN(expectedLen) && expectedLen >= 0) {\n          shouldCheckContentLength = true;\n          var receivedLen = 0;\n        }\n\n        var checkContentLengthAndEmit = function checkContentLengthAndEmit() {\n          if (shouldCheckContentLength && receivedLen !== expectedLen) {\n            stream.emit('error', AWS.util.error(\n              new Error('Stream content length mismatch. Received ' +\n                receivedLen + ' of ' + expectedLen + ' bytes.'),\n              { code: 'StreamContentLengthMismatch' }\n            ));\n          } else if (AWS.HttpClient.streamsApiVersion === 2) {\n            stream.end();\n          } else {\n            stream.emit('end');\n          }\n        };\n\n        var httpStream = resp.httpResponse.createUnbufferedStream();\n\n        if (AWS.HttpClient.streamsApiVersion === 2) {\n          if (shouldCheckContentLength) {\n            var lengthAccumulator = new streams.PassThrough();\n            lengthAccumulator._write = function(chunk) {\n              if (chunk && chunk.length) {\n                receivedLen += chunk.length;\n              }\n              return streams.PassThrough.prototype._write.apply(this, arguments);\n            };\n\n            lengthAccumulator.on('end', checkContentLengthAndEmit);\n            stream.on('error', function(err) {\n              shouldCheckContentLength = false;\n              httpStream.unpipe(lengthAccumulator);\n              lengthAccumulator.emit('end');\n              lengthAccumulator.end();\n            });\n            httpStream.pipe(lengthAccumulator).pipe(stream, { end: false });\n          } else {\n            httpStream.pipe(stream);\n          }\n        } else {\n\n          if (shouldCheckContentLength) {\n            httpStream.on('data', function(arg) {\n              if (arg && arg.length) {\n                receivedLen += arg.length;\n              }\n            });\n          }\n\n          httpStream.on('data', function(arg) {\n            stream.emit('data', arg);\n          });\n          httpStream.on('end', checkContentLengthAndEmit);\n        }\n\n        httpStream.on('error', function(err) {\n          shouldCheckContentLength = false;\n          stream.emit('error', err);\n        });\n      }\n    });\n\n    return stream;\n  },\n\n  /**\n   * @param [Array,Response] args This should be the response object,\n   *   or an array of args to send to the event.\n   * @api private\n   */\n  emitEvent: function emit(eventName, args, done) {\n    if (typeof args === 'function') { done = args; args = null; }\n    if (!done) done = function() { };\n    if (!args) args = this.eventParameters(eventName, this.response);\n\n    var origEmit = AWS.SequentialExecutor.prototype.emit;\n    origEmit.call(this, eventName, args, function (err) {\n      if (err) this.response.error = err;\n      done.call(this, err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  eventParameters: function eventParameters(eventName) {\n    switch (eventName) {\n      case 'restart':\n      case 'validate':\n      case 'sign':\n      case 'build':\n      case 'afterValidate':\n      case 'afterBuild':\n        return [this];\n      case 'error':\n        return [this.response.error, this.response];\n      default:\n        return [this.response];\n    }\n  },\n\n  /**\n   * @api private\n   */\n  presign: function presign(expires, callback) {\n    if (!callback && typeof expires === 'function') {\n      callback = expires;\n      expires = null;\n    }\n    return new AWS.Signers.Presign().sign(this.toGet(), expires, callback);\n  },\n\n  /**\n   * @api private\n   */\n  isPresigned: function isPresigned() {\n    return Object.prototype.hasOwnProperty.call(this.httpRequest.headers, 'presigned-expires');\n  },\n\n  /**\n   * @api private\n   */\n  toUnauthenticated: function toUnauthenticated() {\n    this._unAuthenticated = true;\n    this.removeListener('validate', AWS.EventListeners.Core.VALIDATE_CREDENTIALS);\n    this.removeListener('sign', AWS.EventListeners.Core.SIGN);\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  toGet: function toGet() {\n    if (this.service.api.protocol === 'query' ||\n        this.service.api.protocol === 'ec2') {\n      this.removeListener('build', this.buildAsGet);\n      this.addListener('build', this.buildAsGet);\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  buildAsGet: function buildAsGet(request) {\n    request.httpRequest.method = 'GET';\n    request.httpRequest.path = request.service.endpoint.path +\n                               '?' + request.httpRequest.body;\n    request.httpRequest.body = '';\n\n    // don't need these headers on a GET request\n    delete request.httpRequest.headers['Content-Length'];\n    delete request.httpRequest.headers['Content-Type'];\n  },\n\n  /**\n   * @api private\n   */\n  haltHandlersOnError: function haltHandlersOnError() {\n    this._haltHandlersOnError = true;\n  }\n});\n\n/**\n * @api private\n */\nAWS.Request.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.promise = function promise() {\n    var self = this;\n    // append to user agent\n    this.httpRequest.appendToUserAgent('promise');\n    return new PromiseDependency(function(resolve, reject) {\n      self.on('complete', function(resp) {\n        if (resp.error) {\n          reject(resp.error);\n        } else {\n          // define $response property so that it is not enumberable\n          // this prevents circular reference errors when stringifying the JSON object\n          resolve(Object.defineProperty(\n            resp.data || {},\n            '$response',\n            {value: resp}\n          ));\n        }\n      });\n      self.runTo();\n    });\n  };\n};\n\n/**\n * @api private\n */\nAWS.Request.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.promise;\n};\n\nAWS.util.addPromises(AWS.Request);\n\nAWS.util.mixin(AWS.Request, AWS.SequentialExecutor);\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['ecs'] = {};\nAWS.ECS = Service.defineService('ecs', ['2014-11-13']);\nObject.defineProperty(apiLoader.services['ecs'], '2014-11-13', {\n  get: function get() {\n    var model = require('../apis/ecs-2014-11-13.min.json');\n    model.paginators = require('../apis/ecs-2014-11-13.paginators.json').pagination;\n    model.waiters = require('../apis/ecs-2014-11-13.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ECS;\n","var AWS = require('../core');\nvar CognitoIdentity = require('../../clients/cognitoidentity');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS Web Identity Federation using\n * the Amazon Cognito Identity service.\n *\n * By default this provider gets credentials using the\n * {AWS.CognitoIdentity.getCredentialsForIdentity} service operation, which\n * requires either an `IdentityId` or an `IdentityPoolId` (Amazon Cognito\n * Identity Pool ID), which is used to call {AWS.CognitoIdentity.getId} to\n * obtain an `IdentityId`. If the identity or identity pool is not configured in\n * the Amazon Cognito Console to use IAM roles with the appropriate permissions,\n * then additionally a `RoleArn` is required containing the ARN of the IAM trust\n * policy for the Amazon Cognito role that the user will log into. If a `RoleArn`\n * is provided, then this provider gets credentials using the\n * {AWS.STS.assumeRoleWithWebIdentity} service operation, after first getting an\n * Open ID token from {AWS.CognitoIdentity.getOpenIdToken}.\n *\n * In addition, if this credential provider is used to provide authenticated\n * login, the `Logins` map may be set to the tokens provided by the respective\n * identity providers. See {constructor} for an example on creating a credentials\n * object with proper property values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the WebIdentityToken, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.Logins['graph.facebook.com'] = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.CognitoIdentity.getId},\n *     {AWS.CognitoIdentity.getOpenIdToken}, and\n *     {AWS.STS.assumeRoleWithWebIdentity}. To update the token, set the\n *     `params.WebIdentityToken` property.\n * @!attribute data\n *   @return [map] the raw data response from the call to\n *     {AWS.CognitoIdentity.getCredentialsForIdentity}, or\n *     {AWS.STS.assumeRoleWithWebIdentity}. Use this if you want to get\n *     access to other properties from the response.\n * @!attribute identityId\n *   @return [String] the Cognito ID returned by the last call to\n *     {AWS.CognitoIdentity.getOpenIdToken}. This ID represents the actual\n *     final resolved identity ID from Amazon Cognito.\n */\nAWS.CognitoIdentityCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * @api private\n   */\n  localStorageKey: {\n    id: 'aws.cognito.identity-id.',\n    providers: 'aws.cognito.identity-providers.'\n  },\n\n  /**\n   * Creates a new credentials object.\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n   *\n   *     // either IdentityPoolId or IdentityId is required\n   *     // See the IdentityPoolId param for AWS.CognitoIdentity.getID (linked below)\n   *     // See the IdentityId param for AWS.CognitoIdentity.getCredentialsForIdentity\n   *     // or AWS.CognitoIdentity.getOpenIdToken (linked below)\n   *     IdentityPoolId: 'us-east-1:1699ebc0-7900-4099-b910-2df94f52a030',\n   *     IdentityId: 'us-east-1:128d0a74-c82f-4553-916d-90053e4a8b0f'\n   *\n   *     // optional, only necessary when the identity pool is not configured\n   *     // to use IAM roles in the Amazon Cognito Console\n   *     // See the RoleArn param for AWS.STS.assumeRoleWithWebIdentity (linked below)\n   *     RoleArn: 'arn:aws:iam::1234567890:role/MYAPP-CognitoIdentity',\n   *\n   *     // optional tokens, used for authenticated login\n   *     // See the Logins param for AWS.CognitoIdentity.getID (linked below)\n   *     Logins: {\n   *       'graph.facebook.com': 'FBTOKEN',\n   *       'www.amazon.com': 'AMAZONTOKEN',\n   *       'accounts.google.com': 'GOOGLETOKEN',\n   *       'api.twitter.com': 'TWITTERTOKEN',\n   *       'www.digits.com': 'DIGITSTOKEN'\n   *     },\n   *\n   *     // optional name, defaults to web-identity\n   *     // See the RoleSessionName param for AWS.STS.assumeRoleWithWebIdentity (linked below)\n   *     RoleSessionName: 'web',\n   *\n   *     // optional, only necessary when application runs in a browser\n   *     // and multiple users are signed in at once, used for caching\n   *     LoginId: 'example@gmail.com'\n   *\n   *   }, {\n   *      // optionally provide configuration to apply to the underlying service clients\n   *      // if configuration is not provided, then configuration will be pulled from AWS.config\n   *\n   *      // region should match the region your identity pool is located in\n   *      region: 'us-east-1',\n   *\n   *      // specify timeout options\n   *      httpOptions: {\n   *        timeout: 100\n   *      }\n   *   });\n   * @see AWS.CognitoIdentity.getId\n   * @see AWS.CognitoIdentity.getCredentialsForIdentity\n   * @see AWS.STS.assumeRoleWithWebIdentity\n   * @see AWS.CognitoIdentity.getOpenIdToken\n   * @see AWS.Config\n   * @note If a region is not provided in the global AWS.config, or\n   *   specified in the `clientConfig` to the CognitoIdentityCredentials\n   *   constructor, you may encounter a 'Missing credentials in config' error\n   *   when calling making a service call.\n   */\n  constructor: function CognitoIdentityCredentials(params, clientConfig) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n    this.data = null;\n    this._identityId = null;\n    this._clientConfig = AWS.util.copy(clientConfig || {});\n    this.loadCachedId();\n    var self = this;\n    Object.defineProperty(this, 'identityId', {\n      get: function() {\n        self.loadCachedId();\n        return self._identityId || self.params.IdentityId;\n      },\n      set: function(identityId) {\n        self._identityId = identityId;\n      }\n    });\n  },\n\n  /**\n   * Refreshes credentials using {AWS.CognitoIdentity.getCredentialsForIdentity},\n   * or {AWS.STS.assumeRoleWithWebIdentity}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see AWS.Credentials.get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  load: function load(callback) {\n    var self = this;\n    self.createClients();\n    self.data = null;\n    self._identityId = null;\n    self.getId(function(err) {\n      if (!err) {\n        if (!self.params.RoleArn) {\n          self.getCredentialsForIdentity(callback);\n        } else {\n          self.getCredentialsFromSTS(callback);\n        }\n      } else {\n        self.clearIdOnNotAuthorized(err);\n        callback(err);\n      }\n    });\n  },\n\n  /**\n   * Clears the cached Cognito ID associated with the currently configured\n   * identity pool ID. Use this to manually invalidate your cache if\n   * the identity pool ID was deleted.\n   */\n  clearCachedId: function clearCache() {\n    this._identityId = null;\n    delete this.params.IdentityId;\n\n    var poolId = this.params.IdentityPoolId;\n    var loginId = this.params.LoginId || '';\n    delete this.storage[this.localStorageKey.id + poolId + loginId];\n    delete this.storage[this.localStorageKey.providers + poolId + loginId];\n  },\n\n  /**\n   * @api private\n   */\n  clearIdOnNotAuthorized: function clearIdOnNotAuthorized(err) {\n    var self = this;\n    if (err.code == 'NotAuthorizedException') {\n      self.clearCachedId();\n    }\n  },\n\n  /**\n   * Retrieves a Cognito ID, loading from cache if it was already retrieved\n   * on this device.\n   *\n   * @callback callback function(err, identityId)\n   *   @param err [Error, null] an error object if the call failed or null if\n   *     it succeeded.\n   *   @param identityId [String, null] if successful, the callback will return\n   *     the Cognito ID.\n   * @note If not loaded explicitly, the Cognito ID is loaded and stored in\n   *   localStorage in the browser environment of a device.\n   * @api private\n   */\n  getId: function getId(callback) {\n    var self = this;\n    if (typeof self.params.IdentityId === 'string') {\n      return callback(null, self.params.IdentityId);\n    }\n\n    self.cognito.getId(function(err, data) {\n      if (!err && data.IdentityId) {\n        self.params.IdentityId = data.IdentityId;\n        callback(null, data.IdentityId);\n      } else {\n        callback(err);\n      }\n    });\n  },\n\n\n  /**\n   * @api private\n   */\n  loadCredentials: function loadCredentials(data, credentials) {\n    if (!data || !credentials) return;\n    credentials.expired = false;\n    credentials.accessKeyId = data.Credentials.AccessKeyId;\n    credentials.secretAccessKey = data.Credentials.SecretKey;\n    credentials.sessionToken = data.Credentials.SessionToken;\n    credentials.expireTime = data.Credentials.Expiration;\n  },\n\n  /**\n   * @api private\n   */\n  getCredentialsForIdentity: function getCredentialsForIdentity(callback) {\n    var self = this;\n    self.cognito.getCredentialsForIdentity(function(err, data) {\n      if (!err) {\n        self.cacheId(data);\n        self.data = data;\n        self.loadCredentials(self.data, self);\n      } else {\n        self.clearIdOnNotAuthorized(err);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  getCredentialsFromSTS: function getCredentialsFromSTS(callback) {\n    var self = this;\n    self.cognito.getOpenIdToken(function(err, data) {\n      if (!err) {\n        self.cacheId(data);\n        self.params.WebIdentityToken = data.Token;\n        self.webIdentityCredentials.refresh(function(webErr) {\n          if (!webErr) {\n            self.data = self.webIdentityCredentials.data;\n            self.sts.credentialsFrom(self.data, self);\n          }\n          callback(webErr);\n        });\n      } else {\n        self.clearIdOnNotAuthorized(err);\n        callback(err);\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  loadCachedId: function loadCachedId() {\n    var self = this;\n\n    // in the browser we source default IdentityId from localStorage\n    if (AWS.util.isBrowser() && !self.params.IdentityId) {\n      var id = self.getStorage('id');\n      if (id && self.params.Logins) {\n        var actualProviders = Object.keys(self.params.Logins);\n        var cachedProviders =\n          (self.getStorage('providers') || '').split(',');\n\n        // only load ID if at least one provider used this ID before\n        var intersect = cachedProviders.filter(function(n) {\n          return actualProviders.indexOf(n) !== -1;\n        });\n        if (intersect.length !== 0) {\n          self.params.IdentityId = id;\n        }\n      } else if (id) {\n        self.params.IdentityId = id;\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    var clientConfig = this._clientConfig;\n    this.webIdentityCredentials = this.webIdentityCredentials ||\n      new AWS.WebIdentityCredentials(this.params, clientConfig);\n    if (!this.cognito) {\n      var cognitoConfig = AWS.util.merge({}, clientConfig);\n      cognitoConfig.params = this.params;\n      this.cognito = new CognitoIdentity(cognitoConfig);\n    }\n    this.sts = this.sts || new STS(clientConfig);\n  },\n\n  /**\n   * @api private\n   */\n  cacheId: function cacheId(data) {\n    this._identityId = data.IdentityId;\n    this.params.IdentityId = this._identityId;\n\n    // cache this IdentityId in browser localStorage if possible\n    if (AWS.util.isBrowser()) {\n      this.setStorage('id', data.IdentityId);\n\n      if (this.params.Logins) {\n        this.setStorage('providers', Object.keys(this.params.Logins).join(','));\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getStorage: function getStorage(key) {\n    return this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || '')];\n  },\n\n  /**\n   * @api private\n   */\n  setStorage: function setStorage(key, val) {\n    try {\n      this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || '')] = val;\n    } catch (_) {}\n  },\n\n  /**\n   * @api private\n   */\n  storage: (function() {\n    try {\n      var storage = AWS.util.isBrowser() && window.localStorage !== null && typeof window.localStorage === 'object' ?\n          window.localStorage : {};\n\n      // Test set/remove which would throw an error in Safari's private browsing\n      storage['aws.test-storage'] = 'foobar';\n      delete storage['aws.test-storage'];\n\n      return storage;\n    } catch (_) {\n      return {};\n    }\n  })()\n});\n","module.exports = SafeParseTuple\n\nfunction SafeParseTuple(obj, reviver) {\n    var json\n    var error = null\n\n    try {\n        json = JSON.parse(obj, reviver)\n    } catch (err) {\n        error = err\n    }\n\n    return [error, json]\n}\n","var AWS = require('./core');\nvar Api = require('./model/api');\nvar regionConfig = require('./region_config');\n\nvar inherit = AWS.util.inherit;\nvar clientCount = 0;\n\n/**\n * The service class representing an AWS service.\n *\n * @class_abstract This class is an abstract class.\n *\n * @!attribute apiVersions\n *   @return [Array<String>] the list of API versions supported by this service.\n *   @readonly\n */\nAWS.Service = inherit({\n  /**\n   * Create a new service object with a configuration object\n   *\n   * @param config [map] a map of configuration options\n   */\n  constructor: function Service(config) {\n    if (!this.loadServiceClass) {\n      throw AWS.util.error(new Error(),\n        'Service must be constructed with `new\\' operator');\n    }\n    var ServiceClass = this.loadServiceClass(config || {});\n    if (ServiceClass) {\n      var originalConfig = AWS.util.copy(config);\n      var svc = new ServiceClass(config);\n      Object.defineProperty(svc, '_originalConfig', {\n        get: function() { return originalConfig; },\n        enumerable: false,\n        configurable: true\n      });\n      svc._clientId = ++clientCount;\n      return svc;\n    }\n    this.initialize(config);\n  },\n\n  /**\n   * @api private\n   */\n  initialize: function initialize(config) {\n    var svcConfig = AWS.config[this.serviceIdentifier];\n    this.config = new AWS.Config(AWS.config);\n    if (svcConfig) this.config.update(svcConfig, true);\n    if (config) this.config.update(config, true);\n\n    this.validateService();\n    if (!this.config.endpoint) regionConfig(this);\n\n    this.config.endpoint = this.endpointFromTemplate(this.config.endpoint);\n    this.setEndpoint(this.config.endpoint);\n    //enable attaching listeners to service client\n    AWS.SequentialExecutor.call(this);\n    AWS.Service.addDefaultMonitoringListeners(this);\n    if ((this.config.clientSideMonitoring || AWS.Service._clientSideMonitoring) && this.publisher) {\n      var publisher = this.publisher;\n      this.addNamedListener('PUBLISH_API_CALL', 'apiCall', function PUBLISH_API_CALL(event) {\n        process.nextTick(function() {publisher.eventHandler(event);});\n      });\n      this.addNamedListener('PUBLISH_API_ATTEMPT', 'apiCallAttempt', function PUBLISH_API_ATTEMPT(event) {\n        process.nextTick(function() {publisher.eventHandler(event);});\n      });\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateService: function validateService() {\n  },\n\n  /**\n   * @api private\n   */\n  loadServiceClass: function loadServiceClass(serviceConfig) {\n    var config = serviceConfig;\n    if (!AWS.util.isEmpty(this.api)) {\n      return null;\n    } else if (config.apiConfig) {\n      return AWS.Service.defineServiceApi(this.constructor, config.apiConfig);\n    } else if (!this.constructor.services) {\n      return null;\n    } else {\n      config = new AWS.Config(AWS.config);\n      config.update(serviceConfig, true);\n      var version = config.apiVersions[this.constructor.serviceIdentifier];\n      version = version || config.apiVersion;\n      return this.getLatestServiceClass(version);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getLatestServiceClass: function getLatestServiceClass(version) {\n    version = this.getLatestServiceVersion(version);\n    if (this.constructor.services[version] === null) {\n      AWS.Service.defineServiceApi(this.constructor, version);\n    }\n\n    return this.constructor.services[version];\n  },\n\n  /**\n   * @api private\n   */\n  getLatestServiceVersion: function getLatestServiceVersion(version) {\n    if (!this.constructor.services || this.constructor.services.length === 0) {\n      throw new Error('No services defined on ' +\n                      this.constructor.serviceIdentifier);\n    }\n\n    if (!version) {\n      version = 'latest';\n    } else if (AWS.util.isType(version, Date)) {\n      version = AWS.util.date.iso8601(version).split('T')[0];\n    }\n\n    if (Object.hasOwnProperty(this.constructor.services, version)) {\n      return version;\n    }\n\n    var keys = Object.keys(this.constructor.services).sort();\n    var selectedVersion = null;\n    for (var i = keys.length - 1; i >= 0; i--) {\n      // versions that end in \"*\" are not available on disk and can be\n      // skipped, so do not choose these as selectedVersions\n      if (keys[i][keys[i].length - 1] !== '*') {\n        selectedVersion = keys[i];\n      }\n      if (keys[i].substr(0, 10) <= version) {\n        return selectedVersion;\n      }\n    }\n\n    throw new Error('Could not find ' + this.constructor.serviceIdentifier +\n                    ' API to satisfy version constraint `' + version + '\\'');\n  },\n\n  /**\n   * @api private\n   */\n  api: {},\n\n  /**\n   * @api private\n   */\n  defaultRetryCount: 3,\n\n  /**\n   * @api private\n   */\n  customizeRequests: function customizeRequests(callback) {\n    if (!callback) {\n      this.customRequestHandler = null;\n    } else if (typeof callback === 'function') {\n      this.customRequestHandler = callback;\n    } else {\n      throw new Error('Invalid callback type \\'' + typeof callback + '\\' provided in customizeRequests');\n    }\n  },\n\n  /**\n   * Calls an operation on a service with the given input parameters.\n   *\n   * @param operation [String] the name of the operation to call on the service.\n   * @param params [map] a map of input options for the operation\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  makeRequest: function makeRequest(operation, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = null;\n    }\n\n    params = params || {};\n    if (this.config.params) { // copy only toplevel bound params\n      var rules = this.api.operations[operation];\n      if (rules) {\n        params = AWS.util.copy(params);\n        AWS.util.each(this.config.params, function(key, value) {\n          if (rules.input.members[key]) {\n            if (params[key] === undefined || params[key] === null) {\n              params[key] = value;\n            }\n          }\n        });\n      }\n    }\n\n    var request = new AWS.Request(this, operation, params);\n    this.addAllRequestListeners(request);\n    this.attachMonitoringEmitter(request);\n    if (callback) request.send(callback);\n    return request;\n  },\n\n  /**\n   * Calls an operation on a service with the given input parameters, without\n   * any authentication data. This method is useful for \"public\" API operations.\n   *\n   * @param operation [String] the name of the operation to call on the service.\n   * @param params [map] a map of input options for the operation\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  makeUnauthenticatedRequest: function makeUnauthenticatedRequest(operation, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = {};\n    }\n\n    var request = this.makeRequest(operation, params).toUnauthenticated();\n    return callback ? request.send(callback) : request;\n  },\n\n  /**\n   * Waits for a given state\n   *\n   * @param state [String] the state on the service to wait for\n   * @param params [map] a map of parameters to pass with each request\n   * @option params $waiter [map] a map of configuration options for the waiter\n   * @option params $waiter.delay [Number] The number of seconds to wait between\n   *                                       requests\n   * @option params $waiter.maxAttempts [Number] The maximum number of requests\n   *                                             to send while waiting\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  waitFor: function waitFor(state, params, callback) {\n    var waiter = new AWS.ResourceWaiter(this, state);\n    return waiter.wait(params, callback);\n  },\n\n  /**\n   * @api private\n   */\n  addAllRequestListeners: function addAllRequestListeners(request) {\n    var list = [AWS.events, AWS.EventListeners.Core, this.serviceInterface(),\n                AWS.EventListeners.CorePost];\n    for (var i = 0; i < list.length; i++) {\n      if (list[i]) request.addListeners(list[i]);\n    }\n\n    // disable parameter validation\n    if (!this.config.paramValidation) {\n      request.removeListener('validate',\n        AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n    }\n\n    if (this.config.logger) { // add logging events\n      request.addListeners(AWS.EventListeners.Logger);\n    }\n\n    this.setupRequestListeners(request);\n    // call prototype's customRequestHandler\n    if (typeof this.constructor.prototype.customRequestHandler === 'function') {\n      this.constructor.prototype.customRequestHandler(request);\n    }\n    // call instance's customRequestHandler\n    if (Object.prototype.hasOwnProperty.call(this, 'customRequestHandler') && typeof this.customRequestHandler === 'function') {\n      this.customRequestHandler(request);\n    }\n  },\n\n  /**\n   * Event recording metrics for a whole API call.\n   * @returns {object} a subset of api call metrics\n   * @api private\n   */\n  apiCallEvent: function apiCallEvent(request) {\n    var api = request.service.api.operations[request.operation];\n    var monitoringEvent = {\n      Type: 'ApiCall',\n      Api: api ? api.name : request.operation,\n      Version: 1,\n      Service: request.service.api.serviceId || request.service.api.endpointPrefix,\n      Region: request.httpRequest.region,\n      MaxRetriesExceeded: 0,\n      UserAgent: request.httpRequest.getUserAgent(),\n    };\n    var response = request.response;\n    if (response.httpResponse.statusCode) {\n      monitoringEvent.FinalHttpStatusCode = response.httpResponse.statusCode;\n    }\n    if (response.error) {\n      var error = response.error;\n      var statusCode = response.httpResponse.statusCode;\n      if (statusCode > 299) {\n        if (error.code) monitoringEvent.FinalAwsException = error.code;\n        if (error.message) monitoringEvent.FinalAwsExceptionMessage = error.message;\n      } else {\n        if (error.code || error.name) monitoringEvent.FinalSdkException = error.code || error.name;\n        if (error.message) monitoringEvent.FinalSdkExceptionMessage = error.message;\n      }\n    }\n    return monitoringEvent;\n  },\n\n  /**\n   * Event recording metrics for an API call attempt.\n   * @returns {object} a subset of api call attempt metrics\n   * @api private\n   */\n  apiAttemptEvent: function apiAttemptEvent(request) {\n    var api = request.service.api.operations[request.operation];\n    var monitoringEvent = {\n      Type: 'ApiCallAttempt',\n      Api: api ? api.name : request.operation,\n      Version: 1,\n      Service: request.service.api.serviceId || request.service.api.endpointPrefix,\n      Fqdn: request.httpRequest.endpoint.hostname,\n      UserAgent: request.httpRequest.getUserAgent(),\n    };\n    var response = request.response;\n    if (response.httpResponse.statusCode) {\n      monitoringEvent.HttpStatusCode = response.httpResponse.statusCode;\n    }\n    if (\n      !request._unAuthenticated &&\n      request.service.config.credentials &&\n      request.service.config.credentials.accessKeyId\n    ) {\n      monitoringEvent.AccessKey = request.service.config.credentials.accessKeyId;\n    }\n    if (!response.httpResponse.headers) return monitoringEvent;\n    if (request.httpRequest.headers['x-amz-security-token']) {\n      monitoringEvent.SessionToken = request.httpRequest.headers['x-amz-security-token'];\n    }\n    if (response.httpResponse.headers['x-amzn-requestid']) {\n      monitoringEvent.XAmznRequestId = response.httpResponse.headers['x-amzn-requestid'];\n    }\n    if (response.httpResponse.headers['x-amz-request-id']) {\n      monitoringEvent.XAmzRequestId = response.httpResponse.headers['x-amz-request-id'];\n    }\n    if (response.httpResponse.headers['x-amz-id-2']) {\n      monitoringEvent.XAmzId2 = response.httpResponse.headers['x-amz-id-2'];\n    }\n    return monitoringEvent;\n  },\n\n  /**\n   * Add metrics of failed request.\n   * @api private\n   */\n  attemptFailEvent: function attemptFailEvent(request) {\n    var monitoringEvent = this.apiAttemptEvent(request);\n    var response = request.response;\n    var error = response.error;\n    if (response.httpResponse.statusCode > 299 ) {\n      if (error.code) monitoringEvent.AwsException = error.code;\n      if (error.message) monitoringEvent.AwsExceptionMessage = error.message;\n    } else {\n      if (error.code || error.name) monitoringEvent.SdkException = error.code || error.name;\n      if (error.message) monitoringEvent.SdkExceptionMessage = error.message;\n    }\n    return monitoringEvent;\n  },\n\n  /**\n   * Attach listeners to request object to fetch metrics of each request\n   * and emit data object through \\'ApiCall\\' and \\'ApiCallAttempt\\' events.\n   * @api private\n   */\n  attachMonitoringEmitter: function attachMonitoringEmitter(request) {\n    var attemptTimestamp; //timestamp marking the beginning of a request attempt\n    var attemptStartRealTime; //Start time of request attempt. Used to calculating attemptLatency\n    var attemptLatency; //latency from request sent out to http response reaching SDK\n    var callStartRealTime; //Start time of API call. Used to calculating API call latency\n    var attemptCount = 0; //request.retryCount is not reliable here\n    var region; //region cache region for each attempt since it can be updated in plase (e.g. s3)\n    var callTimestamp; //timestamp when the request is created\n    var self = this;\n    var addToHead = true;\n\n    request.on('validate', function () {\n      callStartRealTime = AWS.util.realClock.now();\n      callTimestamp = Date.now();\n    }, addToHead);\n    request.on('sign', function () {\n      attemptStartRealTime = AWS.util.realClock.now();\n      attemptTimestamp = Date.now();\n      region = request.httpRequest.region;\n      attemptCount++;\n    }, addToHead);\n    request.on('validateResponse', function() {\n      attemptLatency = Math.round(AWS.util.realClock.now() - attemptStartRealTime);\n    });\n    request.addNamedListener('API_CALL_ATTEMPT', 'success', function API_CALL_ATTEMPT() {\n      var apiAttemptEvent = self.apiAttemptEvent(request);\n      apiAttemptEvent.Timestamp = attemptTimestamp;\n      apiAttemptEvent.AttemptLatency = attemptLatency >= 0 ? attemptLatency : 0;\n      apiAttemptEvent.Region = region;\n      self.emit('apiCallAttempt', [apiAttemptEvent]);\n    });\n    request.addNamedListener('API_CALL_ATTEMPT_RETRY', 'retry', function API_CALL_ATTEMPT_RETRY() {\n      var apiAttemptEvent = self.attemptFailEvent(request);\n      apiAttemptEvent.Timestamp = attemptTimestamp;\n      //attemptLatency may not be available if fail before response\n      attemptLatency = attemptLatency ||\n        Math.round(AWS.util.realClock.now() - attemptStartRealTime);\n      apiAttemptEvent.AttemptLatency = attemptLatency >= 0 ? attemptLatency : 0;\n      apiAttemptEvent.Region = region;\n      self.emit('apiCallAttempt', [apiAttemptEvent]);\n    });\n    request.addNamedListener('API_CALL', 'complete', function API_CALL() {\n      var apiCallEvent = self.apiCallEvent(request);\n      apiCallEvent.AttemptCount = attemptCount;\n      if (apiCallEvent.AttemptCount <= 0) return;\n      apiCallEvent.Timestamp = callTimestamp;\n      var latency = Math.round(AWS.util.realClock.now() - callStartRealTime);\n      apiCallEvent.Latency = latency >= 0 ? latency : 0;\n      var response = request.response;\n      if (\n        typeof response.retryCount === 'number' &&\n        typeof response.maxRetries === 'number' &&\n        (response.retryCount >= response.maxRetries)\n      ) {\n        apiCallEvent.MaxRetriesExceeded = 1;\n      }\n      self.emit('apiCall', [apiCallEvent]);\n    });\n  },\n\n  /**\n   * Override this method to setup any custom request listeners for each\n   * new request to the service.\n   *\n   * @method_abstract This is an abstract method.\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n  },\n\n  /**\n   * Gets the signer class for a given request\n   * @api private\n   */\n  getSignerClass: function getSignerClass(request) {\n    var version;\n    // get operation authtype if present\n    var operation = null;\n    var authtype = '';\n    if (request) {\n      var operations = request.service.api.operations || {};\n      operation = operations[request.operation] || null;\n      authtype = operation ? operation.authtype : '';\n    }\n    if (this.config.signatureVersion) {\n      version = this.config.signatureVersion;\n    } else if (authtype === 'v4' || authtype === 'v4-unsigned-body') {\n      version = 'v4';\n    } else {\n      version = this.api.signatureVersion;\n    }\n    return AWS.Signers.RequestSigner.getVersion(version);\n  },\n\n  /**\n   * @api private\n   */\n  serviceInterface: function serviceInterface() {\n    switch (this.api.protocol) {\n      case 'ec2': return AWS.EventListeners.Query;\n      case 'query': return AWS.EventListeners.Query;\n      case 'json': return AWS.EventListeners.Json;\n      case 'rest-json': return AWS.EventListeners.RestJson;\n      case 'rest-xml': return AWS.EventListeners.RestXml;\n    }\n    if (this.api.protocol) {\n      throw new Error('Invalid service `protocol\\' ' +\n        this.api.protocol + ' in API config');\n    }\n  },\n\n  /**\n   * @api private\n   */\n  successfulResponse: function successfulResponse(resp) {\n    return resp.httpResponse.statusCode < 300;\n  },\n\n  /**\n   * How many times a failed request should be retried before giving up.\n   * the defaultRetryCount can be overriden by service classes.\n   *\n   * @api private\n   */\n  numRetries: function numRetries() {\n    if (this.config.maxRetries !== undefined) {\n      return this.config.maxRetries;\n    } else {\n      return this.defaultRetryCount;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  retryDelays: function retryDelays(retryCount, err) {\n    return AWS.util.calculateRetryDelay(retryCount, this.config.retryDelayOptions, err);\n  },\n\n  /**\n   * @api private\n   */\n  retryableError: function retryableError(error) {\n    if (this.timeoutError(error)) return true;\n    if (this.networkingError(error)) return true;\n    if (this.expiredCredentialsError(error)) return true;\n    if (this.throttledError(error)) return true;\n    if (error.statusCode >= 500) return true;\n    return false;\n  },\n\n  /**\n   * @api private\n   */\n  networkingError: function networkingError(error) {\n    return error.code === 'NetworkingError';\n  },\n\n  /**\n   * @api private\n   */\n  timeoutError: function timeoutError(error) {\n    return error.code === 'TimeoutError';\n  },\n\n  /**\n   * @api private\n   */\n  expiredCredentialsError: function expiredCredentialsError(error) {\n    // TODO : this only handles *one* of the expired credential codes\n    return (error.code === 'ExpiredTokenException');\n  },\n\n  /**\n   * @api private\n   */\n  clockSkewError: function clockSkewError(error) {\n    switch (error.code) {\n      case 'RequestTimeTooSkewed':\n      case 'RequestExpired':\n      case 'InvalidSignatureException':\n      case 'SignatureDoesNotMatch':\n      case 'AuthFailure':\n      case 'RequestInTheFuture':\n        return true;\n      default: return false;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getSkewCorrectedDate: function getSkewCorrectedDate() {\n    return new Date(Date.now() + this.config.systemClockOffset);\n  },\n\n  /**\n   * @api private\n   */\n  applyClockOffset: function applyClockOffset(newServerTime) {\n    if (newServerTime) {\n      this.config.systemClockOffset = newServerTime - Date.now();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  isClockSkewed: function isClockSkewed(newServerTime) {\n    if (newServerTime) {\n      return Math.abs(this.getSkewCorrectedDate().getTime() - newServerTime) >= 30000;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  throttledError: function throttledError(error) {\n    // this logic varies between services\n    if (error.statusCode === 429) return true;\n    switch (error.code) {\n      case 'ProvisionedThroughputExceededException':\n      case 'Throttling':\n      case 'ThrottlingException':\n      case 'RequestLimitExceeded':\n      case 'RequestThrottled':\n      case 'RequestThrottledException':\n      case 'TooManyRequestsException':\n      case 'TransactionInProgressException': //dynamodb\n        return true;\n      default:\n        return false;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  endpointFromTemplate: function endpointFromTemplate(endpoint) {\n    if (typeof endpoint !== 'string') return endpoint;\n\n    var e = endpoint;\n    e = e.replace(/\\{service\\}/g, this.api.endpointPrefix);\n    e = e.replace(/\\{region\\}/g, this.config.region);\n    e = e.replace(/\\{scheme\\}/g, this.config.sslEnabled ? 'https' : 'http');\n    return e;\n  },\n\n  /**\n   * @api private\n   */\n  setEndpoint: function setEndpoint(endpoint) {\n    this.endpoint = new AWS.Endpoint(endpoint, this.config);\n  },\n\n  /**\n   * @api private\n   */\n  paginationConfig: function paginationConfig(operation, throwException) {\n    var paginator = this.api.operations[operation].paginator;\n    if (!paginator) {\n      if (throwException) {\n        var e = new Error();\n        throw AWS.util.error(e, 'No pagination configuration for ' + operation);\n      }\n      return null;\n    }\n\n    return paginator;\n  }\n});\n\nAWS.util.update(AWS.Service, {\n\n  /**\n   * Adds one method for each operation described in the api configuration\n   *\n   * @api private\n   */\n  defineMethods: function defineMethods(svc) {\n    AWS.util.each(svc.prototype.api.operations, function iterator(method) {\n      if (svc.prototype[method]) return;\n      var operation = svc.prototype.api.operations[method];\n      if (operation.authtype === 'none') {\n        svc.prototype[method] = function (params, callback) {\n          return this.makeUnauthenticatedRequest(method, params, callback);\n        };\n      } else {\n        svc.prototype[method] = function (params, callback) {\n          return this.makeRequest(method, params, callback);\n        };\n      }\n    });\n  },\n\n  /**\n   * Defines a new Service class using a service identifier and list of versions\n   * including an optional set of features (functions) to apply to the class\n   * prototype.\n   *\n   * @param serviceIdentifier [String] the identifier for the service\n   * @param versions [Array<String>] a list of versions that work with this\n   *   service\n   * @param features [Object] an object to attach to the prototype\n   * @return [Class<Service>] the service class defined by this function.\n   */\n  defineService: function defineService(serviceIdentifier, versions, features) {\n    AWS.Service._serviceMap[serviceIdentifier] = true;\n    if (!Array.isArray(versions)) {\n      features = versions;\n      versions = [];\n    }\n\n    var svc = inherit(AWS.Service, features || {});\n\n    if (typeof serviceIdentifier === 'string') {\n      AWS.Service.addVersions(svc, versions);\n\n      var identifier = svc.serviceIdentifier || serviceIdentifier;\n      svc.serviceIdentifier = identifier;\n    } else { // defineService called with an API\n      svc.prototype.api = serviceIdentifier;\n      AWS.Service.defineMethods(svc);\n    }\n    AWS.SequentialExecutor.call(this.prototype);\n    //util.clientSideMonitoring is only available in node\n    if (!this.prototype.publisher && AWS.util.clientSideMonitoring) {\n      var Publisher = AWS.util.clientSideMonitoring.Publisher;\n      var configProvider = AWS.util.clientSideMonitoring.configProvider;\n      var publisherConfig = configProvider();\n      this.prototype.publisher = new Publisher(publisherConfig);\n      if (publisherConfig.enabled) {\n        //if csm is enabled in environment, SDK should send all metrics\n        AWS.Service._clientSideMonitoring = true;\n      }\n    }\n    AWS.SequentialExecutor.call(svc.prototype);\n    AWS.Service.addDefaultMonitoringListeners(svc.prototype);\n    return svc;\n  },\n\n  /**\n   * @api private\n   */\n  addVersions: function addVersions(svc, versions) {\n    if (!Array.isArray(versions)) versions = [versions];\n\n    svc.services = svc.services || {};\n    for (var i = 0; i < versions.length; i++) {\n      if (svc.services[versions[i]] === undefined) {\n        svc.services[versions[i]] = null;\n      }\n    }\n\n    svc.apiVersions = Object.keys(svc.services).sort();\n  },\n\n  /**\n   * @api private\n   */\n  defineServiceApi: function defineServiceApi(superclass, version, apiConfig) {\n    var svc = inherit(superclass, {\n      serviceIdentifier: superclass.serviceIdentifier\n    });\n\n    function setApi(api) {\n      if (api.isApi) {\n        svc.prototype.api = api;\n      } else {\n        svc.prototype.api = new Api(api);\n      }\n    }\n\n    if (typeof version === 'string') {\n      if (apiConfig) {\n        setApi(apiConfig);\n      } else {\n        try {\n          setApi(AWS.apiLoader(superclass.serviceIdentifier, version));\n        } catch (err) {\n          throw AWS.util.error(err, {\n            message: 'Could not find API configuration ' +\n              superclass.serviceIdentifier + '-' + version\n          });\n        }\n      }\n      if (!Object.prototype.hasOwnProperty.call(superclass.services, version)) {\n        superclass.apiVersions = superclass.apiVersions.concat(version).sort();\n      }\n      superclass.services[version] = svc;\n    } else {\n      setApi(version);\n    }\n\n    AWS.Service.defineMethods(svc);\n    return svc;\n  },\n\n  /**\n   * @api private\n   */\n  hasService: function(identifier) {\n    return Object.prototype.hasOwnProperty.call(AWS.Service._serviceMap, identifier);\n  },\n\n  /**\n   * @param attachOn attach default monitoring listeners to object\n   *\n   * Each monitoring event should be emitted from service client to service constructor prototype and then\n   * to global service prototype like bubbling up. These default monitoring events listener will transfer\n   * the monitoring events to the upper layer.\n   * @api private\n   */\n  addDefaultMonitoringListeners: function addDefaultMonitoringListeners(attachOn) {\n    attachOn.addNamedListener('MONITOR_EVENTS_BUBBLE', 'apiCallAttempt', function EVENTS_BUBBLE(event) {\n      var baseClass = Object.getPrototypeOf(attachOn);\n      if (baseClass._events) baseClass.emit('apiCallAttempt', [event]);\n    });\n    attachOn.addNamedListener('CALL_EVENTS_BUBBLE', 'apiCall', function CALL_EVENTS_BUBBLE(event) {\n      var baseClass = Object.getPrototypeOf(attachOn);\n      if (baseClass._events) baseClass.emit('apiCall', [event]);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  _serviceMap: {}\n});\n\nAWS.util.mixin(AWS.Service, AWS.SequentialExecutor);\n\n/**\n * @api private\n */\nmodule.exports = AWS.Service;\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cognitoidentityserviceprovider'] = {};\nAWS.CognitoIdentityServiceProvider = Service.defineService('cognitoidentityserviceprovider', ['2016-04-18']);\nObject.defineProperty(apiLoader.services['cognitoidentityserviceprovider'], '2016-04-18', {\n  get: function get() {\n    var model = require('../apis/cognito-idp-2016-04-18.min.json');\n    model.paginators = require('../apis/cognito-idp-2016-04-18.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CognitoIdentityServiceProvider;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['rds'] = {};\nAWS.RDS = Service.defineService('rds', ['2013-01-10', '2013-02-12', '2013-09-09', '2014-09-01', '2014-09-01*', '2014-10-31']);\nrequire('../lib/services/rds');\nObject.defineProperty(apiLoader.services['rds'], '2013-01-10', {\n  get: function get() {\n    var model = require('../apis/rds-2013-01-10.min.json');\n    model.paginators = require('../apis/rds-2013-01-10.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(apiLoader.services['rds'], '2013-02-12', {\n  get: function get() {\n    var model = require('../apis/rds-2013-02-12.min.json');\n    model.paginators = require('../apis/rds-2013-02-12.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(apiLoader.services['rds'], '2013-09-09', {\n  get: function get() {\n    var model = require('../apis/rds-2013-09-09.min.json');\n    model.paginators = require('../apis/rds-2013-09-09.paginators.json').pagination;\n    model.waiters = require('../apis/rds-2013-09-09.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(apiLoader.services['rds'], '2014-09-01', {\n  get: function get() {\n    var model = require('../apis/rds-2014-09-01.min.json');\n    model.paginators = require('../apis/rds-2014-09-01.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(apiLoader.services['rds'], '2014-10-31', {\n  get: function get() {\n    var model = require('../apis/rds-2014-10-31.min.json');\n    model.paginators = require('../apis/rds-2014-10-31.paginators.json').pagination;\n    model.waiters = require('../apis/rds-2014-10-31.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.RDS;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cognitoidentity'] = {};\nAWS.CognitoIdentity = Service.defineService('cognitoidentity', ['2014-06-30']);\nrequire('../lib/services/cognitoidentity');\nObject.defineProperty(apiLoader.services['cognitoidentity'], '2014-06-30', {\n  get: function get() {\n    var model = require('../apis/cognito-identity-2014-06-30.min.json');\n    model.paginators = require('../apis/cognito-identity-2014-06-30.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CognitoIdentity;\n","var util =  require('../util');\nvar AWS = require('../core');\n\n/**\n * Prepend prefix defined by API model to endpoint that's already\n * constructed. This feature does not apply to operations using\n * endpoint discovery and can be disabled.\n * @api private\n */\nfunction populateHostPrefix(request)  {\n  var enabled = request.service.config.hostPrefixEnabled;\n  if (!enabled) return request;\n  var operationModel = request.service.api.operations[request.operation];\n  //don't marshal host prefix when operation has endpoint discovery traits\n  if (hasEndpointDiscover(request)) return request;\n  if (operationModel.endpoint && operationModel.endpoint.hostPrefix) {\n    var hostPrefixNotation = operationModel.endpoint.hostPrefix;\n    var hostPrefix = expandHostPrefix(hostPrefixNotation, request.params, operationModel.input);\n    prependEndpointPrefix(request.httpRequest.endpoint, hostPrefix);\n    validateHostname(request.httpRequest.endpoint.hostname);\n  }\n  return request;\n}\n\n/**\n * @api private\n */\nfunction hasEndpointDiscover(request) {\n  var api = request.service.api;\n  var operationModel = api.operations[request.operation];\n  var isEndpointOperation = api.endpointOperation && (api.endpointOperation === util.string.lowerFirst(operationModel.name));\n  return (operationModel.endpointDiscoveryRequired !== 'NULL' || isEndpointOperation === true);\n}\n\n/**\n * @api private\n */\nfunction expandHostPrefix(hostPrefixNotation, params, shape) {\n  util.each(shape.members, function(name, member) {\n    if (member.hostLabel === true) {\n      if (typeof params[name] !== 'string' || params[name] === '') {\n        throw util.error(new Error(), {\n          message: 'Parameter ' + name + ' should be a non-empty string.',\n          code: 'InvalidParameter'\n        });\n      }\n      var regex = new RegExp('\\\\{' + name + '\\\\}', 'g');\n      hostPrefixNotation = hostPrefixNotation.replace(regex, params[name]);\n    }\n  });\n  return hostPrefixNotation;\n}\n\n/**\n * @api private\n */\nfunction prependEndpointPrefix(endpoint, prefix) {\n  if (endpoint.host) {\n    endpoint.host = prefix + endpoint.host;\n  }\n  if (endpoint.hostname) {\n    endpoint.hostname = prefix + endpoint.hostname;\n  }\n}\n\n/**\n * @api private\n */\nfunction validateHostname(hostname) {\n  var labels = hostname.split('.');\n  //Reference: https://tools.ietf.org/html/rfc1123#section-2\n  var hostPattern = /^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9]$/;\n  util.arrayEach(labels, function(label) {\n    if (!label.length || label.length < 1 || label.length > 63) {\n      throw util.error(new Error(), {\n        code: 'ValidationError',\n        message: 'Hostname label length should be between 1 to 63 characters, inclusive.'\n      });\n    }\n    if (!hostPattern.test(label)) {\n      throw AWS.util.error(new Error(),\n        {code: 'ValidationError', message: label + ' is not hostname compatible.'});\n    }\n  });\n}\n\nmodule.exports = {\n  populateHostPrefix: populateHostPrefix\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['redshift'] = {};\nAWS.Redshift = Service.defineService('redshift', ['2012-12-01']);\nObject.defineProperty(apiLoader.services['redshift'], '2012-12-01', {\n  get: function get() {\n    var model = require('../apis/redshift-2012-12-01.min.json');\n    model.paginators = require('../apis/redshift-2012-12-01.paginators.json').pagination;\n    model.waiters = require('../apis/redshift-2012-12-01.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Redshift;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['lambda'] = {};\nAWS.Lambda = Service.defineService('lambda', ['2014-11-11', '2015-03-31']);\nrequire('../lib/services/lambda');\nObject.defineProperty(apiLoader.services['lambda'], '2014-11-11', {\n  get: function get() {\n    var model = require('../apis/lambda-2014-11-11.min.json');\n    model.paginators = require('../apis/lambda-2014-11-11.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(apiLoader.services['lambda'], '2015-03-31', {\n  get: function get() {\n    var model = require('../apis/lambda-2015-03-31.min.json');\n    model.paginators = require('../apis/lambda-2015-03-31.paginators.json').pagination;\n    model.waiters = require('../apis/lambda-2015-03-31.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Lambda;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['secretsmanager'] = {};\nAWS.SecretsManager = Service.defineService('secretsmanager', ['2017-10-17']);\nObject.defineProperty(apiLoader.services['secretsmanager'], '2017-10-17', {\n  get: function get() {\n    var model = require('../apis/secretsmanager-2017-10-17.min.json');\n    model.paginators = require('../apis/secretsmanager-2017-10-17.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.SecretsManager;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['ssm'] = {};\nAWS.SSM = Service.defineService('ssm', ['2014-11-06']);\nObject.defineProperty(apiLoader.services['ssm'], '2014-11-06', {\n  get: function get() {\n    var model = require('../apis/ssm-2014-11-06.min.json');\n    model.paginators = require('../apis/ssm-2014-11-06.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.SSM;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['polly'] = {};\nAWS.Polly = Service.defineService('polly', ['2016-06-10']);\nrequire('../lib/services/polly');\nObject.defineProperty(apiLoader.services['polly'], '2016-06-10', {\n  get: function get() {\n    var model = require('../apis/polly-2016-06-10.min.json');\n    model.paginators = require('../apis/polly-2016-06-10.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Polly;\n","var AWS = require('../core');\n\nAWS.util.update(AWS.SQS.prototype, {\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    request.addListener('build', this.buildEndpoint);\n\n    if (request.service.config.computeChecksums) {\n      if (request.operation === 'sendMessage') {\n        request.addListener('extractData', this.verifySendMessageChecksum);\n      } else if (request.operation === 'sendMessageBatch') {\n        request.addListener('extractData', this.verifySendMessageBatchChecksum);\n      } else if (request.operation === 'receiveMessage') {\n        request.addListener('extractData', this.verifyReceiveMessageChecksum);\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  verifySendMessageChecksum: function verifySendMessageChecksum(response) {\n    if (!response.data) return;\n\n    var md5 = response.data.MD5OfMessageBody;\n    var body = this.params.MessageBody;\n    var calculatedMd5 = this.service.calculateChecksum(body);\n    if (calculatedMd5 !== md5) {\n      var msg = 'Got \"' + response.data.MD5OfMessageBody +\n        '\", expecting \"' + calculatedMd5 + '\".';\n      this.service.throwInvalidChecksumError(response,\n        [response.data.MessageId], msg);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  verifySendMessageBatchChecksum: function verifySendMessageBatchChecksum(response) {\n    if (!response.data) return;\n\n    var service = this.service;\n    var entries = {};\n    var errors = [];\n    var messageIds = [];\n    AWS.util.arrayEach(response.data.Successful, function (entry) {\n      entries[entry.Id] = entry;\n    });\n    AWS.util.arrayEach(this.params.Entries, function (entry) {\n      if (entries[entry.Id]) {\n        var md5 = entries[entry.Id].MD5OfMessageBody;\n        var body = entry.MessageBody;\n        if (!service.isChecksumValid(md5, body)) {\n          errors.push(entry.Id);\n          messageIds.push(entries[entry.Id].MessageId);\n        }\n      }\n    });\n\n    if (errors.length > 0) {\n      service.throwInvalidChecksumError(response, messageIds,\n        'Invalid messages: ' + errors.join(', '));\n    }\n  },\n\n  /**\n   * @api private\n   */\n  verifyReceiveMessageChecksum: function verifyReceiveMessageChecksum(response) {\n    if (!response.data) return;\n\n    var service = this.service;\n    var messageIds = [];\n    AWS.util.arrayEach(response.data.Messages, function(message) {\n      var md5 = message.MD5OfBody;\n      var body = message.Body;\n      if (!service.isChecksumValid(md5, body)) {\n        messageIds.push(message.MessageId);\n      }\n    });\n\n    if (messageIds.length > 0) {\n      service.throwInvalidChecksumError(response, messageIds,\n        'Invalid messages: ' + messageIds.join(', '));\n    }\n  },\n\n  /**\n   * @api private\n   */\n  throwInvalidChecksumError: function throwInvalidChecksumError(response, ids, message) {\n    response.error = AWS.util.error(new Error(), {\n      retryable: true,\n      code: 'InvalidChecksum',\n      messageIds: ids,\n      message: response.request.operation +\n               ' returned an invalid MD5 response. ' + message\n    });\n  },\n\n  /**\n   * @api private\n   */\n  isChecksumValid: function isChecksumValid(checksum, data) {\n    return this.calculateChecksum(data) === checksum;\n  },\n\n  /**\n   * @api private\n   */\n  calculateChecksum: function calculateChecksum(data) {\n    return AWS.util.crypto.md5(data, 'hex');\n  },\n\n  /**\n   * @api private\n   */\n  buildEndpoint: function buildEndpoint(request) {\n    var url = request.httpRequest.params.QueueUrl;\n    if (url) {\n      request.httpRequest.endpoint = new AWS.Endpoint(url);\n\n      // signature version 4 requires the region name to be set,\n      // sqs queue urls contain the region name\n      var matches = request.httpRequest.endpoint.host.match(/^sqs\\.(.+?)\\./);\n      if (matches) request.httpRequest.region = matches[1];\n    }\n  }\n});\n","var util = require('./util');\n\n// browser specific modules\nutil.crypto.lib = require('./browserCryptoLib');\nutil.Buffer = require('buffer/').Buffer;\nutil.url = require('url/');\nutil.querystring = require('querystring/');\nutil.realClock = require('./realclock/browserClock');\nutil.environment = 'js';\nutil.createEventStream = require('./event-stream/buffered-create-event-stream').createEventStream;\nutil.isBrowser = function() { return true; };\nutil.isNode = function() { return false; };\n\nvar AWS = require('./core');\n\n/**\n * @api private\n */\nmodule.exports = AWS;\n\nrequire('./credentials');\nrequire('./credentials/credential_provider_chain');\nrequire('./credentials/temporary_credentials');\nrequire('./credentials/chainable_temporary_credentials');\nrequire('./credentials/web_identity_credentials');\nrequire('./credentials/cognito_identity_credentials');\nrequire('./credentials/saml_credentials');\n\n// Load the DOMParser XML parser\nAWS.XML.Parser = require('./xml/browser_parser');\n\n// Load the XHR HttpClient\nrequire('./http/xhr');\n\nif (typeof process === 'undefined') {\n  var process = {\n    browser: true\n  };\n}\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Parse the internal MP4 structure into an equivalent javascript\n * object.\n */\n'use strict';\n\nvar\n  inspectMp4,\n  textifyMp4,\n\n  parseType = require('../mp4/probe').parseType,\n  parseMp4Date = function(seconds) {\n    return new Date(seconds * 1000 - 2082844800000);\n  },\n  parseSampleFlags = function(flags) {\n    return {\n      isLeading: (flags[0] & 0x0c) >>> 2,\n      dependsOn: flags[0] & 0x03,\n      isDependedOn: (flags[1] & 0xc0) >>> 6,\n      hasRedundancy: (flags[1] & 0x30) >>> 4,\n      paddingValue: (flags[1] & 0x0e) >>> 1,\n      isNonSyncSample: flags[1] & 0x01,\n      degradationPriority: (flags[2] << 8) | flags[3]\n    };\n  },\n  nalParse = function(avcStream) {\n    var\n      avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n      result = [],\n      i,\n      length;\n    for (i = 0; i + 4 < avcStream.length; i += length) {\n      length = avcView.getUint32(i);\n      i += 4;\n\n      // bail if this doesn't appear to be an H264 stream\n      if (length <= 0) {\n        result.push('<span style=\\'color:red;\\'>MALFORMED DATA</span>');\n        continue;\n      }\n\n      switch (avcStream[i] & 0x1F) {\n      case 0x01:\n        result.push('slice_layer_without_partitioning_rbsp');\n        break;\n      case 0x05:\n        result.push('slice_layer_without_partitioning_rbsp_idr');\n        break;\n      case 0x06:\n        result.push('sei_rbsp');\n        break;\n      case 0x07:\n        result.push('seq_parameter_set_rbsp');\n        break;\n      case 0x08:\n        result.push('pic_parameter_set_rbsp');\n        break;\n      case 0x09:\n        result.push('access_unit_delimiter_rbsp');\n        break;\n      default:\n        result.push('UNKNOWN NAL - ' + avcStream[i] & 0x1F);\n        break;\n      }\n    }\n    return result;\n  },\n\n  // registry of handlers for individual mp4 box types\n  parse = {\n    // codingname, not a first-class box type. stsd entries share the\n    // same format as real boxes so the parsing infrastructure can be\n    // shared\n    avc1: function(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        dataReferenceIndex: view.getUint16(6),\n        width: view.getUint16(24),\n        height: view.getUint16(26),\n        horizresolution: view.getUint16(28) + (view.getUint16(30) / 16),\n        vertresolution: view.getUint16(32) + (view.getUint16(34) / 16),\n        frameCount: view.getUint16(40),\n        depth: view.getUint16(74),\n        config: inspectMp4(data.subarray(78, data.byteLength))\n      };\n    },\n    avcC: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n          configurationVersion: data[0],\n          avcProfileIndication: data[1],\n          profileCompatibility: data[2],\n          avcLevelIndication: data[3],\n          lengthSizeMinusOne: data[4] & 0x03,\n          sps: [],\n          pps: []\n        },\n        numOfSequenceParameterSets = data[5] & 0x1f,\n        numOfPictureParameterSets,\n        nalSize,\n        offset,\n        i;\n\n      // iterate past any SPSs\n      offset = 6;\n      for (i = 0; i < numOfSequenceParameterSets; i++) {\n        nalSize = view.getUint16(offset);\n        offset += 2;\n        result.sps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n        offset += nalSize;\n      }\n      // iterate past any PPSs\n      numOfPictureParameterSets = data[offset];\n      offset++;\n      for (i = 0; i < numOfPictureParameterSets; i++) {\n        nalSize = view.getUint16(offset);\n        offset += 2;\n        result.pps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n        offset += nalSize;\n      }\n      return result;\n    },\n    btrt: function(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        bufferSizeDB: view.getUint32(0),\n        maxBitrate: view.getUint32(4),\n        avgBitrate: view.getUint32(8)\n      };\n    },\n    esds: function(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        esId: (data[6] << 8) | data[7],\n        streamPriority: data[8] & 0x1f,\n        decoderConfig: {\n          objectProfileIndication: data[11],\n          streamType: (data[12] >>> 2) & 0x3f,\n          bufferSize: (data[13] << 16) | (data[14] << 8) | data[15],\n          maxBitrate: (data[16] << 24) |\n            (data[17] << 16) |\n            (data[18] <<  8) |\n            data[19],\n          avgBitrate: (data[20] << 24) |\n            (data[21] << 16) |\n            (data[22] <<  8) |\n            data[23],\n          decoderConfigDescriptor: {\n            tag: data[24],\n            length: data[25],\n            audioObjectType: (data[26] >>> 3) & 0x1f,\n            samplingFrequencyIndex: ((data[26] & 0x07) << 1) |\n              ((data[27] >>> 7) & 0x01),\n            channelConfiguration: (data[27] >>> 3) & 0x0f\n          }\n        }\n      };\n    },\n    ftyp: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n          majorBrand: parseType(data.subarray(0, 4)),\n          minorVersion: view.getUint32(4),\n          compatibleBrands: []\n        },\n        i = 8;\n      while (i < data.byteLength) {\n        result.compatibleBrands.push(parseType(data.subarray(i, i + 4)));\n        i += 4;\n      }\n      return result;\n    },\n    dinf: function(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    dref: function(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        dataReferences: inspectMp4(data.subarray(8))\n      };\n    },\n    hdlr: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n          version: view.getUint8(0),\n          flags: new Uint8Array(data.subarray(1, 4)),\n          handlerType: parseType(data.subarray(8, 12)),\n          name: ''\n        },\n        i = 8;\n\n      // parse out the name field\n      for (i = 24; i < data.byteLength; i++) {\n        if (data[i] === 0x00) {\n          // the name field is null-terminated\n          i++;\n          break;\n        }\n        result.name += String.fromCharCode(data[i]);\n      }\n      // decode UTF-8 to javascript's internal representation\n      // see http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\n      result.name = decodeURIComponent(escape(result.name));\n\n      return result;\n    },\n    mdat: function(data) {\n      return {\n        byteLength: data.byteLength,\n        nals: nalParse(data)\n      };\n    },\n    mdhd: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        i = 4,\n        language,\n        result = {\n          version: view.getUint8(0),\n          flags: new Uint8Array(data.subarray(1, 4)),\n          language: ''\n        };\n      if (result.version === 1) {\n        i += 4;\n        result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n        i += 8;\n        result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 8;\n        result.duration = view.getUint32(i); // truncating top 4 bytes\n      } else {\n        result.creationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.modificationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 4;\n        result.duration = view.getUint32(i);\n      }\n      i += 4;\n      // language is stored as an ISO-639-2/T code in an array of three 5-bit fields\n      // each field is the packed difference between its ASCII value and 0x60\n      language = view.getUint16(i);\n      result.language += String.fromCharCode((language >> 10) + 0x60);\n      result.language += String.fromCharCode(((language & 0x03e0) >> 5) + 0x60);\n      result.language += String.fromCharCode((language & 0x1f) + 0x60);\n\n      return result;\n    },\n    mdia: function(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    mfhd: function(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        sequenceNumber: (data[4] << 24) |\n          (data[5] << 16) |\n          (data[6] << 8) |\n          (data[7])\n      };\n    },\n    minf: function(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    // codingname, not a first-class box type. stsd entries share the\n    // same format as real boxes so the parsing infrastructure can be\n    // shared\n    mp4a: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n          // 6 bytes reserved\n          dataReferenceIndex: view.getUint16(6),\n          // 4 + 4 bytes reserved\n          channelcount: view.getUint16(16),\n          samplesize: view.getUint16(18),\n          // 2 bytes pre_defined\n          // 2 bytes reserved\n          samplerate: view.getUint16(24) + (view.getUint16(26) / 65536)\n        };\n\n      // if there are more bytes to process, assume this is an ISO/IEC\n      // 14496-14 MP4AudioSampleEntry and parse the ESDBox\n      if (data.byteLength > 28) {\n        result.streamDescriptor = inspectMp4(data.subarray(28))[0];\n      }\n      return result;\n    },\n    moof: function(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    moov: function(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    mvex: function(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    mvhd: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        i = 4,\n        result = {\n          version: view.getUint8(0),\n          flags: new Uint8Array(data.subarray(1, 4))\n        };\n\n      if (result.version === 1) {\n        i += 4;\n        result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n        i += 8;\n        result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 8;\n        result.duration = view.getUint32(i); // truncating top 4 bytes\n      } else {\n        result.creationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.modificationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 4;\n        result.duration = view.getUint32(i);\n      }\n      i += 4;\n\n      // convert fixed-point, base 16 back to a number\n      result.rate = view.getUint16(i) + (view.getUint16(i + 2) / 16);\n      i += 4;\n      result.volume = view.getUint8(i) + (view.getUint8(i + 1) / 8);\n      i += 2;\n      i += 2;\n      i += 2 * 4;\n      result.matrix = new Uint32Array(data.subarray(i, i + (9 * 4)));\n      i += 9 * 4;\n      i += 6 * 4;\n      result.nextTrackId = view.getUint32(i);\n      return result;\n    },\n    pdin: function(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        version: view.getUint8(0),\n        flags: new Uint8Array(data.subarray(1, 4)),\n        rate: view.getUint32(4),\n        initialDelay: view.getUint32(8)\n      };\n    },\n    sdtp: function(data) {\n      var\n        result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          samples: []\n        }, i;\n\n      for (i = 4; i < data.byteLength; i++) {\n        result.samples.push({\n          dependsOn: (data[i] & 0x30) >> 4,\n          isDependedOn: (data[i] & 0x0c) >> 2,\n          hasRedundancy: data[i] & 0x03\n        });\n      }\n      return result;\n    },\n    sidx: function(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            references: [],\n            referenceId: view.getUint32(4),\n            timescale: view.getUint32(8),\n            earliestPresentationTime: view.getUint32(12),\n            firstOffset: view.getUint32(16)\n          },\n          referenceCount = view.getUint16(22),\n          i;\n\n      for (i = 24; referenceCount; i += 12, referenceCount--) {\n        result.references.push({\n          referenceType: (data[i] & 0x80) >>> 7,\n          referencedSize: view.getUint32(i) & 0x7FFFFFFF,\n          subsegmentDuration: view.getUint32(i + 4),\n          startsWithSap: !!(data[i + 8] & 0x80),\n          sapType: (data[i + 8] & 0x70) >>> 4,\n          sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\n        });\n      }\n\n      return result;\n    },\n    smhd: function(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        balance: data[4] + (data[5] / 256)\n      };\n    },\n    stbl: function(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    stco: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          chunkOffsets: []\n        },\n        entryCount = view.getUint32(4),\n        i;\n      for (i = 8; entryCount; i += 4, entryCount--) {\n        result.chunkOffsets.push(view.getUint32(i));\n      }\n      return result;\n    },\n    stsc: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        entryCount = view.getUint32(4),\n        result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          sampleToChunks: []\n        },\n        i;\n      for (i = 8; entryCount; i += 12, entryCount--) {\n        result.sampleToChunks.push({\n          firstChunk: view.getUint32(i),\n          samplesPerChunk: view.getUint32(i + 4),\n          sampleDescriptionIndex: view.getUint32(i + 8)\n        });\n      }\n      return result;\n    },\n    stsd: function(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        sampleDescriptions: inspectMp4(data.subarray(8))\n      };\n    },\n    stsz: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          sampleSize: view.getUint32(4),\n          entries: []\n        },\n        i;\n      for (i = 12; i < data.byteLength; i += 4) {\n        result.entries.push(view.getUint32(i));\n      }\n      return result;\n    },\n    stts: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          timeToSamples: []\n        },\n        entryCount = view.getUint32(4),\n        i;\n\n      for (i = 8; entryCount; i += 8, entryCount--) {\n        result.timeToSamples.push({\n          sampleCount: view.getUint32(i),\n          sampleDelta: view.getUint32(i + 4)\n        });\n      }\n      return result;\n    },\n    styp: function(data) {\n      return parse.ftyp(data);\n    },\n    tfdt: function(data) {\n      var result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        baseMediaDecodeTime: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n      };\n      if (result.version === 1) {\n        result.baseMediaDecodeTime *= Math.pow(2, 32);\n        result.baseMediaDecodeTime += data[8] << 24 | data[9] << 16 | data[10] << 8 | data[11];\n      }\n      return result;\n    },\n    tfhd: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          trackId: view.getUint32(4)\n        },\n        baseDataOffsetPresent = result.flags[2] & 0x01,\n        sampleDescriptionIndexPresent = result.flags[2] & 0x02,\n        defaultSampleDurationPresent = result.flags[2] & 0x08,\n        defaultSampleSizePresent = result.flags[2] & 0x10,\n        defaultSampleFlagsPresent = result.flags[2] & 0x20,\n        durationIsEmpty = result.flags[0] & 0x010000,\n        defaultBaseIsMoof =  result.flags[0] & 0x020000,\n        i;\n\n      i = 8;\n      if (baseDataOffsetPresent) {\n        i += 4; // truncate top 4 bytes\n        // FIXME: should we read the full 64 bits?\n        result.baseDataOffset = view.getUint32(12);\n        i += 4;\n      }\n      if (sampleDescriptionIndexPresent) {\n        result.sampleDescriptionIndex = view.getUint32(i);\n        i += 4;\n      }\n      if (defaultSampleDurationPresent) {\n        result.defaultSampleDuration = view.getUint32(i);\n        i += 4;\n      }\n      if (defaultSampleSizePresent) {\n        result.defaultSampleSize = view.getUint32(i);\n        i += 4;\n      }\n      if (defaultSampleFlagsPresent) {\n        result.defaultSampleFlags = view.getUint32(i);\n      }\n      if (durationIsEmpty) {\n        result.durationIsEmpty = true;\n      }\n      if (!baseDataOffsetPresent && defaultBaseIsMoof) {\n        result.baseDataOffsetIsMoof = true;\n      }\n      return result;\n    },\n    tkhd: function(data) {\n      var\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        i = 4,\n        result = {\n          version: view.getUint8(0),\n          flags: new Uint8Array(data.subarray(1, 4))\n        };\n      if (result.version === 1) {\n        i += 4;\n        result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n        i += 8;\n        result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n        i += 4;\n        result.trackId = view.getUint32(i);\n        i += 4;\n        i += 8;\n        result.duration = view.getUint32(i); // truncating top 4 bytes\n      } else {\n        result.creationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.modificationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.trackId = view.getUint32(i);\n        i += 4;\n        i += 4;\n        result.duration = view.getUint32(i);\n      }\n      i += 4;\n      i += 2 * 4;\n      result.layer = view.getUint16(i);\n      i += 2;\n      result.alternateGroup = view.getUint16(i);\n      i += 2;\n      // convert fixed-point, base 16 back to a number\n      result.volume = view.getUint8(i) + (view.getUint8(i + 1) / 8);\n      i += 2;\n      i += 2;\n      result.matrix = new Uint32Array(data.subarray(i, i + (9 * 4)));\n      i += 9 * 4;\n      result.width = view.getUint16(i) + (view.getUint16(i + 2) / 16);\n      i += 4;\n      result.height = view.getUint16(i) + (view.getUint16(i + 2) / 16);\n      return result;\n    },\n    traf: function(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    trak: function(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    trex: function(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        trackId: view.getUint32(4),\n        defaultSampleDescriptionIndex: view.getUint32(8),\n        defaultSampleDuration: view.getUint32(12),\n        defaultSampleSize: view.getUint32(16),\n        sampleDependsOn: data[20] & 0x03,\n        sampleIsDependedOn: (data[21] & 0xc0) >> 6,\n        sampleHasRedundancy: (data[21] & 0x30) >> 4,\n        samplePaddingValue: (data[21] & 0x0e) >> 1,\n        sampleIsDifferenceSample: !!(data[21] & 0x01),\n        sampleDegradationPriority: view.getUint16(22)\n      };\n    },\n    trun: function(data) {\n      var\n        result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          samples: []\n        },\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        // Flag interpretation\n        dataOffsetPresent = result.flags[2] & 0x01, // compare with 2nd byte of 0x1\n        firstSampleFlagsPresent = result.flags[2] & 0x04, // compare with 2nd byte of 0x4\n        sampleDurationPresent = result.flags[1] & 0x01, // compare with 2nd byte of 0x100\n        sampleSizePresent = result.flags[1] & 0x02, // compare with 2nd byte of 0x200\n        sampleFlagsPresent = result.flags[1] & 0x04, // compare with 2nd byte of 0x400\n        sampleCompositionTimeOffsetPresent = result.flags[1] & 0x08, // compare with 2nd byte of 0x800\n        sampleCount = view.getUint32(4),\n        offset = 8,\n        sample;\n\n      if (dataOffsetPresent) {\n        // 32 bit signed integer\n        result.dataOffset = view.getInt32(offset);\n        offset += 4;\n      }\n\n      // Overrides the flags for the first sample only. The order of\n      // optional values will be: duration, size, compositionTimeOffset\n      if (firstSampleFlagsPresent && sampleCount) {\n        sample = {\n          flags: parseSampleFlags(data.subarray(offset, offset + 4))\n        };\n        offset += 4;\n        if (sampleDurationPresent) {\n          sample.duration = view.getUint32(offset);\n          offset += 4;\n        }\n        if (sampleSizePresent) {\n          sample.size = view.getUint32(offset);\n          offset += 4;\n        }\n        if (sampleCompositionTimeOffsetPresent) {\n          // Note: this should be a signed int if version is 1\n          sample.compositionTimeOffset = view.getUint32(offset);\n          offset += 4;\n        }\n        result.samples.push(sample);\n        sampleCount--;\n      }\n\n      while (sampleCount--) {\n        sample = {};\n        if (sampleDurationPresent) {\n          sample.duration = view.getUint32(offset);\n          offset += 4;\n        }\n        if (sampleSizePresent) {\n          sample.size = view.getUint32(offset);\n          offset += 4;\n        }\n        if (sampleFlagsPresent) {\n          sample.flags = parseSampleFlags(data.subarray(offset, offset + 4));\n          offset += 4;\n        }\n        if (sampleCompositionTimeOffsetPresent) {\n          // Note: this should be a signed int if version is 1\n          sample.compositionTimeOffset = view.getUint32(offset);\n          offset += 4;\n        }\n        result.samples.push(sample);\n      }\n      return result;\n    },\n    'url ': function(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4))\n      };\n    },\n    vmhd: function(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        graphicsmode: view.getUint16(4),\n        opcolor: new Uint16Array([view.getUint16(6),\n                                  view.getUint16(8),\n                                  view.getUint16(10)])\n      };\n    }\n  };\n\n\n/**\n * Return a javascript array of box objects parsed from an ISO base\n * media file.\n * @param data {Uint8Array} the binary data of the media to be inspected\n * @return {array} a javascript array of potentially nested box objects\n */\ninspectMp4 = function(data) {\n  var\n    i = 0,\n    result = [],\n    view,\n    size,\n    type,\n    end,\n    box;\n\n  // Convert data from Uint8Array to ArrayBuffer, to follow Dataview API\n  var ab = new ArrayBuffer(data.length);\n  var v = new Uint8Array(ab);\n  for (var z = 0; z < data.length; ++z) {\n      v[z] = data[z];\n  }\n  view = new DataView(ab);\n\n  while (i < data.byteLength) {\n    // parse box data\n    size = view.getUint32(i);\n    type =  parseType(data.subarray(i + 4, i + 8));\n    end = size > 1 ? i + size : data.byteLength;\n\n    // parse type-specific data\n    box = (parse[type] || function(data) {\n      return {\n        data: data\n      };\n    })(data.subarray(i + 8, end));\n    box.size = size;\n    box.type = type;\n\n    // store this box and move to the next\n    result.push(box);\n    i = end;\n  }\n  return result;\n};\n\n/**\n * Returns a textual representation of the javascript represtentation\n * of an MP4 file. You can use it as an alternative to\n * JSON.stringify() to compare inspected MP4s.\n * @param inspectedMp4 {array} the parsed array of boxes in an MP4\n * file\n * @param depth {number} (optional) the number of ancestor boxes of\n * the elements of inspectedMp4. Assumed to be zero if unspecified.\n * @return {string} a text representation of the parsed MP4\n */\ntextifyMp4 = function(inspectedMp4, depth) {\n  var indent;\n  depth = depth || 0;\n  indent = new Array(depth * 2 + 1).join(' ');\n\n  // iterate over all the boxes\n  return inspectedMp4.map(function(box, index) {\n\n    // list the box type first at the current indentation level\n    return indent + box.type + '\\n' +\n\n      // the type is already included and handle child boxes separately\n      Object.keys(box).filter(function(key) {\n        return key !== 'type' && key !== 'boxes';\n\n      // output all the box properties\n      }).map(function(key) {\n        var prefix = indent + '  ' + key + ': ',\n            value = box[key];\n\n        // print out raw bytes as hexademical\n        if (value instanceof Uint8Array || value instanceof Uint32Array) {\n          var bytes = Array.prototype.slice.call(new Uint8Array(value.buffer, value.byteOffset, value.byteLength))\n              .map(function(byte) {\n                return ' ' + ('00' + byte.toString(16)).slice(-2);\n              }).join('').match(/.{1,24}/g);\n          if (!bytes) {\n            return prefix + '<>';\n          }\n          if (bytes.length === 1) {\n            return prefix + '<' + bytes.join('').slice(1) + '>';\n          }\n          return prefix + '<\\n' + bytes.map(function(line) {\n            return indent + '  ' + line;\n          }).join('\\n') + '\\n' + indent + '  >';\n        }\n\n        // stringify generic objects\n        return prefix +\n            JSON.stringify(value, null, 2)\n              .split('\\n').map(function(line, index) {\n                if (index === 0) {\n                  return line;\n                }\n                return indent + '  ' + line;\n              }).join('\\n');\n      }).join('\\n') +\n\n    // recursively textify the child boxes\n    (box.boxes ? '\\n' + textifyMp4(box.boxes, depth + 1) : '');\n  }).join('\\n');\n};\n\nmodule.exports = {\n  inspect: inspectMp4,\n  textify: textifyMp4,\n  parseTfdt: parse.tfdt,\n  parseHdlr: parse.hdlr,\n  parseTfhd: parse.tfhd,\n  parseTrun: parse.trun,\n  parseSidx: parse.sidx\n};\n","var util = require('../core').util;\nvar toBuffer = util.buffer.toBuffer;\n\n// All prelude components are unsigned, 32-bit integers\nvar PRELUDE_MEMBER_LENGTH = 4;\n// The prelude consists of two components\nvar PRELUDE_LENGTH = PRELUDE_MEMBER_LENGTH * 2;\n// Checksums are always CRC32 hashes.\nvar CHECKSUM_LENGTH = 4;\n// Messages must include a full prelude, a prelude checksum, and a message checksum\nvar MINIMUM_MESSAGE_LENGTH = PRELUDE_LENGTH + CHECKSUM_LENGTH * 2;\n\n/**\n * @api private\n *\n * @param {Buffer} message\n */\nfunction splitMessage(message) {\n    if (!util.Buffer.isBuffer(message)) message = toBuffer(message);\n\n    if (message.length < MINIMUM_MESSAGE_LENGTH) {\n        throw new Error('Provided message too short to accommodate event stream message overhead');\n    }\n\n    if (message.length !== message.readUInt32BE(0)) {\n        throw new Error('Reported message length does not match received message length');\n    }\n\n    var expectedPreludeChecksum = message.readUInt32BE(PRELUDE_LENGTH);\n\n    if (\n        expectedPreludeChecksum !== util.crypto.crc32(\n            message.slice(0, PRELUDE_LENGTH)\n        )\n    ) {\n        throw new Error(\n            'The prelude checksum specified in the message (' +\n            expectedPreludeChecksum +\n            ') does not match the calculated CRC32 checksum.'\n        );\n    }\n\n    var expectedMessageChecksum = message.readUInt32BE(message.length - CHECKSUM_LENGTH);\n\n    if (\n        expectedMessageChecksum !== util.crypto.crc32(\n            message.slice(0, message.length - CHECKSUM_LENGTH)\n        )\n    ) {\n        throw new Error(\n            'The message checksum did not match the expected value of ' +\n                expectedMessageChecksum\n        );\n    }\n\n    var headersStart = PRELUDE_LENGTH + CHECKSUM_LENGTH;\n    var headersEnd = headersStart + message.readUInt32BE(PRELUDE_MEMBER_LENGTH);\n\n    return {\n        headers: message.slice(headersStart, headersEnd),\n        body: message.slice(headersEnd, message.length - CHECKSUM_LENGTH),\n    };\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    splitMessage: splitMessage\n};\n","/**\n * Escapes characters that can not be in an XML attribute.\n */\nfunction escapeAttribute(value) {\n    return value.replace(/&/g, '&amp;').replace(/'/g, '&apos;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    escapeAttribute: escapeAttribute\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['servicecatalog'] = {};\nAWS.ServiceCatalog = Service.defineService('servicecatalog', ['2015-12-10']);\nObject.defineProperty(apiLoader.services['servicecatalog'], '2015-12-10', {\n  get: function get() {\n    var model = require('../apis/servicecatalog-2015-12-10.min.json');\n    model.paginators = require('../apis/servicecatalog-2015-12-10.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ServiceCatalog;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['personalizeevents'] = {};\nAWS.PersonalizeEvents = Service.defineService('personalizeevents', ['2018-03-22']);\nObject.defineProperty(apiLoader.services['personalizeevents'], '2018-03-22', {\n  get: function get() {\n    var model = require('../apis/personalize-events-2018-03-22.min.json');\n    model.paginators = require('../apis/personalize-events-2018-03-22.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.PersonalizeEvents;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['dynamodb'] = {};\nAWS.DynamoDB = Service.defineService('dynamodb', ['2011-12-05', '2012-08-10']);\nrequire('../lib/services/dynamodb');\nObject.defineProperty(apiLoader.services['dynamodb'], '2011-12-05', {\n  get: function get() {\n    var model = require('../apis/dynamodb-2011-12-05.min.json');\n    model.paginators = require('../apis/dynamodb-2011-12-05.paginators.json').pagination;\n    model.waiters = require('../apis/dynamodb-2011-12-05.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(apiLoader.services['dynamodb'], '2012-08-10', {\n  get: function get() {\n    var model = require('../apis/dynamodb-2012-08-10.min.json');\n    model.paginators = require('../apis/dynamodb-2012-08-10.paginators.json').pagination;\n    model.waiters = require('../apis/dynamodb-2012-08-10.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.DynamoDB;\n","var Collection = require('./collection');\n\nvar util = require('../util');\n\nfunction property(obj, name, value) {\n  if (value !== null && value !== undefined) {\n    util.property.apply(this, arguments);\n  }\n}\n\nfunction memoizedProperty(obj, name) {\n  if (!obj.constructor.prototype[name]) {\n    util.memoizedProperty.apply(this, arguments);\n  }\n}\n\nfunction Shape(shape, options, memberName) {\n  options = options || {};\n\n  property(this, 'shape', shape.shape);\n  property(this, 'api', options.api, false);\n  property(this, 'type', shape.type);\n  property(this, 'enum', shape.enum);\n  property(this, 'min', shape.min);\n  property(this, 'max', shape.max);\n  property(this, 'pattern', shape.pattern);\n  property(this, 'location', shape.location || this.location || 'body');\n  property(this, 'name', this.name || shape.xmlName || shape.queryName ||\n    shape.locationName || memberName);\n  property(this, 'isStreaming', shape.streaming || this.isStreaming || false);\n  property(this, 'requiresLength', shape.requiresLength, false);\n  property(this, 'isComposite', shape.isComposite || false);\n  property(this, 'isShape', true, false);\n  property(this, 'isQueryName', Boolean(shape.queryName), false);\n  property(this, 'isLocationName', Boolean(shape.locationName), false);\n  property(this, 'isIdempotent', shape.idempotencyToken === true);\n  property(this, 'isJsonValue', shape.jsonvalue === true);\n  property(this, 'isSensitive', shape.sensitive === true || shape.prototype && shape.prototype.sensitive === true);\n  property(this, 'isEventStream', Boolean(shape.eventstream), false);\n  property(this, 'isEvent', Boolean(shape.event), false);\n  property(this, 'isEventPayload', Boolean(shape.eventpayload), false);\n  property(this, 'isEventHeader', Boolean(shape.eventheader), false);\n  property(this, 'isTimestampFormatSet', Boolean(shape.timestampFormat) || shape.prototype && shape.prototype.isTimestampFormatSet === true, false);\n  property(this, 'endpointDiscoveryId', Boolean(shape.endpointdiscoveryid), false);\n  property(this, 'hostLabel', Boolean(shape.hostLabel), false);\n\n  if (options.documentation) {\n    property(this, 'documentation', shape.documentation);\n    property(this, 'documentationUrl', shape.documentationUrl);\n  }\n\n  if (shape.xmlAttribute) {\n    property(this, 'isXmlAttribute', shape.xmlAttribute || false);\n  }\n\n  // type conversion and parsing\n  property(this, 'defaultValue', null);\n  this.toWireFormat = function(value) {\n    if (value === null || value === undefined) return '';\n    return value;\n  };\n  this.toType = function(value) { return value; };\n}\n\n/**\n * @api private\n */\nShape.normalizedTypes = {\n  character: 'string',\n  double: 'float',\n  long: 'integer',\n  short: 'integer',\n  biginteger: 'integer',\n  bigdecimal: 'float',\n  blob: 'binary'\n};\n\n/**\n * @api private\n */\nShape.types = {\n  'structure': StructureShape,\n  'list': ListShape,\n  'map': MapShape,\n  'boolean': BooleanShape,\n  'timestamp': TimestampShape,\n  'float': FloatShape,\n  'integer': IntegerShape,\n  'string': StringShape,\n  'base64': Base64Shape,\n  'binary': BinaryShape\n};\n\nShape.resolve = function resolve(shape, options) {\n  if (shape.shape) {\n    var refShape = options.api.shapes[shape.shape];\n    if (!refShape) {\n      throw new Error('Cannot find shape reference: ' + shape.shape);\n    }\n\n    return refShape;\n  } else {\n    return null;\n  }\n};\n\nShape.create = function create(shape, options, memberName) {\n  if (shape.isShape) return shape;\n\n  var refShape = Shape.resolve(shape, options);\n  if (refShape) {\n    var filteredKeys = Object.keys(shape);\n    if (!options.documentation) {\n      filteredKeys = filteredKeys.filter(function(name) {\n        return !name.match(/documentation/);\n      });\n    }\n\n    // create an inline shape with extra members\n    var InlineShape = function() {\n      refShape.constructor.call(this, shape, options, memberName);\n    };\n    InlineShape.prototype = refShape;\n    return new InlineShape();\n  } else {\n    // set type if not set\n    if (!shape.type) {\n      if (shape.members) shape.type = 'structure';\n      else if (shape.member) shape.type = 'list';\n      else if (shape.key) shape.type = 'map';\n      else shape.type = 'string';\n    }\n\n    // normalize types\n    var origType = shape.type;\n    if (Shape.normalizedTypes[shape.type]) {\n      shape.type = Shape.normalizedTypes[shape.type];\n    }\n\n    if (Shape.types[shape.type]) {\n      return new Shape.types[shape.type](shape, options, memberName);\n    } else {\n      throw new Error('Unrecognized shape type: ' + origType);\n    }\n  }\n};\n\nfunction CompositeShape(shape) {\n  Shape.apply(this, arguments);\n  property(this, 'isComposite', true);\n\n  if (shape.flattened) {\n    property(this, 'flattened', shape.flattened || false);\n  }\n}\n\nfunction StructureShape(shape, options) {\n  var self = this;\n  var requiredMap = null, firstInit = !this.isShape;\n\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return {}; });\n    property(this, 'members', {});\n    property(this, 'memberNames', []);\n    property(this, 'required', []);\n    property(this, 'isRequired', function() { return false; });\n  }\n\n  if (shape.members) {\n    property(this, 'members', new Collection(shape.members, options, function(name, member) {\n      return Shape.create(member, options, name);\n    }));\n    memoizedProperty(this, 'memberNames', function() {\n      return shape.xmlOrder || Object.keys(shape.members);\n    });\n\n    if (shape.event) {\n      memoizedProperty(this, 'eventPayloadMemberName', function() {\n        var members = self.members;\n        var memberNames = self.memberNames;\n        // iterate over members to find ones that are event payloads\n        for (var i = 0, iLen = memberNames.length; i < iLen; i++) {\n          if (members[memberNames[i]].isEventPayload) {\n            return memberNames[i];\n          }\n        }\n      });\n\n      memoizedProperty(this, 'eventHeaderMemberNames', function() {\n        var members = self.members;\n        var memberNames = self.memberNames;\n        var eventHeaderMemberNames = [];\n        // iterate over members to find ones that are event headers\n        for (var i = 0, iLen = memberNames.length; i < iLen; i++) {\n          if (members[memberNames[i]].isEventHeader) {\n            eventHeaderMemberNames.push(memberNames[i]);\n          }\n        }\n        return eventHeaderMemberNames;\n      });\n    }\n  }\n\n  if (shape.required) {\n    property(this, 'required', shape.required);\n    property(this, 'isRequired', function(name) {\n      if (!requiredMap) {\n        requiredMap = {};\n        for (var i = 0; i < shape.required.length; i++) {\n          requiredMap[shape.required[i]] = true;\n        }\n      }\n\n      return requiredMap[name];\n    }, false, true);\n  }\n\n  property(this, 'resultWrapper', shape.resultWrapper || null);\n\n  if (shape.payload) {\n    property(this, 'payload', shape.payload);\n  }\n\n  if (typeof shape.xmlNamespace === 'string') {\n    property(this, 'xmlNamespaceUri', shape.xmlNamespace);\n  } else if (typeof shape.xmlNamespace === 'object') {\n    property(this, 'xmlNamespacePrefix', shape.xmlNamespace.prefix);\n    property(this, 'xmlNamespaceUri', shape.xmlNamespace.uri);\n  }\n}\n\nfunction ListShape(shape, options) {\n  var self = this, firstInit = !this.isShape;\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return []; });\n  }\n\n  if (shape.member) {\n    memoizedProperty(this, 'member', function() {\n      return Shape.create(shape.member, options);\n    });\n  }\n\n  if (this.flattened) {\n    var oldName = this.name;\n    memoizedProperty(this, 'name', function() {\n      return self.member.name || oldName;\n    });\n  }\n}\n\nfunction MapShape(shape, options) {\n  var firstInit = !this.isShape;\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return {}; });\n    property(this, 'key', Shape.create({type: 'string'}, options));\n    property(this, 'value', Shape.create({type: 'string'}, options));\n  }\n\n  if (shape.key) {\n    memoizedProperty(this, 'key', function() {\n      return Shape.create(shape.key, options);\n    });\n  }\n  if (shape.value) {\n    memoizedProperty(this, 'value', function() {\n      return Shape.create(shape.value, options);\n    });\n  }\n}\n\nfunction TimestampShape(shape) {\n  var self = this;\n  Shape.apply(this, arguments);\n\n  if (shape.timestampFormat) {\n    property(this, 'timestampFormat', shape.timestampFormat);\n  } else if (self.isTimestampFormatSet && this.timestampFormat) {\n    property(this, 'timestampFormat', this.timestampFormat);\n  } else if (this.location === 'header') {\n    property(this, 'timestampFormat', 'rfc822');\n  } else if (this.location === 'querystring') {\n    property(this, 'timestampFormat', 'iso8601');\n  } else if (this.api) {\n    switch (this.api.protocol) {\n      case 'json':\n      case 'rest-json':\n        property(this, 'timestampFormat', 'unixTimestamp');\n        break;\n      case 'rest-xml':\n      case 'query':\n      case 'ec2':\n        property(this, 'timestampFormat', 'iso8601');\n        break;\n    }\n  }\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    if (typeof value.toUTCString === 'function') return value;\n    return typeof value === 'string' || typeof value === 'number' ?\n           util.date.parseTimestamp(value) : null;\n  };\n\n  this.toWireFormat = function(value) {\n    return util.date.format(value, self.timestampFormat);\n  };\n}\n\nfunction StringShape() {\n  Shape.apply(this, arguments);\n\n  var nullLessProtocols = ['rest-xml', 'query', 'ec2'];\n  this.toType = function(value) {\n    value = this.api && nullLessProtocols.indexOf(this.api.protocol) > -1 ?\n      value || '' : value;\n    if (this.isJsonValue) {\n      return JSON.parse(value);\n    }\n\n    return value && typeof value.toString === 'function' ?\n      value.toString() : value;\n  };\n\n  this.toWireFormat = function(value) {\n    return this.isJsonValue ? JSON.stringify(value) : value;\n  };\n}\n\nfunction FloatShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    return parseFloat(value);\n  };\n  this.toWireFormat = this.toType;\n}\n\nfunction IntegerShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    return parseInt(value, 10);\n  };\n  this.toWireFormat = this.toType;\n}\n\nfunction BinaryShape() {\n  Shape.apply(this, arguments);\n  this.toType = function(value) {\n    var buf = util.base64.decode(value);\n    if (this.isSensitive && util.isNode() && typeof util.Buffer.alloc === 'function') {\n  /* Node.js can create a Buffer that is not isolated.\n   * i.e. buf.byteLength !== buf.buffer.byteLength\n   * This means that the sensitive data is accessible to anyone with access to buf.buffer.\n   * If this is the node shared Buffer, then other code within this process _could_ find this secret.\n   * Copy sensitive data to an isolated Buffer and zero the sensitive data.\n   * While this is safe to do here, copying this code somewhere else may produce unexpected results.\n   */\n      var secureBuf = util.Buffer.alloc(buf.length, buf);\n      buf.fill(0);\n      buf = secureBuf;\n    }\n    return buf;\n  };\n  this.toWireFormat = util.base64.encode;\n}\n\nfunction Base64Shape() {\n  BinaryShape.apply(this, arguments);\n}\n\nfunction BooleanShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (typeof value === 'boolean') return value;\n    if (value === null || value === undefined) return null;\n    return value === 'true';\n  };\n}\n\n/**\n * @api private\n */\nShape.shapes = {\n  StructureShape: StructureShape,\n  ListShape: ListShape,\n  MapShape: MapShape,\n  StringShape: StringShape,\n  BooleanShape: BooleanShape,\n  Base64Shape: Base64Shape\n};\n\n/**\n * @api private\n */\nmodule.exports = Shape;\n","var util = require('../core').util;\nvar toBuffer = util.buffer.toBuffer;\n\n/**\n * A lossless representation of a signed, 64-bit integer. Instances of this\n * class may be used in arithmetic expressions as if they were numeric\n * primitives, but the binary representation will be preserved unchanged as the\n * `bytes` property of the object. The bytes should be encoded as big-endian,\n * two's complement integers.\n * @param {Buffer} bytes\n *\n * @api private\n */\nfunction Int64(bytes) {\n    if (bytes.length !== 8) {\n        throw new Error('Int64 buffers must be exactly 8 bytes');\n    }\n    if (!util.Buffer.isBuffer(bytes)) bytes = toBuffer(bytes);\n\n    this.bytes = bytes;\n}\n\n/**\n * @param {number} number\n * @returns {Int64}\n *\n * @api private\n */\nInt64.fromNumber = function(number) {\n    if (number > 9223372036854775807 || number < -9223372036854775808) {\n        throw new Error(\n            number + ' is too large (or, if negative, too small) to represent as an Int64'\n        );\n    }\n\n    var bytes = new Uint8Array(8);\n    for (\n        var i = 7, remaining = Math.abs(Math.round(number));\n        i > -1 && remaining > 0;\n        i--, remaining /= 256\n    ) {\n        bytes[i] = remaining;\n    }\n\n    if (number < 0) {\n        negate(bytes);\n    }\n\n    return new Int64(bytes);\n};\n\n/**\n * @returns {number}\n *\n * @api private\n */\nInt64.prototype.valueOf = function() {\n    var bytes = this.bytes.slice(0);\n    var negative = bytes[0] & 128;\n    if (negative) {\n        negate(bytes);\n    }\n\n    return parseInt(bytes.toString('hex'), 16) * (negative ? -1 : 1);\n};\n\nInt64.prototype.toString = function() {\n    return String(this.valueOf());\n};\n\n/**\n * @param {Buffer} bytes\n *\n * @api private\n */\nfunction negate(bytes) {\n    for (var i = 0; i < 8; i++) {\n        bytes[i] ^= 0xFF;\n    }\n    for (var i = 7; i > -1; i--) {\n        bytes[i]++;\n        if (bytes[i] !== 0) {\n            break;\n        }\n    }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    Int64: Int64\n};\n","var Buffer = require('buffer/').Buffer;\n\n/**\n * This is a polyfill for the static method `isView` of `ArrayBuffer`, which is\n * e.g. missing in IE 10.\n *\n * @api private\n */\nif (\n    typeof ArrayBuffer !== 'undefined' &&\n    typeof ArrayBuffer.isView === 'undefined'\n) {\n    ArrayBuffer.isView = function(arg) {\n        return viewStrings.indexOf(Object.prototype.toString.call(arg)) > -1;\n    };\n}\n\n/**\n * @api private\n */\nvar viewStrings = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]',\n    '[object DataView]',\n];\n\n/**\n * @api private\n */\nfunction isEmptyData(data) {\n    if (typeof data === 'string') {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\n\n/**\n * @api private\n */\nfunction convertToBuffer(data) {\n    if (typeof data === 'string') {\n        data = new Buffer(data, 'utf8');\n    }\n\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n\n    return new Uint8Array(data);\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = {\n    isEmptyData: isEmptyData,\n    convertToBuffer: convertToBuffer,\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","require('../polly/presigner');\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['machinelearning'] = {};\nAWS.MachineLearning = Service.defineService('machinelearning', ['2014-12-12']);\nrequire('../lib/services/machinelearning');\nObject.defineProperty(apiLoader.services['machinelearning'], '2014-12-12', {\n  get: function get() {\n    var model = require('../apis/machinelearning-2014-12-12.min.json');\n    model.paginators = require('../apis/machinelearning-2014-12-12.paginators.json').pagination;\n    model.waiters = require('../apis/machinelearning-2014-12-12.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.MachineLearning;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['codecommit'] = {};\nAWS.CodeCommit = Service.defineService('codecommit', ['2015-04-13']);\nObject.defineProperty(apiLoader.services['codecommit'], '2015-04-13', {\n  get: function get() {\n    var model = require('../apis/codecommit-2015-04-13.min.json');\n    model.paginators = require('../apis/codecommit-2015-04-13.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CodeCommit;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cloudtrail'] = {};\nAWS.CloudTrail = Service.defineService('cloudtrail', ['2013-11-01']);\nObject.defineProperty(apiLoader.services['cloudtrail'], '2013-11-01', {\n  get: function get() {\n    var model = require('../apis/cloudtrail-2013-11-01.min.json');\n    model.paginators = require('../apis/cloudtrail-2013-11-01.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CloudTrail;\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Reads in-band CEA-708 captions out of FMP4 segments.\n * @see https://en.wikipedia.org/wiki/CEA-708\n */\n'use strict';\n\nvar discardEmulationPreventionBytes = require('../tools/caption-packet-parser').discardEmulationPreventionBytes;\nvar CaptionStream = require('../m2ts/caption-stream').CaptionStream;\nvar probe = require('./probe');\nvar inspect = require('../tools/mp4-inspector');\n\n/**\n  * Maps an offset in the mdat to a sample based on the the size of the samples.\n  * Assumes that `parseSamples` has been called first.\n  *\n  * @param {Number} offset - The offset into the mdat\n  * @param {Object[]} samples - An array of samples, parsed using `parseSamples`\n  * @return {?Object} The matching sample, or null if no match was found.\n  *\n  * @see ISO-BMFF-12/2015, Section 8.8.8\n **/\nvar mapToSample = function(offset, samples) {\n  var approximateOffset = offset;\n\n  for (var i = 0; i < samples.length; i++) {\n    var sample = samples[i];\n\n    if (approximateOffset < sample.size) {\n      return sample;\n    }\n\n    approximateOffset -= sample.size;\n  }\n\n  return null;\n};\n\n/**\n  * Finds SEI nal units contained in a Media Data Box.\n  * Assumes that `parseSamples` has been called first.\n  *\n  * @param {Uint8Array} avcStream - The bytes of the mdat\n  * @param {Object[]} samples - The samples parsed out by `parseSamples`\n  * @param {Number} trackId - The trackId of this video track\n  * @return {Object[]} seiNals - the parsed SEI NALUs found.\n  *   The contents of the seiNal should match what is expected by\n  *   CaptionStream.push (nalUnitType, size, data, escapedRBSP, pts, dts)\n  *\n  * @see ISO-BMFF-12/2015, Section 8.1.1\n  * @see Rec. ITU-T H.264, 7.3.2.3.1\n **/\nvar findSeiNals = function(avcStream, samples, trackId) {\n  var\n    avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n    result = [],\n    seiNal,\n    i,\n    length,\n    lastMatchedSample;\n\n  for (i = 0; i + 4 < avcStream.length; i += length) {\n    length = avcView.getUint32(i);\n    i += 4;\n\n    // Bail if this doesn't appear to be an H264 stream\n    if (length <= 0) {\n      continue;\n    }\n\n    switch (avcStream[i] & 0x1F) {\n    case 0x06:\n      var data = avcStream.subarray(i + 1, i + 1 + length);\n      var matchingSample = mapToSample(i, samples);\n\n      seiNal = {\n        nalUnitType: 'sei_rbsp',\n        size: length,\n        data: data,\n        escapedRBSP: discardEmulationPreventionBytes(data),\n        trackId: trackId\n      };\n\n      if (matchingSample) {\n        seiNal.pts = matchingSample.pts;\n        seiNal.dts = matchingSample.dts;\n        lastMatchedSample = matchingSample;\n      } else {\n        // If a matching sample cannot be found, use the last\n        // sample's values as they should be as close as possible\n        seiNal.pts = lastMatchedSample.pts;\n        seiNal.dts = lastMatchedSample.dts;\n      }\n\n      result.push(seiNal);\n      break;\n    default:\n      break;\n    }\n  }\n\n  return result;\n};\n\n/**\n  * Parses sample information out of Track Run Boxes and calculates\n  * the absolute presentation and decode timestamps of each sample.\n  *\n  * @param {Array<Uint8Array>} truns - The Trun Run boxes to be parsed\n  * @param {Number} baseMediaDecodeTime - base media decode time from tfdt\n      @see ISO-BMFF-12/2015, Section 8.8.12\n  * @param {Object} tfhd - The parsed Track Fragment Header\n  *   @see inspect.parseTfhd\n  * @return {Object[]} the parsed samples\n  *\n  * @see ISO-BMFF-12/2015, Section 8.8.8\n **/\nvar parseSamples = function(truns, baseMediaDecodeTime, tfhd) {\n  var currentDts = baseMediaDecodeTime;\n  var defaultSampleDuration = tfhd.defaultSampleDuration || 0;\n  var defaultSampleSize = tfhd.defaultSampleSize || 0;\n  var trackId = tfhd.trackId;\n  var allSamples = [];\n\n  truns.forEach(function(trun) {\n    // Note: We currently do not parse the sample table as well\n    // as the trun. It's possible some sources will require this.\n    // moov > trak > mdia > minf > stbl\n    var trackRun = inspect.parseTrun(trun);\n    var samples = trackRun.samples;\n\n    samples.forEach(function(sample) {\n      if (sample.duration === undefined) {\n        sample.duration = defaultSampleDuration;\n      }\n      if (sample.size === undefined) {\n        sample.size = defaultSampleSize;\n      }\n      sample.trackId = trackId;\n      sample.dts = currentDts;\n      if (sample.compositionTimeOffset === undefined) {\n        sample.compositionTimeOffset = 0;\n      }\n      sample.pts = currentDts + sample.compositionTimeOffset;\n\n      currentDts += sample.duration;\n    });\n\n    allSamples = allSamples.concat(samples);\n  });\n\n  return allSamples;\n};\n\n/**\n  * Parses out caption nals from an FMP4 segment's video tracks.\n  *\n  * @param {Uint8Array} segment - The bytes of a single segment\n  * @param {Number} videoTrackId - The trackId of a video track in the segment\n  * @return {Object.<Number, Object[]>} A mapping of video trackId to\n  *   a list of seiNals found in that track\n **/\nvar parseCaptionNals = function(segment, videoTrackId) {\n  // To get the samples\n  var trafs = probe.findBox(segment, ['moof', 'traf']);\n  // To get SEI NAL units\n  var mdats = probe.findBox(segment, ['mdat']);\n  var captionNals = {};\n  var mdatTrafPairs = [];\n\n  // Pair up each traf with a mdat as moofs and mdats are in pairs\n  mdats.forEach(function(mdat, index) {\n    var matchingTraf = trafs[index];\n    mdatTrafPairs.push({\n      mdat: mdat,\n      traf: matchingTraf\n    });\n  });\n\n  mdatTrafPairs.forEach(function(pair) {\n    var mdat = pair.mdat;\n    var traf = pair.traf;\n    var tfhd = probe.findBox(traf, ['tfhd']);\n    // Exactly 1 tfhd per traf\n    var headerInfo = inspect.parseTfhd(tfhd[0]);\n    var trackId = headerInfo.trackId;\n    var tfdt = probe.findBox(traf, ['tfdt']);\n    // Either 0 or 1 tfdt per traf\n    var baseMediaDecodeTime = (tfdt.length > 0) ? inspect.parseTfdt(tfdt[0]).baseMediaDecodeTime : 0;\n    var truns = probe.findBox(traf, ['trun']);\n    var samples;\n    var seiNals;\n\n    // Only parse video data for the chosen video track\n    if (videoTrackId === trackId && truns.length > 0) {\n      samples = parseSamples(truns, baseMediaDecodeTime, headerInfo);\n\n      seiNals = findSeiNals(mdat, samples, trackId);\n\n      if (!captionNals[trackId]) {\n        captionNals[trackId] = [];\n      }\n\n      captionNals[trackId] = captionNals[trackId].concat(seiNals);\n    }\n  });\n\n  return captionNals;\n};\n\n/**\n  * Parses out inband captions from an MP4 container and returns\n  * caption objects that can be used by WebVTT and the TextTrack API.\n  * @see https://developer.mozilla.org/en-US/docs/Web/API/VTTCue\n  * @see https://developer.mozilla.org/en-US/docs/Web/API/TextTrack\n  * Assumes that `probe.getVideoTrackIds` and `probe.timescale` have been called first\n  *\n  * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n  * @param {Number} trackId - The id of the video track to parse\n  * @param {Number} timescale - The timescale for the video track from the init segment\n  *\n  * @return {?Object[]} parsedCaptions - A list of captions or null if no video tracks\n  * @return {Number} parsedCaptions[].startTime - The time to show the caption in seconds\n  * @return {Number} parsedCaptions[].endTime - The time to stop showing the caption in seconds\n  * @return {String} parsedCaptions[].text - The visible content of the caption\n **/\nvar parseEmbeddedCaptions = function(segment, trackId, timescale) {\n  var seiNals;\n\n  // the ISO-BMFF spec says that trackId can't be zero, but there's some broken content out there\n  if (trackId === null) {\n    return null;\n  }\n\n  seiNals = parseCaptionNals(segment, trackId);\n\n  return {\n    seiNals: seiNals[trackId],\n    timescale: timescale\n  };\n};\n\n/**\n  * Converts SEI NALUs into captions that can be used by video.js\n **/\nvar CaptionParser = function() {\n  var isInitialized = false;\n  var captionStream;\n\n  // Stores segments seen before trackId and timescale are set\n  var segmentCache;\n  // Stores video track ID of the track being parsed\n  var trackId;\n  // Stores the timescale of the track being parsed\n  var timescale;\n  // Stores captions parsed so far\n  var parsedCaptions;\n  // Stores whether we are receiving partial data or not\n  var parsingPartial;\n\n  /**\n    * A method to indicate whether a CaptionParser has been initalized\n    * @returns {Boolean}\n   **/\n  this.isInitialized = function() {\n    return isInitialized;\n  };\n\n  /**\n    * Initializes the underlying CaptionStream, SEI NAL parsing\n    * and management, and caption collection\n   **/\n  this.init = function(options) {\n    captionStream = new CaptionStream();\n    isInitialized = true;\n    parsingPartial = options ? options.isPartial : false;\n\n    // Collect dispatched captions\n    captionStream.on('data', function(event) {\n      // Convert to seconds in the source's timescale\n      event.startTime = event.startPts / timescale;\n      event.endTime = event.endPts / timescale;\n\n      parsedCaptions.captions.push(event);\n      parsedCaptions.captionStreams[event.stream] = true;\n    });\n  };\n\n  /**\n    * Determines if a new video track will be selected\n    * or if the timescale changed\n    * @return {Boolean}\n   **/\n  this.isNewInit = function(videoTrackIds, timescales) {\n    if ((videoTrackIds && videoTrackIds.length === 0) ||\n        (timescales && typeof timescales === 'object' &&\n          Object.keys(timescales).length === 0)) {\n      return false;\n    }\n\n    return trackId !== videoTrackIds[0] ||\n      timescale !== timescales[trackId];\n  };\n\n  /**\n    * Parses out SEI captions and interacts with underlying\n    * CaptionStream to return dispatched captions\n    *\n    * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n    * @param {Number[]} videoTrackIds - A list of video tracks found in the init segment\n    * @param {Object.<Number, Number>} timescales - The timescales found in the init segment\n    * @see parseEmbeddedCaptions\n    * @see m2ts/caption-stream.js\n   **/\n  this.parse = function(segment, videoTrackIds, timescales) {\n    var parsedData;\n\n    if (!this.isInitialized()) {\n      return null;\n\n    // This is not likely to be a video segment\n    } else if (!videoTrackIds || !timescales) {\n      return null;\n\n    } else if (this.isNewInit(videoTrackIds, timescales)) {\n      // Use the first video track only as there is no\n      // mechanism to switch to other video tracks\n      trackId = videoTrackIds[0];\n      timescale = timescales[trackId];\n\n    // If an init segment has not been seen yet, hold onto segment\n    // data until we have one.\n    // the ISO-BMFF spec says that trackId can't be zero, but there's some broken content out there\n    } else if (trackId === null || !timescale) {\n      segmentCache.push(segment);\n      return null;\n    }\n\n    // Now that a timescale and trackId is set, parse cached segments\n    while (segmentCache.length > 0) {\n      var cachedSegment = segmentCache.shift();\n\n      this.parse(cachedSegment, videoTrackIds, timescales);\n    }\n\n    parsedData = parseEmbeddedCaptions(segment, trackId, timescale);\n\n    if (parsedData === null || !parsedData.seiNals) {\n      return null;\n    }\n\n    this.pushNals(parsedData.seiNals);\n    // Force the parsed captions to be dispatched\n    this.flushStream();\n\n    return parsedCaptions;\n  };\n\n  /**\n    * Pushes SEI NALUs onto CaptionStream\n    * @param {Object[]} nals - A list of SEI nals parsed using `parseCaptionNals`\n    * Assumes that `parseCaptionNals` has been called first\n    * @see m2ts/caption-stream.js\n    **/\n  this.pushNals = function(nals) {\n    if (!this.isInitialized() || !nals || nals.length === 0) {\n      return null;\n    }\n\n    nals.forEach(function(nal) {\n      captionStream.push(nal);\n    });\n  };\n\n  /**\n    * Flushes underlying CaptionStream to dispatch processed, displayable captions\n    * @see m2ts/caption-stream.js\n   **/\n  this.flushStream = function() {\n    if (!this.isInitialized()) {\n      return null;\n    }\n\n    if (!parsingPartial) {\n      captionStream.flush();\n    } else {\n      captionStream.partialFlush();\n    }\n  };\n\n  /**\n    * Reset caption buckets for new data\n   **/\n  this.clearParsedCaptions = function() {\n    parsedCaptions.captions = [];\n    parsedCaptions.captionStreams = {};\n  };\n\n  /**\n    * Resets underlying CaptionStream\n    * @see m2ts/caption-stream.js\n   **/\n  this.resetCaptionStream = function() {\n    if (!this.isInitialized()) {\n      return null;\n    }\n\n    captionStream.reset();\n  };\n\n  /**\n    * Convenience method to clear all captions flushed from the\n    * CaptionStream and still being parsed\n    * @see m2ts/caption-stream.js\n   **/\n  this.clearAllCaptions = function() {\n    this.clearParsedCaptions();\n    this.resetCaptionStream();\n  };\n\n  /**\n    * Reset caption parser\n   **/\n  this.reset = function() {\n    segmentCache = [];\n    trackId = null;\n    timescale = null;\n\n    if (!parsedCaptions) {\n      parsedCaptions = {\n        captions: [],\n        // CC1, CC2, CC3, CC4\n        captionStreams: {}\n      };\n    } else {\n      this.clearParsedCaptions();\n    }\n\n    this.resetCaptionStream();\n  };\n\n  this.reset();\n};\n\nmodule.exports = CaptionParser;\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\n'use strict';\n\nmodule.exports = {\n  H264_STREAM_TYPE: 0x1B,\n  ADTS_STREAM_TYPE: 0x0F,\n  METADATA_STREAM_TYPE: 0x15\n};\n","/**\n * Copyright 2012-2013 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You\n * may not use this file except in compliance with the License. A copy of\n * the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n */\n\nvar AWS = require('./core');\nvar inherit = AWS.util.inherit;\nvar jmespath = require('jmespath');\n\n/**\n * @api private\n */\nfunction CHECK_ACCEPTORS(resp) {\n  var waiter = resp.request._waiter;\n  var acceptors = waiter.config.acceptors;\n  var acceptorMatched = false;\n  var state = 'retry';\n\n  acceptors.forEach(function(acceptor) {\n    if (!acceptorMatched) {\n      var matcher = waiter.matchers[acceptor.matcher];\n      if (matcher && matcher(resp, acceptor.expected, acceptor.argument)) {\n        acceptorMatched = true;\n        state = acceptor.state;\n      }\n    }\n  });\n\n  if (!acceptorMatched && resp.error) state = 'failure';\n\n  if (state === 'success') {\n    waiter.setSuccess(resp);\n  } else {\n    waiter.setError(resp, state === 'retry');\n  }\n}\n\n/**\n * @api private\n */\nAWS.ResourceWaiter = inherit({\n  /**\n   * Waits for a given state on a service object\n   * @param service [Service] the service object to wait on\n   * @param state [String] the state (defined in waiter configuration) to wait\n   *   for.\n   * @example Create a waiter for running EC2 instances\n   *   var ec2 = new AWS.EC2;\n   *   var waiter = new AWS.ResourceWaiter(ec2, 'instanceRunning');\n   */\n  constructor: function constructor(service, state) {\n    this.service = service;\n    this.state = state;\n    this.loadWaiterConfig(this.state);\n  },\n\n  service: null,\n\n  state: null,\n\n  config: null,\n\n  matchers: {\n    path: function(resp, expected, argument) {\n      try {\n        var result = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      return jmespath.strictDeepEqual(result,expected);\n    },\n\n    pathAll: function(resp, expected, argument) {\n      try {\n        var results = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      if (!Array.isArray(results)) results = [results];\n      var numResults = results.length;\n      if (!numResults) return false;\n      for (var ind = 0 ; ind < numResults; ind++) {\n        if (!jmespath.strictDeepEqual(results[ind], expected)) {\n          return false;\n        }\n      }\n      return true;\n    },\n\n    pathAny: function(resp, expected, argument) {\n      try {\n        var results = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      if (!Array.isArray(results)) results = [results];\n      var numResults = results.length;\n      for (var ind = 0 ; ind < numResults; ind++) {\n        if (jmespath.strictDeepEqual(results[ind], expected)) {\n          return true;\n        }\n      }\n      return false;\n    },\n\n    status: function(resp, expected) {\n      var statusCode = resp.httpResponse.statusCode;\n      return (typeof statusCode === 'number') && (statusCode === expected);\n    },\n\n    error: function(resp, expected) {\n      if (typeof expected === 'string' && resp.error) {\n        return expected === resp.error.code;\n      }\n      // if expected is not string, can be boolean indicating presence of error\n      return expected === !!resp.error;\n    }\n  },\n\n  listeners: new AWS.SequentialExecutor().addNamedListeners(function(add) {\n    add('RETRY_CHECK', 'retry', function(resp) {\n      var waiter = resp.request._waiter;\n      if (resp.error && resp.error.code === 'ResourceNotReady') {\n        resp.error.retryDelay = (waiter.config.delay || 0) * 1000;\n      }\n    });\n\n    add('CHECK_OUTPUT', 'extractData', CHECK_ACCEPTORS);\n\n    add('CHECK_ERROR', 'extractError', CHECK_ACCEPTORS);\n  }),\n\n  /**\n   * @return [AWS.Request]\n   */\n  wait: function wait(params, callback) {\n    if (typeof params === 'function') {\n      callback = params; params = undefined;\n    }\n\n    if (params && params.$waiter) {\n      params = AWS.util.copy(params);\n      if (typeof params.$waiter.delay === 'number') {\n        this.config.delay = params.$waiter.delay;\n      }\n      if (typeof params.$waiter.maxAttempts === 'number') {\n        this.config.maxAttempts = params.$waiter.maxAttempts;\n      }\n      delete params.$waiter;\n    }\n\n    var request = this.service.makeRequest(this.config.operation, params);\n    request._waiter = this;\n    request.response.maxRetries = this.config.maxAttempts;\n    request.addListeners(this.listeners);\n\n    if (callback) request.send(callback);\n    return request;\n  },\n\n  setSuccess: function setSuccess(resp) {\n    resp.error = null;\n    resp.data = resp.data || {};\n    resp.request.removeAllListeners('extractData');\n  },\n\n  setError: function setError(resp, retryable) {\n    resp.data = null;\n    resp.error = AWS.util.error(resp.error || new Error(), {\n      code: 'ResourceNotReady',\n      message: 'Resource is not in the state ' + this.state,\n      retryable: retryable\n    });\n  },\n\n  /**\n   * Loads waiter configuration from API configuration\n   *\n   * @api private\n   */\n  loadWaiterConfig: function loadWaiterConfig(state) {\n    if (!this.service.api.waiters[state]) {\n      throw new AWS.util.error(new Error(), {\n        code: 'StateNotFoundError',\n        message: 'State ' + state + ' not found.'\n      });\n    }\n\n    this.config = AWS.util.copy(this.service.api.waiters[state]);\n  }\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cognitosync'] = {};\nAWS.CognitoSync = Service.defineService('cognitosync', ['2014-06-30']);\nObject.defineProperty(apiLoader.services['cognitosync'], '2014-06-30', {\n  get: function get() {\n    var model = require('../apis/cognito-sync-2014-06-30.min.json');\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CognitoSync;\n","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar autoKeyword = \"auto\";\nvar directionSetting = {\n  \"\": 1,\n  \"lr\": 1,\n  \"rl\": 1\n};\nvar alignSetting = {\n  \"start\": 1,\n  \"middle\": 1,\n  \"end\": 1,\n  \"left\": 1,\n  \"right\": 1\n};\n\nfunction findDirectionSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n  var dir = directionSetting[value.toLowerCase()];\n  return dir ? value.toLowerCase() : false;\n}\n\nfunction findAlignSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n  var align = alignSetting[value.toLowerCase()];\n  return align ? value.toLowerCase() : false;\n}\n\nfunction VTTCue(startTime, endTime, text) {\n  /**\n   * Shim implementation specific properties. These properties are not in\n   * the spec.\n   */\n\n  // Lets us know when the VTTCue's data has changed in such a way that we need\n  // to recompute its display state. This lets us compute its display state\n  // lazily.\n  this.hasBeenReset = false;\n\n  /**\n   * VTTCue and TextTrackCue properties\n   * http://dev.w3.org/html5/webvtt/#vttcue-interface\n   */\n\n  var _id = \"\";\n  var _pauseOnExit = false;\n  var _startTime = startTime;\n  var _endTime = endTime;\n  var _text = text;\n  var _region = null;\n  var _vertical = \"\";\n  var _snapToLines = true;\n  var _line = \"auto\";\n  var _lineAlign = \"start\";\n  var _position = 50;\n  var _positionAlign = \"middle\";\n  var _size = 50;\n  var _align = \"middle\";\n\n  Object.defineProperties(this, {\n    \"id\": {\n      enumerable: true,\n      get: function() {\n        return _id;\n      },\n      set: function(value) {\n        _id = \"\" + value;\n      }\n    },\n\n    \"pauseOnExit\": {\n      enumerable: true,\n      get: function() {\n        return _pauseOnExit;\n      },\n      set: function(value) {\n        _pauseOnExit = !!value;\n      }\n    },\n\n    \"startTime\": {\n      enumerable: true,\n      get: function() {\n        return _startTime;\n      },\n      set: function(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"Start time must be set to a number.\");\n        }\n        _startTime = value;\n        this.hasBeenReset = true;\n      }\n    },\n\n    \"endTime\": {\n      enumerable: true,\n      get: function() {\n        return _endTime;\n      },\n      set: function(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"End time must be set to a number.\");\n        }\n        _endTime = value;\n        this.hasBeenReset = true;\n      }\n    },\n\n    \"text\": {\n      enumerable: true,\n      get: function() {\n        return _text;\n      },\n      set: function(value) {\n        _text = \"\" + value;\n        this.hasBeenReset = true;\n      }\n    },\n\n    \"region\": {\n      enumerable: true,\n      get: function() {\n        return _region;\n      },\n      set: function(value) {\n        _region = value;\n        this.hasBeenReset = true;\n      }\n    },\n\n    \"vertical\": {\n      enumerable: true,\n      get: function() {\n        return _vertical;\n      },\n      set: function(value) {\n        var setting = findDirectionSetting(value);\n        // Have to check for false because the setting an be an empty string.\n        if (setting === false) {\n          throw new SyntaxError(\"An invalid or illegal string was specified.\");\n        }\n        _vertical = setting;\n        this.hasBeenReset = true;\n      }\n    },\n\n    \"snapToLines\": {\n      enumerable: true,\n      get: function() {\n        return _snapToLines;\n      },\n      set: function(value) {\n        _snapToLines = !!value;\n        this.hasBeenReset = true;\n      }\n    },\n\n    \"line\": {\n      enumerable: true,\n      get: function() {\n        return _line;\n      },\n      set: function(value) {\n        if (typeof value !== \"number\" && value !== autoKeyword) {\n          throw new SyntaxError(\"An invalid number or illegal string was specified.\");\n        }\n        _line = value;\n        this.hasBeenReset = true;\n      }\n    },\n\n    \"lineAlign\": {\n      enumerable: true,\n      get: function() {\n        return _lineAlign;\n      },\n      set: function(value) {\n        var setting = findAlignSetting(value);\n        if (!setting) {\n          throw new SyntaxError(\"An invalid or illegal string was specified.\");\n        }\n        _lineAlign = setting;\n        this.hasBeenReset = true;\n      }\n    },\n\n    \"position\": {\n      enumerable: true,\n      get: function() {\n        return _position;\n      },\n      set: function(value) {\n        if (value < 0 || value > 100) {\n          throw new Error(\"Position must be between 0 and 100.\");\n        }\n        _position = value;\n        this.hasBeenReset = true;\n      }\n    },\n\n    \"positionAlign\": {\n      enumerable: true,\n      get: function() {\n        return _positionAlign;\n      },\n      set: function(value) {\n        var setting = findAlignSetting(value);\n        if (!setting) {\n          throw new SyntaxError(\"An invalid or illegal string was specified.\");\n        }\n        _positionAlign = setting;\n        this.hasBeenReset = true;\n      }\n    },\n\n    \"size\": {\n      enumerable: true,\n      get: function() {\n        return _size;\n      },\n      set: function(value) {\n        if (value < 0 || value > 100) {\n          throw new Error(\"Size must be between 0 and 100.\");\n        }\n        _size = value;\n        this.hasBeenReset = true;\n      }\n    },\n\n    \"align\": {\n      enumerable: true,\n      get: function() {\n        return _align;\n      },\n      set: function(value) {\n        var setting = findAlignSetting(value);\n        if (!setting) {\n          throw new SyntaxError(\"An invalid or illegal string was specified.\");\n        }\n        _align = setting;\n        this.hasBeenReset = true;\n      }\n    }\n  });\n\n  /**\n   * Other <track> spec defined properties\n   */\n\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n  this.displayState = undefined;\n}\n\n/**\n * VTTCue methods\n */\n\nVTTCue.prototype.getCueAsHTML = function() {\n  // Assume WebVTT.convertCueToDOMTree is on the global.\n  return WebVTT.convertCueToDOMTree(window, this.text);\n};\n\nmodule.exports = VTTCue;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['autoscaling'] = {};\nAWS.AutoScaling = Service.defineService('autoscaling', ['2011-01-01']);\nObject.defineProperty(apiLoader.services['autoscaling'], '2011-01-01', {\n  get: function get() {\n    var model = require('../apis/autoscaling-2011-01-01.min.json');\n    model.paginators = require('../apis/autoscaling-2011-01-01.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.AutoScaling;\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","var AWS = require('../core');\nvar byteLength = AWS.util.string.byteLength;\nvar Buffer = AWS.util.Buffer;\n\n/**\n * The managed uploader allows for easy and efficient uploading of buffers,\n * blobs, or streams, using a configurable amount of concurrency to perform\n * multipart uploads where possible. This abstraction also enables uploading\n * streams of unknown size due to the use of multipart uploads.\n *\n * To construct a managed upload object, see the {constructor} function.\n *\n * ## Tracking upload progress\n *\n * The managed upload object can also track progress by attaching an\n * 'httpUploadProgress' listener to the upload manager. This event is similar\n * to {AWS.Request~httpUploadProgress} but groups all concurrent upload progress\n * into a single event. See {AWS.S3.ManagedUpload~httpUploadProgress} for more\n * information.\n *\n * ## Handling Multipart Cleanup\n *\n * By default, this class will automatically clean up any multipart uploads\n * when an individual part upload fails. This behavior can be disabled in order\n * to manually handle failures by setting the `leavePartsOnError` configuration\n * option to `true` when initializing the upload object.\n *\n * @!event httpUploadProgress(progress)\n *   Triggered when the uploader has uploaded more data.\n *   @note The `total` property may not be set if the stream being uploaded has\n *     not yet finished chunking. In this case the `total` will be undefined\n *     until the total stream size is known.\n *   @note This event will not be emitted in Node.js 0.8.x.\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request and the `key` of the S3 object. Note that `total` may be undefined until the payload\n *     size is known.\n *   @context (see AWS.Request~send)\n */\nAWS.S3.ManagedUpload = AWS.util.inherit({\n  /**\n   * Creates a managed upload object with a set of configuration options.\n   *\n   * @note A \"Body\" parameter is required to be set prior to calling {send}.\n   * @note In Node.js, sending \"Body\" as {https://nodejs.org/dist/latest/docs/api/stream.html#stream_object_mode object-mode stream}\n   *   may result in upload hangs. Using buffer stream is preferable.\n   * @option options params [map] a map of parameters to pass to the upload\n   *   requests. The \"Body\" parameter is required to be specified either on\n   *   the service or in the params option.\n   * @note ContentMD5 should not be provided when using the managed upload object.\n   *   Instead, setting \"computeChecksums\" to true will enable automatic ContentMD5 generation\n   *   by the managed upload object.\n   * @option options queueSize [Number] (4) the size of the concurrent queue\n   *   manager to upload parts in parallel. Set to 1 for synchronous uploading\n   *   of parts. Note that the uploader will buffer at most queueSize * partSize\n   *   bytes into memory at any given time.\n   * @option options partSize [Number] (5mb) the size in bytes for each\n   *   individual part to be uploaded. Adjust the part size to ensure the number\n   *   of parts does not exceed {maxTotalParts}. See {minPartSize} for the\n   *   minimum allowed part size.\n   * @option options leavePartsOnError [Boolean] (false) whether to abort the\n   *   multipart upload if an error occurs. Set to true if you want to handle\n   *   failures manually.\n   * @option options service [AWS.S3] an optional S3 service object to use for\n   *   requests. This object might have bound parameters used by the uploader.\n   * @option options tags [Array<map>] The tags to apply to the uploaded object.\n   *   Each tag should have a `Key` and `Value` keys.\n   * @example Creating a default uploader for a stream object\n   *   var upload = new AWS.S3.ManagedUpload({\n   *     params: {Bucket: 'bucket', Key: 'key', Body: stream}\n   *   });\n   * @example Creating an uploader with concurrency of 1 and partSize of 10mb\n   *   var upload = new AWS.S3.ManagedUpload({\n   *     partSize: 10 * 1024 * 1024, queueSize: 1,\n   *     params: {Bucket: 'bucket', Key: 'key', Body: stream}\n   *   });\n   * @example Creating an uploader with tags\n   *   var upload = new AWS.S3.ManagedUpload({\n   *     params: {Bucket: 'bucket', Key: 'key', Body: stream},\n   *     tags: [{Key: 'tag1', Value: 'value1'}, {Key: 'tag2', Value: 'value2'}]\n   *   });\n   * @see send\n   */\n  constructor: function ManagedUpload(options) {\n    var self = this;\n    AWS.SequentialExecutor.call(self);\n    self.body = null;\n    self.sliceFn = null;\n    self.callback = null;\n    self.parts = {};\n    self.completeInfo = [];\n    self.fillQueue = function() {\n      self.callback(new Error('Unsupported body payload ' + typeof self.body));\n    };\n\n    self.configure(options);\n  },\n\n  /**\n   * @api private\n   */\n  configure: function configure(options) {\n    options = options || {};\n    this.partSize = this.minPartSize;\n\n    if (options.queueSize) this.queueSize = options.queueSize;\n    if (options.partSize) this.partSize = options.partSize;\n    if (options.leavePartsOnError) this.leavePartsOnError = true;\n    if (options.tags) {\n      if (!Array.isArray(options.tags)) {\n        throw new Error('Tags must be specified as an array; ' +\n          typeof options.tags + ' provided.');\n      }\n      this.tags = options.tags;\n    }\n\n    if (this.partSize < this.minPartSize) {\n      throw new Error('partSize must be greater than ' +\n                      this.minPartSize);\n    }\n\n    this.service = options.service;\n    this.bindServiceObject(options.params);\n    this.validateBody();\n    this.adjustTotalBytes();\n  },\n\n  /**\n   * @api private\n   */\n  leavePartsOnError: false,\n\n  /**\n   * @api private\n   */\n  queueSize: 4,\n\n  /**\n   * @api private\n   */\n  partSize: null,\n\n  /**\n   * @readonly\n   * @return [Number] the minimum number of bytes for an individual part\n   *   upload.\n   */\n  minPartSize: 1024 * 1024 * 5,\n\n  /**\n   * @readonly\n   * @return [Number] the maximum allowed number of parts in a multipart upload.\n   */\n  maxTotalParts: 10000,\n\n  /**\n   * Initiates the managed upload for the payload.\n   *\n   * @callback callback function(err, data)\n   *   @param err [Error] an error or null if no error occurred.\n   *   @param data [map] The response data from the successful upload:\n   *     * `Location` (String) the URL of the uploaded object\n   *     * `ETag` (String) the ETag of the uploaded object\n   *     * `Bucket` (String) the bucket to which the object was uploaded\n   *     * `Key` (String) the key to which the object was uploaded\n   * @example Sending a managed upload object\n   *   var params = {Bucket: 'bucket', Key: 'key', Body: stream};\n   *   var upload = new AWS.S3.ManagedUpload({params: params});\n   *   upload.send(function(err, data) {\n   *     console.log(err, data);\n   *   });\n   */\n  send: function(callback) {\n    var self = this;\n    self.failed = false;\n    self.callback = callback || function(err) { if (err) throw err; };\n\n    var runFill = true;\n    if (self.sliceFn) {\n      self.fillQueue = self.fillBuffer;\n    } else if (AWS.util.isNode()) {\n      var Stream = AWS.util.stream.Stream;\n      if (self.body instanceof Stream) {\n        runFill = false;\n        self.fillQueue = self.fillStream;\n        self.partBuffers = [];\n        self.body.\n          on('error', function(err) { self.cleanup(err); }).\n          on('readable', function() { self.fillQueue(); }).\n          on('end', function() {\n            self.isDoneChunking = true;\n            self.numParts = self.totalPartNumbers;\n            self.fillQueue.call(self);\n\n            if (self.isDoneChunking && self.totalPartNumbers >= 1 && self.doneParts === self.numParts) {\n              self.finishMultiPart();\n            }\n          });\n      }\n    }\n\n    if (runFill) self.fillQueue.call(self);\n  },\n\n  /**\n   * @!method  promise()\n   *   Returns a 'thenable' promise.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(data)\n   *     Called if the promise is fulfilled.\n   *     @param data [map] The response data from the successful upload:\n   *       `Location` (String) the URL of the uploaded object\n   *       `ETag` (String) the ETag of the uploaded object\n   *       `Bucket` (String) the bucket to which the object was uploaded\n   *       `Key` (String) the key to which the object was uploaded\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] an error or null if no error occurred.\n   *   @return [Promise] A promise that represents the state of the upload request.\n   *   @example Sending an upload request using promises.\n   *     var upload = s3.upload({Bucket: 'bucket', Key: 'key', Body: stream});\n   *     var promise = upload.promise();\n   *     promise.then(function(data) { ... }, function(err) { ... });\n   */\n\n  /**\n   * Aborts a managed upload, including all concurrent upload requests.\n   * @note By default, calling this function will cleanup a multipart upload\n   *   if one was created. To leave the multipart upload around after aborting\n   *   a request, configure `leavePartsOnError` to `true` in the {constructor}.\n   * @note Calling {abort} in the browser environment will not abort any requests\n   *   that are already in flight. If a multipart upload was created, any parts\n   *   not yet uploaded will not be sent, and the multipart upload will be cleaned up.\n   * @example Aborting an upload\n   *   var params = {\n   *     Bucket: 'bucket', Key: 'key',\n   *     Body: Buffer.alloc(1024 * 1024 * 25) // 25MB payload\n   *   };\n   *   var upload = s3.upload(params);\n   *   upload.send(function (err, data) {\n   *     if (err) console.log(\"Error:\", err.code, err.message);\n   *     else console.log(data);\n   *   });\n   *\n   *   // abort request in 1 second\n   *   setTimeout(upload.abort.bind(upload), 1000);\n   */\n  abort: function() {\n    var self = this;\n    //abort putObject request\n    if (self.isDoneChunking === true && self.totalPartNumbers === 1 && self.singlePart) {\n      self.singlePart.abort();\n    } else {\n      self.cleanup(AWS.util.error(new Error('Request aborted by user'), {\n        code: 'RequestAbortedError', retryable: false\n      }));\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateBody: function validateBody() {\n    var self = this;\n    self.body = self.service.config.params.Body;\n    if (typeof self.body === 'string') {\n      self.body = AWS.util.buffer.toBuffer(self.body);\n    } else if (!self.body) {\n      throw new Error('params.Body is required');\n    }\n    self.sliceFn = AWS.util.arraySliceFn(self.body);\n  },\n\n  /**\n   * @api private\n   */\n  bindServiceObject: function bindServiceObject(params) {\n    params = params || {};\n    var self = this;\n    // bind parameters to new service object\n    if (!self.service) {\n      self.service = new AWS.S3({params: params});\n    } else {\n      var service = self.service;\n      var config = AWS.util.copy(service.config);\n      config.signatureVersion = service.getSignatureVersion();\n      self.service = new service.constructor.__super__(config);\n      self.service.config.params =\n        AWS.util.merge(self.service.config.params || {}, params);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  adjustTotalBytes: function adjustTotalBytes() {\n    var self = this;\n    try { // try to get totalBytes\n      self.totalBytes = byteLength(self.body);\n    } catch (e) { }\n\n    // try to adjust partSize if we know payload length\n    if (self.totalBytes) {\n      var newPartSize = Math.ceil(self.totalBytes / self.maxTotalParts);\n      if (newPartSize > self.partSize) self.partSize = newPartSize;\n    } else {\n      self.totalBytes = undefined;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  isDoneChunking: false,\n\n  /**\n   * @api private\n   */\n  partPos: 0,\n\n  /**\n   * @api private\n   */\n  totalChunkedBytes: 0,\n\n  /**\n   * @api private\n   */\n  totalUploadedBytes: 0,\n\n  /**\n   * @api private\n   */\n  totalBytes: undefined,\n\n  /**\n   * @api private\n   */\n  numParts: 0,\n\n  /**\n   * @api private\n   */\n  totalPartNumbers: 0,\n\n  /**\n   * @api private\n   */\n  activeParts: 0,\n\n  /**\n   * @api private\n   */\n  doneParts: 0,\n\n  /**\n   * @api private\n   */\n  parts: null,\n\n  /**\n   * @api private\n   */\n  completeInfo: null,\n\n  /**\n   * @api private\n   */\n  failed: false,\n\n  /**\n   * @api private\n   */\n  multipartReq: null,\n\n  /**\n   * @api private\n   */\n  partBuffers: null,\n\n  /**\n   * @api private\n   */\n  partBufferLength: 0,\n\n  /**\n   * @api private\n   */\n  fillBuffer: function fillBuffer() {\n    var self = this;\n    var bodyLen = byteLength(self.body);\n\n    if (bodyLen === 0) {\n      self.isDoneChunking = true;\n      self.numParts = 1;\n      self.nextChunk(self.body);\n      return;\n    }\n\n    while (self.activeParts < self.queueSize && self.partPos < bodyLen) {\n      var endPos = Math.min(self.partPos + self.partSize, bodyLen);\n      var buf = self.sliceFn.call(self.body, self.partPos, endPos);\n      self.partPos += self.partSize;\n\n      if (byteLength(buf) < self.partSize || self.partPos === bodyLen) {\n        self.isDoneChunking = true;\n        self.numParts = self.totalPartNumbers + 1;\n      }\n      self.nextChunk(buf);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  fillStream: function fillStream() {\n    var self = this;\n    if (self.activeParts >= self.queueSize) return;\n\n    var buf = self.body.read(self.partSize - self.partBufferLength) ||\n              self.body.read();\n    if (buf) {\n      self.partBuffers.push(buf);\n      self.partBufferLength += buf.length;\n      self.totalChunkedBytes += buf.length;\n    }\n\n    if (self.partBufferLength >= self.partSize) {\n      // if we have single buffer we avoid copyfull concat\n      var pbuf = self.partBuffers.length === 1 ?\n        self.partBuffers[0] : Buffer.concat(self.partBuffers);\n      self.partBuffers = [];\n      self.partBufferLength = 0;\n\n      // if we have more than partSize, push the rest back on the queue\n      if (pbuf.length > self.partSize) {\n        var rest = pbuf.slice(self.partSize);\n        self.partBuffers.push(rest);\n        self.partBufferLength += rest.length;\n        pbuf = pbuf.slice(0, self.partSize);\n      }\n\n      self.nextChunk(pbuf);\n    }\n\n    if (self.isDoneChunking && !self.isDoneSending) {\n      // if we have single buffer we avoid copyfull concat\n      pbuf = self.partBuffers.length === 1 ?\n          self.partBuffers[0] : Buffer.concat(self.partBuffers);\n      self.partBuffers = [];\n      self.partBufferLength = 0;\n      self.totalBytes = self.totalChunkedBytes;\n      self.isDoneSending = true;\n\n      if (self.numParts === 0 || pbuf.length > 0) {\n        self.numParts++;\n        self.nextChunk(pbuf);\n      }\n    }\n\n    self.body.read(0);\n  },\n\n  /**\n   * @api private\n   */\n  nextChunk: function nextChunk(chunk) {\n    var self = this;\n    if (self.failed) return null;\n\n    var partNumber = ++self.totalPartNumbers;\n    if (self.isDoneChunking && partNumber === 1) {\n      var params = {Body: chunk};\n      if (this.tags) {\n        params.Tagging = this.getTaggingHeader();\n      }\n      var req = self.service.putObject(params);\n      req._managedUpload = self;\n      req.on('httpUploadProgress', self.progress).send(self.finishSinglePart);\n      self.singlePart = req; //save the single part request\n      return null;\n    } else if (self.service.config.params.ContentMD5) {\n      var err = AWS.util.error(new Error('The Content-MD5 you specified is invalid for multi-part uploads.'), {\n        code: 'InvalidDigest', retryable: false\n      });\n\n      self.cleanup(err);\n      return null;\n    }\n\n    if (self.completeInfo[partNumber] && self.completeInfo[partNumber].ETag !== null) {\n      return null; // Already uploaded this part.\n    }\n\n    self.activeParts++;\n    if (!self.service.config.params.UploadId) {\n\n      if (!self.multipartReq) { // create multipart\n        self.multipartReq = self.service.createMultipartUpload();\n        self.multipartReq.on('success', function(resp) {\n          self.service.config.params.UploadId = resp.data.UploadId;\n          self.multipartReq = null;\n        });\n        self.queueChunks(chunk, partNumber);\n        self.multipartReq.on('error', function(err) {\n          self.cleanup(err);\n        });\n        self.multipartReq.send();\n      } else {\n        self.queueChunks(chunk, partNumber);\n      }\n    } else { // multipart is created, just send\n      self.uploadPart(chunk, partNumber);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getTaggingHeader: function getTaggingHeader() {\n    var kvPairStrings = [];\n    for (var i = 0; i < this.tags.length; i++) {\n      kvPairStrings.push(AWS.util.uriEscape(this.tags[i].Key) + '=' +\n        AWS.util.uriEscape(this.tags[i].Value));\n    }\n\n    return kvPairStrings.join('&');\n  },\n\n  /**\n   * @api private\n   */\n  uploadPart: function uploadPart(chunk, partNumber) {\n    var self = this;\n\n    var partParams = {\n      Body: chunk,\n      ContentLength: AWS.util.string.byteLength(chunk),\n      PartNumber: partNumber\n    };\n\n    var partInfo = {ETag: null, PartNumber: partNumber};\n    self.completeInfo[partNumber] = partInfo;\n\n    var req = self.service.uploadPart(partParams);\n    self.parts[partNumber] = req;\n    req._lastUploadedBytes = 0;\n    req._managedUpload = self;\n    req.on('httpUploadProgress', self.progress);\n    req.send(function(err, data) {\n      delete self.parts[partParams.PartNumber];\n      self.activeParts--;\n\n      if (!err && (!data || !data.ETag)) {\n        var message = 'No access to ETag property on response.';\n        if (AWS.util.isBrowser()) {\n          message += ' Check CORS configuration to expose ETag header.';\n        }\n\n        err = AWS.util.error(new Error(message), {\n          code: 'ETagMissing', retryable: false\n        });\n      }\n      if (err) return self.cleanup(err);\n      //prevent sending part being returned twice (https://github.com/aws/aws-sdk-js/issues/2304)\n      if (self.completeInfo[partNumber] && self.completeInfo[partNumber].ETag !== null) return null;\n      partInfo.ETag = data.ETag;\n      self.doneParts++;\n      if (self.isDoneChunking && self.doneParts === self.numParts) {\n        self.finishMultiPart();\n      } else {\n        self.fillQueue.call(self);\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  queueChunks: function queueChunks(chunk, partNumber) {\n    var self = this;\n    self.multipartReq.on('success', function() {\n      self.uploadPart(chunk, partNumber);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  cleanup: function cleanup(err) {\n    var self = this;\n    if (self.failed) return;\n\n    // clean up stream\n    if (typeof self.body.removeAllListeners === 'function' &&\n        typeof self.body.resume === 'function') {\n      self.body.removeAllListeners('readable');\n      self.body.removeAllListeners('end');\n      self.body.resume();\n    }\n\n    // cleanup multipartReq listeners\n    if (self.multipartReq) {\n      self.multipartReq.removeAllListeners('success');\n      self.multipartReq.removeAllListeners('error');\n      self.multipartReq.removeAllListeners('complete');\n      delete self.multipartReq;\n    }\n\n    if (self.service.config.params.UploadId && !self.leavePartsOnError) {\n      self.service.abortMultipartUpload().send();\n    } else if (self.leavePartsOnError) {\n      self.isDoneChunking = false;\n    }\n\n    AWS.util.each(self.parts, function(partNumber, part) {\n      part.removeAllListeners('complete');\n      part.abort();\n    });\n\n    self.activeParts = 0;\n    self.partPos = 0;\n    self.numParts = 0;\n    self.totalPartNumbers = 0;\n    self.parts = {};\n    self.failed = true;\n    self.callback(err);\n  },\n\n  /**\n   * @api private\n   */\n  finishMultiPart: function finishMultiPart() {\n    var self = this;\n    var completeParams = { MultipartUpload: { Parts: self.completeInfo.slice(1) } };\n    self.service.completeMultipartUpload(completeParams, function(err, data) {\n      if (err) {\n        return self.cleanup(err);\n      }\n\n      if (data && typeof data.Location === 'string') {\n        data.Location = data.Location.replace(/%2F/g, '/');\n      }\n\n      if (Array.isArray(self.tags)) {\n        for (var i = 0; i < self.tags.length; i++) {\n          self.tags[i].Value = String(self.tags[i].Value);\n        }\n        self.service.putObjectTagging(\n          {Tagging: {TagSet: self.tags}},\n          function(e, d) {\n            if (e) {\n              self.callback(e);\n            } else {\n              self.callback(e, data);\n            }\n          }\n        );\n      } else {\n        self.callback(err, data);\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  finishSinglePart: function finishSinglePart(err, data) {\n    var upload = this.request._managedUpload;\n    var httpReq = this.request.httpRequest;\n    var endpoint = httpReq.endpoint;\n    if (err) return upload.callback(err);\n    data.Location =\n      [endpoint.protocol, '//', endpoint.host, httpReq.path].join('');\n    data.key = this.request.params.Key; // will stay undocumented\n    data.Key = this.request.params.Key;\n    data.Bucket = this.request.params.Bucket;\n    upload.callback(err, data);\n  },\n\n  /**\n   * @api private\n   */\n  progress: function progress(info) {\n    var upload = this._managedUpload;\n    if (this.operation === 'putObject') {\n      info.part = 1;\n      info.key = this.params.Key;\n    } else {\n      upload.totalUploadedBytes += info.loaded - this._lastUploadedBytes;\n      this._lastUploadedBytes = info.loaded;\n      info = {\n        loaded: upload.totalUploadedBytes,\n        total: upload.totalBytes,\n        part: this.params.PartNumber,\n        key: this.params.Key\n      };\n    }\n    upload.emit('httpUploadProgress', [info]);\n  }\n});\n\nAWS.util.mixin(AWS.S3.ManagedUpload, AWS.SequentialExecutor);\n\n/**\n * @api private\n */\nAWS.S3.ManagedUpload.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.promise = AWS.util.promisifyMethod('send', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.S3.ManagedUpload.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.promise;\n};\n\nAWS.util.addPromises(AWS.S3.ManagedUpload);\n\n/**\n * @api private\n */\nmodule.exports = AWS.S3.ManagedUpload;\n","var AWS = require('../core');\nrequire('../dynamodb/document_client');\n\nAWS.util.update(AWS.DynamoDB.prototype, {\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    if (request.service.config.dynamoDbCrc32) {\n      request.removeListener('extractData', AWS.EventListeners.Json.EXTRACT_DATA);\n      request.addListener('extractData', this.checkCrc32);\n      request.addListener('extractData', AWS.EventListeners.Json.EXTRACT_DATA);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  checkCrc32: function checkCrc32(resp) {\n    if (!resp.httpResponse.streaming && !resp.request.service.crc32IsValid(resp)) {\n      resp.data = null;\n      resp.error = AWS.util.error(new Error(), {\n        code: 'CRC32CheckFailed',\n        message: 'CRC32 integrity check failed',\n        retryable: true\n      });\n      resp.request.haltHandlersOnError();\n      throw (resp.error);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  crc32IsValid: function crc32IsValid(resp) {\n    var crc = resp.httpResponse.headers['x-amz-crc32'];\n    if (!crc) return true; // no (valid) CRC32 header\n    return parseInt(crc, 10) === AWS.util.crypto.crc32(resp.httpResponse.body);\n  },\n\n  /**\n   * @api private\n   */\n  defaultRetryCount: 10,\n\n  /**\n   * @api private\n   */\n  retryDelays: function retryDelays(retryCount, err) {\n    var retryDelayOptions = AWS.util.copy(this.config.retryDelayOptions);\n\n    if (typeof retryDelayOptions.base !== 'number') {\n        retryDelayOptions.base = 50; // default for dynamodb\n    }\n    var delay = AWS.util.calculateRetryDelay(retryCount, retryDelayOptions, err);\n    return delay;\n  }\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['storagegateway'] = {};\nAWS.StorageGateway = Service.defineService('storagegateway', ['2013-06-30']);\nObject.defineProperty(apiLoader.services['storagegateway'], '2013-06-30', {\n  get: function get() {\n    var model = require('../apis/storagegateway-2013-06-30.min.json');\n    model.paginators = require('../apis/storagegateway-2013-06-30.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.StorageGateway;\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\nmodule.exports = function shimStringTrim() {\n\tvar polyfill = getPolyfill();\n\tdefine(String.prototype, { trim: polyfill }, {\n\t\ttrim: function testTrim() {\n\t\t\treturn String.prototype.trim !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents temporary credentials retrieved from {AWS.STS}. Without any\n * extra parameters, credentials will be fetched from the\n * {AWS.STS.getSessionToken} operation. If an IAM role is provided, the\n * {AWS.STS.assumeRole} operation will be used to fetch credentials for the\n * role instead.\n *\n * AWS.ChainableTemporaryCredentials differs from AWS.TemporaryCredentials in\n * the way masterCredentials and refreshes are handled.\n * AWS.ChainableTemporaryCredentials refreshes expired credentials using the\n * masterCredentials passed by the user to support chaining of STS credentials.\n * However, AWS.TemporaryCredentials recursively collapses the masterCredentials\n * during instantiation, precluding the ability to refresh credentials which\n * require intermediate, temporary credentials.\n *\n * For example, if the application should use RoleA, which must be assumed from\n * RoleB, and the environment provides credentials which can assume RoleB, then\n * AWS.ChainableTemporaryCredentials must be used to support refreshing the\n * temporary credentials for RoleA:\n *\n * ```javascript\n * var roleACreds = new AWS.ChainableTemporaryCredentials({\n *   params: {RoleArn: 'RoleA'},\n *   masterCredentials: new AWS.ChainableTemporaryCredentials({\n *     params: {RoleArn: 'RoleB'},\n *     masterCredentials: new AWS.EnvironmentCredentials('AWS')\n *   })\n * });\n * ```\n *\n * If AWS.TemporaryCredentials had been used in the previous example,\n * `roleACreds` would fail to refresh because `roleACreds` would\n * use the environment credentials for the AssumeRole request.\n *\n * Another difference is that AWS.ChainableTemporaryCredentials creates the STS\n * service instance during instantiation while AWS.TemporaryCredentials creates\n * the STS service instance during the first refresh. Creating the service\n * instance during instantiation effectively captures the master credentials\n * from the global config, so that subsequent changes to the global config do\n * not affect the master credentials used to refresh the temporary credentials.\n *\n * This allows an instance of AWS.ChainableTemporaryCredentials to be assigned\n * to AWS.config.credentials:\n *\n * ```javascript\n * var envCreds = new AWS.EnvironmentCredentials('AWS');\n * AWS.config.credentials = envCreds;\n * // masterCredentials will be envCreds\n * AWS.config.credentials = new AWS.ChainableTemporaryCredentials({\n *   params: {RoleArn: '...'}\n * });\n * ```\n *\n * Similarly, to use the CredentialProviderChain's default providers as the\n * master credentials, simply create a new instance of\n * AWS.ChainableTemporaryCredentials:\n *\n * ```javascript\n * AWS.config.credentials = new ChainableTemporaryCredentials({\n *   params: {RoleArn: '...'}\n * });\n * ```\n *\n * @!attribute service\n *   @return [AWS.STS] the STS service instance used to\n *     get and refresh temporary credentials from AWS STS.\n * @note (see constructor)\n */\nAWS.ChainableTemporaryCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new temporary credentials object.\n   *\n   * @param options [map] a set of options\n   * @option options params [map] ({}) a map of options that are passed to the\n   *   {AWS.STS.assumeRole} or {AWS.STS.getSessionToken} operations.\n   *   If a `RoleArn` parameter is passed in, credentials will be based on the\n   *   IAM role. If a `SerialNumber` parameter is passed in, {tokenCodeFn} must\n   *   also be passed in or an error will be thrown.\n   * @option options masterCredentials [AWS.Credentials] the master credentials\n   *   used to get and refresh temporary credentials from AWS STS. By default,\n   *   AWS.config.credentials or AWS.config.credentialProvider will be used.\n   * @option options tokenCodeFn [Function] (null) Function to provide\n   *   `TokenCode`, if `SerialNumber` is provided for profile in {params}. Function\n   *   is called with value of `SerialNumber` and `callback`, and should provide\n   *   the `TokenCode` or an error to the callback in the format\n   *   `callback(err, token)`.\n   * @example Creating a new credentials object for generic temporary credentials\n   *   AWS.config.credentials = new AWS.ChainableTemporaryCredentials();\n   * @example Creating a new credentials object for an IAM role\n   *   AWS.config.credentials = new AWS.ChainableTemporaryCredentials({\n   *     params: {\n   *       RoleArn: 'arn:aws:iam::1234567890:role/TemporaryCredentials'\n   *     }\n   *   });\n   * @see AWS.STS.assumeRole\n   * @see AWS.STS.getSessionToken\n   */\n  constructor: function ChainableTemporaryCredentials(options) {\n    AWS.Credentials.call(this);\n    options = options || {};\n    this.errorCode = 'ChainableTemporaryCredentialsProviderFailure';\n    this.expired = true;\n    this.tokenCodeFn = null;\n\n    var params = AWS.util.copy(options.params) || {};\n    if (params.RoleArn) {\n      params.RoleSessionName = params.RoleSessionName || 'temporary-credentials';\n    }\n    if (params.SerialNumber) {\n      if (!options.tokenCodeFn || (typeof options.tokenCodeFn !== 'function')) {\n        throw new AWS.util.error(\n          new Error('tokenCodeFn must be a function when params.SerialNumber is given'),\n          {code: this.errorCode}\n        );\n      } else {\n        this.tokenCodeFn = options.tokenCodeFn;\n      }\n    }\n    var config = AWS.util.merge(\n      {\n        params: params,\n        credentials: options.masterCredentials || AWS.config.credentials\n      },\n      options.stsConfig || {}\n    );\n    this.service = new STS(config);\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRole} or\n   * {AWS.STS.getSessionToken}, depending on whether an IAM role ARN was passed\n   * to the credentials {constructor}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see AWS.Credentials.get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  load: function load(callback) {\n    var self = this;\n    var operation = self.service.config.params.RoleArn ? 'assumeRole' : 'getSessionToken';\n    this.getTokenCode(function (err, tokenCode) {\n      var params = {};\n      if (err) {\n        callback(err);\n        return;\n      }\n      if (tokenCode) {\n        params.TokenCode = tokenCode;\n      }\n      self.service[operation](params, function (err, data) {\n        if (!err) {\n          self.service.credentialsFrom(data, self);\n        }\n        callback(err);\n      });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  getTokenCode: function getTokenCode(callback) {\n    var self = this;\n    if (this.tokenCodeFn) {\n      this.tokenCodeFn(this.service.config.params.SerialNumber, function (err, token) {\n        if (err) {\n          var message = err;\n          if (err instanceof Error) {\n            message = err.message;\n          }\n          callback(\n            AWS.util.error(\n              new Error('Error fetching MFA token: ' + message),\n              { code: self.errorCode}\n            )\n          );\n          return;\n        }\n        callback(null, token);\n      });\n    } else {\n      callback(null);\n    }\n  }\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['personalizeruntime'] = {};\nAWS.PersonalizeRuntime = Service.defineService('personalizeruntime', ['2018-05-22']);\nObject.defineProperty(apiLoader.services['personalizeruntime'], '2018-05-22', {\n  get: function get() {\n    var model = require('../apis/personalize-runtime-2018-05-22.min.json');\n    model.paginators = require('../apis/personalize-runtime-2018-05-22.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.PersonalizeRuntime;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['s3'] = {};\nAWS.S3 = Service.defineService('s3', ['2006-03-01']);\nrequire('../lib/services/s3');\nObject.defineProperty(apiLoader.services['s3'], '2006-03-01', {\n  get: function get() {\n    var model = require('../apis/s3-2006-03-01.min.json');\n    model.paginators = require('../apis/s3-2006-03-01.paginators.json').pagination;\n    model.waiters = require('../apis/s3-2006-03-01.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.S3;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['elbv2'] = {};\nAWS.ELBv2 = Service.defineService('elbv2', ['2015-12-01']);\nObject.defineProperty(apiLoader.services['elbv2'], '2015-12-01', {\n  get: function get() {\n    var model = require('../apis/elasticloadbalancingv2-2015-12-01.min.json');\n    model.paginators = require('../apis/elasticloadbalancingv2-2015-12-01.paginators.json').pagination;\n    model.waiters = require('../apis/elasticloadbalancingv2-2015-12-01.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ELBv2;\n","var AWS = require('./core');\nvar SequentialExecutor = require('./sequential_executor');\nvar DISCOVER_ENDPOINT = require('./discover_endpoint').discoverEndpoint;\n/**\n * The namespace used to register global event listeners for request building\n * and sending.\n */\nAWS.EventListeners = {\n  /**\n   * @!attribute VALIDATE_CREDENTIALS\n   *   A request listener that validates whether the request is being\n   *   sent with credentials.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating credentials\n   *     var listener = AWS.EventListeners.Core.VALIDATE_CREDENTIALS;\n   *     request.removeListener('validate', listener);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute VALIDATE_REGION\n   *   A request listener that validates whether the region is set\n   *   for a request.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating region configuration\n   *     var listener = AWS.EventListeners.Core.VALIDATE_REGION;\n   *     request.removeListener('validate', listener);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute VALIDATE_PARAMETERS\n   *   A request listener that validates input parameters in a request.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating parameters\n   *     var listener = AWS.EventListeners.Core.VALIDATE_PARAMETERS;\n   *     request.removeListener('validate', listener);\n   *   @example Disable parameter validation globally\n   *     AWS.EventListeners.Core.removeListener('validate',\n   *       AWS.EventListeners.Core.VALIDATE_REGION);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute SEND\n   *   A request listener that initiates the HTTP connection for a\n   *   request being sent. Handles the {AWS.Request~send 'send' Request event}\n   *   @example Replacing the HTTP handler\n   *     var listener = AWS.EventListeners.Core.SEND;\n   *     request.removeListener('send', listener);\n   *     request.on('send', function(response) {\n   *       customHandler.send(response);\n   *     });\n   *   @return [Function]\n   *   @readonly\n   * @!attribute HTTP_DATA\n   *   A request listener that reads data from the HTTP connection in order\n   *   to build the response data.\n   *   Handles the {AWS.Request~httpData 'httpData' Request event}.\n   *   Remove this handler if you are overriding the 'httpData' event and\n   *   do not want extra data processing and buffering overhead.\n   *   @example Disabling default data processing\n   *     var listener = AWS.EventListeners.Core.HTTP_DATA;\n   *     request.removeListener('httpData', listener);\n   *   @return [Function]\n   *   @readonly\n   */\n  Core: {} /* doc hack */\n};\n\n/**\n * @api private\n */\nfunction getOperationAuthtype(req) {\n  if (!req.service.api.operations) {\n    return '';\n  }\n  var operation = req.service.api.operations[req.operation];\n  return operation ? operation.authtype : '';\n}\n\nAWS.EventListeners = {\n  Core: new SequentialExecutor().addNamedListeners(function(add, addAsync) {\n    addAsync('VALIDATE_CREDENTIALS', 'validate',\n        function VALIDATE_CREDENTIALS(req, done) {\n      if (!req.service.api.signatureVersion && !req.service.config.signatureVersion) return done(); // none\n      req.service.config.getCredentials(function(err) {\n        if (err) {\n          req.response.error = AWS.util.error(err,\n            {code: 'CredentialsError', message: 'Missing credentials in config'});\n        }\n        done();\n      });\n    });\n\n    add('VALIDATE_REGION', 'validate', function VALIDATE_REGION(req) {\n      if (!req.service.config.region && !req.service.isGlobalEndpoint) {\n        req.response.error = AWS.util.error(new Error(),\n          {code: 'ConfigError', message: 'Missing region in config'});\n      }\n    });\n\n    add('BUILD_IDEMPOTENCY_TOKENS', 'validate', function BUILD_IDEMPOTENCY_TOKENS(req) {\n      if (!req.service.api.operations) {\n        return;\n      }\n      var operation = req.service.api.operations[req.operation];\n      if (!operation) {\n        return;\n      }\n      var idempotentMembers = operation.idempotentMembers;\n      if (!idempotentMembers.length) {\n        return;\n      }\n      // creates a copy of params so user's param object isn't mutated\n      var params = AWS.util.copy(req.params);\n      for (var i = 0, iLen = idempotentMembers.length; i < iLen; i++) {\n        if (!params[idempotentMembers[i]]) {\n          // add the member\n          params[idempotentMembers[i]] = AWS.util.uuid.v4();\n        }\n      }\n      req.params = params;\n    });\n\n    add('VALIDATE_PARAMETERS', 'validate', function VALIDATE_PARAMETERS(req) {\n      if (!req.service.api.operations) {\n        return;\n      }\n      var rules = req.service.api.operations[req.operation].input;\n      var validation = req.service.config.paramValidation;\n      new AWS.ParamValidator(validation).validate(rules, req.params);\n    });\n\n    addAsync('COMPUTE_SHA256', 'afterBuild', function COMPUTE_SHA256(req, done) {\n      req.haltHandlersOnError();\n      if (!req.service.api.operations) {\n        return;\n      }\n      var operation = req.service.api.operations[req.operation];\n      var authtype = operation ? operation.authtype : '';\n      if (!req.service.api.signatureVersion && !authtype && !req.service.config.signatureVersion) return done(); // none\n      if (req.service.getSignerClass(req) === AWS.Signers.V4) {\n        var body = req.httpRequest.body || '';\n        if (authtype.indexOf('unsigned-body') >= 0) {\n          req.httpRequest.headers['X-Amz-Content-Sha256'] = 'UNSIGNED-PAYLOAD';\n          return done();\n        }\n        AWS.util.computeSha256(body, function(err, sha) {\n          if (err) {\n            done(err);\n          }\n          else {\n            req.httpRequest.headers['X-Amz-Content-Sha256'] = sha;\n            done();\n          }\n        });\n      } else {\n        done();\n      }\n    });\n\n    add('SET_CONTENT_LENGTH', 'afterBuild', function SET_CONTENT_LENGTH(req) {\n      var authtype = getOperationAuthtype(req);\n      var payloadMember = AWS.util.getRequestPayloadShape(req);\n      if (req.httpRequest.headers['Content-Length'] === undefined) {\n        try {\n          var length = AWS.util.string.byteLength(req.httpRequest.body);\n          req.httpRequest.headers['Content-Length'] = length;\n        } catch (err) {\n          if (payloadMember && payloadMember.isStreaming) {\n            if (payloadMember.requiresLength) {\n              //streaming payload requires length(s3, glacier)\n              throw err;\n            } else if (authtype.indexOf('unsigned-body') >= 0) {\n              //unbounded streaming payload(lex, mediastore)\n              req.httpRequest.headers['Transfer-Encoding'] = 'chunked';\n              return;\n            } else {\n              throw err;\n            }\n          }\n          throw err;\n        }\n      }\n    });\n\n    add('SET_HTTP_HOST', 'afterBuild', function SET_HTTP_HOST(req) {\n      req.httpRequest.headers['Host'] = req.httpRequest.endpoint.host;\n    });\n\n    add('RESTART', 'restart', function RESTART() {\n      var err = this.response.error;\n      if (!err || !err.retryable) return;\n\n      this.httpRequest = new AWS.HttpRequest(\n        this.service.endpoint,\n        this.service.region\n      );\n\n      if (this.response.retryCount < this.service.config.maxRetries) {\n        this.response.retryCount++;\n      } else {\n        this.response.error = null;\n      }\n    });\n\n    var addToHead = true;\n    addAsync('DISCOVER_ENDPOINT', 'sign', DISCOVER_ENDPOINT, addToHead);\n\n    addAsync('SIGN', 'sign', function SIGN(req, done) {\n      var service = req.service;\n      var operations = req.service.api.operations || {};\n      var operation = operations[req.operation];\n      var authtype = operation ? operation.authtype : '';\n      if (!service.api.signatureVersion && !authtype && !service.config.signatureVersion) return done(); // none\n\n      service.config.getCredentials(function (err, credentials) {\n        if (err) {\n          req.response.error = err;\n          return done();\n        }\n\n        try {\n          var date = service.getSkewCorrectedDate();\n          var SignerClass = service.getSignerClass(req);\n          var signer = new SignerClass(req.httpRequest,\n            service.api.signingName || service.api.endpointPrefix,\n            {\n              signatureCache: service.config.signatureCache,\n              operation: operation,\n              signatureVersion: service.api.signatureVersion\n            });\n          signer.setServiceClientId(service._clientId);\n\n          // clear old authorization headers\n          delete req.httpRequest.headers['Authorization'];\n          delete req.httpRequest.headers['Date'];\n          delete req.httpRequest.headers['X-Amz-Date'];\n\n          // add new authorization\n          signer.addAuthorization(credentials, date);\n          req.signedAt = date;\n        } catch (e) {\n          req.response.error = e;\n        }\n        done();\n      });\n    });\n\n    add('VALIDATE_RESPONSE', 'validateResponse', function VALIDATE_RESPONSE(resp) {\n      if (this.service.successfulResponse(resp, this)) {\n        resp.data = {};\n        resp.error = null;\n      } else {\n        resp.data = null;\n        resp.error = AWS.util.error(new Error(),\n          {code: 'UnknownError', message: 'An unknown error occurred.'});\n      }\n    });\n\n    addAsync('SEND', 'send', function SEND(resp, done) {\n      resp.httpResponse._abortCallback = done;\n      resp.error = null;\n      resp.data = null;\n\n      function callback(httpResp) {\n        resp.httpResponse.stream = httpResp;\n        var stream = resp.request.httpRequest.stream;\n        var service = resp.request.service;\n        var api = service.api;\n        var operationName = resp.request.operation;\n        var operation = api.operations[operationName] || {};\n\n        httpResp.on('headers', function onHeaders(statusCode, headers, statusMessage) {\n          resp.request.emit(\n            'httpHeaders',\n            [statusCode, headers, resp, statusMessage]\n          );\n\n          if (!resp.httpResponse.streaming) {\n            if (AWS.HttpClient.streamsApiVersion === 2) { // streams2 API check\n              // if we detect event streams, we're going to have to\n              // return the stream immediately\n              if (operation.hasEventOutput && service.successfulResponse(resp)) {\n                // skip reading the IncomingStream\n                resp.request.emit('httpDone');\n                done();\n                return;\n              }\n\n              httpResp.on('readable', function onReadable() {\n                var data = httpResp.read();\n                if (data !== null) {\n                  resp.request.emit('httpData', [data, resp]);\n                }\n              });\n            } else { // legacy streams API\n              httpResp.on('data', function onData(data) {\n                resp.request.emit('httpData', [data, resp]);\n              });\n            }\n          }\n        });\n\n        httpResp.on('end', function onEnd() {\n          if (!stream || !stream.didCallback) {\n            if (AWS.HttpClient.streamsApiVersion === 2 && (operation.hasEventOutput && service.successfulResponse(resp))) {\n              // don't concatenate response chunks when streaming event stream data when response is successful\n              return;\n            }\n            resp.request.emit('httpDone');\n            done();\n          }\n        });\n      }\n\n      function progress(httpResp) {\n        httpResp.on('sendProgress', function onSendProgress(value) {\n          resp.request.emit('httpUploadProgress', [value, resp]);\n        });\n\n        httpResp.on('receiveProgress', function onReceiveProgress(value) {\n          resp.request.emit('httpDownloadProgress', [value, resp]);\n        });\n      }\n\n      function error(err) {\n        if (err.code !== 'RequestAbortedError') {\n          var errCode = err.code === 'TimeoutError' ? err.code : 'NetworkingError';\n          err = AWS.util.error(err, {\n            code: errCode,\n            region: resp.request.httpRequest.region,\n            hostname: resp.request.httpRequest.endpoint.hostname,\n            retryable: true\n          });\n        }\n        resp.error = err;\n        resp.request.emit('httpError', [resp.error, resp], function() {\n          done();\n        });\n      }\n\n      function executeSend() {\n        var http = AWS.HttpClient.getInstance();\n        var httpOptions = resp.request.service.config.httpOptions || {};\n        try {\n          var stream = http.handleRequest(resp.request.httpRequest, httpOptions,\n                                          callback, error);\n          progress(stream);\n        } catch (err) {\n          error(err);\n        }\n      }\n      var timeDiff = (resp.request.service.getSkewCorrectedDate() - this.signedAt) / 1000;\n      if (timeDiff >= 60 * 10) { // if we signed 10min ago, re-sign\n        this.emit('sign', [this], function(err) {\n          if (err) done(err);\n          else executeSend();\n        });\n      } else {\n        executeSend();\n      }\n    });\n\n    add('HTTP_HEADERS', 'httpHeaders',\n        function HTTP_HEADERS(statusCode, headers, resp, statusMessage) {\n      resp.httpResponse.statusCode = statusCode;\n      resp.httpResponse.statusMessage = statusMessage;\n      resp.httpResponse.headers = headers;\n      resp.httpResponse.body = AWS.util.buffer.toBuffer('');\n      resp.httpResponse.buffers = [];\n      resp.httpResponse.numBytes = 0;\n      var dateHeader = headers.date || headers.Date;\n      var service = resp.request.service;\n      if (dateHeader) {\n        var serverTime = Date.parse(dateHeader);\n        if (service.config.correctClockSkew\n            && service.isClockSkewed(serverTime)) {\n          service.applyClockOffset(serverTime);\n        }\n      }\n    });\n\n    add('HTTP_DATA', 'httpData', function HTTP_DATA(chunk, resp) {\n      if (chunk) {\n        if (AWS.util.isNode()) {\n          resp.httpResponse.numBytes += chunk.length;\n\n          var total = resp.httpResponse.headers['content-length'];\n          var progress = { loaded: resp.httpResponse.numBytes, total: total };\n          resp.request.emit('httpDownloadProgress', [progress, resp]);\n        }\n\n        resp.httpResponse.buffers.push(AWS.util.buffer.toBuffer(chunk));\n      }\n    });\n\n    add('HTTP_DONE', 'httpDone', function HTTP_DONE(resp) {\n      // convert buffers array into single buffer\n      if (resp.httpResponse.buffers && resp.httpResponse.buffers.length > 0) {\n        var body = AWS.util.buffer.concat(resp.httpResponse.buffers);\n        resp.httpResponse.body = body;\n      }\n      delete resp.httpResponse.numBytes;\n      delete resp.httpResponse.buffers;\n    });\n\n    add('FINALIZE_ERROR', 'retry', function FINALIZE_ERROR(resp) {\n      if (resp.httpResponse.statusCode) {\n        resp.error.statusCode = resp.httpResponse.statusCode;\n        if (resp.error.retryable === undefined) {\n          resp.error.retryable = this.service.retryableError(resp.error, this);\n        }\n      }\n    });\n\n    add('INVALIDATE_CREDENTIALS', 'retry', function INVALIDATE_CREDENTIALS(resp) {\n      if (!resp.error) return;\n      switch (resp.error.code) {\n        case 'RequestExpired': // EC2 only\n        case 'ExpiredTokenException':\n        case 'ExpiredToken':\n          resp.error.retryable = true;\n          resp.request.service.config.credentials.expired = true;\n      }\n    });\n\n    add('EXPIRED_SIGNATURE', 'retry', function EXPIRED_SIGNATURE(resp) {\n      var err = resp.error;\n      if (!err) return;\n      if (typeof err.code === 'string' && typeof err.message === 'string') {\n        if (err.code.match(/Signature/) && err.message.match(/expired/)) {\n          resp.error.retryable = true;\n        }\n      }\n    });\n\n    add('CLOCK_SKEWED', 'retry', function CLOCK_SKEWED(resp) {\n      if (!resp.error) return;\n      if (this.service.clockSkewError(resp.error)\n          && this.service.config.correctClockSkew) {\n        resp.error.retryable = true;\n      }\n    });\n\n    add('REDIRECT', 'retry', function REDIRECT(resp) {\n      if (resp.error && resp.error.statusCode >= 300 &&\n          resp.error.statusCode < 400 && resp.httpResponse.headers['location']) {\n        this.httpRequest.endpoint =\n          new AWS.Endpoint(resp.httpResponse.headers['location']);\n        this.httpRequest.headers['Host'] = this.httpRequest.endpoint.host;\n        resp.error.redirect = true;\n        resp.error.retryable = true;\n      }\n    });\n\n    add('RETRY_CHECK', 'retry', function RETRY_CHECK(resp) {\n      if (resp.error) {\n        if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {\n          resp.error.retryDelay = 0;\n        } else if (resp.retryCount < resp.maxRetries) {\n          resp.error.retryDelay = this.service.retryDelays(resp.retryCount, resp.error) || 0;\n        }\n      }\n    });\n\n    addAsync('RESET_RETRY_STATE', 'afterRetry', function RESET_RETRY_STATE(resp, done) {\n      var delay, willRetry = false;\n\n      if (resp.error) {\n        delay = resp.error.retryDelay || 0;\n        if (resp.error.retryable && resp.retryCount < resp.maxRetries) {\n          resp.retryCount++;\n          willRetry = true;\n        } else if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {\n          resp.redirectCount++;\n          willRetry = true;\n        }\n      }\n\n      // delay < 0 is a signal from customBackoff to skip retries\n      if (willRetry && delay >= 0) {\n        resp.error = null;\n        setTimeout(done, delay);\n      } else {\n        done();\n      }\n    });\n  }),\n\n  CorePost: new SequentialExecutor().addNamedListeners(function(add) {\n    add('EXTRACT_REQUEST_ID', 'extractData', AWS.util.extractRequestId);\n    add('EXTRACT_REQUEST_ID', 'extractError', AWS.util.extractRequestId);\n\n    add('ENOTFOUND_ERROR', 'httpError', function ENOTFOUND_ERROR(err) {\n      if (err.code === 'NetworkingError' && err.errno === 'ENOTFOUND') {\n        var message = 'Inaccessible host: `' + err.hostname +\n          '\\'. This service may not be available in the `' + err.region +\n          '\\' region.';\n        this.response.error = AWS.util.error(new Error(message), {\n          code: 'UnknownEndpoint',\n          region: err.region,\n          hostname: err.hostname,\n          retryable: true,\n          originalError: err\n        });\n      }\n    });\n  }),\n\n  Logger: new SequentialExecutor().addNamedListeners(function(add) {\n    add('LOG_REQUEST', 'complete', function LOG_REQUEST(resp) {\n      var req = resp.request;\n      var logger = req.service.config.logger;\n      if (!logger) return;\n      function filterSensitiveLog(inputShape, shape) {\n        if (!shape) {\n          return shape;\n        }\n        switch (inputShape.type) {\n          case 'structure':\n            var struct = {};\n            AWS.util.each(shape, function(subShapeName, subShape) {\n              if (Object.prototype.hasOwnProperty.call(inputShape.members, subShapeName)) {\n                struct[subShapeName] = filterSensitiveLog(inputShape.members[subShapeName], subShape);\n              } else {\n                struct[subShapeName] = subShape;\n              }\n            });\n            return struct;\n          case 'list':\n            var list = [];\n            AWS.util.arrayEach(shape, function(subShape, index) {\n              list.push(filterSensitiveLog(inputShape.member, subShape));\n            });\n            return list;\n          case 'map':\n            var map = {};\n            AWS.util.each(shape, function(key, value) {\n              map[key] = filterSensitiveLog(inputShape.value, value);\n            });\n            return map;\n          default:\n            if (inputShape.isSensitive) {\n              return '***SensitiveInformation***';\n            } else {\n              return shape;\n            }\n        }\n      }\n\n      function buildMessage() {\n        var time = resp.request.service.getSkewCorrectedDate().getTime();\n        var delta = (time - req.startTime.getTime()) / 1000;\n        var ansi = logger.isTTY ? true : false;\n        var status = resp.httpResponse.statusCode;\n        var censoredParams = req.params;\n        if (\n          req.service.api.operations &&\n              req.service.api.operations[req.operation] &&\n              req.service.api.operations[req.operation].input\n        ) {\n          var inputShape = req.service.api.operations[req.operation].input;\n          censoredParams = filterSensitiveLog(inputShape, req.params);\n        }\n        var params = require('util').inspect(censoredParams, true, null);\n        var message = '';\n        if (ansi) message += '\\x1B[33m';\n        message += '[AWS ' + req.service.serviceIdentifier + ' ' + status;\n        message += ' ' + delta.toString() + 's ' + resp.retryCount + ' retries]';\n        if (ansi) message += '\\x1B[0;1m';\n        message += ' ' + AWS.util.string.lowerFirst(req.operation);\n        message += '(' + params + ')';\n        if (ansi) message += '\\x1B[0m';\n        return message;\n      }\n\n      var line = buildMessage();\n      if (typeof logger.log === 'function') {\n        logger.log(line);\n      } else if (typeof logger.write === 'function') {\n        logger.write(line + '\\n');\n      }\n    });\n  }),\n\n  Json: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/json');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  Rest: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  RestJson: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest_json');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  RestXml: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest_xml');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  Query: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/query');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  })\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cloudformation'] = {};\nAWS.CloudFormation = Service.defineService('cloudformation', ['2010-05-15']);\nObject.defineProperty(apiLoader.services['cloudformation'], '2010-05-15', {\n  get: function get() {\n    var model = require('../apis/cloudformation-2010-05-15.min.json');\n    model.paginators = require('../apis/cloudformation-2010-05-15.paginators.json').pagination;\n    model.waiters = require('../apis/cloudformation-2010-05-15.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CloudFormation;\n","'use strict';\n\nvar $strSlice = require('../helpers/callBound')('String.prototype.slice');\n\nmodule.exports = function isPrefixOf(prefix, string) {\n\tif (prefix === string) {\n\t\treturn true;\n\t}\n\tif (prefix.length > string.length) {\n\t\treturn false;\n\t}\n\treturn $strSlice(string, 0, prefix.length) === prefix;\n};\n","'use strict';\n\nmodule.exports = function mod(number, modulo) {\n\tvar remain = number % modulo;\n\treturn Math.floor(remain >= 0 ? remain : remain + modulo);\n};\n","var AWS = require('../core');\n\n/**\n * Creates a credential provider chain that searches for AWS credentials\n * in a list of credential providers specified by the {providers} property.\n *\n * By default, the chain will use the {defaultProviders} to resolve credentials.\n * These providers will look in the environment using the\n * {AWS.EnvironmentCredentials} class with the 'AWS' and 'AMAZON' prefixes.\n *\n * ## Setting Providers\n *\n * Each provider in the {providers} list should be a function that returns\n * a {AWS.Credentials} object, or a hardcoded credentials object. The function\n * form allows for delayed execution of the credential construction.\n *\n * ## Resolving Credentials from a Chain\n *\n * Call {resolve} to return the first valid credential object that can be\n * loaded by the provider chain.\n *\n * For example, to resolve a chain with a custom provider that checks a file\n * on disk after the set of {defaultProviders}:\n *\n * ```javascript\n * var diskProvider = new AWS.FileSystemCredentials('./creds.json');\n * var chain = new AWS.CredentialProviderChain();\n * chain.providers.push(diskProvider);\n * chain.resolve();\n * ```\n *\n * The above code will return the `diskProvider` object if the\n * file contains credentials and the `defaultProviders` do not contain\n * any credential settings.\n *\n * @!attribute providers\n *   @return [Array<AWS.Credentials, Function>]\n *     a list of credentials objects or functions that return credentials\n *     objects. If the provider is a function, the function will be\n *     executed lazily when the provider needs to be checked for valid\n *     credentials. By default, this object will be set to the\n *     {defaultProviders}.\n *   @see defaultProviders\n */\nAWS.CredentialProviderChain = AWS.util.inherit(AWS.Credentials, {\n\n  /**\n   * Creates a new CredentialProviderChain with a default set of providers\n   * specified by {defaultProviders}.\n   */\n  constructor: function CredentialProviderChain(providers) {\n    if (providers) {\n      this.providers = providers;\n    } else {\n      this.providers = AWS.CredentialProviderChain.defaultProviders.slice(0);\n    }\n    this.resolveCallbacks = [];\n  },\n\n  /**\n   * @!method  resolvePromise()\n   *   Returns a 'thenable' promise.\n   *   Resolves the provider chain by searching for the first set of\n   *   credentials in {providers}.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(credentials)\n   *     Called if the promise is fulfilled and the provider resolves the chain\n   *     to a credentials object\n   *     @param credentials [AWS.Credentials] the credentials object resolved\n   *       by the provider chain.\n   *   @callback rejectedCallback function(error)\n   *     Called if the promise is rejected.\n   *     @param err [Error] the error object returned if no credentials are found.\n   *   @return [Promise] A promise that represents the state of the `resolve` method call.\n   *   @example Calling the `resolvePromise` method.\n   *     var promise = chain.resolvePromise();\n   *     promise.then(function(credentials) { ... }, function(err) { ... });\n   */\n\n  /**\n   * Resolves the provider chain by searching for the first set of\n   * credentials in {providers}.\n   *\n   * @callback callback function(err, credentials)\n   *   Called when the provider resolves the chain to a credentials object\n   *   or null if no credentials can be found.\n   *\n   *   @param err [Error] the error object returned if no credentials are\n   *     found.\n   *   @param credentials [AWS.Credentials] the credentials object resolved\n   *     by the provider chain.\n   * @return [AWS.CredentialProviderChain] the provider, for chaining.\n   */\n  resolve: function resolve(callback) {\n    var self = this;\n    if (self.providers.length === 0) {\n      callback(new Error('No providers'));\n      return self;\n    }\n\n    if (self.resolveCallbacks.push(callback) === 1) {\n      var index = 0;\n      var providers = self.providers.slice(0);\n\n      function resolveNext(err, creds) {\n        if ((!err && creds) || index === providers.length) {\n          AWS.util.arrayEach(self.resolveCallbacks, function (callback) {\n            callback(err, creds);\n          });\n          self.resolveCallbacks.length = 0;\n          return;\n        }\n\n        var provider = providers[index++];\n        if (typeof provider === 'function') {\n          creds = provider.call();\n        } else {\n          creds = provider;\n        }\n\n        if (creds.get) {\n          creds.get(function (getErr) {\n            resolveNext(getErr, getErr ? null : creds);\n          });\n        } else {\n          resolveNext(null, creds);\n        }\n      }\n\n      resolveNext();\n    }\n\n    return self;\n  }\n});\n\n/**\n * The default set of providers used by a vanilla CredentialProviderChain.\n *\n * In the browser:\n *\n * ```javascript\n * AWS.CredentialProviderChain.defaultProviders = []\n * ```\n *\n * In Node.js:\n *\n * ```javascript\n * AWS.CredentialProviderChain.defaultProviders = [\n *   function () { return new AWS.EnvironmentCredentials('AWS'); },\n *   function () { return new AWS.EnvironmentCredentials('AMAZON'); },\n *   function () { return new AWS.SharedIniFileCredentials(); },\n *   function () { return new AWS.ECSCredentials(); },\n *   function () { return new AWS.ProcessCredentials(); },\n *   function () { return new AWS.TokenFileWebIdentityCredentials(); },\n *   function () { return new AWS.EC2MetadataCredentials() }\n * ]\n * ```\n */\nAWS.CredentialProviderChain.defaultProviders = [];\n\n/**\n * @api private\n */\nAWS.CredentialProviderChain.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.resolvePromise = AWS.util.promisifyMethod('resolve', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.CredentialProviderChain.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.resolvePromise;\n};\n\nAWS.util.addPromises(AWS.CredentialProviderChain);\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['acm'] = {};\nAWS.ACM = Service.defineService('acm', ['2015-12-08']);\nObject.defineProperty(apiLoader.services['acm'], '2015-12-08', {\n  get: function get() {\n    var model = require('../apis/acm-2015-12-08.min.json');\n    model.paginators = require('../apis/acm-2015-12-08.paginators.json').pagination;\n    model.waiters = require('../apis/acm-2015-12-08.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ACM;\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS SAML support.\n *\n * By default this provider gets credentials using the\n * {AWS.STS.assumeRoleWithSAML} service operation. This operation\n * requires a `RoleArn` containing the ARN of the IAM trust policy for the\n * application for which credentials will be given, as well as a `PrincipalArn`\n * representing the ARN for the SAML identity provider. In addition, the\n * `SAMLAssertion` must be set to the token provided by the identity\n * provider. See {constructor} for an example on creating a credentials\n * object with proper `RoleArn`, `PrincipalArn`, and `SAMLAssertion` values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the SAMLAssertion, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.SAMLAssertion = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.STS.assumeRoleWithSAML}. To update the token, set the\n *     `params.SAMLAssertion` property.\n */\nAWS.SAMLCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new credentials object.\n   * @param (see AWS.STS.assumeRoleWithSAML)\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.SAMLCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/SAMLRole',\n   *     PrincipalArn: 'arn:aws:iam::1234567890:role/SAMLPrincipal',\n   *     SAMLAssertion: 'base64-token', // base64-encoded token from IdP\n   *   });\n   * @see AWS.STS.assumeRoleWithSAML\n   */\n  constructor: function SAMLCredentials(params) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRoleWithSAML}\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   */\n  load: function load(callback) {\n    var self = this;\n    self.createClients();\n    self.service.assumeRoleWithSAML(function (err, data) {\n      if (!err) {\n        self.service.credentialsFrom(data, self);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    this.service = this.service || new STS({params: this.params});\n  }\n\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['kinesisvideoarchivedmedia'] = {};\nAWS.KinesisVideoArchivedMedia = Service.defineService('kinesisvideoarchivedmedia', ['2017-09-30']);\nObject.defineProperty(apiLoader.services['kinesisvideoarchivedmedia'], '2017-09-30', {\n  get: function get() {\n    var model = require('../apis/kinesis-video-archived-media-2017-09-30.min.json');\n    model.paginators = require('../apis/kinesis-video-archived-media-2017-09-30.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.KinesisVideoArchivedMedia;\n","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['sns'] = {};\nAWS.SNS = Service.defineService('sns', ['2010-03-31']);\nObject.defineProperty(apiLoader.services['sns'], '2010-03-31', {\n  get: function get() {\n    var model = require('../apis/sns-2010-03-31.min.json');\n    model.paginators = require('../apis/sns-2010-03-31.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.SNS;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['mturk'] = {};\nAWS.MTurk = Service.defineService('mturk', ['2017-01-17']);\nObject.defineProperty(apiLoader.services['mturk'], '2017-01-17', {\n  get: function get() {\n    var model = require('../apis/mturk-requester-2017-01-17.min.json');\n    model.paginators = require('../apis/mturk-requester-2017-01-17.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.MTurk;\n","var AWS = require('../core');\n\n/**\n * @api private\n */\nvar service = null;\n\n/**\n * @api private\n */\nvar api = {\n    signatureVersion: 'v4',\n    signingName: 'rds-db',\n    operations: {}\n};\n\n/**\n * @api private\n */\nvar requiredAuthTokenOptions = {\n    region: 'string',\n    hostname: 'string',\n    port: 'number',\n    username: 'string'\n};\n\n/**\n * A signer object can be used to generate an auth token to a database.\n */\nAWS.RDS.Signer = AWS.util.inherit({\n    /**\n     * Creates a signer object can be used to generate an auth token.\n     *\n     * @option options credentials [AWS.Credentials] the AWS credentials\n     *   to sign requests with. Uses the default credential provider chain\n     *   if not specified.\n     * @option options hostname [String] the hostname of the database to connect to.\n     * @option options port [Number] the port number the database is listening on.\n     * @option options region [String] the region the database is located in.\n     * @option options username [String] the username to login as.\n     * @example Passing in options to constructor\n     *   var signer = new AWS.RDS.Signer({\n     *     credentials: new AWS.SharedIniFileCredentials({profile: 'default'}),\n     *     region: 'us-east-1',\n     *     hostname: 'db.us-east-1.rds.amazonaws.com',\n     *     port: 8000,\n     *     username: 'name'\n     *   });\n     */\n    constructor: function Signer(options) {\n        this.options = options || {};\n    },\n\n    /**\n     * @api private\n     * Strips the protocol from a url.\n     */\n    convertUrlToAuthToken: function convertUrlToAuthToken(url) {\n        // we are always using https as the protocol\n        var protocol = 'https://';\n        if (url.indexOf(protocol) === 0) {\n            return url.substring(protocol.length);\n        }\n    },\n\n    /**\n     * @overload getAuthToken(options = {}, [callback])\n     *   Generate an auth token to a database.\n     *   @note You must ensure that you have static or previously resolved\n     *     credentials if you call this method synchronously (with no callback),\n     *     otherwise it may not properly sign the request. If you cannot guarantee\n     *     this (you are using an asynchronous credential provider, i.e., EC2\n     *     IAM roles), you should always call this method with an asynchronous\n     *     callback.\n     *\n     *   @param options [map] The fields to use when generating an auth token.\n     *     Any options specified here will be merged on top of any options passed\n     *     to AWS.RDS.Signer:\n     *\n     *     * **credentials** (AWS.Credentials) &mdash; the AWS credentials\n     *         to sign requests with. Uses the default credential provider chain\n     *         if not specified.\n     *     * **hostname** (String) &mdash; the hostname of the database to connect to.\n     *     * **port** (Number) &mdash; the port number the database is listening on.\n     *     * **region** (String) &mdash; the region the database is located in.\n     *     * **username** (String) &mdash; the username to login as.\n     *   @return [String] if called synchronously (with no callback), returns the\n     *     auth token.\n     *   @return [null] nothing is returned if a callback is provided.\n     *   @callback callback function (err, token)\n     *     If a callback is supplied, it is called when an auth token has been generated.\n     *     @param err [Error] the error object returned from the signer.\n     *     @param token [String] the auth token.\n     *\n     *   @example Generating an auth token synchronously\n     *     var signer = new AWS.RDS.Signer({\n     *       // configure options\n     *       region: 'us-east-1',\n     *       username: 'default',\n     *       hostname: 'db.us-east-1.amazonaws.com',\n     *       port: 8000\n     *     });\n     *     var token = signer.getAuthToken({\n     *       // these options are merged with those defined when creating the signer, overriding in the case of a duplicate option\n     *       // credentials are not specified here or when creating the signer, so default credential provider will be used\n     *       username: 'test' // overriding username\n     *     });\n     *   @example Generating an auth token asynchronously\n     *     var signer = new AWS.RDS.Signer({\n     *       // configure options\n     *       region: 'us-east-1',\n     *       username: 'default',\n     *       hostname: 'db.us-east-1.amazonaws.com',\n     *       port: 8000\n     *     });\n     *     signer.getAuthToken({\n     *       // these options are merged with those defined when creating the signer, overriding in the case of a duplicate option\n     *       // credentials are not specified here or when creating the signer, so default credential provider will be used\n     *       username: 'test' // overriding username\n     *     }, function(err, token) {\n     *       if (err) {\n     *         // handle error\n     *       } else {\n     *         // use token\n     *       }\n     *     });\n     *\n     */\n    getAuthToken: function getAuthToken(options, callback) {\n        if (typeof options === 'function' && callback === undefined) {\n            callback = options;\n            options = {};\n        }\n        var self = this;\n        var hasCallback = typeof callback === 'function';\n        // merge options with existing options\n        options = AWS.util.merge(this.options, options);\n        // validate options\n        var optionsValidation = this.validateAuthTokenOptions(options);\n        if (optionsValidation !== true) {\n            if (hasCallback) {\n                return callback(optionsValidation, null);\n            }\n            throw optionsValidation;\n        }\n\n        // 15 minutes\n        var expires = 900;\n        // create service to generate a request from\n        var serviceOptions = {\n            region: options.region,\n            endpoint: new AWS.Endpoint(options.hostname + ':' + options.port),\n            paramValidation: false,\n            signatureVersion: 'v4'\n        };\n        if (options.credentials) {\n            serviceOptions.credentials = options.credentials;\n        }\n        service = new AWS.Service(serviceOptions);\n        // ensure the SDK is using sigv4 signing (config is not enough)\n        service.api = api;\n\n        var request = service.makeRequest();\n        // add listeners to request to properly build auth token\n        this.modifyRequestForAuthToken(request, options);\n\n        if (hasCallback) {\n            request.presign(expires, function(err, url) {\n                if (url) {\n                    url = self.convertUrlToAuthToken(url);\n                }\n                callback(err, url);\n            });\n        } else {\n            var url = request.presign(expires);\n            return this.convertUrlToAuthToken(url);\n        }\n    },\n\n    /**\n     * @api private\n     * Modifies a request to allow the presigner to generate an auth token.\n     */\n    modifyRequestForAuthToken: function modifyRequestForAuthToken(request, options) {\n        request.on('build', request.buildAsGet);\n        var httpRequest = request.httpRequest;\n        httpRequest.body = AWS.util.queryParamsToString({\n            Action: 'connect',\n            DBUser: options.username\n        });\n    },\n\n    /**\n     * @api private\n     * Validates that the options passed in contain all the keys with values of the correct type that\n     *   are needed to generate an auth token.\n     */\n    validateAuthTokenOptions: function validateAuthTokenOptions(options) {\n        // iterate over all keys in options\n        var message = '';\n        options = options || {};\n        for (var key in requiredAuthTokenOptions) {\n            if (!Object.prototype.hasOwnProperty.call(requiredAuthTokenOptions, key)) {\n                continue;\n            }\n            if (typeof options[key] !== requiredAuthTokenOptions[key]) {\n                message += 'option \\'' + key + '\\' should have been type \\'' + requiredAuthTokenOptions[key] + '\\', was \\'' + typeof options[key] + '\\'.\\n';\n            }\n        }\n        if (message.length) {\n            return AWS.util.error(new Error(), {\n                code: 'InvalidParameter',\n                message: message\n            });\n        }\n        return true;\n    }\n});\n","var util = require('../util');\nvar XmlNode = require('./xml-node').XmlNode;\nvar XmlText = require('./xml-text').XmlText;\n\nfunction XmlBuilder() { }\n\nXmlBuilder.prototype.toXML = function(params, shape, rootElement, noEmpty) {\n  var xml = new XmlNode(rootElement);\n  applyNamespaces(xml, shape, true);\n  serialize(xml, params, shape);\n  return xml.children.length > 0 || noEmpty ? xml.toString() : '';\n};\n\nfunction serialize(xml, value, shape) {\n  switch (shape.type) {\n    case 'structure': return serializeStructure(xml, value, shape);\n    case 'map': return serializeMap(xml, value, shape);\n    case 'list': return serializeList(xml, value, shape);\n    default: return serializeScalar(xml, value, shape);\n  }\n}\n\nfunction serializeStructure(xml, params, shape) {\n  util.arrayEach(shape.memberNames, function(memberName) {\n    var memberShape = shape.members[memberName];\n    if (memberShape.location !== 'body') return;\n\n    var value = params[memberName];\n    var name = memberShape.name;\n    if (value !== undefined && value !== null) {\n      if (memberShape.isXmlAttribute) {\n        xml.addAttribute(name, value);\n      } else if (memberShape.flattened) {\n        serialize(xml, value, memberShape);\n      } else {\n        var element = new XmlNode(name);\n        xml.addChildNode(element);\n        applyNamespaces(element, memberShape);\n        serialize(element, value, memberShape);\n      }\n    }\n  });\n}\n\nfunction serializeMap(xml, map, shape) {\n  var xmlKey = shape.key.name || 'key';\n  var xmlValue = shape.value.name || 'value';\n\n  util.each(map, function(key, value) {\n    var entry = new XmlNode(shape.flattened ? shape.name : 'entry');\n    xml.addChildNode(entry);\n\n    var entryKey = new XmlNode(xmlKey);\n    var entryValue = new XmlNode(xmlValue);\n    entry.addChildNode(entryKey);\n    entry.addChildNode(entryValue);\n\n    serialize(entryKey, key, shape.key);\n    serialize(entryValue, value, shape.value);\n  });\n}\n\nfunction serializeList(xml, list, shape) {\n  if (shape.flattened) {\n    util.arrayEach(list, function(value) {\n      var name = shape.member.name || shape.name;\n      var element = new XmlNode(name);\n      xml.addChildNode(element);\n      serialize(element, value, shape.member);\n    });\n  } else {\n    util.arrayEach(list, function(value) {\n      var name = shape.member.name || 'member';\n      var element = new XmlNode(name);\n      xml.addChildNode(element);\n      serialize(element, value, shape.member);\n    });\n  }\n}\n\nfunction serializeScalar(xml, value, shape) {\n  xml.addChildNode(\n    new XmlText(shape.toWireFormat(value))\n  );\n}\n\nfunction applyNamespaces(xml, shape, isRoot) {\n  var uri, prefix = 'xmlns';\n  if (shape.xmlNamespaceUri) {\n    uri = shape.xmlNamespaceUri;\n    if (shape.xmlNamespacePrefix) prefix += ':' + shape.xmlNamespacePrefix;\n  } else if (isRoot && shape.api.xmlNamespaceUri) {\n    uri = shape.api.xmlNamespaceUri;\n  }\n\n  if (uri) xml.addAttribute(prefix, uri);\n}\n\n/**\n * @api private\n */\nmodule.exports = XmlBuilder;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cloudwatch'] = {};\nAWS.CloudWatch = Service.defineService('cloudwatch', ['2010-08-01']);\nObject.defineProperty(apiLoader.services['cloudwatch'], '2010-08-01', {\n  get: function get() {\n    var model = require('../apis/monitoring-2010-08-01.min.json');\n    model.paginators = require('../apis/monitoring-2010-08-01.paginators.json').pagination;\n    model.waiters = require('../apis/monitoring-2010-08-01.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CloudWatch;\n","var Buffer = require('buffer/').Buffer;\nvar hashUtils = require('./browserHashUtils');\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 20;\n\nvar KEY = new Uint32Array([\n    0x5a827999,\n    0x6ed9eba1,\n    0x8f1bbcdc | 0,\n    0xca62c1d6 | 0\n]);\n\nvar INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19,\n];\n\nvar MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n\n/**\n * @api private\n */\nfunction Sha1() {\n    this.h0 = 0x67452301;\n    this.h1 = 0xEFCDAB89;\n    this.h2 = 0x98BADCFE;\n    this.h3 = 0x10325476;\n    this.h4 = 0xC3D2E1F0;\n    // The first 64 bytes (16 words) is the data chunk\n    this.block = new Uint32Array(80);\n    this.offset = 0;\n    this.shift = 24;\n    this.totalLength = 0;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Sha1;\n\nSha1.BLOCK_SIZE = BLOCK_SIZE;\n\nSha1.prototype.update = function (data) {\n    if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    if (hashUtils.isEmptyData(data)) {\n        return this;\n    }\n\n    data = hashUtils.convertToBuffer(data);\n\n    var length = data.length;\n    this.totalLength += length * 8;\n    for (var i = 0; i < length; i++) {\n        this.write(data[i]);\n    }\n\n    return this;\n};\n\nSha1.prototype.write = function write(byte) {\n    this.block[this.offset] |= (byte & 0xff) << this.shift;\n    if (this.shift) {\n        this.shift -= 8;\n    } else {\n        this.offset++;\n        this.shift = 24;\n    }\n\n    if (this.offset === 16) this.processBlock();\n};\n\nSha1.prototype.digest = function (encoding) {\n    // Pad\n    this.write(0x80);\n    if (this.offset > 14 || (this.offset === 14 && this.shift < 24)) {\n      this.processBlock();\n    }\n    this.offset = 14;\n    this.shift = 24;\n\n    // 64-bit length big-endian\n    this.write(0x00); // numbers this big aren't accurate in javascript anyway\n    this.write(0x00); // ..So just hard-code to zero.\n    this.write(this.totalLength > 0xffffffffff ? this.totalLength / 0x10000000000 : 0x00);\n    this.write(this.totalLength > 0xffffffff ? this.totalLength / 0x100000000 : 0x00);\n    for (var s = 24; s >= 0; s -= 8) {\n        this.write(this.totalLength >> s);\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Buffer(DIGEST_LENGTH);\n    var outView = new DataView(out.buffer);\n    outView.setUint32(0, this.h0, false);\n    outView.setUint32(4, this.h1, false);\n    outView.setUint32(8, this.h2, false);\n    outView.setUint32(12, this.h3, false);\n    outView.setUint32(16, this.h4, false);\n\n    return encoding ? out.toString(encoding) : out;\n};\n\nSha1.prototype.processBlock = function processBlock() {\n    // Extend the sixteen 32-bit words into eighty 32-bit words:\n    for (var i = 16; i < 80; i++) {\n      var w = this.block[i - 3] ^ this.block[i - 8] ^ this.block[i - 14] ^ this.block[i - 16];\n      this.block[i] = (w << 1) | (w >>> 31);\n    }\n\n    // Initialize hash value for this chunk:\n    var a = this.h0;\n    var b = this.h1;\n    var c = this.h2;\n    var d = this.h3;\n    var e = this.h4;\n    var f, k;\n\n    // Main loop:\n    for (i = 0; i < 80; i++) {\n      if (i < 20) {\n        f = d ^ (b & (c ^ d));\n        k = 0x5A827999;\n      }\n      else if (i < 40) {\n        f = b ^ c ^ d;\n        k = 0x6ED9EBA1;\n      }\n      else if (i < 60) {\n        f = (b & c) | (d & (b | c));\n        k = 0x8F1BBCDC;\n      }\n      else {\n        f = b ^ c ^ d;\n        k = 0xCA62C1D6;\n      }\n      var temp = (a << 5 | a >>> 27) + f + e + k + (this.block[i]|0);\n      e = d;\n      d = c;\n      c = (b << 30 | b >>> 2);\n      b = a;\n      a = temp;\n    }\n\n    // Add this chunk's hash to result so far:\n    this.h0 = (this.h0 + a) | 0;\n    this.h1 = (this.h1 + b) | 0;\n    this.h2 = (this.h2 + c) | 0;\n    this.h3 = (this.h3 + d) | 0;\n    this.h4 = (this.h4 + e) | 0;\n\n    // The block is now reusable.\n    this.offset = 0;\n    for (i = 0; i < 16; i++) {\n        this.block[i] = 0;\n    }\n};\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\n\nvar has = require('has');\n\nvar predicates = {\n\t// https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n\t'Property Descriptor': function isPropertyDescriptor(ES, Desc) {\n\t\tif (ES.Type(Desc) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tvar allowed = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Get]]': true,\n\t\t\t'[[Set]]': true,\n\t\t\t'[[Value]]': true,\n\t\t\t'[[Writable]]': true\n\t\t};\n\n\t\tfor (var key in Desc) { // eslint-disable-line\n\t\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tvar isData = has(Desc, '[[Value]]');\n\t\tvar IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\t\tif (isData && IsAccessor) {\n\t\t\tthrow new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t\t}\n\t\treturn true;\n\t}\n};\n\nmodule.exports = function assertRecord(ES, recordType, argumentName, value) {\n\tvar predicate = predicates[recordType];\n\tif (typeof predicate !== 'function') {\n\t\tthrow new $SyntaxError('unknown record type: ' + recordType);\n\t}\n\tif (!predicate(ES, value)) {\n\t\tthrow new $TypeError(argumentName + ' must be a ' + recordType);\n\t}\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['forecastqueryservice'] = {};\nAWS.ForecastQueryService = Service.defineService('forecastqueryservice', ['2018-06-26']);\nObject.defineProperty(apiLoader.services['forecastqueryservice'], '2018-06-26', {\n  get: function get() {\n    var model = require('../apis/forecastquery-2018-06-26.min.json');\n    model.paginators = require('../apis/forecastquery-2018-06-26.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ForecastQueryService;\n","var hashUtils = require('./browserHashUtils');\nvar Buffer = require('buffer/').Buffer;\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 16;\n\nvar INIT = [\n    0x67452301,\n    0xefcdab89,\n    0x98badcfe,\n    0x10325476,\n];\n\n/**\n * @api private\n */\nfunction Md5() {\n    this.state = [\n        0x67452301,\n        0xefcdab89,\n        0x98badcfe,\n        0x10325476,\n    ];\n    this.buffer = new DataView(new ArrayBuffer(BLOCK_SIZE));\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    this.finished = false;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Md5;\n\nMd5.BLOCK_SIZE = BLOCK_SIZE;\n\nMd5.prototype.update = function (sourceData) {\n    if (hashUtils.isEmptyData(sourceData)) {\n        return this;\n    } else if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    var data = hashUtils.convertToBuffer(sourceData);\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    while (byteLength > 0) {\n        this.buffer.setUint8(this.bufferLength++, data[position++]);\n        byteLength--;\n        if (this.bufferLength === BLOCK_SIZE) {\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n    }\n\n    return this;\n};\n\nMd5.prototype.digest = function (encoding) {\n    if (!this.finished) {\n        var _a = this, buffer = _a.buffer, undecoratedLength = _a.bufferLength, bytesHashed = _a.bytesHashed;\n        var bitsHashed = bytesHashed * 8;\n        buffer.setUint8(this.bufferLength++, 128);\n        // Ensure the final block has enough room for the hashed length\n        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n            for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {\n                buffer.setUint8(i, 0);\n            }\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n        for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n            buffer.setUint8(i, 0);\n        }\n        buffer.setUint32(BLOCK_SIZE - 8, bitsHashed >>> 0, true);\n        buffer.setUint32(BLOCK_SIZE - 4, Math.floor(bitsHashed / 0x100000000), true);\n        this.hashBuffer();\n        this.finished = true;\n    }\n    var out = new DataView(new ArrayBuffer(DIGEST_LENGTH));\n    for (var i = 0; i < 4; i++) {\n        out.setUint32(i * 4, this.state[i], true);\n    }\n    var buff = new Buffer(out.buffer, out.byteOffset, out.byteLength);\n    return encoding ? buff.toString(encoding) : buff;\n};\n\nMd5.prototype.hashBuffer = function () {\n    var _a = this, buffer = _a.buffer, state = _a.state;\n    var a = state[0], b = state[1], c = state[2], d = state[3];\n    a = ff(a, b, c, d, buffer.getUint32(0, true), 7, 0xd76aa478);\n    d = ff(d, a, b, c, buffer.getUint32(4, true), 12, 0xe8c7b756);\n    c = ff(c, d, a, b, buffer.getUint32(8, true), 17, 0x242070db);\n    b = ff(b, c, d, a, buffer.getUint32(12, true), 22, 0xc1bdceee);\n    a = ff(a, b, c, d, buffer.getUint32(16, true), 7, 0xf57c0faf);\n    d = ff(d, a, b, c, buffer.getUint32(20, true), 12, 0x4787c62a);\n    c = ff(c, d, a, b, buffer.getUint32(24, true), 17, 0xa8304613);\n    b = ff(b, c, d, a, buffer.getUint32(28, true), 22, 0xfd469501);\n    a = ff(a, b, c, d, buffer.getUint32(32, true), 7, 0x698098d8);\n    d = ff(d, a, b, c, buffer.getUint32(36, true), 12, 0x8b44f7af);\n    c = ff(c, d, a, b, buffer.getUint32(40, true), 17, 0xffff5bb1);\n    b = ff(b, c, d, a, buffer.getUint32(44, true), 22, 0x895cd7be);\n    a = ff(a, b, c, d, buffer.getUint32(48, true), 7, 0x6b901122);\n    d = ff(d, a, b, c, buffer.getUint32(52, true), 12, 0xfd987193);\n    c = ff(c, d, a, b, buffer.getUint32(56, true), 17, 0xa679438e);\n    b = ff(b, c, d, a, buffer.getUint32(60, true), 22, 0x49b40821);\n    a = gg(a, b, c, d, buffer.getUint32(4, true), 5, 0xf61e2562);\n    d = gg(d, a, b, c, buffer.getUint32(24, true), 9, 0xc040b340);\n    c = gg(c, d, a, b, buffer.getUint32(44, true), 14, 0x265e5a51);\n    b = gg(b, c, d, a, buffer.getUint32(0, true), 20, 0xe9b6c7aa);\n    a = gg(a, b, c, d, buffer.getUint32(20, true), 5, 0xd62f105d);\n    d = gg(d, a, b, c, buffer.getUint32(40, true), 9, 0x02441453);\n    c = gg(c, d, a, b, buffer.getUint32(60, true), 14, 0xd8a1e681);\n    b = gg(b, c, d, a, buffer.getUint32(16, true), 20, 0xe7d3fbc8);\n    a = gg(a, b, c, d, buffer.getUint32(36, true), 5, 0x21e1cde6);\n    d = gg(d, a, b, c, buffer.getUint32(56, true), 9, 0xc33707d6);\n    c = gg(c, d, a, b, buffer.getUint32(12, true), 14, 0xf4d50d87);\n    b = gg(b, c, d, a, buffer.getUint32(32, true), 20, 0x455a14ed);\n    a = gg(a, b, c, d, buffer.getUint32(52, true), 5, 0xa9e3e905);\n    d = gg(d, a, b, c, buffer.getUint32(8, true), 9, 0xfcefa3f8);\n    c = gg(c, d, a, b, buffer.getUint32(28, true), 14, 0x676f02d9);\n    b = gg(b, c, d, a, buffer.getUint32(48, true), 20, 0x8d2a4c8a);\n    a = hh(a, b, c, d, buffer.getUint32(20, true), 4, 0xfffa3942);\n    d = hh(d, a, b, c, buffer.getUint32(32, true), 11, 0x8771f681);\n    c = hh(c, d, a, b, buffer.getUint32(44, true), 16, 0x6d9d6122);\n    b = hh(b, c, d, a, buffer.getUint32(56, true), 23, 0xfde5380c);\n    a = hh(a, b, c, d, buffer.getUint32(4, true), 4, 0xa4beea44);\n    d = hh(d, a, b, c, buffer.getUint32(16, true), 11, 0x4bdecfa9);\n    c = hh(c, d, a, b, buffer.getUint32(28, true), 16, 0xf6bb4b60);\n    b = hh(b, c, d, a, buffer.getUint32(40, true), 23, 0xbebfbc70);\n    a = hh(a, b, c, d, buffer.getUint32(52, true), 4, 0x289b7ec6);\n    d = hh(d, a, b, c, buffer.getUint32(0, true), 11, 0xeaa127fa);\n    c = hh(c, d, a, b, buffer.getUint32(12, true), 16, 0xd4ef3085);\n    b = hh(b, c, d, a, buffer.getUint32(24, true), 23, 0x04881d05);\n    a = hh(a, b, c, d, buffer.getUint32(36, true), 4, 0xd9d4d039);\n    d = hh(d, a, b, c, buffer.getUint32(48, true), 11, 0xe6db99e5);\n    c = hh(c, d, a, b, buffer.getUint32(60, true), 16, 0x1fa27cf8);\n    b = hh(b, c, d, a, buffer.getUint32(8, true), 23, 0xc4ac5665);\n    a = ii(a, b, c, d, buffer.getUint32(0, true), 6, 0xf4292244);\n    d = ii(d, a, b, c, buffer.getUint32(28, true), 10, 0x432aff97);\n    c = ii(c, d, a, b, buffer.getUint32(56, true), 15, 0xab9423a7);\n    b = ii(b, c, d, a, buffer.getUint32(20, true), 21, 0xfc93a039);\n    a = ii(a, b, c, d, buffer.getUint32(48, true), 6, 0x655b59c3);\n    d = ii(d, a, b, c, buffer.getUint32(12, true), 10, 0x8f0ccc92);\n    c = ii(c, d, a, b, buffer.getUint32(40, true), 15, 0xffeff47d);\n    b = ii(b, c, d, a, buffer.getUint32(4, true), 21, 0x85845dd1);\n    a = ii(a, b, c, d, buffer.getUint32(32, true), 6, 0x6fa87e4f);\n    d = ii(d, a, b, c, buffer.getUint32(60, true), 10, 0xfe2ce6e0);\n    c = ii(c, d, a, b, buffer.getUint32(24, true), 15, 0xa3014314);\n    b = ii(b, c, d, a, buffer.getUint32(52, true), 21, 0x4e0811a1);\n    a = ii(a, b, c, d, buffer.getUint32(16, true), 6, 0xf7537e82);\n    d = ii(d, a, b, c, buffer.getUint32(44, true), 10, 0xbd3af235);\n    c = ii(c, d, a, b, buffer.getUint32(8, true), 15, 0x2ad7d2bb);\n    b = ii(b, c, d, a, buffer.getUint32(36, true), 21, 0xeb86d391);\n    state[0] = (a + state[0]) & 0xFFFFFFFF;\n    state[1] = (b + state[1]) & 0xFFFFFFFF;\n    state[2] = (c + state[2]) & 0xFFFFFFFF;\n    state[3] = (d + state[3]) & 0xFFFFFFFF;\n};\n\nfunction cmn(q, a, b, x, s, t) {\n    a = (((a + q) & 0xFFFFFFFF) + ((x + t) & 0xFFFFFFFF)) & 0xFFFFFFFF;\n    return (((a << s) | (a >>> (32 - s))) + b) & 0xFFFFFFFF;\n}\n\nfunction ff(a, b, c, d, x, s, t) {\n    return cmn((b & c) | ((~b) & d), a, b, x, s, t);\n}\n\nfunction gg(a, b, c, d, x, s, t) {\n    return cmn((b & d) | (c & (~d)), a, b, x, s, t);\n}\n\nfunction hh(a, b, c, d, x, s, t) {\n    return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a, b, c, d, x, s, t) {\n    return cmn(c ^ (b | (~d)), a, b, x, s, t);\n}\n","'use strict';\n\nvar $isNaN = Number.isNaN || function (a) { return a !== a; };\n\nmodule.exports = Number.isFinite || function (x) { return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity; };\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var AWS = require('../core');\nvar regionConfig = require('../region_config');\nvar ENV_REGIONAL_ENDPOINT_ENABLED = 'AWS_STS_REGIONAL_ENDPOINTS';\nvar CONFIG_REGIONAL_ENDPOINT_ENABLED = 'sts_regional_endpoints';\n\nAWS.util.update(AWS.STS.prototype, {\n  /**\n   * @overload credentialsFrom(data, credentials = null)\n   *   Creates a credentials object from STS response data containing\n   *   credentials information. Useful for quickly setting AWS credentials.\n   *\n   *   @note This is a low-level utility function. If you want to load temporary\n   *     credentials into your process for subsequent requests to AWS resources,\n   *     you should use {AWS.TemporaryCredentials} instead.\n   *   @param data [map] data retrieved from a call to {getFederatedToken},\n   *     {getSessionToken}, {assumeRole}, or {assumeRoleWithWebIdentity}.\n   *   @param credentials [AWS.Credentials] an optional credentials object to\n   *     fill instead of creating a new object. Useful when modifying an\n   *     existing credentials object from a refresh call.\n   *   @return [AWS.TemporaryCredentials] the set of temporary credentials\n   *     loaded from a raw STS operation response.\n   *   @example Using credentialsFrom to load global AWS credentials\n   *     var sts = new AWS.STS();\n   *     sts.getSessionToken(function (err, data) {\n   *       if (err) console.log(\"Error getting credentials\");\n   *       else {\n   *         AWS.config.credentials = sts.credentialsFrom(data);\n   *       }\n   *     });\n   *   @see AWS.TemporaryCredentials\n   */\n  credentialsFrom: function credentialsFrom(data, credentials) {\n    if (!data) return null;\n    if (!credentials) credentials = new AWS.TemporaryCredentials();\n    credentials.expired = false;\n    credentials.accessKeyId = data.Credentials.AccessKeyId;\n    credentials.secretAccessKey = data.Credentials.SecretAccessKey;\n    credentials.sessionToken = data.Credentials.SessionToken;\n    credentials.expireTime = data.Credentials.Expiration;\n    return credentials;\n  },\n\n  assumeRoleWithWebIdentity: function assumeRoleWithWebIdentity(params, callback) {\n    return this.makeUnauthenticatedRequest('assumeRoleWithWebIdentity', params, callback);\n  },\n\n  assumeRoleWithSAML: function assumeRoleWithSAML(params, callback) {\n    return this.makeUnauthenticatedRequest('assumeRoleWithSAML', params, callback);\n  },\n\n  /**\n   * @api private\n   */\n  validateRegionalEndpointsFlagValue: function validateRegionalEndpointsFlagValue(configValue, errorOptions) {\n    if (typeof configValue === 'string' && ['legacy', 'regional'].indexOf(configValue.toLowerCase()) >= 0) {\n      this.config.stsRegionalEndpoints = configValue.toLowerCase();\n      return;\n    } else {\n      throw AWS.util.error(new Error(), errorOptions);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateRegionalEndpointsFlag: function validateRegionalEndpointsFlag() {\n    //validate config value\n    var config = this.config;\n    if (config.stsRegionalEndpoints) {\n      this.validateRegionalEndpointsFlagValue(config.stsRegionalEndpoints, {\n        code: 'InvalidConfiguration',\n        message: 'invalid \"stsRegionalEndpoints\" configuration. Expect \"legacy\" ' +\n        ' or \"regional\". Got \"' + config.stsRegionalEndpoints + '\".'\n      });\n    }\n    if (!AWS.util.isNode()) return;\n    //validate environmental variable\n    if (Object.prototype.hasOwnProperty.call(process.env, ENV_REGIONAL_ENDPOINT_ENABLED)) {\n      var envFlag = process.env[ENV_REGIONAL_ENDPOINT_ENABLED];\n      this.validateRegionalEndpointsFlagValue(envFlag, {\n        code: 'InvalidEnvironmentalVariable',\n        message: 'invalid ' + ENV_REGIONAL_ENDPOINT_ENABLED + ' environmental variable. Expect \"legacy\" ' +\n        ' or \"regional\". Got \"' + process.env[ENV_REGIONAL_ENDPOINT_ENABLED] + '\".'\n      });\n    }\n    //validate shared config file\n    var profile = {};\n    try {\n      var profiles = AWS.util.getProfilesFromSharedConfig(AWS.util.iniLoader);\n      profile = profiles[process.env.AWS_PROFILE || AWS.util.defaultProfile];\n    } catch (e) {};\n    if (profile && Object.prototype.hasOwnProperty.call(profile, CONFIG_REGIONAL_ENDPOINT_ENABLED)) {\n      var fileFlag = profile[CONFIG_REGIONAL_ENDPOINT_ENABLED];\n      this.validateRegionalEndpointsFlagValue(fileFlag, {\n        code: 'InvalidConfiguration',\n        message: 'invalid '+CONFIG_REGIONAL_ENDPOINT_ENABLED+' profile config. Expect \"legacy\" ' +\n        ' or \"regional\". Got \"' + profile[CONFIG_REGIONAL_ENDPOINT_ENABLED] + '\".'\n      });\n    }\n  },\n\n  /**\n   * @api private\n   */\n  optInRegionalEndpoint: function optInRegionalEndpoint() {\n    this.validateRegionalEndpointsFlag();\n    var config = this.config;\n    if (config.stsRegionalEndpoints === 'regional') {\n      regionConfig(this);\n      if (!this.isGlobalEndpoint) return;\n      this.isGlobalEndpoint = false;\n      //client will throw if region is not supplied; request will be signed with specified region\n      if (!config.region) {\n        throw AWS.util.error(new Error(),\n          {code: 'ConfigError', message: 'Missing region in config'});\n      }\n      var insertPoint = config.endpoint.indexOf('.amazonaws.com');\n      config.endpoint = config.endpoint.substring(0, insertPoint) +\n        '.' + config.region + config.endpoint.substring(insertPoint);\n    }\n  },\n\n  validateService: function validateService() {\n    this.optInRegionalEndpoint();\n  }\n\n});\n","var Buffer = require('buffer/').Buffer;\nvar hashUtils = require('./browserHashUtils');\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 32;\n\nvar KEY = new Uint32Array([\n    0x428a2f98,\n    0x71374491,\n    0xb5c0fbcf,\n    0xe9b5dba5,\n    0x3956c25b,\n    0x59f111f1,\n    0x923f82a4,\n    0xab1c5ed5,\n    0xd807aa98,\n    0x12835b01,\n    0x243185be,\n    0x550c7dc3,\n    0x72be5d74,\n    0x80deb1fe,\n    0x9bdc06a7,\n    0xc19bf174,\n    0xe49b69c1,\n    0xefbe4786,\n    0x0fc19dc6,\n    0x240ca1cc,\n    0x2de92c6f,\n    0x4a7484aa,\n    0x5cb0a9dc,\n    0x76f988da,\n    0x983e5152,\n    0xa831c66d,\n    0xb00327c8,\n    0xbf597fc7,\n    0xc6e00bf3,\n    0xd5a79147,\n    0x06ca6351,\n    0x14292967,\n    0x27b70a85,\n    0x2e1b2138,\n    0x4d2c6dfc,\n    0x53380d13,\n    0x650a7354,\n    0x766a0abb,\n    0x81c2c92e,\n    0x92722c85,\n    0xa2bfe8a1,\n    0xa81a664b,\n    0xc24b8b70,\n    0xc76c51a3,\n    0xd192e819,\n    0xd6990624,\n    0xf40e3585,\n    0x106aa070,\n    0x19a4c116,\n    0x1e376c08,\n    0x2748774c,\n    0x34b0bcb5,\n    0x391c0cb3,\n    0x4ed8aa4a,\n    0x5b9cca4f,\n    0x682e6ff3,\n    0x748f82ee,\n    0x78a5636f,\n    0x84c87814,\n    0x8cc70208,\n    0x90befffa,\n    0xa4506ceb,\n    0xbef9a3f7,\n    0xc67178f2\n]);\n\nvar INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19,\n];\n\nvar MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n\n/**\n * @private\n */\nfunction Sha256() {\n    this.state = [\n        0x6a09e667,\n        0xbb67ae85,\n        0x3c6ef372,\n        0xa54ff53a,\n        0x510e527f,\n        0x9b05688c,\n        0x1f83d9ab,\n        0x5be0cd19,\n    ];\n    this.temp = new Int32Array(64);\n    this.buffer = new Uint8Array(64);\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    /**\n     * @private\n     */\n    this.finished = false;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Sha256;\n\nSha256.BLOCK_SIZE = BLOCK_SIZE;\n\nSha256.prototype.update = function (data) {\n    if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    if (hashUtils.isEmptyData(data)) {\n        return this;\n    }\n\n    data = hashUtils.convertToBuffer(data);\n\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    if (this.bytesHashed * 8 > MAX_HASHABLE_LENGTH) {\n        throw new Error('Cannot hash more than 2^53 - 1 bits');\n    }\n\n    while (byteLength > 0) {\n        this.buffer[this.bufferLength++] = data[position++];\n        byteLength--;\n        if (this.bufferLength === BLOCK_SIZE) {\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n    }\n\n    return this;\n};\n\nSha256.prototype.digest = function (encoding) {\n    if (!this.finished) {\n        var bitsHashed = this.bytesHashed * 8;\n        var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n        var undecoratedLength = this.bufferLength;\n        bufferView.setUint8(this.bufferLength++, 0x80);\n        // Ensure the final block has enough room for the hashed length\n        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n            for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {\n                bufferView.setUint8(i, 0);\n            }\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n        for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n            bufferView.setUint8(i, 0);\n        }\n        bufferView.setUint32(BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n        bufferView.setUint32(BLOCK_SIZE - 4, bitsHashed);\n        this.hashBuffer();\n        this.finished = true;\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Buffer(DIGEST_LENGTH);\n    for (var i = 0; i < 8; i++) {\n        out[i * 4] = (this.state[i] >>> 24) & 0xff;\n        out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n        out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n        out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n    }\n    return encoding ? out.toString(encoding) : out;\n};\n\nSha256.prototype.hashBuffer = function () {\n    var _a = this,\n        buffer = _a.buffer,\n        state = _a.state;\n    var state0 = state[0],\n        state1 = state[1],\n        state2 = state[2],\n        state3 = state[3],\n        state4 = state[4],\n        state5 = state[5],\n        state6 = state[6],\n        state7 = state[7];\n    for (var i = 0; i < BLOCK_SIZE; i++) {\n        if (i < 16) {\n            this.temp[i] = (((buffer[i * 4] & 0xff) << 24) |\n                ((buffer[(i * 4) + 1] & 0xff) << 16) |\n                ((buffer[(i * 4) + 2] & 0xff) << 8) |\n                (buffer[(i * 4) + 3] & 0xff));\n        }\n        else {\n            var u = this.temp[i - 2];\n            var t1_1 = (u >>> 17 | u << 15) ^\n                (u >>> 19 | u << 13) ^\n                (u >>> 10);\n            u = this.temp[i - 15];\n            var t2_1 = (u >>> 7 | u << 25) ^\n                (u >>> 18 | u << 14) ^\n                (u >>> 3);\n            this.temp[i] = (t1_1 + this.temp[i - 7] | 0) +\n                (t2_1 + this.temp[i - 16] | 0);\n        }\n        var t1 = (((((state4 >>> 6 | state4 << 26) ^\n            (state4 >>> 11 | state4 << 21) ^\n            (state4 >>> 25 | state4 << 7))\n            + ((state4 & state5) ^ (~state4 & state6))) | 0)\n            + ((state7 + ((KEY[i] + this.temp[i]) | 0)) | 0)) | 0;\n        var t2 = (((state0 >>> 2 | state0 << 30) ^\n            (state0 >>> 13 | state0 << 19) ^\n            (state0 >>> 22 | state0 << 10)) + ((state0 & state1) ^ (state0 & state2) ^ (state1 & state2))) | 0;\n        state7 = state6;\n        state6 = state5;\n        state5 = state4;\n        state4 = (state3 + t1) | 0;\n        state3 = state2;\n        state2 = state1;\n        state1 = state0;\n        state0 = (t1 + t2) | 0;\n    }\n    state[0] += state0;\n    state[1] += state1;\n    state[2] += state2;\n    state[3] += state3;\n    state[4] += state4;\n    state[5] += state5;\n    state[6] += state6;\n    state[7] += state7;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar boundTrim = bind.call(Function.call, getPolyfill());\n\ndefine(boundTrim, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = boundTrim;\n","var AWS = require('../core');\nvar util = require('../util');\nvar QueryParamSerializer = require('../query/query_param_serializer');\nvar Shape = require('../model/shape');\nvar populateHostPrefix = require('./helpers').populateHostPrefix;\n\nfunction buildRequest(req) {\n  var operation = req.service.api.operations[req.operation];\n  var httpRequest = req.httpRequest;\n  httpRequest.headers['Content-Type'] =\n    'application/x-www-form-urlencoded; charset=utf-8';\n  httpRequest.params = {\n    Version: req.service.api.apiVersion,\n    Action: operation.name\n  };\n\n  // convert the request parameters into a list of query params,\n  // e.g. Deeply.NestedParam.0.Name=value\n  var builder = new QueryParamSerializer();\n  builder.serialize(req.params, operation.input, function(name, value) {\n    httpRequest.params[name] = value;\n  });\n  httpRequest.body = util.queryParamsToString(httpRequest.params);\n\n  populateHostPrefix(req);\n}\n\nfunction extractError(resp) {\n  var data, body = resp.httpResponse.body.toString();\n  if (body.match('<UnknownOperationException')) {\n    data = {\n      Code: 'UnknownOperation',\n      Message: 'Unknown operation ' + resp.request.operation\n    };\n  } else {\n    try {\n      data = new AWS.XML.Parser().parse(body);\n    } catch (e) {\n      data = {\n        Code: resp.httpResponse.statusCode,\n        Message: resp.httpResponse.statusMessage\n      };\n    }\n  }\n\n  if (data.requestId && !resp.requestId) resp.requestId = data.requestId;\n  if (data.Errors) data = data.Errors;\n  if (data.Error) data = data.Error;\n  if (data.Code) {\n    resp.error = util.error(new Error(), {\n      code: data.Code,\n      message: data.Message\n    });\n  } else {\n    resp.error = util.error(new Error(), {\n      code: resp.httpResponse.statusCode,\n      message: null\n    });\n  }\n}\n\nfunction extractData(resp) {\n  var req = resp.request;\n  var operation = req.service.api.operations[req.operation];\n  var shape = operation.output || {};\n  var origRules = shape;\n\n  if (origRules.resultWrapper) {\n    var tmp = Shape.create({type: 'structure'});\n    tmp.members[origRules.resultWrapper] = shape;\n    tmp.memberNames = [origRules.resultWrapper];\n    util.property(shape, 'name', shape.resultWrapper);\n    shape = tmp;\n  }\n\n  var parser = new AWS.XML.Parser();\n\n  // TODO: Refactor XML Parser to parse RequestId from response.\n  if (shape && shape.members && !shape.members._XAMZRequestId) {\n    var requestIdShape = Shape.create(\n      { type: 'string' },\n      { api: { protocol: 'query' } },\n      'requestId'\n    );\n    shape.members._XAMZRequestId = requestIdShape;\n  }\n\n  var data = parser.parse(resp.httpResponse.body.toString(), shape);\n  resp.requestId = data._XAMZRequestId || data.requestId;\n\n  if (data._XAMZRequestId) delete data._XAMZRequestId;\n\n  if (origRules.resultWrapper) {\n    if (data[origRules.resultWrapper]) {\n      util.update(data, data[origRules.resultWrapper]);\n      delete data[origRules.resultWrapper];\n    }\n  }\n\n  resp.data = data;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['pricing'] = {};\nAWS.Pricing = Service.defineService('pricing', ['2017-10-15']);\nObject.defineProperty(apiLoader.services['pricing'], '2017-10-15', {\n  get: function get() {\n    var model = require('../apis/pricing-2017-10-15.min.json');\n    model.paginators = require('../apis/pricing-2017-10-15.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Pricing;\n","'use strict';\n\nvar isCallable = require('is-callable');\n\nvar toStr = Object.prototype.toString;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar forEachArray = function forEachArray(array, iterator, receiver) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            if (receiver == null) {\n                iterator(array[i], i, array);\n            } else {\n                iterator.call(receiver, array[i], i, array);\n            }\n        }\n    }\n};\n\nvar forEachString = function forEachString(string, iterator, receiver) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        if (receiver == null) {\n            iterator(string.charAt(i), i, string);\n        } else {\n            iterator.call(receiver, string.charAt(i), i, string);\n        }\n    }\n};\n\nvar forEachObject = function forEachObject(object, iterator, receiver) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            if (receiver == null) {\n                iterator(object[k], k, object);\n            } else {\n                iterator.call(receiver, object[k], k, object);\n            }\n        }\n    }\n};\n\nvar forEach = function forEach(list, iterator, thisArg) {\n    if (!isCallable(iterator)) {\n        throw new TypeError('iterator must be a function');\n    }\n\n    var receiver;\n    if (arguments.length >= 3) {\n        receiver = thisArg;\n    }\n\n    if (toStr.call(list) === '[object Array]') {\n        forEachArray(list, iterator, receiver);\n    } else if (typeof list === 'string') {\n        forEachString(list, iterator, receiver);\n    } else {\n        forEachObject(list, iterator, receiver);\n    }\n};\n\nmodule.exports = forEach;\n","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\nvar _objCreate = Object.create || (function() {\n  function F() {}\n  return function(o) {\n    if (arguments.length !== 1) {\n      throw new Error('Object.create shim only accepts one parameter.');\n    }\n    F.prototype = o;\n    return new F();\n  };\n})();\n\n// Creates a new ParserError object from an errorData object. The errorData\n// object should have default code and message properties. The default message\n// property can be overriden by passing in a message parameter.\n// See ParsingError.Errors below for acceptable errors.\nfunction ParsingError(errorData, message) {\n  this.name = \"ParsingError\";\n  this.code = errorData.code;\n  this.message = message || errorData.message;\n}\nParsingError.prototype = _objCreate(Error.prototype);\nParsingError.prototype.constructor = ParsingError;\n\n// ParsingError metadata for acceptable ParsingErrors.\nParsingError.Errors = {\n  BadSignature: {\n    code: 0,\n    message: \"Malformed WebVTT signature.\"\n  },\n  BadTimeStamp: {\n    code: 1,\n    message: \"Malformed time stamp.\"\n  }\n};\n\n// Try to parse input as a time stamp.\nfunction parseTimeStamp(input) {\n\n  function computeSeconds(h, m, s, f) {\n    return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\n  }\n\n  var m = input.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);\n  if (!m) {\n    return null;\n  }\n\n  if (m[3]) {\n    // Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\n    return computeSeconds(m[1], m[2], m[3].replace(\":\", \"\"), m[4]);\n  } else if (m[1] > 59) {\n    // Timestamp takes the form of [hours]:[minutes].[milliseconds]\n    // First position is hours as it's over 59.\n    return computeSeconds(m[1], m[2], 0,  m[4]);\n  } else {\n    // Timestamp takes the form of [minutes]:[seconds].[milliseconds]\n    return computeSeconds(0, m[1], m[2], m[4]);\n  }\n}\n\n// A settings object holds key/value pairs and will ignore anything but the first\n// assignment to a specific key.\nfunction Settings() {\n  this.values = _objCreate(null);\n}\n\nSettings.prototype = {\n  // Only accept the first assignment to any key.\n  set: function(k, v) {\n    if (!this.get(k) && v !== \"\") {\n      this.values[k] = v;\n    }\n  },\n  // Return the value for a key, or a default value.\n  // If 'defaultKey' is passed then 'dflt' is assumed to be an object with\n  // a number of possible default values as properties where 'defaultKey' is\n  // the key of the property that will be chosen; otherwise it's assumed to be\n  // a single value.\n  get: function(k, dflt, defaultKey) {\n    if (defaultKey) {\n      return this.has(k) ? this.values[k] : dflt[defaultKey];\n    }\n    return this.has(k) ? this.values[k] : dflt;\n  },\n  // Check whether we have a value for a key.\n  has: function(k) {\n    return k in this.values;\n  },\n  // Accept a setting if its one of the given alternatives.\n  alt: function(k, v, a) {\n    for (var n = 0; n < a.length; ++n) {\n      if (v === a[n]) {\n        this.set(k, v);\n        break;\n      }\n    }\n  },\n  // Accept a setting if its a valid (signed) integer.\n  integer: function(k, v) {\n    if (/^-?\\d+$/.test(v)) { // integer\n      this.set(k, parseInt(v, 10));\n    }\n  },\n  // Accept a setting if its a valid percentage.\n  percent: function(k, v) {\n    var m;\n    if ((m = v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/))) {\n      v = parseFloat(v);\n      if (v >= 0 && v <= 100) {\n        this.set(k, v);\n        return true;\n      }\n    }\n    return false;\n  }\n};\n\n// Helper function to parse input into groups separated by 'groupDelim', and\n// interprete each group as a key/value pair separated by 'keyValueDelim'.\nfunction parseOptions(input, callback, keyValueDelim, groupDelim) {\n  var groups = groupDelim ? input.split(groupDelim) : [input];\n  for (var i in groups) {\n    if (typeof groups[i] !== \"string\") {\n      continue;\n    }\n    var kv = groups[i].split(keyValueDelim);\n    if (kv.length !== 2) {\n      continue;\n    }\n    var k = kv[0];\n    var v = kv[1];\n    callback(k, v);\n  }\n}\n\nfunction parseCue(input, cue, regionList) {\n  // Remember the original input if we need to throw an error.\n  var oInput = input;\n  // 4.1 WebVTT timestamp\n  function consumeTimeStamp() {\n    var ts = parseTimeStamp(input);\n    if (ts === null) {\n      throw new ParsingError(ParsingError.Errors.BadTimeStamp,\n                            \"Malformed timestamp: \" + oInput);\n    }\n    // Remove time stamp from input.\n    input = input.replace(/^[^\\sa-zA-Z-]+/, \"\");\n    return ts;\n  }\n\n  // 4.4.2 WebVTT cue settings\n  function consumeCueSettings(input, cue) {\n    var settings = new Settings();\n\n    parseOptions(input, function (k, v) {\n      switch (k) {\n      case \"region\":\n        // Find the last region we parsed with the same region id.\n        for (var i = regionList.length - 1; i >= 0; i--) {\n          if (regionList[i].id === v) {\n            settings.set(k, regionList[i].region);\n            break;\n          }\n        }\n        break;\n      case \"vertical\":\n        settings.alt(k, v, [\"rl\", \"lr\"]);\n        break;\n      case \"line\":\n        var vals = v.split(\",\"),\n            vals0 = vals[0];\n        settings.integer(k, vals0);\n        settings.percent(k, vals0) ? settings.set(\"snapToLines\", false) : null;\n        settings.alt(k, vals0, [\"auto\"]);\n        if (vals.length === 2) {\n          settings.alt(\"lineAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n        }\n        break;\n      case \"position\":\n        vals = v.split(\",\");\n        settings.percent(k, vals[0]);\n        if (vals.length === 2) {\n          settings.alt(\"positionAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n        }\n        break;\n      case \"size\":\n        settings.percent(k, v);\n        break;\n      case \"align\":\n        settings.alt(k, v, [\"start\", \"middle\", \"end\", \"left\", \"right\"]);\n        break;\n      }\n    }, /:/, /\\s/);\n\n    // Apply default values for any missing fields.\n    cue.region = settings.get(\"region\", null);\n    cue.vertical = settings.get(\"vertical\", \"\");\n    cue.line = settings.get(\"line\", \"auto\");\n    cue.lineAlign = settings.get(\"lineAlign\", \"start\");\n    cue.snapToLines = settings.get(\"snapToLines\", true);\n    cue.size = settings.get(\"size\", 100);\n    cue.align = settings.get(\"align\", \"middle\");\n    cue.position = settings.get(\"position\", {\n      start: 0,\n      left: 0,\n      middle: 50,\n      end: 100,\n      right: 100\n    }, cue.align);\n    cue.positionAlign = settings.get(\"positionAlign\", {\n      start: \"start\",\n      left: \"start\",\n      middle: \"middle\",\n      end: \"end\",\n      right: \"end\"\n    }, cue.align);\n  }\n\n  function skipWhitespace() {\n    input = input.replace(/^\\s+/, \"\");\n  }\n\n  // 4.1 WebVTT cue timings.\n  skipWhitespace();\n  cue.startTime = consumeTimeStamp();   // (1) collect cue start time\n  skipWhitespace();\n  if (input.substr(0, 3) !== \"-->\") {     // (3) next characters must match \"-->\"\n    throw new ParsingError(ParsingError.Errors.BadTimeStamp,\n                           \"Malformed time stamp (time stamps must be separated by '-->'): \" +\n                           oInput);\n  }\n  input = input.substr(3);\n  skipWhitespace();\n  cue.endTime = consumeTimeStamp();     // (5) collect cue end time\n\n  // 4.1 WebVTT cue settings list.\n  skipWhitespace();\n  consumeCueSettings(input, cue);\n}\n\nvar ESCAPE = {\n  \"&amp;\": \"&\",\n  \"&lt;\": \"<\",\n  \"&gt;\": \">\",\n  \"&lrm;\": \"\\u200e\",\n  \"&rlm;\": \"\\u200f\",\n  \"&nbsp;\": \"\\u00a0\"\n};\n\nvar TAG_NAME = {\n  c: \"span\",\n  i: \"i\",\n  b: \"b\",\n  u: \"u\",\n  ruby: \"ruby\",\n  rt: \"rt\",\n  v: \"span\",\n  lang: \"span\"\n};\n\nvar TAG_ANNOTATION = {\n  v: \"title\",\n  lang: \"lang\"\n};\n\nvar NEEDS_PARENT = {\n  rt: \"ruby\"\n};\n\n// Parse content into a document fragment.\nfunction parseContent(window, input) {\n  function nextToken() {\n    // Check for end-of-string.\n    if (!input) {\n      return null;\n    }\n\n    // Consume 'n' characters from the input.\n    function consume(result) {\n      input = input.substr(result.length);\n      return result;\n    }\n\n    var m = input.match(/^([^<]*)(<[^>]*>?)?/);\n    // If there is some text before the next tag, return it, otherwise return\n    // the tag.\n    return consume(m[1] ? m[1] : m[2]);\n  }\n\n  // Unescape a string 's'.\n  function unescape1(e) {\n    return ESCAPE[e];\n  }\n  function unescape(s) {\n    while ((m = s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))) {\n      s = s.replace(m[0], unescape1);\n    }\n    return s;\n  }\n\n  function shouldAdd(current, element) {\n    return !NEEDS_PARENT[element.localName] ||\n           NEEDS_PARENT[element.localName] === current.localName;\n  }\n\n  // Create an element for this tag.\n  function createElement(type, annotation) {\n    var tagName = TAG_NAME[type];\n    if (!tagName) {\n      return null;\n    }\n    var element = window.document.createElement(tagName);\n    element.localName = tagName;\n    var name = TAG_ANNOTATION[type];\n    if (name && annotation) {\n      element[name] = annotation.trim();\n    }\n    return element;\n  }\n\n  var rootDiv = window.document.createElement(\"div\"),\n      current = rootDiv,\n      t,\n      tagStack = [];\n\n  while ((t = nextToken()) !== null) {\n    if (t[0] === '<') {\n      if (t[1] === \"/\") {\n        // If the closing tag matches, move back up to the parent node.\n        if (tagStack.length &&\n            tagStack[tagStack.length - 1] === t.substr(2).replace(\">\", \"\")) {\n          tagStack.pop();\n          current = current.parentNode;\n        }\n        // Otherwise just ignore the end tag.\n        continue;\n      }\n      var ts = parseTimeStamp(t.substr(1, t.length - 2));\n      var node;\n      if (ts) {\n        // Timestamps are lead nodes as well.\n        node = window.document.createProcessingInstruction(\"timestamp\", ts);\n        current.appendChild(node);\n        continue;\n      }\n      var m = t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/);\n      // If we can't parse the tag, skip to the next tag.\n      if (!m) {\n        continue;\n      }\n      // Try to construct an element, and ignore the tag if we couldn't.\n      node = createElement(m[1], m[3]);\n      if (!node) {\n        continue;\n      }\n      // Determine if the tag should be added based on the context of where it\n      // is placed in the cuetext.\n      if (!shouldAdd(current, node)) {\n        continue;\n      }\n      // Set the class list (as a list of classes, separated by space).\n      if (m[2]) {\n        node.className = m[2].substr(1).replace('.', ' ');\n      }\n      // Append the node to the current node, and enter the scope of the new\n      // node.\n      tagStack.push(m[1]);\n      current.appendChild(node);\n      current = node;\n      continue;\n    }\n\n    // Text nodes are leaf nodes.\n    current.appendChild(window.document.createTextNode(unescape(t)));\n  }\n\n  return rootDiv;\n}\n\n// This is a list of all the Unicode characters that have a strong\n// right-to-left category. What this means is that these characters are\n// written right-to-left for sure. It was generated by pulling all the strong\n// right-to-left characters out of the Unicode data table. That table can\n// found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\nvar strongRTLRanges = [[0x5be, 0x5be], [0x5c0, 0x5c0], [0x5c3, 0x5c3], [0x5c6, 0x5c6],\n [0x5d0, 0x5ea], [0x5f0, 0x5f4], [0x608, 0x608], [0x60b, 0x60b], [0x60d, 0x60d],\n [0x61b, 0x61b], [0x61e, 0x64a], [0x66d, 0x66f], [0x671, 0x6d5], [0x6e5, 0x6e6],\n [0x6ee, 0x6ef], [0x6fa, 0x70d], [0x70f, 0x710], [0x712, 0x72f], [0x74d, 0x7a5],\n [0x7b1, 0x7b1], [0x7c0, 0x7ea], [0x7f4, 0x7f5], [0x7fa, 0x7fa], [0x800, 0x815],\n [0x81a, 0x81a], [0x824, 0x824], [0x828, 0x828], [0x830, 0x83e], [0x840, 0x858],\n [0x85e, 0x85e], [0x8a0, 0x8a0], [0x8a2, 0x8ac], [0x200f, 0x200f],\n [0xfb1d, 0xfb1d], [0xfb1f, 0xfb28], [0xfb2a, 0xfb36], [0xfb38, 0xfb3c],\n [0xfb3e, 0xfb3e], [0xfb40, 0xfb41], [0xfb43, 0xfb44], [0xfb46, 0xfbc1],\n [0xfbd3, 0xfd3d], [0xfd50, 0xfd8f], [0xfd92, 0xfdc7], [0xfdf0, 0xfdfc],\n [0xfe70, 0xfe74], [0xfe76, 0xfefc], [0x10800, 0x10805], [0x10808, 0x10808],\n [0x1080a, 0x10835], [0x10837, 0x10838], [0x1083c, 0x1083c], [0x1083f, 0x10855],\n [0x10857, 0x1085f], [0x10900, 0x1091b], [0x10920, 0x10939], [0x1093f, 0x1093f],\n [0x10980, 0x109b7], [0x109be, 0x109bf], [0x10a00, 0x10a00], [0x10a10, 0x10a13],\n [0x10a15, 0x10a17], [0x10a19, 0x10a33], [0x10a40, 0x10a47], [0x10a50, 0x10a58],\n [0x10a60, 0x10a7f], [0x10b00, 0x10b35], [0x10b40, 0x10b55], [0x10b58, 0x10b72],\n [0x10b78, 0x10b7f], [0x10c00, 0x10c48], [0x1ee00, 0x1ee03], [0x1ee05, 0x1ee1f],\n [0x1ee21, 0x1ee22], [0x1ee24, 0x1ee24], [0x1ee27, 0x1ee27], [0x1ee29, 0x1ee32],\n [0x1ee34, 0x1ee37], [0x1ee39, 0x1ee39], [0x1ee3b, 0x1ee3b], [0x1ee42, 0x1ee42],\n [0x1ee47, 0x1ee47], [0x1ee49, 0x1ee49], [0x1ee4b, 0x1ee4b], [0x1ee4d, 0x1ee4f],\n [0x1ee51, 0x1ee52], [0x1ee54, 0x1ee54], [0x1ee57, 0x1ee57], [0x1ee59, 0x1ee59],\n [0x1ee5b, 0x1ee5b], [0x1ee5d, 0x1ee5d], [0x1ee5f, 0x1ee5f], [0x1ee61, 0x1ee62],\n [0x1ee64, 0x1ee64], [0x1ee67, 0x1ee6a], [0x1ee6c, 0x1ee72], [0x1ee74, 0x1ee77],\n [0x1ee79, 0x1ee7c], [0x1ee7e, 0x1ee7e], [0x1ee80, 0x1ee89], [0x1ee8b, 0x1ee9b],\n [0x1eea1, 0x1eea3], [0x1eea5, 0x1eea9], [0x1eeab, 0x1eebb], [0x10fffd, 0x10fffd]];\n\nfunction isStrongRTLChar(charCode) {\n  for (var i = 0; i < strongRTLRanges.length; i++) {\n    var currentRange = strongRTLRanges[i];\n    if (charCode >= currentRange[0] && charCode <= currentRange[1]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction determineBidi(cueDiv) {\n  var nodeStack = [],\n      text = \"\",\n      charCode;\n\n  if (!cueDiv || !cueDiv.childNodes) {\n    return \"ltr\";\n  }\n\n  function pushNodes(nodeStack, node) {\n    for (var i = node.childNodes.length - 1; i >= 0; i--) {\n      nodeStack.push(node.childNodes[i]);\n    }\n  }\n\n  function nextTextNode(nodeStack) {\n    if (!nodeStack || !nodeStack.length) {\n      return null;\n    }\n\n    var node = nodeStack.pop(),\n        text = node.textContent || node.innerText;\n    if (text) {\n      // TODO: This should match all unicode type B characters (paragraph\n      // separator characters). See issue #115.\n      var m = text.match(/^.*(\\n|\\r)/);\n      if (m) {\n        nodeStack.length = 0;\n        return m[0];\n      }\n      return text;\n    }\n    if (node.tagName === \"ruby\") {\n      return nextTextNode(nodeStack);\n    }\n    if (node.childNodes) {\n      pushNodes(nodeStack, node);\n      return nextTextNode(nodeStack);\n    }\n  }\n\n  pushNodes(nodeStack, cueDiv);\n  while ((text = nextTextNode(nodeStack))) {\n    for (var i = 0; i < text.length; i++) {\n      charCode = text.charCodeAt(i);\n      if (isStrongRTLChar(charCode)) {\n        return \"rtl\";\n      }\n    }\n  }\n  return \"ltr\";\n}\n\nfunction computeLinePos(cue) {\n  if (typeof cue.line === \"number\" &&\n      (cue.snapToLines || (cue.line >= 0 && cue.line <= 100))) {\n    return cue.line;\n  }\n  if (!cue.track || !cue.track.textTrackList ||\n      !cue.track.textTrackList.mediaElement) {\n    return -1;\n  }\n  var track = cue.track,\n      trackList = track.textTrackList,\n      count = 0;\n  for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {\n    if (trackList[i].mode === \"showing\") {\n      count++;\n    }\n  }\n  return ++count * -1;\n}\n\nfunction StyleBox() {\n}\n\n// Apply styles to a div. If there is no div passed then it defaults to the\n// div on 'this'.\nStyleBox.prototype.applyStyles = function(styles, div) {\n  div = div || this.div;\n  for (var prop in styles) {\n    if (styles.hasOwnProperty(prop)) {\n      div.style[prop] = styles[prop];\n    }\n  }\n};\n\nStyleBox.prototype.formatStyle = function(val, unit) {\n  return val === 0 ? 0 : val + unit;\n};\n\n// Constructs the computed display state of the cue (a div). Places the div\n// into the overlay which should be a block level element (usually a div).\nfunction CueStyleBox(window, cue, styleOptions) {\n  StyleBox.call(this);\n  this.cue = cue;\n\n  // Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will\n  // have inline positioning and will function as the cue background box.\n  this.cueDiv = parseContent(window, cue.text);\n  var styles = {\n    color: \"rgba(255, 255, 255, 1)\",\n    backgroundColor:  \"rgba(0, 0, 0, 0.8)\",\n    position: \"relative\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    display: \"inline\",\n    writingMode: cue.vertical === \"\" ? \"horizontal-tb\"\n                                     : cue.vertical === \"lr\" ? \"vertical-lr\"\n                                                             : \"vertical-rl\",\n    unicodeBidi: \"plaintext\"\n  };\n\n  this.applyStyles(styles, this.cueDiv);\n\n  // Create an absolutely positioned div that will be used to position the cue\n  // div. Note, all WebVTT cue-setting alignments are equivalent to the CSS\n  // mirrors of them except \"middle\" which is \"center\" in CSS.\n  this.div = window.document.createElement(\"div\");\n  styles = {\n    direction: determineBidi(this.cueDiv),\n    writingMode: cue.vertical === \"\" ? \"horizontal-tb\"\n                                     : cue.vertical === \"lr\" ? \"vertical-lr\"\n                                                             : \"vertical-rl\",\n    unicodeBidi: \"plaintext\",\n    textAlign: cue.align === \"middle\" ? \"center\" : cue.align,\n    font: styleOptions.font,\n    whiteSpace: \"pre-line\",\n    position: \"absolute\"\n  };\n\n  this.applyStyles(styles);\n  this.div.appendChild(this.cueDiv);\n\n  // Calculate the distance from the reference edge of the viewport to the text\n  // position of the cue box. The reference edge will be resolved later when\n  // the box orientation styles are applied.\n  var textPos = 0;\n  switch (cue.positionAlign) {\n  case \"start\":\n    textPos = cue.position;\n    break;\n  case \"middle\":\n    textPos = cue.position - (cue.size / 2);\n    break;\n  case \"end\":\n    textPos = cue.position - cue.size;\n    break;\n  }\n\n  // Horizontal box orientation; textPos is the distance from the left edge of the\n  // area to the left edge of the box and cue.size is the distance extending to\n  // the right from there.\n  if (cue.vertical === \"\") {\n    this.applyStyles({\n      left:  this.formatStyle(textPos, \"%\"),\n      width: this.formatStyle(cue.size, \"%\")\n    });\n  // Vertical box orientation; textPos is the distance from the top edge of the\n  // area to the top edge of the box and cue.size is the height extending\n  // downwards from there.\n  } else {\n    this.applyStyles({\n      top: this.formatStyle(textPos, \"%\"),\n      height: this.formatStyle(cue.size, \"%\")\n    });\n  }\n\n  this.move = function(box) {\n    this.applyStyles({\n      top: this.formatStyle(box.top, \"px\"),\n      bottom: this.formatStyle(box.bottom, \"px\"),\n      left: this.formatStyle(box.left, \"px\"),\n      right: this.formatStyle(box.right, \"px\"),\n      height: this.formatStyle(box.height, \"px\"),\n      width: this.formatStyle(box.width, \"px\")\n    });\n  };\n}\nCueStyleBox.prototype = _objCreate(StyleBox.prototype);\nCueStyleBox.prototype.constructor = CueStyleBox;\n\n// Represents the co-ordinates of an Element in a way that we can easily\n// compute things with such as if it overlaps or intersects with another Element.\n// Can initialize it with either a StyleBox or another BoxPosition.\nfunction BoxPosition(obj) {\n  // Either a BoxPosition was passed in and we need to copy it, or a StyleBox\n  // was passed in and we need to copy the results of 'getBoundingClientRect'\n  // as the object returned is readonly. All co-ordinate values are in reference\n  // to the viewport origin (top left).\n  var lh, height, width, top;\n  if (obj.div) {\n    height = obj.div.offsetHeight;\n    width = obj.div.offsetWidth;\n    top = obj.div.offsetTop;\n\n    var rects = (rects = obj.div.childNodes) && (rects = rects[0]) &&\n                rects.getClientRects && rects.getClientRects();\n    obj = obj.div.getBoundingClientRect();\n    // In certain cases the outter div will be slightly larger then the sum of\n    // the inner div's lines. This could be due to bold text, etc, on some platforms.\n    // In this case we should get the average line height and use that. This will\n    // result in the desired behaviour.\n    lh = rects ? Math.max((rects[0] && rects[0].height) || 0, obj.height / rects.length)\n               : 0;\n\n  }\n  this.left = obj.left;\n  this.right = obj.right;\n  this.top = obj.top || top;\n  this.height = obj.height || height;\n  this.bottom = obj.bottom || (top + (obj.height || height));\n  this.width = obj.width || width;\n  this.lineHeight = lh !== undefined ? lh : obj.lineHeight;\n}\n\n// Move the box along a particular axis. Optionally pass in an amount to move\n// the box. If no amount is passed then the default is the line height of the\n// box.\nBoxPosition.prototype.move = function(axis, toMove) {\n  toMove = toMove !== undefined ? toMove : this.lineHeight;\n  switch (axis) {\n  case \"+x\":\n    this.left += toMove;\n    this.right += toMove;\n    break;\n  case \"-x\":\n    this.left -= toMove;\n    this.right -= toMove;\n    break;\n  case \"+y\":\n    this.top += toMove;\n    this.bottom += toMove;\n    break;\n  case \"-y\":\n    this.top -= toMove;\n    this.bottom -= toMove;\n    break;\n  }\n};\n\n// Check if this box overlaps another box, b2.\nBoxPosition.prototype.overlaps = function(b2) {\n  return this.left < b2.right &&\n         this.right > b2.left &&\n         this.top < b2.bottom &&\n         this.bottom > b2.top;\n};\n\n// Check if this box overlaps any other boxes in boxes.\nBoxPosition.prototype.overlapsAny = function(boxes) {\n  for (var i = 0; i < boxes.length; i++) {\n    if (this.overlaps(boxes[i])) {\n      return true;\n    }\n  }\n  return false;\n};\n\n// Check if this box is within another box.\nBoxPosition.prototype.within = function(container) {\n  return this.top >= container.top &&\n         this.bottom <= container.bottom &&\n         this.left >= container.left &&\n         this.right <= container.right;\n};\n\n// Check if this box is entirely within the container or it is overlapping\n// on the edge opposite of the axis direction passed. For example, if \"+x\" is\n// passed and the box is overlapping on the left edge of the container, then\n// return true.\nBoxPosition.prototype.overlapsOppositeAxis = function(container, axis) {\n  switch (axis) {\n  case \"+x\":\n    return this.left < container.left;\n  case \"-x\":\n    return this.right > container.right;\n  case \"+y\":\n    return this.top < container.top;\n  case \"-y\":\n    return this.bottom > container.bottom;\n  }\n};\n\n// Find the percentage of the area that this box is overlapping with another\n// box.\nBoxPosition.prototype.intersectPercentage = function(b2) {\n  var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),\n      y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),\n      intersectArea = x * y;\n  return intersectArea / (this.height * this.width);\n};\n\n// Convert the positions from this box to CSS compatible positions using\n// the reference container's positions. This has to be done because this\n// box's positions are in reference to the viewport origin, whereas, CSS\n// values are in referecne to their respective edges.\nBoxPosition.prototype.toCSSCompatValues = function(reference) {\n  return {\n    top: this.top - reference.top,\n    bottom: reference.bottom - this.bottom,\n    left: this.left - reference.left,\n    right: reference.right - this.right,\n    height: this.height,\n    width: this.width\n  };\n};\n\n// Get an object that represents the box's position without anything extra.\n// Can pass a StyleBox, HTMLElement, or another BoxPositon.\nBoxPosition.getSimpleBoxPosition = function(obj) {\n  var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;\n  var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;\n  var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;\n\n  obj = obj.div ? obj.div.getBoundingClientRect() :\n                obj.tagName ? obj.getBoundingClientRect() : obj;\n  var ret = {\n    left: obj.left,\n    right: obj.right,\n    top: obj.top || top,\n    height: obj.height || height,\n    bottom: obj.bottom || (top + (obj.height || height)),\n    width: obj.width || width\n  };\n  return ret;\n};\n\n// Move a StyleBox to its specified, or next best, position. The containerBox\n// is the box that contains the StyleBox, such as a div. boxPositions are\n// a list of other boxes that the styleBox can't overlap with.\nfunction moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {\n\n  // Find the best position for a cue box, b, on the video. The axis parameter\n  // is a list of axis, the order of which, it will move the box along. For example:\n  // Passing [\"+x\", \"-x\"] will move the box first along the x axis in the positive\n  // direction. If it doesn't find a good position for it there it will then move\n  // it along the x axis in the negative direction.\n  function findBestPosition(b, axis) {\n    var bestPosition,\n        specifiedPosition = new BoxPosition(b),\n        percentage = 1; // Highest possible so the first thing we get is better.\n\n    for (var i = 0; i < axis.length; i++) {\n      while (b.overlapsOppositeAxis(containerBox, axis[i]) ||\n             (b.within(containerBox) && b.overlapsAny(boxPositions))) {\n        b.move(axis[i]);\n      }\n      // We found a spot where we aren't overlapping anything. This is our\n      // best position.\n      if (b.within(containerBox)) {\n        return b;\n      }\n      var p = b.intersectPercentage(containerBox);\n      // If we're outside the container box less then we were on our last try\n      // then remember this position as the best position.\n      if (percentage > p) {\n        bestPosition = new BoxPosition(b);\n        percentage = p;\n      }\n      // Reset the box position to the specified position.\n      b = new BoxPosition(specifiedPosition);\n    }\n    return bestPosition || specifiedPosition;\n  }\n\n  var boxPosition = new BoxPosition(styleBox),\n      cue = styleBox.cue,\n      linePos = computeLinePos(cue),\n      axis = [];\n\n  // If we have a line number to align the cue to.\n  if (cue.snapToLines) {\n    var size;\n    switch (cue.vertical) {\n    case \"\":\n      axis = [ \"+y\", \"-y\" ];\n      size = \"height\";\n      break;\n    case \"rl\":\n      axis = [ \"+x\", \"-x\" ];\n      size = \"width\";\n      break;\n    case \"lr\":\n      axis = [ \"-x\", \"+x\" ];\n      size = \"width\";\n      break;\n    }\n\n    var step = boxPosition.lineHeight,\n        position = step * Math.round(linePos),\n        maxPosition = containerBox[size] + step,\n        initialAxis = axis[0];\n\n    // If the specified intial position is greater then the max position then\n    // clamp the box to the amount of steps it would take for the box to\n    // reach the max position.\n    if (Math.abs(position) > maxPosition) {\n      position = position < 0 ? -1 : 1;\n      position *= Math.ceil(maxPosition / step) * step;\n    }\n\n    // If computed line position returns negative then line numbers are\n    // relative to the bottom of the video instead of the top. Therefore, we\n    // need to increase our initial position by the length or width of the\n    // video, depending on the writing direction, and reverse our axis directions.\n    if (linePos < 0) {\n      position += cue.vertical === \"\" ? containerBox.height : containerBox.width;\n      axis = axis.reverse();\n    }\n\n    // Move the box to the specified position. This may not be its best\n    // position.\n    boxPosition.move(initialAxis, position);\n\n  } else {\n    // If we have a percentage line value for the cue.\n    var calculatedPercentage = (boxPosition.lineHeight / containerBox.height) * 100;\n\n    switch (cue.lineAlign) {\n    case \"middle\":\n      linePos -= (calculatedPercentage / 2);\n      break;\n    case \"end\":\n      linePos -= calculatedPercentage;\n      break;\n    }\n\n    // Apply initial line position to the cue box.\n    switch (cue.vertical) {\n    case \"\":\n      styleBox.applyStyles({\n        top: styleBox.formatStyle(linePos, \"%\")\n      });\n      break;\n    case \"rl\":\n      styleBox.applyStyles({\n        left: styleBox.formatStyle(linePos, \"%\")\n      });\n      break;\n    case \"lr\":\n      styleBox.applyStyles({\n        right: styleBox.formatStyle(linePos, \"%\")\n      });\n      break;\n    }\n\n    axis = [ \"+y\", \"-x\", \"+x\", \"-y\" ];\n\n    // Get the box position again after we've applied the specified positioning\n    // to it.\n    boxPosition = new BoxPosition(styleBox);\n  }\n\n  var bestPosition = findBestPosition(boxPosition, axis);\n  styleBox.move(bestPosition.toCSSCompatValues(containerBox));\n}\n\nfunction WebVTT() {\n  // Nothing\n}\n\n// Helper to allow strings to be decoded instead of the default binary utf8 data.\nWebVTT.StringDecoder = function() {\n  return {\n    decode: function(data) {\n      if (!data) {\n        return \"\";\n      }\n      if (typeof data !== \"string\") {\n        throw new Error(\"Error - expected string data.\");\n      }\n      return decodeURIComponent(encodeURIComponent(data));\n    }\n  };\n};\n\nWebVTT.convertCueToDOMTree = function(window, cuetext) {\n  if (!window || !cuetext) {\n    return null;\n  }\n  return parseContent(window, cuetext);\n};\n\nvar FONT_SIZE_PERCENT = 0.05;\nvar FONT_STYLE = \"sans-serif\";\nvar CUE_BACKGROUND_PADDING = \"1.5%\";\n\n// Runs the processing model over the cues and regions passed to it.\n// @param overlay A block level element (usually a div) that the computed cues\n//                and regions will be placed into.\nWebVTT.processCues = function(window, cues, overlay) {\n  if (!window || !cues || !overlay) {\n    return null;\n  }\n\n  // Remove all previous children.\n  while (overlay.firstChild) {\n    overlay.removeChild(overlay.firstChild);\n  }\n\n  var paddedOverlay = window.document.createElement(\"div\");\n  paddedOverlay.style.position = \"absolute\";\n  paddedOverlay.style.left = \"0\";\n  paddedOverlay.style.right = \"0\";\n  paddedOverlay.style.top = \"0\";\n  paddedOverlay.style.bottom = \"0\";\n  paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;\n  overlay.appendChild(paddedOverlay);\n\n  // Determine if we need to compute the display states of the cues. This could\n  // be the case if a cue's state has been changed since the last computation or\n  // if it has not been computed yet.\n  function shouldCompute(cues) {\n    for (var i = 0; i < cues.length; i++) {\n      if (cues[i].hasBeenReset || !cues[i].displayState) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  // We don't need to recompute the cues' display states. Just reuse them.\n  if (!shouldCompute(cues)) {\n    for (var i = 0; i < cues.length; i++) {\n      paddedOverlay.appendChild(cues[i].displayState);\n    }\n    return;\n  }\n\n  var boxPositions = [],\n      containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),\n      fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;\n  var styleOptions = {\n    font: fontSize + \"px \" + FONT_STYLE\n  };\n\n  (function() {\n    var styleBox, cue;\n\n    for (var i = 0; i < cues.length; i++) {\n      cue = cues[i];\n\n      // Compute the intial position and styles of the cue div.\n      styleBox = new CueStyleBox(window, cue, styleOptions);\n      paddedOverlay.appendChild(styleBox.div);\n\n      // Move the cue div to it's correct line position.\n      moveBoxToLinePosition(window, styleBox, containerBox, boxPositions);\n\n      // Remember the computed div so that we don't have to recompute it later\n      // if we don't have too.\n      cue.displayState = styleBox.div;\n\n      boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));\n    }\n  })();\n};\n\nWebVTT.Parser = function(window, vttjs, decoder) {\n  if (!decoder) {\n    decoder = vttjs;\n    vttjs = {};\n  }\n  if (!vttjs) {\n    vttjs = {};\n  }\n\n  this.window = window;\n  this.vttjs = vttjs;\n  this.state = \"INITIAL\";\n  this.buffer = \"\";\n  this.decoder = decoder || new TextDecoder(\"utf8\");\n  this.regionList = [];\n};\n\nWebVTT.Parser.prototype = {\n  // If the error is a ParsingError then report it to the consumer if\n  // possible. If it's not a ParsingError then throw it like normal.\n  reportOrThrowError: function(e) {\n    if (e instanceof ParsingError) {\n      this.onparsingerror && this.onparsingerror(e);\n    } else {\n      throw e;\n    }\n  },\n  parse: function (data) {\n    var self = this;\n\n    // If there is no data then we won't decode it, but will just try to parse\n    // whatever is in buffer already. This may occur in circumstances, for\n    // example when flush() is called.\n    if (data) {\n      // Try to decode the data that we received.\n      self.buffer += self.decoder.decode(data, {stream: true});\n    }\n\n    function collectNextLine() {\n      var buffer = self.buffer;\n      var pos = 0;\n      while (pos < buffer.length && buffer[pos] !== '\\r' && buffer[pos] !== '\\n') {\n        ++pos;\n      }\n      var line = buffer.substr(0, pos);\n      // Advance the buffer early in case we fail below.\n      if (buffer[pos] === '\\r') {\n        ++pos;\n      }\n      if (buffer[pos] === '\\n') {\n        ++pos;\n      }\n      self.buffer = buffer.substr(pos);\n      return line;\n    }\n\n    // 3.4 WebVTT region and WebVTT region settings syntax\n    function parseRegion(input) {\n      var settings = new Settings();\n\n      parseOptions(input, function (k, v) {\n        switch (k) {\n        case \"id\":\n          settings.set(k, v);\n          break;\n        case \"width\":\n          settings.percent(k, v);\n          break;\n        case \"lines\":\n          settings.integer(k, v);\n          break;\n        case \"regionanchor\":\n        case \"viewportanchor\":\n          var xy = v.split(',');\n          if (xy.length !== 2) {\n            break;\n          }\n          // We have to make sure both x and y parse, so use a temporary\n          // settings object here.\n          var anchor = new Settings();\n          anchor.percent(\"x\", xy[0]);\n          anchor.percent(\"y\", xy[1]);\n          if (!anchor.has(\"x\") || !anchor.has(\"y\")) {\n            break;\n          }\n          settings.set(k + \"X\", anchor.get(\"x\"));\n          settings.set(k + \"Y\", anchor.get(\"y\"));\n          break;\n        case \"scroll\":\n          settings.alt(k, v, [\"up\"]);\n          break;\n        }\n      }, /=/, /\\s/);\n\n      // Create the region, using default values for any values that were not\n      // specified.\n      if (settings.has(\"id\")) {\n        var region = new (self.vttjs.VTTRegion || self.window.VTTRegion)();\n        region.width = settings.get(\"width\", 100);\n        region.lines = settings.get(\"lines\", 3);\n        region.regionAnchorX = settings.get(\"regionanchorX\", 0);\n        region.regionAnchorY = settings.get(\"regionanchorY\", 100);\n        region.viewportAnchorX = settings.get(\"viewportanchorX\", 0);\n        region.viewportAnchorY = settings.get(\"viewportanchorY\", 100);\n        region.scroll = settings.get(\"scroll\", \"\");\n        // Register the region.\n        self.onregion && self.onregion(region);\n        // Remember the VTTRegion for later in case we parse any VTTCues that\n        // reference it.\n        self.regionList.push({\n          id: settings.get(\"id\"),\n          region: region\n        });\n      }\n    }\n\n    // draft-pantos-http-live-streaming-20\n    // https://tools.ietf.org/html/draft-pantos-http-live-streaming-20#section-3.5\n    // 3.5 WebVTT\n    function parseTimestampMap(input) {\n      var settings = new Settings();\n\n      parseOptions(input, function(k, v) {\n        switch(k) {\n        case \"MPEGT\":\n          settings.integer(k + 'S', v);\n          break;\n        case \"LOCA\":\n          settings.set(k + 'L', parseTimeStamp(v));\n          break;\n        }\n      }, /[^\\d]:/, /,/);\n\n      self.ontimestampmap && self.ontimestampmap({\n        \"MPEGTS\": settings.get(\"MPEGTS\"),\n        \"LOCAL\": settings.get(\"LOCAL\")\n      });\n    }\n\n    // 3.2 WebVTT metadata header syntax\n    function parseHeader(input) {\n      if (input.match(/X-TIMESTAMP-MAP/)) {\n        // This line contains HLS X-TIMESTAMP-MAP metadata\n        parseOptions(input, function(k, v) {\n          switch(k) {\n          case \"X-TIMESTAMP-MAP\":\n            parseTimestampMap(v);\n            break;\n          }\n        }, /=/);\n      } else {\n        parseOptions(input, function (k, v) {\n          switch (k) {\n          case \"Region\":\n            // 3.3 WebVTT region metadata header syntax\n            parseRegion(v);\n            break;\n          }\n        }, /:/);\n      }\n\n    }\n\n    // 5.1 WebVTT file parsing.\n    try {\n      var line;\n      if (self.state === \"INITIAL\") {\n        // We can't start parsing until we have the first line.\n        if (!/\\r\\n|\\n/.test(self.buffer)) {\n          return this;\n        }\n\n        line = collectNextLine();\n\n        var m = line.match(/^WEBVTT([ \\t].*)?$/);\n        if (!m || !m[0]) {\n          throw new ParsingError(ParsingError.Errors.BadSignature);\n        }\n\n        self.state = \"HEADER\";\n      }\n\n      var alreadyCollectedLine = false;\n      while (self.buffer) {\n        // We can't parse a line until we have the full line.\n        if (!/\\r\\n|\\n/.test(self.buffer)) {\n          return this;\n        }\n\n        if (!alreadyCollectedLine) {\n          line = collectNextLine();\n        } else {\n          alreadyCollectedLine = false;\n        }\n\n        switch (self.state) {\n        case \"HEADER\":\n          // 13-18 - Allow a header (metadata) under the WEBVTT line.\n          if (/:/.test(line)) {\n            parseHeader(line);\n          } else if (!line) {\n            // An empty line terminates the header and starts the body (cues).\n            self.state = \"ID\";\n          }\n          continue;\n        case \"NOTE\":\n          // Ignore NOTE blocks.\n          if (!line) {\n            self.state = \"ID\";\n          }\n          continue;\n        case \"ID\":\n          // Check for the start of NOTE blocks.\n          if (/^NOTE($|[ \\t])/.test(line)) {\n            self.state = \"NOTE\";\n            break;\n          }\n          // 19-29 - Allow any number of line terminators, then initialize new cue values.\n          if (!line) {\n            continue;\n          }\n          self.cue = new (self.vttjs.VTTCue || self.window.VTTCue)(0, 0, \"\");\n          self.state = \"CUE\";\n          // 30-39 - Check if self line contains an optional identifier or timing data.\n          if (line.indexOf(\"-->\") === -1) {\n            self.cue.id = line;\n            continue;\n          }\n          // Process line as start of a cue.\n          /*falls through*/\n        case \"CUE\":\n          // 40 - Collect cue timings and settings.\n          try {\n            parseCue(line, self.cue, self.regionList);\n          } catch (e) {\n            self.reportOrThrowError(e);\n            // In case of an error ignore rest of the cue.\n            self.cue = null;\n            self.state = \"BADCUE\";\n            continue;\n          }\n          self.state = \"CUETEXT\";\n          continue;\n        case \"CUETEXT\":\n          var hasSubstring = line.indexOf(\"-->\") !== -1;\n          // 34 - If we have an empty line then report the cue.\n          // 35 - If we have the special substring '-->' then report the cue,\n          // but do not collect the line as we need to process the current\n          // one as a new cue.\n          if (!line || hasSubstring && (alreadyCollectedLine = true)) {\n            // We are done parsing self cue.\n            self.oncue && self.oncue(self.cue);\n            self.cue = null;\n            self.state = \"ID\";\n            continue;\n          }\n          if (self.cue.text) {\n            self.cue.text += \"\\n\";\n          }\n          self.cue.text += line;\n          continue;\n        case \"BADCUE\": // BADCUE\n          // 54-62 - Collect and discard the remaining cue.\n          if (!line) {\n            self.state = \"ID\";\n          }\n          continue;\n        }\n      }\n    } catch (e) {\n      self.reportOrThrowError(e);\n\n      // If we are currently parsing a cue, report what we have.\n      if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\n        self.oncue(self.cue);\n      }\n      self.cue = null;\n      // Enter BADWEBVTT state if header was not parsed correctly otherwise\n      // another exception occurred so enter BADCUE state.\n      self.state = self.state === \"INITIAL\" ? \"BADWEBVTT\" : \"BADCUE\";\n    }\n    return this;\n  },\n  flush: function () {\n    var self = this;\n    try {\n      // Finish decoding the stream.\n      self.buffer += self.decoder.decode();\n      // Synthesize the end of the current cue or region.\n      if (self.cue || self.state === \"HEADER\") {\n        self.buffer += \"\\n\\n\";\n        self.parse();\n      }\n      // If we've flushed, parsed, and we're still on the INITIAL state then\n      // that means we don't have enough of the stream to parse the first\n      // line.\n      if (self.state === \"INITIAL\") {\n        throw new ParsingError(ParsingError.Errors.BadSignature);\n      }\n    } catch(e) {\n      self.reportOrThrowError(e);\n    }\n    self.onflush && self.onflush();\n    return this;\n  }\n};\n\nmodule.exports = WebVTT;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['workdocs'] = {};\nAWS.WorkDocs = Service.defineService('workdocs', ['2016-05-01']);\nObject.defineProperty(apiLoader.services['workdocs'], '2016-05-01', {\n  get: function get() {\n    var model = require('../apis/workdocs-2016-05-01.min.json');\n    model.paginators = require('../apis/workdocs-2016-05-01.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.WorkDocs;\n","// see https://tools.ietf.org/html/rfc1808\n\n/* jshint ignore:start */\n(function(root) { \n/* jshint ignore:end */\n\n  var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/\\?#]*\\/)*.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/;\n  var FIRST_SEGMENT_REGEX = /^([^\\/?#]*)(.*)$/;\n  var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\n  var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g;\n\n  var URLToolkit = { // jshint ignore:line\n    // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\n    // E.g\n    // With opts.alwaysNormalize = false (default, spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\n    // With opts.alwaysNormalize = true (not spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\n    buildAbsoluteURL: function(baseURL, relativeURL, opts) {\n      opts = opts || {};\n      // remove any remaining space and CRLF\n      baseURL = baseURL.trim();\n      relativeURL = relativeURL.trim();\n      if (!relativeURL) {\n        // 2a) If the embedded URL is entirely empty, it inherits the\n        // entire base URL (i.e., is set equal to the base URL)\n        // and we are done.\n        if (!opts.alwaysNormalize) {\n          return baseURL;\n        }\n        var basePartsForNormalise = URLToolkit.parseURL(baseURL);\n        if (!basePartsForNormalise) {\n          throw new Error('Error trying to parse base URL.');\n        }\n        basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\n        return URLToolkit.buildURLFromParts(basePartsForNormalise);\n      }\n      var relativeParts = URLToolkit.parseURL(relativeURL);\n      if (!relativeParts) {\n        throw new Error('Error trying to parse relative URL.');\n      }\n      if (relativeParts.scheme) {\n        // 2b) If the embedded URL starts with a scheme name, it is\n        // interpreted as an absolute URL and we are done.\n        if (!opts.alwaysNormalize) {\n          return relativeURL;\n        }\n        relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\n        return URLToolkit.buildURLFromParts(relativeParts);\n      }\n      var baseParts = URLToolkit.parseURL(baseURL);\n      if (!baseParts) {\n        throw new Error('Error trying to parse base URL.');\n      }\n      if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\n        // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\n        // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\n        var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\n        baseParts.netLoc = pathParts[1];\n        baseParts.path = pathParts[2];\n      }\n      if (baseParts.netLoc && !baseParts.path) {\n        baseParts.path = '/';\n      }\n      var builtParts = {\n        // 2c) Otherwise, the embedded URL inherits the scheme of\n        // the base URL.\n        scheme: baseParts.scheme,\n        netLoc: relativeParts.netLoc,\n        path: null,\n        params: relativeParts.params,\n        query: relativeParts.query,\n        fragment: relativeParts.fragment\n      };\n      if (!relativeParts.netLoc) {\n        // 3) If the embedded URL's <net_loc> is non-empty, we skip to\n        // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\n        // (if any) of the base URL.\n        builtParts.netLoc = baseParts.netLoc;\n        // 4) If the embedded URL path is preceded by a slash \"/\", the\n        // path is not relative and we skip to Step 7.\n        if (relativeParts.path[0] !== '/') {\n          if (!relativeParts.path) {\n            // 5) If the embedded URL path is empty (and not preceded by a\n            // slash), then the embedded URL inherits the base URL path\n            builtParts.path = baseParts.path;\n            // 5a) if the embedded URL's <params> is non-empty, we skip to\n            // step 7; otherwise, it inherits the <params> of the base\n            // URL (if any) and\n            if (!relativeParts.params) {\n              builtParts.params = baseParts.params;\n              // 5b) if the embedded URL's <query> is non-empty, we skip to\n              // step 7; otherwise, it inherits the <query> of the base\n              // URL (if any) and we skip to step 7.\n              if (!relativeParts.query) {\n                builtParts.query = baseParts.query;\n              }\n            }\n          } else {\n            // 6) The last segment of the base URL's path (anything\n            // following the rightmost slash \"/\", or the entire path if no\n            // slash is present) is removed and the embedded URL's path is\n            // appended in its place.\n            var baseURLPath = baseParts.path;\n            var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\n            builtParts.path = URLToolkit.normalizePath(newPath);\n          }\n        }\n      }\n      if (builtParts.path === null) {\n        builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\n      }\n      return URLToolkit.buildURLFromParts(builtParts);\n    },\n    parseURL: function(url) {\n      var parts = URL_REGEX.exec(url);\n      if (!parts) {\n        return null;\n      }\n      return {\n        scheme: parts[1] || '',\n        netLoc: parts[2] || '',\n        path: parts[3] || '',\n        params: parts[4] || '',\n        query: parts[5] || '',\n        fragment: parts[6] || ''\n      };\n    },\n    normalizePath: function(path) {\n      // The following operations are\n      // then applied, in order, to the new path:\n      // 6a) All occurrences of \"./\", where \".\" is a complete path\n      // segment, are removed.\n      // 6b) If the path ends with \".\" as a complete path segment,\n      // that \".\" is removed.\n      path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, '');\n      // 6c) All occurrences of \"<segment>/../\", where <segment> is a\n      // complete path segment not equal to \"..\", are removed.\n      // Removal of these path segments is performed iteratively,\n      // removing the leftmost matching pattern on each iteration,\n      // until no matching pattern remains.\n      // 6d) If the path ends with \"<segment>/..\", where <segment> is a\n      // complete path segment not equal to \"..\", that\n      // \"<segment>/..\" is removed.\n      while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {} // jshint ignore:line\n      return path.split('').reverse().join('');\n    },\n    buildURLFromParts: function(parts) {\n      return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\n    }\n  };\n\n/* jshint ignore:start */\n  if(typeof exports === 'object' && typeof module === 'object')\n    module.exports = URLToolkit;\n  else if(typeof define === 'function' && define.amd)\n    define([], function() { return URLToolkit; });\n  else if(typeof exports === 'object')\n    exports[\"URLToolkit\"] = URLToolkit;\n  else\n    root[\"URLToolkit\"] = URLToolkit;\n})(this);\n/* jshint ignore:end */\n","var AWS = require('../core'),\n    url = AWS.util.url,\n    crypto = AWS.util.crypto.lib,\n    base64Encode = AWS.util.base64.encode,\n    inherit = AWS.util.inherit;\n\nvar queryEncode = function (string) {\n    var replacements = {\n        '+': '-',\n        '=': '_',\n        '/': '~'\n    };\n    return string.replace(/[\\+=\\/]/g, function (match) {\n        return replacements[match];\n    });\n};\n\nvar signPolicy = function (policy, privateKey) {\n    var sign = crypto.createSign('RSA-SHA1');\n    sign.write(policy);\n    return queryEncode(sign.sign(privateKey, 'base64'));\n};\n\nvar signWithCannedPolicy = function (url, expires, keyPairId, privateKey) {\n    var policy = JSON.stringify({\n        Statement: [\n            {\n                Resource: url,\n                Condition: { DateLessThan: { 'AWS:EpochTime': expires } }\n            }\n        ]\n    });\n\n    return {\n        Expires: expires,\n        'Key-Pair-Id': keyPairId,\n        Signature: signPolicy(policy.toString(), privateKey)\n    };\n};\n\nvar signWithCustomPolicy = function (policy, keyPairId, privateKey) {\n    policy = policy.replace(/\\s/mg, '');\n\n    return {\n        Policy: queryEncode(base64Encode(policy)),\n        'Key-Pair-Id': keyPairId,\n        Signature: signPolicy(policy, privateKey)\n    };\n};\n\nvar determineScheme = function (url) {\n    var parts = url.split('://');\n    if (parts.length < 2) {\n        throw new Error('Invalid URL.');\n    }\n\n    return parts[0].replace('*', '');\n};\n\nvar getRtmpUrl = function (rtmpUrl) {\n    var parsed = url.parse(rtmpUrl);\n    return parsed.path.replace(/^\\//, '') + (parsed.hash || '');\n};\n\nvar getResource = function (url) {\n    switch (determineScheme(url)) {\n        case 'http':\n        case 'https':\n            return url;\n        case 'rtmp':\n            return getRtmpUrl(url);\n        default:\n            throw new Error('Invalid URI scheme. Scheme must be one of'\n                + ' http, https, or rtmp');\n    }\n};\n\nvar handleError = function (err, callback) {\n    if (!callback || typeof callback !== 'function') {\n        throw err;\n    }\n\n    callback(err);\n};\n\nvar handleSuccess = function (result, callback) {\n    if (!callback || typeof callback !== 'function') {\n        return result;\n    }\n\n    callback(null, result);\n};\n\nAWS.CloudFront.Signer = inherit({\n    /**\n     * A signer object can be used to generate signed URLs and cookies for granting\n     * access to content on restricted CloudFront distributions.\n     *\n     * @see http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/PrivateContent.html\n     *\n     * @param keyPairId [String]    (Required) The ID of the CloudFront key pair\n     *                              being used.\n     * @param privateKey [String]   (Required) A private key in RSA format.\n     */\n    constructor: function Signer(keyPairId, privateKey) {\n        if (keyPairId === void 0 || privateKey === void 0) {\n            throw new Error('A key pair ID and private key are required');\n        }\n\n        this.keyPairId = keyPairId;\n        this.privateKey = privateKey;\n    },\n\n    /**\n     * Create a signed Amazon CloudFront Cookie.\n     *\n     * @param options [Object]            The options to create a signed cookie.\n     * @option options url [String]     The URL to which the signature will grant\n     *                                  access. Required unless you pass in a full\n     *                                  policy.\n     * @option options expires [Number] A Unix UTC timestamp indicating when the\n     *                                  signature should expire. Required unless you\n     *                                  pass in a full policy.\n     * @option options policy [String]  A CloudFront JSON policy. Required unless\n     *                                  you pass in a url and an expiry time.\n     *\n     * @param cb [Function] if a callback is provided, this function will\n     *   pass the hash as the second parameter (after the error parameter) to\n     *   the callback function.\n     *\n     * @return [Object] if called synchronously (with no callback), returns the\n     *   signed cookie parameters.\n     * @return [null] nothing is returned if a callback is provided.\n     */\n    getSignedCookie: function (options, cb) {\n        var signatureHash = 'policy' in options\n            ? signWithCustomPolicy(options.policy, this.keyPairId, this.privateKey)\n            : signWithCannedPolicy(options.url, options.expires, this.keyPairId, this.privateKey);\n\n        var cookieHash = {};\n        for (var key in signatureHash) {\n            if (Object.prototype.hasOwnProperty.call(signatureHash, key)) {\n                cookieHash['CloudFront-' + key] = signatureHash[key];\n            }\n        }\n\n        return handleSuccess(cookieHash, cb);\n    },\n\n    /**\n     * Create a signed Amazon CloudFront URL.\n     *\n     * Keep in mind that URLs meant for use in media/flash players may have\n     * different requirements for URL formats (e.g. some require that the\n     * extension be removed, some require the file name to be prefixed\n     * - mp4:<path>, some require you to add \"/cfx/st\" into your URL).\n     *\n     * @param options [Object]          The options to create a signed URL.\n     * @option options url [String]     The URL to which the signature will grant\n     *                                  access. Any query params included with\n     *                                  the URL should be encoded. Required.\n     * @option options expires [Number] A Unix UTC timestamp indicating when the\n     *                                  signature should expire. Required unless you\n     *                                  pass in a full policy.\n     * @option options policy [String]  A CloudFront JSON policy. Required unless\n     *                                  you pass in a url and an expiry time.\n     *\n     * @param cb [Function] if a callback is provided, this function will\n     *   pass the URL as the second parameter (after the error parameter) to\n     *   the callback function.\n     *\n     * @return [String] if called synchronously (with no callback), returns the\n     *   signed URL.\n     * @return [null] nothing is returned if a callback is provided.\n     */\n    getSignedUrl: function (options, cb) {\n        try {\n            var resource = getResource(options.url);\n        } catch (err) {\n            return handleError(err, cb);\n        }\n\n        var parsedUrl = url.parse(options.url, true),\n            signatureHash = Object.prototype.hasOwnProperty.call(options, 'policy')\n                ? signWithCustomPolicy(options.policy, this.keyPairId, this.privateKey)\n                : signWithCannedPolicy(resource, options.expires, this.keyPairId, this.privateKey);\n\n        parsedUrl.search = null;\n        for (var key in signatureHash) {\n            if (Object.prototype.hasOwnProperty.call(signatureHash, key)) {\n                parsedUrl.query[key] = signatureHash[key];\n            }\n        }\n\n        try {\n            var signedUrl = determineScheme(options.url) === 'rtmp'\n                    ? getRtmpUrl(url.format(parsedUrl))\n                    : url.format(parsedUrl);\n        } catch (err) {\n            return handleError(err, cb);\n        }\n\n        return handleSuccess(signedUrl, cb);\n    }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.CloudFront.Signer;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cloudwatchevents'] = {};\nAWS.CloudWatchEvents = Service.defineService('cloudwatchevents', ['2014-02-03*', '2015-10-07']);\nObject.defineProperty(apiLoader.services['cloudwatchevents'], '2015-10-07', {\n  get: function get() {\n    var model = require('../apis/events-2015-10-07.min.json');\n    model.paginators = require('../apis/events-2015-10-07.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CloudWatchEvents;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['kms'] = {};\nAWS.KMS = Service.defineService('kms', ['2014-11-01']);\nObject.defineProperty(apiLoader.services['kms'], '2014-11-01', {\n  get: function get() {\n    var model = require('../apis/kms-2014-11-01.min.json');\n    model.paginators = require('../apis/kms-2014-11-01.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.KMS;\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['kinesisvideo'] = {};\nAWS.KinesisVideo = Service.defineService('kinesisvideo', ['2017-09-30']);\nObject.defineProperty(apiLoader.services['kinesisvideo'], '2017-09-30', {\n  get: function get() {\n    var model = require('../apis/kinesisvideo-2017-09-30.min.json');\n    model.paginators = require('../apis/kinesisvideo-2017-09-30.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.KinesisVideo;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","var Shape = require('./shape');\n\nvar util = require('../util');\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Operation(name, operation, options) {\n  var self = this;\n  options = options || {};\n\n  property(this, 'name', operation.name || name);\n  property(this, 'api', options.api, false);\n\n  operation.http = operation.http || {};\n  property(this, 'endpoint', operation.endpoint);\n  property(this, 'httpMethod', operation.http.method || 'POST');\n  property(this, 'httpPath', operation.http.requestUri || '/');\n  property(this, 'authtype', operation.authtype || '');\n  property(\n    this,\n    'endpointDiscoveryRequired',\n    operation.endpointdiscovery ?\n      (operation.endpointdiscovery.required ? 'REQUIRED' : 'OPTIONAL') :\n    'NULL'\n  );\n\n  memoizedProperty(this, 'input', function() {\n    if (!operation.input) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.input, options);\n  });\n\n  memoizedProperty(this, 'output', function() {\n    if (!operation.output) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.output, options);\n  });\n\n  memoizedProperty(this, 'errors', function() {\n    var list = [];\n    if (!operation.errors) return null;\n\n    for (var i = 0; i < operation.errors.length; i++) {\n      list.push(Shape.create(operation.errors[i], options));\n    }\n\n    return list;\n  });\n\n  memoizedProperty(this, 'paginator', function() {\n    return options.api.paginators[name];\n  });\n\n  if (options.documentation) {\n    property(this, 'documentation', operation.documentation);\n    property(this, 'documentationUrl', operation.documentationUrl);\n  }\n\n  // idempotentMembers only tracks top-level input shapes\n  memoizedProperty(this, 'idempotentMembers', function() {\n    var idempotentMembers = [];\n    var input = self.input;\n    var members = input.members;\n    if (!input.members) {\n      return idempotentMembers;\n    }\n    for (var name in members) {\n      if (!members.hasOwnProperty(name)) {\n        continue;\n      }\n      if (members[name].isIdempotent === true) {\n        idempotentMembers.push(name);\n      }\n    }\n    return idempotentMembers;\n  });\n\n  memoizedProperty(this, 'hasEventOutput', function() {\n    var output = self.output;\n    return hasEventStream(output);\n  });\n}\n\nfunction hasEventStream(topLevelShape) {\n  var members = topLevelShape.members;\n  var payload = topLevelShape.payload;\n\n  if (!topLevelShape.members) {\n    return false;\n  }\n\n  if (payload) {\n    var payloadMember = members[payload];\n    return payloadMember.isEventStream;\n  }\n\n  // check if any member is an event stream\n  for (var name in members) {\n    if (!members.hasOwnProperty(name)) {\n      if (members[name].isEventStream === true) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * @api private\n */\nmodule.exports = Operation;\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Parse mpeg2 transport stream packets to extract basic timing information\n */\n'use strict';\n\nvar StreamTypes = require('../m2ts/stream-types.js');\nvar handleRollover = require('../m2ts/timestamp-rollover-stream.js').handleRollover;\nvar probe = {};\nprobe.ts = require('../m2ts/probe.js');\nprobe.aac = require('../aac/utils.js');\nvar ONE_SECOND_IN_TS = require('../utils/clock').ONE_SECOND_IN_TS;\n\nvar\n  MP2T_PACKET_LENGTH = 188, // bytes\n  SYNC_BYTE = 0x47;\n\n/**\n * walks through segment data looking for pat and pmt packets to parse out\n * program map table information\n */\nvar parsePsi_ = function(bytes, pmt) {\n  var\n    startIndex = 0,\n    endIndex = MP2T_PACKET_LENGTH,\n    packet, type;\n\n  while (endIndex < bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pat':\n          if (!pmt.pid) {\n            pmt.pid = probe.ts.parsePat(packet);\n          }\n          break;\n        case 'pmt':\n          if (!pmt.table) {\n            pmt.table = probe.ts.parsePmt(packet);\n          }\n          break;\n        default:\n          break;\n      }\n\n      // Found the pat and pmt, we can stop walking the segment\n      if (pmt.pid && pmt.table) {\n        return;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    }\n\n    // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n    startIndex++;\n    endIndex++;\n  }\n};\n\n/**\n * walks through the segment data from the start and end to get timing information\n * for the first and last audio pes packets\n */\nvar parseAudioPes_ = function(bytes, pmt, result) {\n  var\n    startIndex = 0,\n    endIndex = MP2T_PACKET_LENGTH,\n    packet, type, pesType, pusi, parsed;\n\n  var endLoop = false;\n\n  // Start walking from start of segment to get first audio packet\n  while (endIndex <= bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE &&\n        (bytes[endIndex] === SYNC_BYTE || endIndex === bytes.byteLength)) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n          if (pesType === 'audio' && pusi) {\n            parsed = probe.ts.parsePesTime(packet);\n            if (parsed) {\n              parsed.type = 'audio';\n              result.audio.push(parsed);\n              endLoop = true;\n            }\n          }\n          break;\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    }\n\n    // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n    startIndex++;\n    endIndex++;\n  }\n\n  // Start walking from end of segment to get last audio packet\n  endIndex = bytes.byteLength;\n  startIndex = endIndex - MP2T_PACKET_LENGTH;\n  endLoop = false;\n  while (startIndex >= 0) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE &&\n        (bytes[endIndex] === SYNC_BYTE || endIndex === bytes.byteLength)) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n          if (pesType === 'audio' && pusi) {\n            parsed = probe.ts.parsePesTime(packet);\n            if (parsed) {\n              parsed.type = 'audio';\n              result.audio.push(parsed);\n              endLoop = true;\n            }\n          }\n          break;\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex -= MP2T_PACKET_LENGTH;\n      endIndex -= MP2T_PACKET_LENGTH;\n      continue;\n    }\n\n    // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n    startIndex--;\n    endIndex--;\n  }\n};\n\n/**\n * walks through the segment data from the start and end to get timing information\n * for the first and last video pes packets as well as timing information for the first\n * key frame.\n */\nvar parseVideoPes_ = function(bytes, pmt, result) {\n  var\n    startIndex = 0,\n    endIndex = MP2T_PACKET_LENGTH,\n    packet, type, pesType, pusi, parsed, frame, i, pes;\n\n  var endLoop = false;\n\n  var currentFrame = {\n    data: [],\n    size: 0\n  };\n\n  // Start walking from start of segment to get first video packet\n  while (endIndex < bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n          if (pesType === 'video') {\n            if (pusi && !endLoop) {\n              parsed = probe.ts.parsePesTime(packet);\n              if (parsed) {\n                parsed.type = 'video';\n                result.video.push(parsed);\n                endLoop = true;\n              }\n            }\n            if (!result.firstKeyFrame) {\n              if (pusi) {\n                if (currentFrame.size !== 0) {\n                  frame = new Uint8Array(currentFrame.size);\n                  i = 0;\n                  while (currentFrame.data.length) {\n                    pes = currentFrame.data.shift();\n                    frame.set(pes, i);\n                    i += pes.byteLength;\n                  }\n                  if (probe.ts.videoPacketContainsKeyFrame(frame)) {\n                    var firstKeyFrame = probe.ts.parsePesTime(frame);\n\n                    // PTS/DTS may not be available. Simply *not* setting\n                    // the keyframe seems to work fine with HLS playback\n                    // and definitely preferable to a crash with TypeError...\n                    if (firstKeyFrame) {\n                      result.firstKeyFrame = firstKeyFrame;\n                      result.firstKeyFrame.type = 'video';\n                    } else {\n                      // eslint-disable-next-line\n                      console.warn(\n                        'Failed to extract PTS/DTS from PES at first keyframe. ' +\n                        'This could be an unusual TS segment, or else mux.js did not ' +\n                        'parse your TS segment correctly. If you know your TS ' +\n                        'segments do contain PTS/DTS on keyframes please file a bug ' +\n                        'report! You can try ffprobe to double check for yourself.'\n                      );\n                    }\n                  }\n                  currentFrame.size = 0;\n                }\n              }\n              currentFrame.data.push(packet);\n              currentFrame.size += packet.byteLength;\n            }\n          }\n          break;\n        default:\n          break;\n      }\n\n      if (endLoop && result.firstKeyFrame) {\n        break;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    }\n\n    // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n    startIndex++;\n    endIndex++;\n  }\n\n  // Start walking from end of segment to get last video packet\n  endIndex = bytes.byteLength;\n  startIndex = endIndex - MP2T_PACKET_LENGTH;\n  endLoop = false;\n  while (startIndex >= 0) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n          if (pesType === 'video' && pusi) {\n              parsed = probe.ts.parsePesTime(packet);\n              if (parsed) {\n                parsed.type = 'video';\n                result.video.push(parsed);\n                endLoop = true;\n              }\n          }\n          break;\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex -= MP2T_PACKET_LENGTH;\n      endIndex -= MP2T_PACKET_LENGTH;\n      continue;\n    }\n\n    // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n    startIndex--;\n    endIndex--;\n  }\n};\n\n/**\n * Adjusts the timestamp information for the segment to account for\n * rollover and convert to seconds based on pes packet timescale (90khz clock)\n */\nvar adjustTimestamp_ = function(segmentInfo, baseTimestamp) {\n  if (segmentInfo.audio && segmentInfo.audio.length) {\n    var audioBaseTimestamp = baseTimestamp;\n    if (typeof audioBaseTimestamp === 'undefined') {\n      audioBaseTimestamp = segmentInfo.audio[0].dts;\n    }\n    segmentInfo.audio.forEach(function(info) {\n      info.dts = handleRollover(info.dts, audioBaseTimestamp);\n      info.pts = handleRollover(info.pts, audioBaseTimestamp);\n      // time in seconds\n      info.dtsTime = info.dts / ONE_SECOND_IN_TS;\n      info.ptsTime = info.pts / ONE_SECOND_IN_TS;\n    });\n  }\n\n  if (segmentInfo.video && segmentInfo.video.length) {\n    var videoBaseTimestamp = baseTimestamp;\n    if (typeof videoBaseTimestamp === 'undefined') {\n      videoBaseTimestamp = segmentInfo.video[0].dts;\n    }\n    segmentInfo.video.forEach(function(info) {\n      info.dts = handleRollover(info.dts, videoBaseTimestamp);\n      info.pts = handleRollover(info.pts, videoBaseTimestamp);\n      // time in seconds\n      info.dtsTime = info.dts / ONE_SECOND_IN_TS;\n      info.ptsTime = info.pts / ONE_SECOND_IN_TS;\n    });\n    if (segmentInfo.firstKeyFrame) {\n      var frame = segmentInfo.firstKeyFrame;\n      frame.dts = handleRollover(frame.dts, videoBaseTimestamp);\n      frame.pts = handleRollover(frame.pts, videoBaseTimestamp);\n      // time in seconds\n      frame.dtsTime = frame.dts / ONE_SECOND_IN_TS;\n      frame.ptsTime = frame.dts / ONE_SECOND_IN_TS;\n    }\n  }\n};\n\n/**\n * inspects the aac data stream for start and end time information\n */\nvar inspectAac_ = function(bytes) {\n  var\n    endLoop = false,\n    audioCount = 0,\n    sampleRate = null,\n    timestamp = null,\n    frameSize = 0,\n    byteIndex = 0,\n    packet;\n\n  while (bytes.length - byteIndex >= 3) {\n    var type = probe.aac.parseType(bytes, byteIndex);\n    switch (type) {\n      case 'timed-metadata':\n        // Exit early because we don't have enough to parse\n        // the ID3 tag header\n        if (bytes.length - byteIndex < 10) {\n          endLoop = true;\n          break;\n        }\n\n        frameSize = probe.aac.parseId3TagSize(bytes, byteIndex);\n\n        // Exit early if we don't have enough in the buffer\n        // to emit a full packet\n        if (frameSize > bytes.length) {\n          endLoop = true;\n          break;\n        }\n        if (timestamp === null) {\n          packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n          timestamp = probe.aac.parseAacTimestamp(packet);\n        }\n        byteIndex += frameSize;\n        break;\n      case 'audio':\n        // Exit early because we don't have enough to parse\n        // the ADTS frame header\n        if (bytes.length - byteIndex < 7) {\n          endLoop = true;\n          break;\n        }\n\n        frameSize = probe.aac.parseAdtsSize(bytes, byteIndex);\n\n        // Exit early if we don't have enough in the buffer\n        // to emit a full packet\n        if (frameSize > bytes.length) {\n          endLoop = true;\n          break;\n        }\n        if (sampleRate === null) {\n          packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n          sampleRate = probe.aac.parseSampleRate(packet);\n        }\n        audioCount++;\n        byteIndex += frameSize;\n        break;\n      default:\n        byteIndex++;\n        break;\n    }\n    if (endLoop) {\n      return null;\n    }\n  }\n  if (sampleRate === null || timestamp === null) {\n    return null;\n  }\n\n  var audioTimescale = ONE_SECOND_IN_TS / sampleRate;\n\n  var result = {\n    audio: [\n      {\n        type: 'audio',\n        dts: timestamp,\n        pts: timestamp\n      },\n      {\n        type: 'audio',\n        dts: timestamp + (audioCount * 1024 * audioTimescale),\n        pts: timestamp + (audioCount * 1024 * audioTimescale)\n      }\n    ]\n  };\n\n  return result;\n};\n\n/**\n * inspects the transport stream segment data for start and end time information\n * of the audio and video tracks (when present) as well as the first key frame's\n * start time.\n */\nvar inspectTs_ = function(bytes) {\n  var pmt = {\n    pid: null,\n    table: null\n  };\n\n  var result = {};\n\n  parsePsi_(bytes, pmt);\n\n  for (var pid in pmt.table) {\n    if (pmt.table.hasOwnProperty(pid)) {\n      var type = pmt.table[pid];\n      switch (type) {\n        case StreamTypes.H264_STREAM_TYPE:\n          result.video = [];\n          parseVideoPes_(bytes, pmt, result);\n          if (result.video.length === 0) {\n            delete result.video;\n          }\n          break;\n        case StreamTypes.ADTS_STREAM_TYPE:\n          result.audio = [];\n          parseAudioPes_(bytes, pmt, result);\n          if (result.audio.length === 0) {\n            delete result.audio;\n          }\n          break;\n        default:\n          break;\n      }\n    }\n  }\n  return result;\n};\n\n/**\n * Inspects segment byte data and returns an object with start and end timing information\n *\n * @param {Uint8Array} bytes The segment byte data\n * @param {Number} baseTimestamp Relative reference timestamp used when adjusting frame\n *  timestamps for rollover. This value must be in 90khz clock.\n * @return {Object} Object containing start and end frame timing info of segment.\n */\nvar inspect = function(bytes, baseTimestamp) {\n  var isAacData = probe.aac.isLikelyAacData(bytes);\n\n  var result;\n\n  if (isAacData) {\n    result = inspectAac_(bytes);\n  } else {\n    result = inspectTs_(bytes);\n  }\n\n  if (!result || (!result.audio && !result.video)) {\n    return null;\n  }\n\n  adjustTimestamp_(result, baseTimestamp);\n\n  return result;\n};\n\nmodule.exports = {\n  inspect: inspect,\n  parseAudioPes_: parseAudioPes_\n};\n","module.exports = {\n  //provide realtime clock for performance measurement\n  now: function now() {\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n      return performance.now();\n    }\n    return Date.now();\n  }\n};\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Reads in-band caption information from a video elementary\n * stream. Captions must follow the CEA-708 standard for injection\n * into an MPEG-2 transport streams.\n * @see https://en.wikipedia.org/wiki/CEA-708\n * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n */\n\n'use strict';\n\n// Supplemental enhancement information (SEI) NAL units have a\n// payload type field to indicate how they are to be\n// interpreted. CEAS-708 caption content is always transmitted with\n// payload type 0x04.\nvar USER_DATA_REGISTERED_ITU_T_T35 = 4,\n    RBSP_TRAILING_BITS = 128;\n\n/**\n  * Parse a supplemental enhancement information (SEI) NAL unit.\n  * Stops parsing once a message of type ITU T T35 has been found.\n  *\n  * @param bytes {Uint8Array} the bytes of a SEI NAL unit\n  * @return {object} the parsed SEI payload\n  * @see Rec. ITU-T H.264, 7.3.2.3.1\n  */\nvar parseSei = function(bytes) {\n  var\n    i = 0,\n    result = {\n      payloadType: -1,\n      payloadSize: 0\n    },\n    payloadType = 0,\n    payloadSize = 0;\n\n  // go through the sei_rbsp parsing each each individual sei_message\n  while (i < bytes.byteLength) {\n    // stop once we have hit the end of the sei_rbsp\n    if (bytes[i] === RBSP_TRAILING_BITS) {\n      break;\n    }\n\n    // Parse payload type\n    while (bytes[i] === 0xFF) {\n      payloadType += 255;\n      i++;\n    }\n    payloadType += bytes[i++];\n\n    // Parse payload size\n    while (bytes[i] === 0xFF) {\n      payloadSize += 255;\n      i++;\n    }\n    payloadSize += bytes[i++];\n\n    // this sei_message is a 608/708 caption so save it and break\n    // there can only ever be one caption message in a frame's sei\n    if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\n      result.payloadType = payloadType;\n      result.payloadSize = payloadSize;\n      result.payload = bytes.subarray(i, i + payloadSize);\n      break;\n    }\n\n    // skip the payload and parse the next message\n    i += payloadSize;\n    payloadType = 0;\n    payloadSize = 0;\n  }\n\n  return result;\n};\n\n// see ANSI/SCTE 128-1 (2013), section 8.1\nvar parseUserData = function(sei) {\n  // itu_t_t35_contry_code must be 181 (United States) for\n  // captions\n  if (sei.payload[0] !== 181) {\n    return null;\n  }\n\n  // itu_t_t35_provider_code should be 49 (ATSC) for captions\n  if (((sei.payload[1] << 8) | sei.payload[2]) !== 49) {\n    return null;\n  }\n\n  // the user_identifier should be \"GA94\" to indicate ATSC1 data\n  if (String.fromCharCode(sei.payload[3],\n                          sei.payload[4],\n                          sei.payload[5],\n                          sei.payload[6]) !== 'GA94') {\n    return null;\n  }\n\n  // finally, user_data_type_code should be 0x03 for caption data\n  if (sei.payload[7] !== 0x03) {\n    return null;\n  }\n\n  // return the user_data_type_structure and strip the trailing\n  // marker bits\n  return sei.payload.subarray(8, sei.payload.length - 1);\n};\n\n// see CEA-708-D, section 4.4\nvar parseCaptionPackets = function(pts, userData) {\n  var results = [], i, count, offset, data;\n\n  // if this is just filler, return immediately\n  if (!(userData[0] & 0x40)) {\n    return results;\n  }\n\n  // parse out the cc_data_1 and cc_data_2 fields\n  count = userData[0] & 0x1f;\n  for (i = 0; i < count; i++) {\n    offset = i * 3;\n    data = {\n      type: userData[offset + 2] & 0x03,\n      pts: pts\n    };\n\n    // capture cc data when cc_valid is 1\n    if (userData[offset + 2] & 0x04) {\n      data.ccData = (userData[offset + 3] << 8) | userData[offset + 4];\n      results.push(data);\n    }\n  }\n  return results;\n};\n\nvar discardEmulationPreventionBytes = function(data) {\n    var\n      length = data.byteLength,\n      emulationPreventionBytesPositions = [],\n      i = 1,\n      newLength, newData;\n\n    // Find all `Emulation Prevention Bytes`\n    while (i < length - 2) {\n      if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n        emulationPreventionBytesPositions.push(i + 2);\n        i += 2;\n      } else {\n        i++;\n      }\n    }\n\n    // If no Emulation Prevention Bytes were found just return the original\n    // array\n    if (emulationPreventionBytesPositions.length === 0) {\n      return data;\n    }\n\n    // Create a new array to hold the NAL unit data\n    newLength = length - emulationPreventionBytesPositions.length;\n    newData = new Uint8Array(newLength);\n    var sourceIndex = 0;\n\n    for (i = 0; i < newLength; sourceIndex++, i++) {\n      if (sourceIndex === emulationPreventionBytesPositions[0]) {\n        // Skip this byte\n        sourceIndex++;\n        // Remove this position index\n        emulationPreventionBytesPositions.shift();\n      }\n      newData[i] = data[sourceIndex];\n    }\n\n    return newData;\n};\n\n// exports\nmodule.exports = {\n  parseSei: parseSei,\n  parseUserData: parseUserData,\n  parseCaptionPackets: parseCaptionPackets,\n  discardEmulationPreventionBytes: discardEmulationPreventionBytes,\n  USER_DATA_REGISTERED_ITU_T_T35: USER_DATA_REGISTERED_ITU_T_T35\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['iot'] = {};\nAWS.Iot = Service.defineService('iot', ['2015-05-28']);\nObject.defineProperty(apiLoader.services['iot'], '2015-05-28', {\n  get: function get() {\n    var model = require('../apis/iot-2015-05-28.min.json');\n    model.paginators = require('../apis/iot-2015-05-28.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Iot;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['applicationautoscaling'] = {};\nAWS.ApplicationAutoScaling = Service.defineService('applicationautoscaling', ['2016-02-06']);\nObject.defineProperty(apiLoader.services['applicationautoscaling'], '2016-02-06', {\n  get: function get() {\n    var model = require('../apis/application-autoscaling-2016-02-06.min.json');\n    model.paginators = require('../apis/application-autoscaling-2016-02-06.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ApplicationAutoScaling;\n","var util = require('./util');\nvar regionConfig = require('./region_config_data.json');\n\nfunction generateRegionPrefix(region) {\n  if (!region) return null;\n\n  var parts = region.split('-');\n  if (parts.length < 3) return null;\n  return parts.slice(0, parts.length - 2).join('-') + '-*';\n}\n\nfunction derivedKeys(service) {\n  var region = service.config.region;\n  var regionPrefix = generateRegionPrefix(region);\n  var endpointPrefix = service.api.endpointPrefix;\n\n  return [\n    [region, endpointPrefix],\n    [regionPrefix, endpointPrefix],\n    [region, '*'],\n    [regionPrefix, '*'],\n    ['*', endpointPrefix],\n    ['*', '*']\n  ].map(function(item) {\n    return item[0] && item[1] ? item.join('/') : null;\n  });\n}\n\nfunction applyConfig(service, config) {\n  util.each(config, function(key, value) {\n    if (key === 'globalEndpoint') return;\n    if (service.config[key] === undefined || service.config[key] === null) {\n      service.config[key] = value;\n    }\n  });\n}\n\nfunction configureEndpoint(service) {\n  var keys = derivedKeys(service);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!key) continue;\n\n    if (Object.prototype.hasOwnProperty.call(regionConfig.rules, key)) {\n      var config = regionConfig.rules[key];\n      if (typeof config === 'string') {\n        config = regionConfig.patterns[config];\n      }\n\n      // set dualstack endpoint\n      if (service.config.useDualstack && util.isDualstackAvailable(service)) {\n        config = util.copy(config);\n        config.endpoint = '{service}.dualstack.{region}.amazonaws.com';\n      }\n\n      // set global endpoint\n      service.isGlobalEndpoint = !!config.globalEndpoint;\n\n      // signature version\n      if (!config.signatureVersion) config.signatureVersion = 'v4';\n\n      // merge config\n      applyConfig(service, config);\n      return;\n    }\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = configureEndpoint;\n","var AWS = require('../core');\nvar Translator = require('./translator');\nvar DynamoDBSet = require('./set');\n\n/**\n * The document client simplifies working with items in Amazon DynamoDB\n * by abstracting away the notion of attribute values. This abstraction\n * annotates native JavaScript types supplied as input parameters, as well\n * as converts annotated response data to native JavaScript types.\n *\n * ## Marshalling Input and Unmarshalling Response Data\n *\n * The document client affords developers the use of native JavaScript types\n * instead of `AttributeValue`s to simplify the JavaScript development\n * experience with Amazon DynamoDB. JavaScript objects passed in as parameters\n * are marshalled into `AttributeValue` shapes required by Amazon DynamoDB.\n * Responses from DynamoDB are unmarshalled into plain JavaScript objects\n * by the `DocumentClient`. The `DocumentClient`, does not accept\n * `AttributeValue`s in favor of native JavaScript types.\n *\n * |                             JavaScript Type                            | DynamoDB AttributeValue |\n * |:----------------------------------------------------------------------:|-------------------------|\n * | String                                                                 | S                       |\n * | Number                                                                 | N                       |\n * | Boolean                                                                | BOOL                    |\n * | null                                                                   | NULL                    |\n * | Array                                                                  | L                       |\n * | Object                                                                 | M                       |\n * | Buffer, File, Blob, ArrayBuffer, DataView, and JavaScript typed arrays | B                       |\n *\n * ## Support for Sets\n *\n * The `DocumentClient` offers a convenient way to create sets from\n * JavaScript Arrays. The type of set is inferred from the first element\n * in the array. DynamoDB supports string, number, and binary sets. To\n * learn more about supported types see the\n * [Amazon DynamoDB Data Model Documentation](http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DataModel.html)\n * For more information see {AWS.DynamoDB.DocumentClient.createSet}\n *\n */\nAWS.DynamoDB.DocumentClient = AWS.util.inherit({\n\n  /**\n   * Creates a DynamoDB document client with a set of configuration options.\n   *\n   * @option options params [map] An optional map of parameters to bind to every\n   *   request sent by this service object.\n   * @option options service [AWS.DynamoDB] An optional pre-configured instance\n   *  of the AWS.DynamoDB service object to use for requests. The object may\n   *  bound parameters used by the document client.\n   * @option options convertEmptyValues [Boolean] set to true if you would like\n   *  the document client to convert empty values (0-length strings, binary\n   *  buffers, and sets) to be converted to NULL types when persisting to\n   *  DynamoDB.\n   * @see AWS.DynamoDB.constructor\n   *\n   */\n  constructor: function DocumentClient(options) {\n    var self = this;\n    self.options = options || {};\n    self.configure(self.options);\n  },\n\n  /**\n   * @api private\n   */\n  configure: function configure(options) {\n    var self = this;\n    self.service = options.service;\n    self.bindServiceObject(options);\n    self.attrValue = options.attrValue =\n      self.service.api.operations.putItem.input.members.Item.value.shape;\n  },\n\n  /**\n   * @api private\n   */\n  bindServiceObject: function bindServiceObject(options) {\n    var self = this;\n    options = options || {};\n\n    if (!self.service) {\n      self.service = new AWS.DynamoDB(options);\n    } else {\n      var config = AWS.util.copy(self.service.config);\n      self.service = new self.service.constructor.__super__(config);\n      self.service.config.params =\n        AWS.util.merge(self.service.config.params || {}, options.params);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  makeServiceRequest: function(operation, params, callback) {\n    var self = this;\n    var request = self.service[operation](params);\n    self.setupRequest(request);\n    self.setupResponse(request);\n    if (typeof callback === 'function') {\n      request.send(callback);\n    }\n    return request;\n  },\n\n  /**\n   * @api private\n   */\n  serviceClientOperationsMap: {\n    batchGet: 'batchGetItem',\n    batchWrite: 'batchWriteItem',\n    delete: 'deleteItem',\n    get: 'getItem',\n    put: 'putItem',\n    query: 'query',\n    scan: 'scan',\n    update: 'updateItem',\n    transactGet: 'transactGetItems',\n    transactWrite: 'transactWriteItems'\n  },\n\n  /**\n   * Returns the attributes of one or more items from one or more tables\n   * by delegating to `AWS.DynamoDB.batchGetItem()`.\n   *\n   * Supply the same parameters as {AWS.DynamoDB.batchGetItem} with\n   * `AttributeValue`s substituted by native JavaScript types.\n   *\n   * @see AWS.DynamoDB.batchGetItem\n   * @example Get items from multiple tables\n   *  var params = {\n   *    RequestItems: {\n   *      'Table-1': {\n   *        Keys: [\n   *          {\n   *             HashKey: 'haskey',\n   *             NumberRangeKey: 1\n   *          }\n   *        ]\n   *      },\n   *      'Table-2': {\n   *        Keys: [\n   *          { foo: 'bar' },\n   *        ]\n   *      }\n   *    }\n   *  };\n   *\n   *  var documentClient = new AWS.DynamoDB.DocumentClient();\n   *\n   *  documentClient.batchGet(params, function(err, data) {\n   *    if (err) console.log(err);\n   *    else console.log(data);\n   *  });\n   *\n   */\n  batchGet: function(params, callback) {\n    var operation = this.serviceClientOperationsMap['batchGet'];\n    return this.makeServiceRequest(operation, params, callback);\n  },\n\n  /**\n   * Puts or deletes multiple items in one or more tables by delegating\n   * to `AWS.DynamoDB.batchWriteItem()`.\n   *\n   * Supply the same parameters as {AWS.DynamoDB.batchWriteItem} with\n   * `AttributeValue`s substituted by native JavaScript types.\n   *\n   * @see AWS.DynamoDB.batchWriteItem\n   * @example Write to and delete from a table\n   *  var params = {\n   *    RequestItems: {\n   *      'Table-1': [\n   *        {\n   *          DeleteRequest: {\n   *            Key: { HashKey: 'someKey' }\n   *          }\n   *        },\n   *        {\n   *          PutRequest: {\n   *            Item: {\n   *              HashKey: 'anotherKey',\n   *              NumAttribute: 1,\n   *              BoolAttribute: true,\n   *              ListAttribute: [1, 'two', false],\n   *              MapAttribute: { foo: 'bar' }\n   *            }\n   *          }\n   *        }\n   *      ]\n   *    }\n   *  };\n   *\n   *  var documentClient = new AWS.DynamoDB.DocumentClient();\n   *\n   *  documentClient.batchWrite(params, function(err, data) {\n   *    if (err) console.log(err);\n   *    else console.log(data);\n   *  });\n   *\n   */\n  batchWrite: function(params, callback) {\n    var operation = this.serviceClientOperationsMap['batchWrite'];\n    return this.makeServiceRequest(operation, params, callback);\n  },\n\n  /**\n   * Deletes a single item in a table by primary key by delegating to\n   * `AWS.DynamoDB.deleteItem()`\n   *\n   * Supply the same parameters as {AWS.DynamoDB.deleteItem} with\n   * `AttributeValue`s substituted by native JavaScript types.\n   *\n   * @see AWS.DynamoDB.deleteItem\n   * @example Delete an item from a table\n   *  var params = {\n   *    TableName : 'Table',\n   *    Key: {\n   *      HashKey: 'hashkey',\n   *      NumberRangeKey: 1\n   *    }\n   *  };\n   *\n   *  var documentClient = new AWS.DynamoDB.DocumentClient();\n   *\n   *  documentClient.delete(params, function(err, data) {\n   *    if (err) console.log(err);\n   *    else console.log(data);\n   *  });\n   *\n   */\n  delete: function(params, callback) {\n    var operation = this.serviceClientOperationsMap['delete'];\n    return this.makeServiceRequest(operation, params, callback);\n  },\n\n  /**\n   * Returns a set of attributes for the item with the given primary key\n   * by delegating to `AWS.DynamoDB.getItem()`.\n   *\n   * Supply the same parameters as {AWS.DynamoDB.getItem} with\n   * `AttributeValue`s substituted by native JavaScript types.\n   *\n   * @see AWS.DynamoDB.getItem\n   * @example Get an item from a table\n   *  var params = {\n   *    TableName : 'Table',\n   *    Key: {\n   *      HashKey: 'hashkey'\n   *    }\n   *  };\n   *\n   *  var documentClient = new AWS.DynamoDB.DocumentClient();\n   *\n   *  documentClient.get(params, function(err, data) {\n   *    if (err) console.log(err);\n   *    else console.log(data);\n   *  });\n   *\n   */\n  get: function(params, callback) {\n    var operation = this.serviceClientOperationsMap['get'];\n    return this.makeServiceRequest(operation, params, callback);\n  },\n\n  /**\n   * Creates a new item, or replaces an old item with a new item by\n   * delegating to `AWS.DynamoDB.putItem()`.\n   *\n   * Supply the same parameters as {AWS.DynamoDB.putItem} with\n   * `AttributeValue`s substituted by native JavaScript types.\n   *\n   * @see AWS.DynamoDB.putItem\n   * @example Create a new item in a table\n   *  var params = {\n   *    TableName : 'Table',\n   *    Item: {\n   *       HashKey: 'haskey',\n   *       NumAttribute: 1,\n   *       BoolAttribute: true,\n   *       ListAttribute: [1, 'two', false],\n   *       MapAttribute: { foo: 'bar'},\n   *       NullAttribute: null\n   *    }\n   *  };\n   *\n   *  var documentClient = new AWS.DynamoDB.DocumentClient();\n   *\n   *  documentClient.put(params, function(err, data) {\n   *    if (err) console.log(err);\n   *    else console.log(data);\n   *  });\n   *\n   */\n  put: function(params, callback) {\n    var operation = this.serviceClientOperationsMap['put'];\n    return this.makeServiceRequest(operation, params, callback);\n  },\n\n  /**\n   * Edits an existing item's attributes, or adds a new item to the table if\n   * it does not already exist by delegating to `AWS.DynamoDB.updateItem()`.\n   *\n   * Supply the same parameters as {AWS.DynamoDB.updateItem} with\n   * `AttributeValue`s substituted by native JavaScript types.\n   *\n   * @see AWS.DynamoDB.updateItem\n   * @example Update an item with expressions\n   *  var params = {\n   *    TableName: 'Table',\n   *    Key: { HashKey : 'hashkey' },\n   *    UpdateExpression: 'set #a = :x + :y',\n   *    ConditionExpression: '#a < :MAX',\n   *    ExpressionAttributeNames: {'#a' : 'Sum'},\n   *    ExpressionAttributeValues: {\n   *      ':x' : 20,\n   *      ':y' : 45,\n   *      ':MAX' : 100,\n   *    }\n   *  };\n   *\n   *  var documentClient = new AWS.DynamoDB.DocumentClient();\n   *\n   *  documentClient.update(params, function(err, data) {\n   *     if (err) console.log(err);\n   *     else console.log(data);\n   *  });\n   *\n   */\n  update: function(params, callback) {\n    var operation = this.serviceClientOperationsMap['update'];\n    return this.makeServiceRequest(operation, params, callback);\n  },\n\n  /**\n   * Returns one or more items and item attributes by accessing every item\n   * in a table or a secondary index.\n   *\n   * Supply the same parameters as {AWS.DynamoDB.scan} with\n   * `AttributeValue`s substituted by native JavaScript types.\n   *\n   * @see AWS.DynamoDB.scan\n   * @example Scan the table with a filter expression\n   *  var params = {\n   *    TableName : 'Table',\n   *    FilterExpression : 'Year = :this_year',\n   *    ExpressionAttributeValues : {':this_year' : 2015}\n   *  };\n   *\n   *  var documentClient = new AWS.DynamoDB.DocumentClient();\n   *\n   *  documentClient.scan(params, function(err, data) {\n   *     if (err) console.log(err);\n   *     else console.log(data);\n   *  });\n   *\n   */\n  scan: function(params, callback) {\n    var operation = this.serviceClientOperationsMap['scan'];\n    return this.makeServiceRequest(operation, params, callback);\n  },\n\n   /**\n    * Directly access items from a table by primary key or a secondary index.\n    *\n    * Supply the same parameters as {AWS.DynamoDB.query} with\n    * `AttributeValue`s substituted by native JavaScript types.\n    *\n    * @see AWS.DynamoDB.query\n    * @example Query an index\n    *  var params = {\n    *    TableName: 'Table',\n    *    IndexName: 'Index',\n    *    KeyConditionExpression: 'HashKey = :hkey and RangeKey > :rkey',\n    *    ExpressionAttributeValues: {\n    *      ':hkey': 'key',\n    *      ':rkey': 2015\n    *    }\n    *  };\n    *\n    *  var documentClient = new AWS.DynamoDB.DocumentClient();\n    *\n    *  documentClient.query(params, function(err, data) {\n    *     if (err) console.log(err);\n    *     else console.log(data);\n    *  });\n    *\n    */\n  query: function(params, callback) {\n    var operation = this.serviceClientOperationsMap['query'];\n    return this.makeServiceRequest(operation, params, callback);\n  },\n\n  /**\n   * Synchronous write operation that groups up to 10 action requests\n   *\n   * Supply the same parameters as {AWS.DynamoDB.transactWriteItems} with\n   * `AttributeValue`s substituted by native JavaScript types.\n   *\n   * @see AWS.DynamoDB.transactWriteItems\n   * @example Get items from multiple tables\n   *  var params = {\n   *    TransactItems: [{\n   *      Put: {\n   *        TableName : 'Table0',\n   *        Item: {\n   *          HashKey: 'haskey',\n   *          NumAttribute: 1,\n   *          BoolAttribute: true,\n   *          ListAttribute: [1, 'two', false],\n   *          MapAttribute: { foo: 'bar'},\n   *          NullAttribute: null\n   *        }\n   *      }\n   *    }, {\n   *      Update: {\n   *        TableName: 'Table1',\n   *        Key: { HashKey : 'hashkey' },\n   *        UpdateExpression: 'set #a = :x + :y',\n   *        ConditionExpression: '#a < :MAX',\n   *        ExpressionAttributeNames: {'#a' : 'Sum'},\n   *        ExpressionAttributeValues: {\n   *          ':x' : 20,\n   *          ':y' : 45,\n   *          ':MAX' : 100,\n   *        }\n   *      }\n   *    }]\n   *  };\n   *\n   *  documentClient.transactWrite(params, function(err, data) {\n   *    if (err) console.log(err);\n   *    else console.log(data);\n   *  });\n   */\n  transactWrite: function(params, callback) {\n    var operation = this.serviceClientOperationsMap['transactWrite'];\n    return this.makeServiceRequest(operation, params, callback);\n  },\n\n  /**\n   * Atomically retrieves multiple items from one or more tables (but not from indexes)\n   * in a single account and region.\n   *\n   * Supply the same parameters as {AWS.DynamoDB.transactGetItems} with\n   * `AttributeValue`s substituted by native JavaScript types.\n   *\n   * @see AWS.DynamoDB.transactGetItems\n   * @example Get items from multiple tables\n   *  var params = {\n   *    TransactItems: [{\n   *      Get: {\n   *        TableName : 'Table0',\n   *        Key: {\n   *          HashKey: 'hashkey0'\n   *        }\n   *      }\n   *    }, {\n   *      Get: {\n   *        TableName : 'Table1',\n   *        Key: {\n   *          HashKey: 'hashkey1'\n   *        }\n   *      }\n   *    }]\n   *  };\n   *\n   *  documentClient.transactGet(params, function(err, data) {\n   *    if (err) console.log(err);\n   *    else console.log(data);\n   *  });\n   */\n  transactGet: function(params, callback) {\n    var operation = this.serviceClientOperationsMap['transactGet'];\n    return this.makeServiceRequest(operation, params, callback);\n  },\n\n  /**\n   * Creates a set of elements inferring the type of set from\n   * the type of the first element. Amazon DynamoDB currently supports\n   * the number sets, string sets, and binary sets. For more information\n   * about DynamoDB data types see the documentation on the\n   * [Amazon DynamoDB Data Model](http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DataModel.html#DataModel.DataTypes).\n   *\n   * @param list [Array] Collection to represent your DynamoDB Set\n   * @param options [map]\n   *  * **validate** [Boolean] set to true if you want to validate the type\n   *    of each element in the set. Defaults to `false`.\n   * @example Creating a number set\n   *  var documentClient = new AWS.DynamoDB.DocumentClient();\n   *\n   *  var params = {\n   *    Item: {\n   *      hashkey: 'hashkey'\n   *      numbers: documentClient.createSet([1, 2, 3]);\n   *    }\n   *  };\n   *\n   *  documentClient.put(params, function(err, data) {\n   *    if (err) console.log(err);\n   *    else console.log(data);\n   *  });\n   *\n   */\n  createSet: function(list, options) {\n    options = options || {};\n    return new DynamoDBSet(list, options);\n  },\n\n  /**\n   * @api private\n   */\n  getTranslator: function() {\n    return new Translator(this.options);\n  },\n\n  /**\n   * @api private\n   */\n  setupRequest: function setupRequest(request) {\n    var self = this;\n    var translator = self.getTranslator();\n    var operation = request.operation;\n    var inputShape = request.service.api.operations[operation].input;\n    request._events.validate.unshift(function(req) {\n      req.rawParams = AWS.util.copy(req.params);\n      req.params = translator.translateInput(req.rawParams, inputShape);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  setupResponse: function setupResponse(request) {\n    var self = this;\n    var translator = self.getTranslator();\n    var outputShape = self.service.api.operations[request.operation].output;\n    request.on('extractData', function(response) {\n      response.data = translator.translateOutput(response.data, outputShape);\n    });\n\n    var response = request.response;\n    response.nextPage = function(cb) {\n      var resp = this;\n      var req = resp.request;\n      var config;\n      var service = req.service;\n      var operation = req.operation;\n      try {\n        config = service.paginationConfig(operation, true);\n      } catch (e) { resp.error = e; }\n\n      if (!resp.hasNextPage()) {\n        if (cb) cb(resp.error, null);\n        else if (resp.error) throw resp.error;\n        return null;\n      }\n\n      var params = AWS.util.copy(req.rawParams);\n      if (!resp.nextPageTokens) {\n        return cb ? cb(null, null) : null;\n      } else {\n        var inputTokens = config.inputToken;\n        if (typeof inputTokens === 'string') inputTokens = [inputTokens];\n        for (var i = 0; i < inputTokens.length; i++) {\n          params[inputTokens[i]] = resp.nextPageTokens[i];\n        }\n        return self[operation](params, cb);\n      }\n    };\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.DynamoDB.DocumentClient;\n","// Source: http://jsfiddle.net/vWx8V/\n// http://stackoverflow.com/questions/5603195/full-list-of-javascript-keycodes\n\n/**\n * Conenience method returns corresponding value for given keyName or keyCode.\n *\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Mixed}\n * @api public\n */\n\nfunction keyCode(searchInput) {\n  // Keyboard Events\n  if (searchInput && 'object' === typeof searchInput) {\n    var hasKeyCode = searchInput.which || searchInput.keyCode || searchInput.charCode\n    if (hasKeyCode) searchInput = hasKeyCode\n  }\n\n  // Numbers\n  if ('number' === typeof searchInput) return names[searchInput]\n\n  // Everything else (cast to string)\n  var search = String(searchInput)\n\n  // check codes\n  var foundNamedKey = codes[search.toLowerCase()]\n  if (foundNamedKey) return foundNamedKey\n\n  // check aliases\n  var foundNamedKey = aliases[search.toLowerCase()]\n  if (foundNamedKey) return foundNamedKey\n\n  // weird character?\n  if (search.length === 1) return search.charCodeAt(0)\n\n  return undefined\n}\n\n/**\n * Compares a keyboard event with a given keyCode or keyName.\n *\n * @param {Event} event Keyboard event that should be tested\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Boolean}\n * @api public\n */\nkeyCode.isEventKey = function isEventKey(event, nameOrCode) {\n  if (event && 'object' === typeof event) {\n    var keyCode = event.which || event.keyCode || event.charCode\n    if (keyCode === null || keyCode === undefined) { return false; }\n    if (typeof nameOrCode === 'string') {\n      // check codes\n      var foundNamedKey = codes[nameOrCode.toLowerCase()]\n      if (foundNamedKey) { return foundNamedKey === keyCode; }\n    \n      // check aliases\n      var foundNamedKey = aliases[nameOrCode.toLowerCase()]\n      if (foundNamedKey) { return foundNamedKey === keyCode; }\n    } else if (typeof nameOrCode === 'number') {\n      return nameOrCode === keyCode;\n    }\n    return false;\n  }\n}\n\nexports = module.exports = keyCode;\n\n/**\n * Get by name\n *\n *   exports.code['enter'] // => 13\n */\n\nvar codes = exports.code = exports.codes = {\n  'backspace': 8,\n  'tab': 9,\n  'enter': 13,\n  'shift': 16,\n  'ctrl': 17,\n  'alt': 18,\n  'pause/break': 19,\n  'caps lock': 20,\n  'esc': 27,\n  'space': 32,\n  'page up': 33,\n  'page down': 34,\n  'end': 35,\n  'home': 36,\n  'left': 37,\n  'up': 38,\n  'right': 39,\n  'down': 40,\n  'insert': 45,\n  'delete': 46,\n  'command': 91,\n  'left command': 91,\n  'right command': 93,\n  'numpad *': 106,\n  'numpad +': 107,\n  'numpad -': 109,\n  'numpad .': 110,\n  'numpad /': 111,\n  'num lock': 144,\n  'scroll lock': 145,\n  'my computer': 182,\n  'my calculator': 183,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  \"'\": 222\n}\n\n// Helper aliases\n\nvar aliases = exports.aliases = {\n  'windows': 91,\n  '': 16,\n  '': 18,\n  '': 17,\n  '': 91,\n  'ctl': 17,\n  'control': 17,\n  'option': 18,\n  'pause': 19,\n  'break': 19,\n  'caps': 20,\n  'return': 13,\n  'escape': 27,\n  'spc': 32,\n  'spacebar': 32,\n  'pgup': 33,\n  'pgdn': 34,\n  'ins': 45,\n  'del': 46,\n  'cmd': 91\n}\n\n/*!\n * Programatically add the following\n */\n\n// lower case chars\nfor (i = 97; i < 123; i++) codes[String.fromCharCode(i)] = i - 32\n\n// numbers\nfor (var i = 48; i < 58; i++) codes[i - 48] = i\n\n// function keys\nfor (i = 1; i < 13; i++) codes['f'+i] = i + 111\n\n// numpad keys\nfor (i = 0; i < 10; i++) codes['numpad '+i] = i + 96\n\n/**\n * Get by code\n *\n *   exports.name[13] // => 'Enter'\n */\n\nvar names = exports.names = exports.title = {} // title for backward compat\n\n// Create reverse mapping\nfor (i in codes) names[codes[i]] = i\n\n// Add aliases\nfor (var alias in aliases) {\n  codes[alias] = aliases[alias]\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","var util = require('../core').util;\n\nfunction typeOf(data) {\n  if (data === null && typeof data === 'object') {\n    return 'null';\n  } else if (data !== undefined && isBinary(data)) {\n    return 'Binary';\n  } else if (data !== undefined && data.constructor) {\n    return data.wrapperName || util.typeName(data.constructor);\n  } else if (data !== undefined && typeof data === 'object') {\n    // this object is the result of Object.create(null), hence the absence of a\n    // defined constructor\n    return 'Object';\n  } else {\n    return 'undefined';\n  }\n}\n\nfunction isBinary(data) {\n  var types = [\n    'Buffer', 'File', 'Blob', 'ArrayBuffer', 'DataView',\n    'Int8Array', 'Uint8Array', 'Uint8ClampedArray',\n    'Int16Array', 'Uint16Array', 'Int32Array', 'Uint32Array',\n    'Float32Array', 'Float64Array'\n  ];\n  if (util.isNode()) {\n    var Stream = util.stream.Stream;\n    if (util.Buffer.isBuffer(data) || data instanceof Stream) {\n      return true;\n    }\n  }\n\n  for (var i = 0; i < types.length; i++) {\n    if (data !== undefined && data.constructor) {\n      if (util.isType(data, types[i])) return true;\n      if (util.typeName(data.constructor) === types[i]) return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  typeOf: typeOf,\n  isBinary: isBinary\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['ec2'] = {};\nAWS.EC2 = Service.defineService('ec2', ['2013-06-15*', '2013-10-15*', '2014-02-01*', '2014-05-01*', '2014-06-15*', '2014-09-01*', '2014-10-01*', '2015-03-01*', '2015-04-15*', '2015-10-01*', '2016-04-01*', '2016-09-15*', '2016-11-15']);\nrequire('../lib/services/ec2');\nObject.defineProperty(apiLoader.services['ec2'], '2016-11-15', {\n  get: function get() {\n    var model = require('../apis/ec2-2016-11-15.min.json');\n    model.paginators = require('../apis/ec2-2016-11-15.paginators.json').pagination;\n    model.waiters = require('../apis/ec2-2016-11-15.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.EC2;\n","var Int64 = require('./int64').Int64;\n\nvar splitMessage = require('./split-message').splitMessage;\n\nvar BOOLEAN_TAG = 'boolean';\nvar BYTE_TAG = 'byte';\nvar SHORT_TAG = 'short';\nvar INT_TAG = 'integer';\nvar LONG_TAG = 'long';\nvar BINARY_TAG = 'binary';\nvar STRING_TAG = 'string';\nvar TIMESTAMP_TAG = 'timestamp';\nvar UUID_TAG = 'uuid';\n\n/**\n * @api private\n *\n * @param {Buffer} headers\n */\nfunction parseHeaders(headers) {\n    var out = {};\n    var position = 0;\n    while (position < headers.length) {\n        var nameLength = headers.readUInt8(position++);\n        var name = headers.slice(position, position + nameLength).toString();\n        position += nameLength;\n        switch (headers.readUInt8(position++)) {\n            case 0 /* boolTrue */:\n                out[name] = {\n                    type: BOOLEAN_TAG,\n                    value: true\n                };\n                break;\n            case 1 /* boolFalse */:\n                out[name] = {\n                    type: BOOLEAN_TAG,\n                    value: false\n                };\n                break;\n            case 2 /* byte */:\n                out[name] = {\n                    type: BYTE_TAG,\n                    value: headers.readInt8(position++)\n                };\n                break;\n            case 3 /* short */:\n                out[name] = {\n                    type: SHORT_TAG,\n                    value: headers.readInt16BE(position)\n                };\n                position += 2;\n                break;\n            case 4 /* integer */:\n                out[name] = {\n                    type: INT_TAG,\n                    value: headers.readInt32BE(position)\n                };\n                position += 4;\n                break;\n            case 5 /* long */:\n                out[name] = {\n                    type: LONG_TAG,\n                    value: new Int64(headers.slice(position, position + 8))\n                };\n                position += 8;\n                break;\n            case 6 /* byteArray */:\n                var binaryLength = headers.readUInt16BE(position);\n                position += 2;\n                out[name] = {\n                    type: BINARY_TAG,\n                    value: headers.slice(position, position + binaryLength)\n                };\n                position += binaryLength;\n                break;\n            case 7 /* string */:\n                var stringLength = headers.readUInt16BE(position);\n                position += 2;\n                out[name] = {\n                    type: STRING_TAG,\n                    value: headers.slice(\n                        position,\n                        position + stringLength\n                    ).toString()\n                };\n                position += stringLength;\n                break;\n            case 8 /* timestamp */:\n                out[name] = {\n                    type: TIMESTAMP_TAG,\n                    value: new Date(\n                        new Int64(headers.slice(position, position + 8))\n                            .valueOf()\n                    )\n                };\n                position += 8;\n                break;\n            case 9 /* uuid */:\n                var uuidChars = headers.slice(position, position + 16)\n                    .toString('hex');\n                position += 16;\n                out[name] = {\n                    type: UUID_TAG,\n                    value: uuidChars.substr(0, 8) + '-' +\n                        uuidChars.substr(8, 4) + '-' +\n                        uuidChars.substr(12, 4) + '-' +\n                        uuidChars.substr(16, 4) + '-' +\n                        uuidChars.substr(20)\n                };\n                break;\n            default:\n                throw new Error('Unrecognized header type tag');\n        }\n    }\n    return out;\n}\n\nfunction parseMessage(message) {\n    var parsed = splitMessage(message);\n    return { headers: parseHeaders(parsed.headers), body: parsed.body };\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    parseMessage: parseMessage\n};\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['elastictranscoder'] = {};\nAWS.ElasticTranscoder = Service.defineService('elastictranscoder', ['2012-09-25']);\nObject.defineProperty(apiLoader.services['elastictranscoder'], '2012-09-25', {\n  get: function get() {\n    var model = require('../apis/elastictranscoder-2012-09-25.min.json');\n    model.paginators = require('../apis/elastictranscoder-2012-09-25.paginators.json').pagination;\n    model.waiters = require('../apis/elastictranscoder-2012-09-25.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ElasticTranscoder;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cur'] = {};\nAWS.CUR = Service.defineService('cur', ['2017-01-06']);\nObject.defineProperty(apiLoader.services['cur'], '2017-01-06', {\n  get: function get() {\n    var model = require('../apis/cur-2017-01-06.min.json');\n    model.paginators = require('../apis/cur-2017-01-06.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CUR;\n","var Hmac = require('./browserHmac');\nvar Md5 = require('./browserMd5');\nvar Sha1 = require('./browserSha1');\nvar Sha256 = require('./browserSha256');\n\n/**\n * @api private\n */\nmodule.exports = exports = {\n    createHash: function createHash(alg) {\n      alg = alg.toLowerCase();\n      if (alg === 'md5') {\n        return new Md5();\n      } else if (alg === 'sha256') {\n        return new Sha256();\n      } else if (alg === 'sha1') {\n        return new Sha1();\n      }\n\n      throw new Error('Hash algorithm ' + alg + ' is not supported in the browser SDK');\n    },\n    createHmac: function createHmac(alg, key) {\n      alg = alg.toLowerCase();\n      if (alg === 'md5') {\n        return new Hmac(Md5, key);\n      } else if (alg === 'sha256') {\n        return new Hmac(Sha256, key);\n      } else if (alg === 'sha1') {\n        return new Hmac(Sha1, key);\n      }\n\n      throw new Error('HMAC algorithm ' + alg + ' is not supported in the browser SDK');\n    },\n    createSign: function() {\n      throw new Error('createSign is not implemented in the browser');\n    }\n  };\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['marketplacecommerceanalytics'] = {};\nAWS.MarketplaceCommerceAnalytics = Service.defineService('marketplacecommerceanalytics', ['2015-07-01']);\nObject.defineProperty(apiLoader.services['marketplacecommerceanalytics'], '2015-07-01', {\n  get: function get() {\n    var model = require('../apis/marketplacecommerceanalytics-2015-07-01.min.json');\n    model.paginators = require('../apis/marketplacecommerceanalytics-2015-07-01.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.MarketplaceCommerceAnalytics;\n","var AWS = require('../core');\nrequire('../rds/signer');\n /**\n  * @api private\n  */\n var crossRegionOperations = ['copyDBSnapshot', 'createDBInstanceReadReplica', 'createDBCluster', 'copyDBClusterSnapshot'];\n\n AWS.util.update(AWS.RDS.prototype, {\n   /**\n    * @api private\n    */\n   setupRequestListeners: function setupRequestListeners(request) {\n     if (crossRegionOperations.indexOf(request.operation) !== -1 &&\n         request.params.SourceRegion) {\n       request.params = AWS.util.copy(request.params);\n       if (request.params.PreSignedUrl ||\n           request.params.SourceRegion === this.config.region) {\n         delete request.params.SourceRegion;\n       } else {\n         var doesParamValidation = !!this.config.paramValidation;\n         // remove the validate parameters listener so we can re-add it after we build the URL\n         if (doesParamValidation) {\n           request.removeListener('validate', AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n         }\n         request.onAsync('validate', this.buildCrossRegionPresignedUrl);\n         if (doesParamValidation) {\n           request.addListener('validate', AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n         }\n       }\n     }\n   },\n\n   /**\n    * @api private\n    */\n   buildCrossRegionPresignedUrl: function buildCrossRegionPresignedUrl(req, done) {\n     var config = AWS.util.copy(req.service.config);\n     config.region = req.params.SourceRegion;\n     delete req.params.SourceRegion;\n     delete config.endpoint;\n     // relevant params for the operation will already be in req.params\n     delete config.params;\n     config.signatureVersion = 'v4';\n     var destinationRegion = req.service.config.region;\n\n     var svc = new req.service.constructor(config);\n     var newReq = svc[req.operation](AWS.util.copy(req.params));\n     newReq.on('build', function addDestinationRegionParam(request) {\n       var httpRequest = request.httpRequest;\n       httpRequest.params.DestinationRegion = destinationRegion;\n       httpRequest.body = AWS.util.queryParamsToString(httpRequest.params);\n     });\n     newReq.presign(function(err, url) {\n       if (err) done(err);\n       else {\n         req.params.PreSignedUrl = url;\n         done();\n       }\n     });\n   }\n });\n","var Collection = require('./collection');\nvar Operation = require('./operation');\nvar Shape = require('./shape');\nvar Paginator = require('./paginator');\nvar ResourceWaiter = require('./resource_waiter');\n\nvar util = require('../util');\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Api(api, options) {\n  var self = this;\n  api = api || {};\n  options = options || {};\n  options.api = this;\n\n  api.metadata = api.metadata || {};\n\n  property(this, 'isApi', true, false);\n  property(this, 'apiVersion', api.metadata.apiVersion);\n  property(this, 'endpointPrefix', api.metadata.endpointPrefix);\n  property(this, 'signingName', api.metadata.signingName);\n  property(this, 'globalEndpoint', api.metadata.globalEndpoint);\n  property(this, 'signatureVersion', api.metadata.signatureVersion);\n  property(this, 'jsonVersion', api.metadata.jsonVersion);\n  property(this, 'targetPrefix', api.metadata.targetPrefix);\n  property(this, 'protocol', api.metadata.protocol);\n  property(this, 'timestampFormat', api.metadata.timestampFormat);\n  property(this, 'xmlNamespaceUri', api.metadata.xmlNamespace);\n  property(this, 'abbreviation', api.metadata.serviceAbbreviation);\n  property(this, 'fullName', api.metadata.serviceFullName);\n  property(this, 'serviceId', api.metadata.serviceId);\n\n  memoizedProperty(this, 'className', function() {\n    var name = api.metadata.serviceAbbreviation || api.metadata.serviceFullName;\n    if (!name) return null;\n\n    name = name.replace(/^Amazon|AWS\\s*|\\(.*|\\s+|\\W+/g, '');\n    if (name === 'ElasticLoadBalancing') name = 'ELB';\n    return name;\n  });\n\n  function addEndpointOperation(name, operation) {\n    if (operation.endpointoperation === true) {\n      property(self, 'endpointOperation', util.string.lowerFirst(name));\n    }\n  }\n\n  property(this, 'operations', new Collection(api.operations, options, function(name, operation) {\n    return new Operation(name, operation, options);\n  }, util.string.lowerFirst, addEndpointOperation));\n\n  property(this, 'shapes', new Collection(api.shapes, options, function(name, shape) {\n    return Shape.create(shape, options);\n  }));\n\n  property(this, 'paginators', new Collection(api.paginators, options, function(name, paginator) {\n    return new Paginator(name, paginator, options);\n  }));\n\n  property(this, 'waiters', new Collection(api.waiters, options, function(name, waiter) {\n    return new ResourceWaiter(name, waiter, options);\n  }, util.string.lowerFirst));\n\n  if (options.documentation) {\n    property(this, 'documentation', api.documentation);\n    property(this, 'documentationUrl', api.documentationUrl);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = Api;\n","/**\n * Takes in a buffer of event messages and splits them into individual messages.\n * @param {Buffer} buffer\n * @api private\n */\nfunction eventMessageChunker(buffer) {\n    /** @type Buffer[] */\n    var messages = [];\n    var offset = 0;\n\n    while (offset < buffer.length) {\n        var totalLength = buffer.readInt32BE(offset);\n\n        // create new buffer for individual message (shares memory with original)\n        var message = buffer.slice(offset, totalLength + offset);\n        // increment offset to it starts at the next message\n        offset += totalLength;\n\n        messages.push(message);\n    }\n\n    return messages;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    eventMessageChunker: eventMessageChunker\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['codedeploy'] = {};\nAWS.CodeDeploy = Service.defineService('codedeploy', ['2014-10-06']);\nObject.defineProperty(apiLoader.services['codedeploy'], '2014-10-06', {\n  get: function get() {\n    var model = require('../apis/codedeploy-2014-10-06.min.json');\n    model.paginators = require('../apis/codedeploy-2014-10-06.paginators.json').pagination;\n    model.waiters = require('../apis/codedeploy-2014-10-06.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CodeDeploy;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['sts'] = {};\nAWS.STS = Service.defineService('sts', ['2011-06-15']);\nrequire('../lib/services/sts');\nObject.defineProperty(apiLoader.services['sts'], '2011-06-15', {\n  get: function get() {\n    var model = require('../apis/sts-2011-06-15.min.json');\n    model.paginators = require('../apis/sts-2011-06-15.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.STS;\n","'use strict';\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined; // eslint-disable-line no-shadow-restricted-names\n\nvar $TypeError = TypeError;\n\nvar ThrowTypeError = Object.getOwnPropertyDescriptor\n\t? (function () { return Object.getOwnPropertyDescriptor(arguments, 'callee').get; }())\n\t: function () { throw new $TypeError(); };\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'$ %Array%': Array,\n\t'$ %ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'$ %ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'$ %ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'$ %ArrayPrototype%': Array.prototype,\n\t'$ %ArrayProto_entries%': Array.prototype.entries,\n\t'$ %ArrayProto_forEach%': Array.prototype.forEach,\n\t'$ %ArrayProto_keys%': Array.prototype.keys,\n\t'$ %ArrayProto_values%': Array.prototype.values,\n\t'$ %AsyncFromSyncIteratorPrototype%': undefined,\n\t'$ %AsyncFunction%': asyncFunction,\n\t'$ %AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'$ %AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'$ %AsyncGeneratorFunction%': asyncGenFunction,\n\t'$ %AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'$ %AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'$ %Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'$ %Boolean%': Boolean,\n\t'$ %BooleanPrototype%': Boolean.prototype,\n\t'$ %DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'$ %DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'$ %Date%': Date,\n\t'$ %DatePrototype%': Date.prototype,\n\t'$ %decodeURI%': decodeURI,\n\t'$ %decodeURIComponent%': decodeURIComponent,\n\t'$ %encodeURI%': encodeURI,\n\t'$ %encodeURIComponent%': encodeURIComponent,\n\t'$ %Error%': Error,\n\t'$ %ErrorPrototype%': Error.prototype,\n\t'$ %eval%': eval, // eslint-disable-line no-eval\n\t'$ %EvalError%': EvalError,\n\t'$ %EvalErrorPrototype%': EvalError.prototype,\n\t'$ %Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'$ %Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'$ %Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'$ %Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'$ %Function%': Function,\n\t'$ %FunctionPrototype%': Function.prototype,\n\t'$ %Generator%': generator ? getProto(generator()) : undefined,\n\t'$ %GeneratorFunction%': generatorFunction,\n\t'$ %GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'$ %Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'$ %Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'$ %Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'$ %Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'$ %Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'$ %Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'$ %isFinite%': isFinite,\n\t'$ %isNaN%': isNaN,\n\t'$ %IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'$ %JSON%': JSON,\n\t'$ %JSONParse%': JSON.parse,\n\t'$ %Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'$ %MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'$ %MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'$ %Math%': Math,\n\t'$ %Number%': Number,\n\t'$ %NumberPrototype%': Number.prototype,\n\t'$ %Object%': Object,\n\t'$ %ObjectPrototype%': Object.prototype,\n\t'$ %ObjProto_toString%': Object.prototype.toString,\n\t'$ %ObjProto_valueOf%': Object.prototype.valueOf,\n\t'$ %parseFloat%': parseFloat,\n\t'$ %parseInt%': parseInt,\n\t'$ %Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'$ %PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'$ %PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'$ %Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'$ %Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'$ %Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'$ %Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'$ %RangeError%': RangeError,\n\t'$ %RangeErrorPrototype%': RangeError.prototype,\n\t'$ %ReferenceError%': ReferenceError,\n\t'$ %ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'$ %Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'$ %RegExp%': RegExp,\n\t'$ %RegExpPrototype%': RegExp.prototype,\n\t'$ %Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'$ %SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'$ %SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'$ %SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'$ %SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'$ %String%': String,\n\t'$ %StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'$ %StringPrototype%': String.prototype,\n\t'$ %Symbol%': hasSymbols ? Symbol : undefined,\n\t'$ %SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'$ %SyntaxError%': SyntaxError,\n\t'$ %SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'$ %ThrowTypeError%': ThrowTypeError,\n\t'$ %TypedArray%': TypedArray,\n\t'$ %TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'$ %TypeError%': $TypeError,\n\t'$ %TypeErrorPrototype%': $TypeError.prototype,\n\t'$ %Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'$ %Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'$ %Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'$ %Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'$ %Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'$ %Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'$ %Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'$ %Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'$ %URIError%': URIError,\n\t'$ %URIErrorPrototype%': URIError.prototype,\n\t'$ %WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'$ %WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'$ %WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'$ %WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = require('function-bind');\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar key = '$ ' + name;\n\tif (!(key in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[key] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[key];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tif (parts.length === 0) {\n\t\treturn getBaseIntrinsic(name, allowMissing);\n\t}\n\n\tvar value = getBaseIntrinsic('%' + parts[0] + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tvalue = value[parts[i]];\n\t\t}\n\t}\n\treturn value;\n};\n","\"use strict\";\nvar window = require(\"global/window\")\nvar isFunction = require(\"is-function\")\nvar parseHeaders = require(\"parse-headers\")\nvar xtend = require(\"xtend\")\n\nmodule.exports = createXHR\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop\ncreateXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n        options = initParams(uri, options, callback)\n        options.method = method.toUpperCase()\n        return _createXHR(options)\n    }\n})\n\nfunction forEachArray(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n        iterator(array[i])\n    }\n}\n\nfunction isEmpty(obj){\n    for(var i in obj){\n        if(obj.hasOwnProperty(i)) return false\n    }\n    return true\n}\n\nfunction initParams(uri, options, callback) {\n    var params = uri\n\n    if (isFunction(options)) {\n        callback = options\n        if (typeof uri === \"string\") {\n            params = {uri:uri}\n        }\n    } else {\n        params = xtend(options, {uri: uri})\n    }\n\n    params.callback = callback\n    return params\n}\n\nfunction createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback)\n    return _createXHR(options)\n}\n\nfunction _createXHR(options) {\n    if(typeof options.callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n\n    var called = false\n    var callback = function cbOnce(err, response, body){\n        if(!called){\n            called = true\n            options.callback(err, response, body)\n        }\n    }\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            setTimeout(loadFunc, 0)\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else {\n            body = xhr.responseText || getXml(xhr)\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n        }\n        evt.statusCode = 0\n        return callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        if (aborted) return\n        var status\n        clearTimeout(timeoutTimer)\n        if(options.useXDR && xhr.status===undefined) {\n            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n            status = 200\n        } else {\n            status = (xhr.status === 1223 ? 204 : xhr.status)\n        }\n        var response = failureResponse\n        var err = null\n\n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        return callback(err, response, response.body)\n    }\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new createXHR.XDomainRequest()\n        }else{\n            xhr = new createXHR.XMLHttpRequest()\n        }\n    }\n\n    var key\n    var aborted\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n    var failureResponse = {\n        body: undefined,\n        headers: {},\n        statusCode: 0,\n        method: method,\n        url: uri,\n        rawRequest: xhr\n    }\n\n    if (\"json\" in options && options.json !== false) {\n        isJson = true\n        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n            body = JSON.stringify(options.json === true ? body : options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.onabort = function(){\n        aborted = true;\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            if (aborted) return\n            aborted = true//IE9 may still call readystatechange\n            xhr.abort(\"timeout\")\n            var e = new Error(\"XMLHttpRequest timeout\")\n            e.code = \"ETIMEDOUT\"\n            errorFunc(e)\n        }, options.timeout )\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers && !isEmpty(options.headers)) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n\n    if (\"beforeSend\" in options &&\n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n    xhr.send(body || null)\n\n    return xhr\n\n\n}\n\nfunction getXml(xhr) {\n    if (xhr.responseType === \"document\") {\n        return xhr.responseXML\n    }\n    var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\"\n    if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n        return xhr.responseXML\n    }\n\n    return null\n}\n\nfunction noop() {}\n","var topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = require('min-document');\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n    doccy = document;\n} else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n}\n\nmodule.exports = doccy;\n","var AWS = require('./core');\n\n/**\n * Represents your AWS security credentials, specifically the\n * {accessKeyId}, {secretAccessKey}, and optional {sessionToken}.\n * Creating a `Credentials` object allows you to pass around your\n * security information to configuration and service objects.\n *\n * Note that this class typically does not need to be constructed manually,\n * as the {AWS.Config} and {AWS.Service} classes both accept simple\n * options hashes with the three keys. These structures will be converted\n * into Credentials objects automatically.\n *\n * ## Expiring and Refreshing Credentials\n *\n * Occasionally credentials can expire in the middle of a long-running\n * application. In this case, the SDK will automatically attempt to\n * refresh the credentials from the storage location if the Credentials\n * class implements the {refresh} method.\n *\n * If you are implementing a credential storage location, you\n * will want to create a subclass of the `Credentials` class and\n * override the {refresh} method. This method allows credentials to be\n * retrieved from the backing store, be it a file system, database, or\n * some network storage. The method should reset the credential attributes\n * on the object.\n *\n * @!attribute expired\n *   @return [Boolean] whether the credentials have been expired and\n *     require a refresh. Used in conjunction with {expireTime}.\n * @!attribute expireTime\n *   @return [Date] a time when credentials should be considered expired. Used\n *     in conjunction with {expired}.\n * @!attribute accessKeyId\n *   @return [String] the AWS access key ID\n * @!attribute secretAccessKey\n *   @return [String] the AWS secret access key\n * @!attribute sessionToken\n *   @return [String] an optional AWS session token\n */\nAWS.Credentials = AWS.util.inherit({\n  /**\n   * A credentials object can be created using positional arguments or an options\n   * hash.\n   *\n   * @overload AWS.Credentials(accessKeyId, secretAccessKey, sessionToken=null)\n   *   Creates a Credentials object with a given set of credential information\n   *   as positional arguments.\n   *   @param accessKeyId [String] the AWS access key ID\n   *   @param secretAccessKey [String] the AWS secret access key\n   *   @param sessionToken [String] the optional AWS session token\n   *   @example Create a credentials object with AWS credentials\n   *     var creds = new AWS.Credentials('akid', 'secret', 'session');\n   * @overload AWS.Credentials(options)\n   *   Creates a Credentials object with a given set of credential information\n   *   as an options hash.\n   *   @option options accessKeyId [String] the AWS access key ID\n   *   @option options secretAccessKey [String] the AWS secret access key\n   *   @option options sessionToken [String] the optional AWS session token\n   *   @example Create a credentials object with AWS credentials\n   *     var creds = new AWS.Credentials({\n   *       accessKeyId: 'akid', secretAccessKey: 'secret', sessionToken: 'session'\n   *     });\n   */\n  constructor: function Credentials() {\n    // hide secretAccessKey from being displayed with util.inspect\n    AWS.util.hideProperties(this, ['secretAccessKey']);\n\n    this.expired = false;\n    this.expireTime = null;\n    this.refreshCallbacks = [];\n    if (arguments.length === 1 && typeof arguments[0] === 'object') {\n      var creds = arguments[0].credentials || arguments[0];\n      this.accessKeyId = creds.accessKeyId;\n      this.secretAccessKey = creds.secretAccessKey;\n      this.sessionToken = creds.sessionToken;\n    } else {\n      this.accessKeyId = arguments[0];\n      this.secretAccessKey = arguments[1];\n      this.sessionToken = arguments[2];\n    }\n  },\n\n  /**\n   * @return [Integer] the number of seconds before {expireTime} during which\n   *   the credentials will be considered expired.\n   */\n  expiryWindow: 15,\n\n  /**\n   * @return [Boolean] whether the credentials object should call {refresh}\n   * @note Subclasses should override this method to provide custom refresh\n   *   logic.\n   */\n  needsRefresh: function needsRefresh() {\n    var currentTime = AWS.util.date.getDate().getTime();\n    var adjustedTime = new Date(currentTime + this.expiryWindow * 1000);\n\n    if (this.expireTime && adjustedTime > this.expireTime) {\n      return true;\n    } else {\n      return this.expired || !this.accessKeyId || !this.secretAccessKey;\n    }\n  },\n\n  /**\n   * Gets the existing credentials, refreshing them if they are not yet loaded\n   * or have expired. Users should call this method before using {refresh},\n   * as this will not attempt to reload credentials when they are already\n   * loaded into the object.\n   *\n   * @callback callback function(err)\n   *   When this callback is called with no error, it means either credentials\n   *   do not need to be refreshed or refreshed credentials information has\n   *   been loaded into the object (as the `accessKeyId`, `secretAccessKey`,\n   *   and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   */\n  get: function get(callback) {\n    var self = this;\n    if (this.needsRefresh()) {\n      this.refresh(function(err) {\n        if (!err) self.expired = false; // reset expired flag\n        if (callback) callback(err);\n      });\n    } else if (callback) {\n      callback();\n    }\n  },\n\n  /**\n   * @!method  getPromise()\n   *   Returns a 'thenable' promise.\n   *   Gets the existing credentials, refreshing them if they are not yet loaded\n   *   or have expired. Users should call this method before using {refresh},\n   *   as this will not attempt to reload credentials when they are already\n   *   loaded into the object.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function()\n   *     Called if the promise is fulfilled. When this callback is called, it\n   *     means either credentials do not need to be refreshed or refreshed\n   *     credentials information has been loaded into the object (as the\n   *     `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] if an error occurred, this value will be filled\n   *   @return [Promise] A promise that represents the state of the `get` call.\n   *   @example Calling the `getPromise` method.\n   *     var promise = credProvider.getPromise();\n   *     promise.then(function() { ... }, function(err) { ... });\n   */\n\n  /**\n   * @!method  refreshPromise()\n   *   Returns a 'thenable' promise.\n   *   Refreshes the credentials. Users should call {get} before attempting\n   *   to forcibly refresh credentials.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function()\n   *     Called if the promise is fulfilled. When this callback is called, it\n   *     means refreshed credentials information has been loaded into the object\n   *     (as the `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] if an error occurred, this value will be filled\n   *   @return [Promise] A promise that represents the state of the `refresh` call.\n   *   @example Calling the `refreshPromise` method.\n   *     var promise = credProvider.refreshPromise();\n   *     promise.then(function() { ... }, function(err) { ... });\n   */\n\n  /**\n   * Refreshes the credentials. Users should call {get} before attempting\n   * to forcibly refresh credentials.\n   *\n   * @callback callback function(err)\n   *   When this callback is called with no error, it means refreshed\n   *   credentials information has been loaded into the object (as the\n   *   `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @note Subclasses should override this class to reset the\n   *   {accessKeyId}, {secretAccessKey} and optional {sessionToken}\n   *   on the credentials object and then call the callback with\n   *   any error information.\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    this.expired = false;\n    callback();\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  coalesceRefresh: function coalesceRefresh(callback, sync) {\n    var self = this;\n    if (self.refreshCallbacks.push(callback) === 1) {\n      self.load(function onLoad(err) {\n        AWS.util.arrayEach(self.refreshCallbacks, function(callback) {\n          if (sync) {\n            callback(err);\n          } else {\n            // callback could throw, so defer to ensure all callbacks are notified\n            AWS.util.defer(function () {\n              callback(err);\n            });\n          }\n        });\n        self.refreshCallbacks.length = 0;\n      });\n    }\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  load: function load(callback) {\n    callback();\n  }\n});\n\n/**\n * @api private\n */\nAWS.Credentials.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.getPromise = AWS.util.promisifyMethod('get', PromiseDependency);\n  this.prototype.refreshPromise = AWS.util.promisifyMethod('refresh', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.Credentials.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.getPromise;\n  delete this.prototype.refreshPromise;\n};\n\nAWS.util.addPromises(AWS.Credentials);\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['sqs'] = {};\nAWS.SQS = Service.defineService('sqs', ['2012-11-05']);\nrequire('../lib/services/sqs');\nObject.defineProperty(apiLoader.services['sqs'], '2012-11-05', {\n  get: function get() {\n    var model = require('../apis/sqs-2012-11-05.min.json');\n    model.paginators = require('../apis/sqs-2012-11-05.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.SQS;\n","function AcceptorStateMachine(states, state) {\n  this.currentState = state || null;\n  this.states = states || {};\n}\n\nAcceptorStateMachine.prototype.runTo = function runTo(finalState, done, bindObject, inputError) {\n  if (typeof finalState === 'function') {\n    inputError = bindObject; bindObject = done;\n    done = finalState; finalState = null;\n  }\n\n  var self = this;\n  var state = self.states[self.currentState];\n  state.fn.call(bindObject || self, inputError, function(err) {\n    if (err) {\n      if (state.fail) self.currentState = state.fail;\n      else return done ? done.call(bindObject, err) : null;\n    } else {\n      if (state.accept) self.currentState = state.accept;\n      else return done ? done.call(bindObject) : null;\n    }\n    if (self.currentState === finalState) {\n      return done ? done.call(bindObject, err) : null;\n    }\n\n    self.runTo(finalState, done, bindObject, err);\n  });\n};\n\nAcceptorStateMachine.prototype.addState = function addState(name, acceptState, failState, fn) {\n  if (typeof acceptState === 'function') {\n    fn = acceptState; acceptState = null; failState = null;\n  } else if (typeof failState === 'function') {\n    fn = failState; failState = null;\n  }\n\n  if (!this.currentState) this.currentState = name;\n  this.states[name] = { accept: acceptState, fail: failState, fn: fn };\n  return this;\n};\n\n/**\n * @api private\n */\nmodule.exports = AcceptorStateMachine;\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","var util = require('../util');\nvar Rest = require('./rest');\nvar Json = require('./json');\nvar JsonBuilder = require('../json/builder');\nvar JsonParser = require('../json/parser');\n\nfunction populateBody(req) {\n  var builder = new JsonBuilder();\n  var input = req.service.api.operations[req.operation].input;\n\n  if (input.payload) {\n    var params = {};\n    var payloadShape = input.members[input.payload];\n    params = req.params[input.payload];\n    if (params === undefined) return;\n\n    if (payloadShape.type === 'structure') {\n      req.httpRequest.body = builder.build(params, payloadShape);\n      applyContentTypeHeader(req);\n    } else { // non-JSON payload\n      req.httpRequest.body = params;\n      if (payloadShape.type === 'binary' || payloadShape.isStreaming) {\n        applyContentTypeHeader(req, true);\n      }\n    }\n  } else {\n    var body = builder.build(req.params, input);\n    if (body !== '{}' || req.httpRequest.method !== 'GET') { //don't send empty body for GET method\n      req.httpRequest.body = body;\n    }\n    applyContentTypeHeader(req);\n  }\n}\n\nfunction applyContentTypeHeader(req, isBinary) {\n  var operation = req.service.api.operations[req.operation];\n  var input = operation.input;\n\n  if (!req.httpRequest.headers['Content-Type']) {\n    var type = isBinary ? 'binary/octet-stream' : 'application/json';\n    req.httpRequest.headers['Content-Type'] = type;\n  }\n}\n\nfunction buildRequest(req) {\n  Rest.buildRequest(req);\n\n  // never send body payload on HEAD/DELETE\n  if (['HEAD', 'DELETE'].indexOf(req.httpRequest.method) < 0) {\n    populateBody(req);\n  }\n}\n\nfunction extractError(resp) {\n  Json.extractError(resp);\n}\n\nfunction extractData(resp) {\n  Rest.extractData(resp);\n\n  var req = resp.request;\n  var operation = req.service.api.operations[req.operation];\n  var rules = req.service.api.operations[req.operation].output || {};\n  var parser;\n  var hasEventOutput = operation.hasEventOutput;\n\n  if (rules.payload) {\n    var payloadMember = rules.members[rules.payload];\n    var body = resp.httpResponse.body;\n    if (payloadMember.isEventStream) {\n      parser = new JsonParser();\n      resp.data[payload] = util.createEventStream(\n        AWS.HttpClient.streamsApiVersion === 2 ? resp.httpResponse.stream : body,\n        parser,\n        payloadMember\n      );\n    } else if (payloadMember.type === 'structure' || payloadMember.type === 'list') {\n      var parser = new JsonParser();\n      resp.data[rules.payload] = parser.parse(body, payloadMember);\n    } else if (payloadMember.type === 'binary' || payloadMember.isStreaming) {\n      resp.data[rules.payload] = body;\n    } else {\n      resp.data[rules.payload] = payloadMember.toType(body);\n    }\n  } else {\n    var data = resp.data;\n    Json.extractData(resp);\n    resp.data = util.merge(data, resp.data);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['elasticache'] = {};\nAWS.ElastiCache = Service.defineService('elasticache', ['2012-11-15*', '2014-03-24*', '2014-07-15*', '2014-09-30*', '2015-02-02']);\nObject.defineProperty(apiLoader.services['elasticache'], '2015-02-02', {\n  get: function get() {\n    var model = require('../apis/elasticache-2015-02-02.min.json');\n    model.paginators = require('../apis/elasticache-2015-02-02.paginators.json').pagination;\n    model.waiters = require('../apis/elasticache-2015-02-02.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ElastiCache;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['elasticbeanstalk'] = {};\nAWS.ElasticBeanstalk = Service.defineService('elasticbeanstalk', ['2010-12-01']);\nObject.defineProperty(apiLoader.services['elasticbeanstalk'], '2010-12-01', {\n  get: function get() {\n    var model = require('../apis/elasticbeanstalk-2010-12-01.min.json');\n    model.paginators = require('../apis/elasticbeanstalk-2010-12-01.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.ElasticBeanstalk;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h2',[_vm._v(\"Welcome to Xilixili\")]),_c('div',[_vm._v(\"Not all videos are functional(Only in which URL is vaild are functional)\")]),_c('br'),_c('br'),_c('div',[_vm._v(\"wang.haojian421@gmail.com\")]),_c('el-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=79d66417&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var hashUtils = require('./browserHashUtils');\n\n/**\n * @api private\n */\nfunction Hmac(hashCtor, secret) {\n    this.hash = new hashCtor();\n    this.outer = new hashCtor();\n\n    var inner = bufferFromSecret(hashCtor, secret);\n    var outer = new Uint8Array(hashCtor.BLOCK_SIZE);\n    outer.set(inner);\n\n    for (var i = 0; i < hashCtor.BLOCK_SIZE; i++) {\n        inner[i] ^= 0x36;\n        outer[i] ^= 0x5c;\n    }\n\n    this.hash.update(inner);\n    this.outer.update(outer);\n\n    // Zero out the copied key buffer.\n    for (var i = 0; i < inner.byteLength; i++) {\n        inner[i] = 0;\n    }\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Hmac;\n\nHmac.prototype.update = function (toHash) {\n    if (hashUtils.isEmptyData(toHash) || this.error) {\n        return this;\n    }\n\n    try {\n        this.hash.update(hashUtils.convertToBuffer(toHash));\n    } catch (e) {\n        this.error = e;\n    }\n\n    return this;\n};\n\nHmac.prototype.digest = function (encoding) {\n    if (!this.outer.finished) {\n        this.outer.update(this.hash.digest());\n    }\n\n    return this.outer.digest(encoding);\n};\n\nfunction bufferFromSecret(hashCtor, secret) {\n    var input = hashUtils.convertToBuffer(secret);\n    if (input.byteLength > hashCtor.BLOCK_SIZE) {\n        var bufferHash = new hashCtor;\n        bufferHash.update(input);\n        input = bufferHash.digest();\n    }\n    var buffer = new Uint8Array(hashCtor.BLOCK_SIZE);\n    buffer.set(input);\n    return buffer;\n}\n","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar scrollSetting = {\n  \"\": true,\n  \"up\": true\n};\n\nfunction findScrollSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n  var scroll = scrollSetting[value.toLowerCase()];\n  return scroll ? value.toLowerCase() : false;\n}\n\nfunction isValidPercentValue(value) {\n  return typeof value === \"number\" && (value >= 0 && value <= 100);\n}\n\n// VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface\nfunction VTTRegion() {\n  var _width = 100;\n  var _lines = 3;\n  var _regionAnchorX = 0;\n  var _regionAnchorY = 100;\n  var _viewportAnchorX = 0;\n  var _viewportAnchorY = 100;\n  var _scroll = \"\";\n\n  Object.defineProperties(this, {\n    \"width\": {\n      enumerable: true,\n      get: function() {\n        return _width;\n      },\n      set: function(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"Width must be between 0 and 100.\");\n        }\n        _width = value;\n      }\n    },\n    \"lines\": {\n      enumerable: true,\n      get: function() {\n        return _lines;\n      },\n      set: function(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"Lines must be set to a number.\");\n        }\n        _lines = value;\n      }\n    },\n    \"regionAnchorY\": {\n      enumerable: true,\n      get: function() {\n        return _regionAnchorY;\n      },\n      set: function(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"RegionAnchorX must be between 0 and 100.\");\n        }\n        _regionAnchorY = value;\n      }\n    },\n    \"regionAnchorX\": {\n      enumerable: true,\n      get: function() {\n        return _regionAnchorX;\n      },\n      set: function(value) {\n        if(!isValidPercentValue(value)) {\n          throw new Error(\"RegionAnchorY must be between 0 and 100.\");\n        }\n        _regionAnchorX = value;\n      }\n    },\n    \"viewportAnchorY\": {\n      enumerable: true,\n      get: function() {\n        return _viewportAnchorY;\n      },\n      set: function(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"ViewportAnchorY must be between 0 and 100.\");\n        }\n        _viewportAnchorY = value;\n      }\n    },\n    \"viewportAnchorX\": {\n      enumerable: true,\n      get: function() {\n        return _viewportAnchorX;\n      },\n      set: function(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"ViewportAnchorX must be between 0 and 100.\");\n        }\n        _viewportAnchorX = value;\n      }\n    },\n    \"scroll\": {\n      enumerable: true,\n      get: function() {\n        return _scroll;\n      },\n      set: function(value) {\n        var setting = findScrollSetting(value);\n        // Have to check for false as an empty string is a legal value.\n        if (setting === false) {\n          throw new SyntaxError(\"An invalid or illegal string was specified.\");\n        }\n        _scroll = setting;\n      }\n    }\n  });\n}\n\nmodule.exports = VTTRegion;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about Aac data.\n */\n'use strict';\n\nvar ADTS_SAMPLING_FREQUENCIES = [\n  96000,\n  88200,\n  64000,\n  48000,\n  44100,\n  32000,\n  24000,\n  22050,\n  16000,\n  12000,\n  11025,\n  8000,\n  7350\n];\n\nvar isLikelyAacData = function(data) {\n  if ((data[0] === 'I'.charCodeAt(0)) &&\n      (data[1] === 'D'.charCodeAt(0)) &&\n      (data[2] === '3'.charCodeAt(0))) {\n    return true;\n  }\n  return false;\n};\n\nvar parseSyncSafeInteger = function(data) {\n  return (data[0] << 21) |\n          (data[1] << 14) |\n          (data[2] << 7) |\n          (data[3]);\n};\n\n// return a percent-encoded representation of the specified byte range\n// @see http://en.wikipedia.org/wiki/Percent-encoding\nvar percentEncode = function(bytes, start, end) {\n  var i, result = '';\n  for (i = start; i < end; i++) {\n    result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n  }\n  return result;\n};\n\n// return the string representation of the specified byte range,\n// interpreted as ISO-8859-1.\nvar parseIso88591 = function(bytes, start, end) {\n  return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n};\n\nvar parseId3TagSize = function(header, byteIndex) {\n  var\n    returnSize = (header[byteIndex + 6] << 21) |\n                 (header[byteIndex + 7] << 14) |\n                 (header[byteIndex + 8] << 7) |\n                 (header[byteIndex + 9]),\n    flags = header[byteIndex + 5],\n    footerPresent = (flags & 16) >> 4;\n\n  if (footerPresent) {\n    return returnSize + 20;\n  }\n  return returnSize + 10;\n};\n\nvar parseAdtsSize = function(header, byteIndex) {\n  var\n    lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\n    middle = header[byteIndex + 4] << 3,\n    highTwo = header[byteIndex + 3] & 0x3 << 11;\n\n  return (highTwo | middle) | lowThree;\n};\n\nvar parseType = function(header, byteIndex) {\n  if ((header[byteIndex] === 'I'.charCodeAt(0)) &&\n      (header[byteIndex + 1] === 'D'.charCodeAt(0)) &&\n      (header[byteIndex + 2] === '3'.charCodeAt(0))) {\n    return 'timed-metadata';\n  } else if ((header[byteIndex] & 0xff === 0xff) &&\n             ((header[byteIndex + 1] & 0xf0) === 0xf0)) {\n    return 'audio';\n  }\n  return null;\n};\n\nvar parseSampleRate = function(packet) {\n  var i = 0;\n\n  while (i + 5 < packet.length) {\n    if (packet[i] !== 0xFF || (packet[i + 1] & 0xF6) !== 0xF0) {\n      // If a valid header was not found,  jump one forward and attempt to\n      // find a valid ADTS header starting at the next byte\n      i++;\n      continue;\n    }\n    return ADTS_SAMPLING_FREQUENCIES[(packet[i + 2] & 0x3c) >>> 2];\n  }\n\n  return null;\n};\n\nvar parseAacTimestamp = function(packet) {\n  var frameStart, frameSize, frame, frameHeader;\n\n  // find the start of the first frame and the end of the tag\n  frameStart = 10;\n  if (packet[5] & 0x40) {\n    // advance the frame start past the extended header\n    frameStart += 4; // header size field\n    frameStart += parseSyncSafeInteger(packet.subarray(10, 14));\n  }\n\n  // parse one or more ID3 frames\n  // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n  do {\n    // determine the number of bytes in this frame\n    frameSize = parseSyncSafeInteger(packet.subarray(frameStart + 4, frameStart + 8));\n    if (frameSize < 1) {\n      return null;\n    }\n    frameHeader = String.fromCharCode(packet[frameStart],\n                                      packet[frameStart + 1],\n                                      packet[frameStart + 2],\n                                      packet[frameStart + 3]);\n\n    if (frameHeader === 'PRIV') {\n      frame = packet.subarray(frameStart + 10, frameStart + frameSize + 10);\n\n      for (var i = 0; i < frame.byteLength; i++) {\n        if (frame[i] === 0) {\n          var owner = parseIso88591(frame, 0, i);\n          if (owner === 'com.apple.streaming.transportStreamTimestamp') {\n            var d = frame.subarray(i + 1);\n            var size = ((d[3] & 0x01)  << 30) |\n                       (d[4]  << 22) |\n                       (d[5] << 14) |\n                       (d[6] << 6) |\n                       (d[7] >>> 2);\n            size *= 4;\n            size += d[7] & 0x03;\n\n            return size;\n          }\n          break;\n        }\n      }\n    }\n\n    frameStart += 10; // advance past the frame header\n    frameStart += frameSize; // advance past the frame body\n  } while (frameStart < packet.byteLength);\n  return null;\n};\n\nmodule.exports = {\n  isLikelyAacData: isLikelyAacData,\n  parseId3TagSize: parseId3TagSize,\n  parseAdtsSize: parseAdtsSize,\n  parseType: parseType,\n  parseSampleRate: parseSampleRate,\n  parseAacTimestamp: parseAacTimestamp\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowVideo.vue?vue&type=style&index=0&id=bd316694&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowVideo.vue?vue&type=style&index=0&id=bd316694&scoped=true&lang=css&\"","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['ses'] = {};\nAWS.SES = Service.defineService('ses', ['2010-12-01']);\nObject.defineProperty(apiLoader.services['ses'], '2010-12-01', {\n  get: function get() {\n    var model = require('../apis/email-2010-12-01.min.json');\n    model.paginators = require('../apis/email-2010-12-01.paginators.json').pagination;\n    model.waiters = require('../apis/email-2010-12-01.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.SES;\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar has = require('has');\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nmodule.exports = function IsPropertyDescriptor(ES, Desc) {\n\tif (ES.Type(Desc) !== 'Object') {\n\t\treturn false;\n\t}\n\tvar allowed = {\n\t\t'[[Configurable]]': true,\n\t\t'[[Enumerable]]': true,\n\t\t'[[Get]]': true,\n\t\t'[[Set]]': true,\n\t\t'[[Value]]': true,\n\t\t'[[Writable]]': true\n\t};\n\n    for (var key in Desc) { // eslint-disable-line\n\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif (ES.IsDataDescriptor(Desc) && ES.IsAccessorDescriptor(Desc)) {\n\t\tthrow new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t}\n\treturn true;\n};\n"],"sourceRoot":""}